{"version":3,"sources":["components/img/icons/baseline-search-24px.svg","components/img/photos/Water image_Dreamstime.jpg","components/img/photos/sphere.png","components/img/photos/images.png","components/Header.jsx","components/Loader/Loader.jsx","components/MainpageHeader.jsx","components/functions/API.js","components/SingleNews.jsx","components/SideNews.jsx","components/FriendsList/Friend.jsx","components/FriendsList/Search.jsx","components/FriendsList/NotFound.jsx","components/FriendsList/FriendsList.jsx","components/Modal/Modal.jsx","components/DropdownActions/ConfirmStatus.jsx","components/DropdownActions/Select.jsx","components/DropdownActions/Dropdown.jsx","components/PersonalInfo.jsx","components/Fab/Fab.jsx","components/Tasks/Autocomplete.jsx","components/Tasks/Pickers.jsx","components/Tasks/TextInput.jsx","components/Tasks/Stepper.jsx","components/Tasks/NewTask.jsx","components/Tasks/Task.jsx","components/Tasks/ConfirmDelete.jsx","components/ResponsiveHeader/ResponsiveHeader.jsx","components/Tasks/Tasks.jsx","components/News/NewNews.jsx","components/News/ConfirmDelete.jsx","components/News.jsx","components/Navigation/sections.js","components/Navigation/Navigation.jsx","components/Chat/ChatItem.jsx","components/Chat/NoMessages.jsx","components/Chat/Message.jsx","components/Chat/Messages.jsx","components/Chat/SendMessageInput.jsx","components/Chat/EditMessageInput.jsx","components/Chat/DeleteModal.jsx","components/Chat/ChatRoom.jsx","components/Chat/Dialogues.jsx","components/Chat/NoChats.jsx","components/Chat/Chat.jsx","components/Feed/UserAvatar.jsx","components/Feed/Comment.jsx","components/Feed/Like.jsx","components/Feed/News.jsx","components/Feed/Task.jsx","components/Feed/Result.jsx","components/Feed/Event.jsx","components/Feed/ThatsIt.jsx","components/Feed/index.jsx","components/Media/Media.jsx","components/Learnings/cards.js","components/Learnings/Container.jsx","components/Learnings/Materials.jsx","components/Effects/fetches.jsx","components/List/NotFound.jsx","components/List/List.jsx","components/Learnings/NoTests.jsx","components/Learnings/Search.jsx","components/Learnings/Steps/SelectUser.jsx","components/Learnings/Steps/SelectTime.jsx","components/Learnings/Steps/QuestionItem.jsx","components/Learnings/Steps/CategoryItem.jsx","components/Learnings/Steps/SelectQuestions.jsx","components/Learnings/Steps/Stepper.jsx","components/Learnings/Steps/GenerateTest.jsx","components/Learnings/AdminPanel.jsx","components/Learnings/UserPanel.jsx","components/Learnings/Tests.jsx","components/Learnings/Learnings.jsx","components/MainPage.jsx","components/ForgetPassword.jsx","components/functions/Cookie.js","components/SignupForm.jsx","components/RegisterForm.jsx","components/BgBubbles.jsx","components/LoginForm.jsx","components/Approved.jsx","components/Restore.jsx","components/Page404.jsx","components/Settings.jsx","components/Learnings/TestPage/Timer.jsx","components/Learnings/TestPage/Question.jsx","components/Learnings/TestPage/Circles.jsx","components/Learnings/TestPage/Legend.jsx","components/Effects/requests.jsx","components/Learnings/TestPage/ResultsList.jsx","components/Learnings/TestPage/NotAnswered.jsx","components/Learnings/TestPage/Results.jsx","components/Learnings/TestPage/Finish.jsx","components/Learnings/TestPage/Test.jsx","components/Learnings/TestPage/StartTestTemplate.jsx","components/Learnings/TestPage/Continue.jsx","components/Learnings/TestPage/TestContainer.jsx","components/Learnings/TestPage/index.jsx","components/Calendar/Picker.jsx","components/Calendar/NewEvent.jsx","components/Calendar/Modal.jsx","components/Calendar/CalendarContainer.jsx","components/Calendar/index.jsx","routes.js","App.jsx","reducers/unreaded.js","reducers/index.js","reducers/user.js","reducers/news.js","reducers/tasks.js","reducers/chats.js","reducers/room.js","reducers/messages.js","reducers/friends.js","reducers/tests.js","reducers/categories.js","reducers/events.js","reducers/feed.js","MaterialTheme.js","index.js"],"names":["module","exports","__webpack_require__","p","Header","date","Date","react_default","a","createElement","className","dist_default","element","format","id","toLocaleString","weekday","Component","StyledLoader","styled","div","_templateObject","Loader","props","style","minHeight","CircularProgress_default","color","Wrapper","MainpageHeader_templateObject","defaultBackground","Backdrop","_templateObject2","connect","state","store","_ref","user","window","innerWidth","location","pathname","includes","zIndex","position","length","background","components_Loader_Loader","Link","to","concat","backgroundImage","avatar","noPhoto","hasOwnProperty","core_index_es","placement","title","textDecoration","cursor","name","surname","variant","href","Settings_default","API","host","origin","SingleNews","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getAvatars","likedBy","news","find","item","singleNewsId","liked_by","split","slice","formData","FormData","self","assertThisInitialized","append","$","ajax","url","data","processData","contentType","type","success","res","setState","handleChange","e","commentText","target","value","addLike","actions","document","getElementById","pointerEvents","preventDefault","getTime","fetch","then","response","json","setTimeout","removeLike","stopPropagation","submitComment","commentsLoading","toJSON","replace","toLocaleTimeString","fetchComments","enqueueSnackbar","commentsContainer","scrollTop","scrollHeight","error","deleteComment","news_id","thisComments","loadedComments","loading","_this2","_this3","_this$props","closeNews","_this$state","_this$props$store","currentNews","userAvatar","react","Single","Icon","Clear_default","onClick","PostHeader","Avatar","DefaultAvatar","author","importance","createImportantBar","PostContent","text","PostLikes","likes","getNoun","map","i","key","PostActions","getCommentsNoun","react_fontawesome_index_es","icon","marginLeft","_","some","Fragment","NewComment","TextArea","label","multiline","onChange","required","disabled","comment","Comments","marginTop","who","author_id","DelIcon","Delete_default","SingleNews_Wrapper","SingleNews_templateObject","SingleNews_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_templateObject10","_templateObject11","_templateObject12","withSnackbar","SideNews","singleNews","singleNewsData","goToSingleNews","changeImportance","number","Math","abs","margin","Important","SideNews_templateObject","Warning_default","NEWS_COUNTER","SideNews_Wrapper","SideNews_News","NewsSwitch","bind","comments","NoNews","handleChangeSection","scrollTo","components_SingleNews","reloadComponent","SideNews_templateObject2","SideNews_templateObject3","News","SideNews_templateObject4","SideNews_templateObject5","Friend","friend","ListItem_default","button","TouchRippleProps","classes","child","ListItemAvatar_default","Avatar_default","height","width","alt","src","defaultAvatar","ListItemText_default","inset","primary","secondary","last_activity","SearchWrapper","Search_templateObject","Search","TextField_default","searchValue","handleSearch","InputProps","endAdornment","InputAdornment_default","IconButton_default","aria-label","SearchIcon","opacity","NotFound","NotFound_Wrapper","NotFound_templateObject","FriendWrapper","FriendsList_templateObject","dispatch","onFetchFriends","friends","payload","filterFriends","setOnline","_useState","useState","_useState2","slicedToArray","setSearchValue","_useState3","_useState4","setLoading","_useState5","_useState6","_friends","setFriends","documentTitle","useEffect","sorted","online","offline","not_used","forEach","time","lastActivity","moment","Number","fromNow","parseInt","setFriendsOnline","push","sortFriends","Paper_default","FriendsList_Search","toLowerCase","filter","List_default","FriendsList_Friend","ModalWindow","Modal_default","open","onClose","handleClose","component","ConfirmDelete","ConfirmStatus_Wrapper","ConfirmStatus_Icon","message","ButtonContainer","setAdministrator","ConfirmStatus_Backdrop","ConfirmStatus_templateObject","ConfirmStatus_templateObject2","ConfirmStatus_templateObject3","ConfirmStatus_templateObject4","LongMenu","anchorEl","preparedId","handleClick","event","currentTarget","fetchUserInfo","err","console","log","Boolean","userInfo","user_logged_id","aria-owns","undefined","aria-haspopup","MoreVert_default","Menu_default","admin","MenuItem_default","prepareToUpdate","React","Dropdown","Dropdown_Wrapper","Select","u","ser_logged_id","Dropdown_templateObject","autoSaveTimer","pageInterval","PersonalInfo","handleDateChange","selectedDate","removeInput","newChildInput","createInput","fullWidth","InputLabelProps","shrink","Naked","InputBase_default","htmlFor","closeSelectOnScroll","listenSelect","closeSelect","isSelectOpened","nameError","yearError","childName","childBirthyear","loadingChild","lastUser","handleSubmit","deleteChild","prepareChild","handleChild","addChild","action","birthday","currentLocation","setInterval","clearInterval","_this4","clearTimeout","objectSpread","updateUser","_this$setState","defineProperty","modal","dontShow","val","status","sex","result","_this5","childrens","childs","JSON","parse","Form","method","onSubmit","react_input_mask_default","mask","phone","padding","material_ui_pickers_esm","aria-describedby","cancelLabel","vazriant","onOpen","input","labelWidth","Childrens","keys","Children","child_name","child_birthyear","NewChild","Done_default","ChildBtns","city","disctrict","adress","district","vuz","fakultet","army_country","army_type","Btn","form","PersonalInfo_templateObject","PersonalInfo_templateObject2","PersonalInfo_templateObject3","PersonalInfo_templateObject4","PersonalInfo_templateObject5","PersonalInfo_templateObject6","PersonalInfo_templateObject7","field","withStyles","theme","fixed","bottom","spacing","unit","right","Tooltip_default","Add_default","inputComponent","inputRef","objectWithoutProperties","assign","ref","components","Control","inputProps","selectProps","innerRef","children","innerProps","textFieldProps","Menu","square","paper","MultiValue","tabIndex","classNames","chip","chipFocused","isFocused","onDelete","removeProps","deleteIcon","Cancel_default","NoOptionsMessage","noOptionsMessage","Option","buttonRef","selected","fontWeight","isSelected","Placeholder","placeholder","SingleValue","singleValue","ValueContainer","valueContainer","IntegrationReactSelect","users","selectStyles","base","palette","& input","font","root","react_select_esm","styles","options","multi","isMulti","control","flexGrow","display","flexDirection","justifyContent","flexWrap","flex","alignItems","overflow","backgroundColor","emphasize","grey","fontSize","left","withTheme","MaterialUIPickers","Grid_default","container","justify","paddingBottom","minDate","emptyLabel","ampm","selectedTime","locale","minutesStep","handleTimeChange","TextInput","TextInput_TextArea","handleTextChange","TextInput_templateObject","VerticalLinearStepper","activeStep","handleNext","handleBack","handleReset","checkDisabled","step","steps","Stepper_default","orientation","index","Step_default","StepLabel_default","StepContent_default","Typography_default","getStepContent","actionsContainer","Button_default","Autocomplete","Pickers","elevation","resetContainer","resetAll","marginRight","marginBottom","NewTask","componentDidMount","catch","forWho","toLocaleDateString","join","getHours","getMinutes","tasks","onAddNewTask","_this$state2","NewTask_Wrapper","Close_default","Tasks_Stepper","NewTask_Backdrop","NewTask_templateObject","NewTask_templateObject2","task","Task","getUserNames","usersId","getAdresant","initial","from","readed","markTask","now","end","until_date","difference","duration","diff","_milliseconds","openTask","expandIcon","ExpandMore_default","toString","Task_Icon","TaskStatus","task-completed","task-doing","task-late","DeleteIcon","handleConfirm","details","Footer","for","reverse","until_time","leaveDelay","handleCompleted","Task_templateObject","span","Task_templateObject2","Task_templateObject3","Task_templateObject4","ConfirmDelete_Wrapper","ConfirmDelete_Icon","ConfirmDelete_ButtonContainer","handleDelete","ConfirmDelete_Backdrop","ConfirmDelete_templateObject","ConfirmDelete_templateObject2","ConfirmDelete_templateObject3","ConfirmDelete_templateObject4","ResponsiveHeader","ResponsiveHeader_Wrapper","ResponsiveHeader_templateObject","Tasks","confirm","preparedToDelete","disabledButton","getTasks","handleOpen","done_date","done_time","markAsCompleted","handleFilter","filtered","onFilter","onDeleteTask","Tasks_Wrapper","Filters","Tasks_Task","Fab_Fab","Tasks_NewTask","ConfirmDelete_ConfirmDelete","Tasks_templateObject","Tasks_templateObject2","NewNews_templateObject","Container","NewNews_templateObject2","NewNews_templateObject3","Body","NewNews_templateObject4","NewNews_templateObject5","Topic","NewNews_templateObject6","NewNews_templateObject7","NewNews_templateObject8","submitNews","newNewsTopic","invalidTopic","invalidText","newNewsText","newNewsImportance","NewNews_Header","NewNews_Icon","NewNews_TextArea","NewNews_Footer","checked","NewNews_Wrapper","News_ConfirmDelete_Wrapper","News_ConfirmDelete_Icon","News_ConfirmDelete_ButtonContainer","removeNews","Dialogue","News_ConfirmDelete_templateObject","section","News_ConfirmDelete_templateObject2","News_ConfirmDelete_templateObject3","News_ConfirmDelete_templateObject4","newNews","editing","preparedNewsId","confirmDelete","prepareNews","editNews","addNews","News_templateObject","prepareDelete","handleAvatarRoute","showNews","NewsContainer","UserAvatar","NewsInfo","News_Icon","News_Body","News_TextArea","Actions","News_NoNews","News_NewNews","News_ConfirmDelete_ConfirmDelete","News_templateObject2","News_templateObject3","News_templateObject4","News_templateObject5","News_templateObject6","News_templateObject7","News_templateObject8","News_templateObject9","onAddNews","sections","img","Notifications_default","Message_default","NewReleases_default","ListAlt_default","People_default","CalendarToday_default","Navigation_templateObject","BadgeWrapper","Navigation_templateObject2","feed","unreaded","Navigation_Wrapper","AppBar_default","Tabs_default","findIndex","indicatorColor","centered","Tab_default","Badge_default","badgeContent","Time","ChatItem_templateObject","MessageHeader","ChatItem_templateObject2","string","openRoom","chat","fromDayStart","startOf","dateFromNow","isSame","calendar","body","substring","NoMessages","NoMessages_Container","NoMessages_templateObject","Message_templateObject","Message_templateObject2","Message_templateObject3","_props$store","room","Message_Container","Message_Avatar","Message_Body","Edit_default","editMessage","isToday","edited","Messages_templateObject","messages","messageContainer","Messages_Container","Chat_Message","SendMessageInput","SendMessageInput_Container","sendMessage","autoFocus","handleNewMessage","Send_default","SendMessageInput_templateObject","EditMessageInput","EditMessageInput_Container","submitEdit","handleEdit","startAdornment","closeEditing","EditMessageInput_templateObject","DeleteModal","DeleteModal_Container","closeDelete","submitDelete","Overlay","DeleteModal_templateObject","DeleteModal_templateObject2","ChatRoom","editText","deleting","newMessage","deleteID","editID","interval","getMessages","componentWillUnmount","chat_id","localStorage","setItem","message_id","getItem","created_at","chats","createChat","addMessage","getMessageId","user1","user2","messageId","assignChat","deleteMessage","deleteChat","_success","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","stop","apply","arguments","Room","RoomHeader","ChatRoom_Icon","ArrowBack_default","Chat_Messages","ChatRoom_templateObject","ChatRoom_templateObject2","ChatRoom_templateObject3","messageID","messageBody","FriendList","rebuildList","withMessages","withoutMessages","completed","initialAnimation","openChat","closeChat","direction","pages","renderprops","Chat_ChatRoom","ChatItem","getDirection","Dialogues_FriendWrapper","reset","unique","native","items","transform","enter","leave","Dialogues_templateObject","NoChats","NoChats_Container","NoChats_templateObject","Chat","fetchChats","user_id","trim","getChats","Dialogues","UserAvatar_Wrapper","UserAvatar_Badge","Favorite_default","top","VerifiedUser_default","InsertChart_default","Comment_default","drawBadge","UserAvatar_templateObject","Badge","UserAvatar_templateObject2","Comment","CommentWrapper","UserAvatar_UserAvatar","CommentContent","Comment_templateObject","Comment_templateObject2","LikeWrapper","LikeContent","Like_templateObject","Like_templateObject2","NewsWrapper","NewsContent","Feed_News_templateObject","Feed_News_templateObject2","Feed_News_templateObject3","Task_NewsWrapper","Task_NewsContent","Feed_Task_templateObject","Feed_Task_templateObject2","Feed_Task_templateObject3","Result","parseFloat","questions","ResultWrapper","ResultContent","estimated_time","Result_templateObject","Result_templateObject2","EventWrapper","EventContent","startDate","endDate","max","signed","maxUsers","signedUsers","remaining","getRemainingPlaces","Event_templateObject","Event_templateObject2","ThastIt","ThatsIt_Container","ThatsIt_templateObject","Caught","Feed_templateObject","onReadFeed","_ref$store","renderFeedItem","Feed_News_News","fake_id","Task_News","Event_Result","Like_Comment","Comment_Comment","timeout","querySelector","elem","CheckCircle_default","renderLastViewed","card","maxWidth","media","Card_default","CardActionArea_default","changeSection","CardMedia_default","image","CardContent_default","gutterBottom","description","CardActions_default","size","cards","class","Media","Materials","closeSection","fetchTests","_fetchTests","_callee2","_context2","abrupt","sent","fetchTestsById","_fetchTestsById","_callee3","_context3","fetchQuestions","_fetchQuestions","_callee4","_context4","fetchCategories","_fetchCategories","_callee5","_context5","fetchTestLastId","_fetchTestLastId","_callee6","_context6","fetchSingleTest","_x","_fetchSingleTest","_callee7","_context7","fetchSingleQuestion","_x2","_fetchSingleQuestion","_callee8","_context8","List_NotFound_Wrapper","List_NotFound_templateObject","ListItemLink","List_templateObject","inline","user_name","toFixed","List_DeleteIcon","Divider_default","NotFound_NotFound","NoTests","NoTests_Container","NoTests_templateObject","Learnings_Search_templateObject","Search_SearchWrapper","selectedUser","times","TimePicker","select","textField","SelectProps","MenuProps","menu","helperText","option","QuestionItem","category","setHeadSubCategory","handleMarkQuestion","question","dense","Checkbox_default","disableRipple","getCategories","categories","resetCategories","heading","typography","pxToRem","fontWeightRegular","setChecked","categoryFiltered","setCategoryFiltered","checkedSubs","setCheckedSubs","current","indexOf","cat","q","subcategory","findUniqSubcategories","ExpansionPanel_default","ExpansionPanelSummary_default","paddingLeft","allCategories","markAll","var","ExpansionPanelDetails_default","markSub","Steps_QuestionItem","SelectQuestions","Steps_CategoryItem","setOverlay","overlay","SelectUser","SelectTime","GenerateTest","sub","questionToMark","selectedQuestions","selectedQuestionsIds","last_id","onAddNewTest","GenerateTest_Wrapper","Steps_Stepper","GenerateTest_Backdrop","GenerateTest_templateObject","GenerateTest_templateObject2","test","TabContainer","dir","AdminPanel","handleChangeIndex","onFilterTests","openModal","closeModal","onDeleteTest","tests","textColor","Learnings_Search","lib_default","axis","onChangeIndex","maxHeight","List_List","Steps_GenerateTest","test_id","UserPanel","Buttons","Tests_templateObject","isAdmin","t0","fetchData","Learnings_AdminPanel","KeyboardBackspace_default","Learnings_templateObject","Learnings","opened","setOpened","Learnings_Wrapper","Learnings_Tests","Container_Container","MainSection","MainPage_templateObject","components_MainpageHeader","components_Header","Navigation_Navigation","components_SideNews","components_PersonalInfo","components_Chat_Chat","components_News","components_Tasks_Tasks","Learnings_Learnings","FriendsList","Feed","switchComponent","ForgetPassword","credentials","forgetPassword","ForgetPassword_Wrapper","ForgetPassword_Icon","credential","username","ForgetPassword_templateObject","ForgetPassword_templateObject2","Cookie","cname","cvalue","exdays","d","setTime","expires","toUTCString","cookie","ca","c","charAt","getCookie","alert","prompt","setCookie","SignupForm","isForget","handleClickShowPassword","isPassHidden","login","password","invalidPass","jwt","VisibilityOff_default","Visibility_default","FormHelperText_default","SignupForm_Buttons","components_ForgetPassword","SignupForm_templateObject","global","RegisterForm","email","confirmed","isEmailValid","entered","validateEmail","showPassword","lentgh","BtnWrapper","RegisterForm_templateObject","BgBubbles","cssClass","LoginForm","whichForm","changeForm","components_RegisterForm","components_SignupForm","components_BgBubbles","Approved","goToMain","closeWindow","close","Restore","pw","vars","m","getUrlVars","InputWrapper","BtnContainer","Restore_templateObject","Restore_templateObject2","Page404","css","default","upload","hiddenInput","borderRadius","header","textAlign","genders","Settings","fileSelect","files","selectedFile","uploadAvatar","file","fd","uploadedAvatar","encType","Icon_default","accept","Completionist","Timer","h","s","hours","minutes","seconds","api","Timer_Container","Timer_Time","Timer_Completionist","AlarmOn_default","Controls","start","PlayArrow_default","isPaused","pause","Pause_default","Timer_templateObject","Timer_templateObject2","Timer_templateObject3","_ref2","pauseTest","resumeTest","finish","dist_index_es","controlled","autoStart","renderer","onPause","onStart","onComplete","Question","allQuestionsId","paused","findTimer","answered","variants","questionNumber","skipQuestion","nextQuestion","prevQuestion","images","setImages","lightboxOpen","setLightboxOpen","openLightbox","entries","image_file","original","getImages","Question_Container","QuestionHeader","Spheric","Sphere","audio","audio_file","controls","Question_Buttons","getPrevBtnStatus","Lightbox_default","toConsumableArray","isOpen","showImageCount","Question_templateObject","Question_templateObject2","Question_templateObject3","Question_templateObject4","Circles","skipped","getStatus","isAnswered","isSkipped","Circles_Container","Circles_templateObject","Legend","Legend_Container","Legend_templateObject","updateResult","question_id","finishTest","createEvent","Effects_requests_createEvent","Answers","ResultsList_templateObject","object","isCorrect","question_data","answers","Results","results","setResults","not_answered","Results_Container","getPercent","ResultsList","NotAnswered","Results_Buttons","Results_templateObject","Results_templateObject2","Finish","isShowResult","setShowResult","Finish_Container","Finish_Buttons","Finish_templateObject","Finish_templateObject2","Test_templateObject","QuestionWrapper","Test_templateObject2","updateState","setVariants","setQuestionNumber","_useState7","_useState8","setAllQuestionsId","_useState9","_useState10","setQuestion","_useState11","_useState12","_useState13","_useState14","setSkipped","_useState15","_useState16","setAnswered","_useState17","_useState18","finished","setFinished","_useState19","_useState20","setTest","_useState21","_useState22","setPaused","getVariants","splitted","getNextStep","_finish","testData","innerHTML","_updateTestResult","checkedVariants","Array","isArray","_fetchData","save","idArray","j","loadSave","Test_Container","TestPage_Timer","newState","updateTestResult","newVariants","random","StartTestTemplate","StartTestTemplate_Container","StartTestTemplate_Buttons","StartTestTemplate_templateObject","StartTestTemplate_templateObject2","Continue","setObject","isContinue","setContinue","Continue_Container","TestPage_Test","Continue_Buttons","Continue_templateObject","Continue_templateObject2","minWidth","TestContainer_templateObject","setStart","started","setStarted","TestContainer_Container","startTestRequest","setupResult","fetchTest","TestPage_TestContainer","CustomDateTimePicker","setDate","callback","showTabs","autoSubmit","allowKeyboardControl","AddAlarm_default","PureComponent","ranges","intervals","Infinity","NewEvent_templateObject","NewEvent_templateObject2","NewEvent_templateObject3","NewEvent_templateObject4","onAddEvent","setTitle","_startDate","_setStartDate","_endDate","_setEndDate","setStartDate","setEndDate","isSignAllowed","setSignAllowed","setMaxUsers","isSplitted","setSplitted","emptyTitle","setEmptyTitle","emptyStartDate","setEmptyStartDate","_useState23","_useState24","emptyEndDate","setEmptyEndDate","_createEvent","creator","requestEvent","reload","NewEvent_Wrapper","NewEvent_Icon","Picker","dateString","_d","ey","em","ed","sy","sm","sd","isSameDay","NewEvent_ButtonContainer","NewEvent_Dialogue","ConfirmModal","deleteAppointment","Modal_Wrapper","Modal_Icon","Modal_ButtonContainer","Modal_Dialogue","Modal_templateObject","Modal_templateObject2","Modal_templateObject3","Modal_templateObject4","todayCell","fade","main","&:hover","&:focus","weekendCell","disabledBackground","today","weekend","Appointment","restProps","dx_react_scheduler_material_ui_es","onDoubleClick","AppointmentContent","onSignup","onUnSignup","appointmentData","userName","unSignUp","unSignUpOnEvent","click","isSigned","signUpOnEvent","AppointmentsTooltip","onDeleteEvent","_ref3","setOpen","isUserAppointment","appointmentMeta","Layout","contentComponent","showDeleteButton","onDeleteButtonClick","deleteEvent","onHide","TimeTableCell","_ref4","getDate","getDay","DayScaleCell","_ref5","CreateEvent","CalendarContainer_templateObject","onFetchEvents","events","_ref6","_ref6$store","dx_react_scheduler_es","defaultCurrentViewName","startDayHour","endDayHour","firstDayOfWeek","timeTableCellComponent","dayScaleCellComponent","appointmentComponent","showOpenButton","layoutComponent","showCloseButton","allDayLabel","titleLabel","startDateLabel","endDateLabel","commitCommand","cancelCommand","readOnly","Calendar_NewEvent","routes","path","MainPage","CalendarContainer","TestPage","library","add","faComments","faHeart","faEnvelope","faEdit","onFetchUser","onFetchFeed","onFetchNews","setUnreadedFeed","count","snackbarProps","autoHideDuration","timestamp","fetchFeed","countNew","showSnackbar","newsCount","fetchNews","records","BrowserRouter","Switch","route","Route","initialState","combineReducers","updated","nextState","currentChat","editedState","editedMessage","obj","updatedState","thisEvent","createMuiTheme","useNextVariants","overrides","MuiSnackbar","MuiModal","MuiBackdrop","MuiFab","MuiList","MuiGrid","MuiTableCell","VerticalAppointment","content","textContainer","lineHeight","createStore","reducer","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","core_styles","es","utils","MomentUtils","build","maxSnack","preventDuplicate","src_App"],"mappings":"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","file":"static/js/main.e08f8474.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/baseline-search-24px.a87eca9e.svg\";","module.exports = __webpack_public_path__ + \"static/media/Water image_Dreamstime.2355a944.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sphere.b669c4e0.png\";","module.exports = \"data:image/png;base64,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\"","import React, { Component } from 'react';\r\nimport Moment from 'react-moment';\r\nimport './css/Header.css';\r\n\r\nclass Header extends Component {\r\n  render() {\r\n    const date = new Date();\r\n    return (\r\n      <div className=\"absolute-header\">\r\n        <div className=\"header-team\">#ЕдинаяКоманда</div>\r\n        <div className=\"header-date\">\r\n          <span>сегодня</span>\r\n          <Moment element=\"span\" format=\"DD.MM.YYYY\">{date}</Moment>\r\n          <span id=\"header-date-day\">{date.toLocaleString('ru', {weekday: 'long'})}</span>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport styled from 'styled-components';\r\n\r\nconst Loader = props => (\r\n  <StyledLoader style={{ minHeight: props.minHeight }}>\r\n    <CircularProgress color={props.color} />\r\n  </StyledLoader>\r\n)\r\n\r\nconst StyledLoader = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nexport default Loader;","import React from 'react';\r\nimport './css/MainpageHeader.css';\r\nimport noPhoto from './img/photos/images.png';\r\nimport { Button, Tooltip } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport defaultBackground from './img/photos/Water image_Dreamstime.jpg';\r\nimport Loader from './Loader/Loader';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction MainpageHeader({ store: { user } }) {\r\n  return (  \r\n    <Wrapper>\r\n      {window.innerWidth < 600 && !window.location.pathname.includes('id') ? null :\r\n      <header className=\"header\" style={{ zIndex: 2, position: 'relative' }}>\r\n        <div className=\"person\">\r\n          {user.length === 0\r\n            ?\r\n            <div className=\"person-image\" style={{ background: 'rgba(255,255,255,0.5)' }}>\r\n              <Loader minHeight={125} color='primary' />\r\n            </div>\r\n            :\r\n              <Link to={`/id${user.id}`}>\r\n                <div className=\"person-image\" style={{ backgroundImage: `url(${user.avatar === '' ? noPhoto : user.avatar})` }}></div>\r\n              </Link>\r\n          }\r\n          <div className=\"person-info\">\r\n            <div className=\"person-info__container\">\r\n              {user.hasOwnProperty('name') \r\n                ?\r\n                <Tooltip placement=\"bottom\" title='Перейти на страницу профиля'>\r\n                  <Link to={`/id${user.id}`} style={{ textDecoration: 'none', color: '#000', cursor: 'pointer' }}>\r\n                    <p className=\"person-info__name\">{`${user.name} ${user.surname}`}</p>\r\n                    <p className=\"person-info__position\">{user.position}</p>\r\n                  </Link>\r\n                </Tooltip>\r\n                :\r\n                <Loader minHeight={70} color='primary' />}\r\n            </div>\r\n            <Button variant=\"contained\" href=\"logout.php\" color=\"primary\">Выйти</Button>\r\n          </div>\r\n        </div>\r\n        <Button variant=\"contained\" href=\"/settings\" color=\"primary\">{window.innerWidth > 600 ? 'Персональные данные' : <SettingsIcon />}</Button>\r\n      </header>}\r\n      <Backdrop />\r\n    </Wrapper>\r\n  )\r\n}\r\nconst Wrapper = styled.div`\r\n  background: url('${defaultBackground}') no-repeat center/cover;\r\n  background-attachment: fixed;\r\n  position: relative;\r\n  box-shadow: 0px -4px 4px 0px inset rgba(0,0,0,0.15)\r\n`;\r\nconst Backdrop = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  background: rgba(0,0,0,0.10);\r\n  z-index: 1;\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state })\r\n)(MainpageHeader);","let API = '';\r\n\r\nif (window.location.host.includes('localhost')) {\r\n  API = 'http://akvatory.local';\r\n} else {\r\n  API = window.location.origin;\r\n}\r\n\r\nexport const getJwt = () => {\r\n  let jwt = localStorage.getItem('akv_jwt_token');\r\n  return jwt;\r\n}\r\n\r\nexport default API;","import React, { Component, Fragment } from 'react';\r\nimport styled from 'styled-components';\r\nimport $ from 'jquery';\r\nimport DefaultAvatar from './img/photos/images.png';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Typography, Button, TextField, Tooltip } from '@material-ui/core';\r\nimport API from './functions/API';\r\nimport _ from 'lodash';\r\nimport Loader from './Loader/Loader';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { withSnackbar } from 'notistack';\r\nimport { connect } from 'react-redux';\r\n\r\nclass SingleNews extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      thisComments: [],\r\n      loadedComments: false,\r\n      commentText: '',\r\n      likedBy: [],\r\n      loading: true,\r\n      commentsLoading: false\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.fetchComments(this.props.singleNewsId);\r\n    await this.getAvatars();\r\n    await this.setState({ loading: false })\r\n  }\r\n\r\n  fetchComments(id) {\r\n    fetch(`${API}/api/news/single_comments.php?id=${id}`)\r\n      .then(response => response.json())\r\n      .then(thisComments => this.setState({ thisComments, loadedComments: !this.state.loadedComments }))\r\n  }\r\n\r\n  // получаем аватарки лайкнувших пост\r\n  getAvatars = () => {\r\n    const currentNews = this.props.store.news.find(item => item.id === this.props.singleNewsId);\r\n    const likedBy = currentNews.liked_by.split(', ').slice(1);\r\n    const formData = new FormData();\r\n    const self = this;\r\n    formData.append('likedBy', likedBy);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/user/getAvatars.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: res => self.setState({ likedBy: res }),\r\n    });\r\n  }\r\n  handleChange = e => this.setState({ commentText: e.target.value });\r\n\r\n  // добавляем лайк\r\n  addLike = (id, e) => {\r\n    const actions = document.getElementById('actions-news');\r\n    const { user } = this.props.store;\r\n    actions.style.pointerEvents = 'none';\r\n    var self = this;\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append('id', id);\r\n    formData.append('liked_by', user.id);\r\n    formData.append('created_at', new Date().getTime());\r\n    \r\n    $.ajax({\r\n      url: `${API}/api/news/addlike.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () => {\r\n        fetch(`${API}/api/news/read_one.php?id=${self.props.singleNewsId}`)\r\n          .then(response => response.json())\r\n          .then(() => self.getAvatars())\r\n\r\n        setTimeout(() => actions.style.pointerEvents = 'all', 1000)  \r\n      }\r\n    });\r\n  }\r\n\r\n  // убираем лайк\r\n  removeLike = (id, e) => {\r\n    const actions = document.getElementById('actions-news');\r\n    const { user } = this.props.store;\r\n    actions.style.pointerEvents = 'none';\r\n    const self = this;\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const formData = new FormData();\r\n    formData.append('id', id);\r\n    formData.append('liked_by', user.id);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/news/removelike.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () => {\r\n        fetch(`${API}/api/news/read_one.php?id=${self.props.singleNewsId}`)\r\n          .then(response => response.json())\r\n          .then(() => self.getAvatars())\r\n        setTimeout(() => actions.style.pointerEvents = 'all', 1000)\r\n      }\r\n    });\r\n  }\r\n\r\n  submitComment = e => {\r\n    const { user } = this.props.store;\r\n    this.setState({ commentsLoading: true });\r\n    var self = this;\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append('news_id', this.props.singleNewsId);\r\n    formData.append('who', `${user.name} ${user.surname}`);\r\n    formData.append('date', new Date().toJSON().slice(0, 10).replace(/-/g, '.'));\r\n    formData.append('visible', 1);\r\n    formData.append('time', new Date().toLocaleTimeString().slice(0, -3));\r\n    formData.append('text', this.state.commentText);\r\n    formData.append('author_id', user.id);\r\n    formData.append('created_at', new Date().getTime());\r\n\r\n    $.ajax({\r\n      url: `${API}/api/news/addcomment.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () =>  {\r\n        self.setState({ commentText: '' });\r\n        self.fetchComments(self.props.singleNewsId);\r\n        self.props.enqueueSnackbar('Комментарий был добавлен', { variant: 'success' });\r\n        setTimeout(() => {\r\n          self.setState({ commentsLoading: false });\r\n          const commentsContainer = document.getElementById(\"single-news\");\r\n          commentsContainer.scrollTop = commentsContainer.scrollHeight; \r\n        }, 250);    \r\n      },\r\n      error: function() {\r\n        self.props.enqueueSnackbar('Не удалось оставить комментарий', { variant: 'error' });\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | Удаление комментария \r\n  | arguments: @id \r\n  | type: @int\r\n  |--------------------------------------------------\r\n  */\r\n  deleteComment = (e, id, news_id) => {\r\n    this.setState({ commentsLoading: true });\r\n    var self = this;\r\n    e.preventDefault();\r\n\r\n    $.ajax({\r\n      url: `${API}/api/news/deletecomment.php`,\r\n      data: { id, news_id },\r\n      type: 'POST',\r\n      success: function() {\r\n        self.props.enqueueSnackbar('Комментарий был удален', { variant: 'info' });\r\n        self.fetchComments(self.props.singleNewsId);\r\n        setTimeout(() => self.setState({ commentsLoading: false }), 250);\r\n      },\r\n      error: function() {\r\n        self.props.enqueueSnackbar('Не удалось удалить комментарий', { variant: 'error' });\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  render() {\r\n    const { closeNews, singleNewsId } = this.props;\r\n    const { thisComments, commentText, likedBy, loading, commentsLoading } = this.state;\r\n    const { user, news } = this.props.store;\r\n    const currentNews = news.find(item => item.id === singleNewsId);\r\n    const userAvatar = currentNews.avatar;\r\n   \r\n    return (\r\n      <Fragment>\r\n        <Single  id='single-news'>\r\n          {loading ? <Loader minHeight={500} color='primary' /> :\r\n            <Fragment>\r\n              <Tooltip placement='left' title='Закрыть'>\r\n                <Icon><CloseIcon onClick={closeNews} /></Icon>\r\n              </Tooltip>\r\n\r\n              <PostHeader>\r\n                <Avatar style={{ background: `url(${currentNews.avatar ? userAvatar : DefaultAvatar}) no-repeat center/cover` }}></Avatar>\r\n                <Typography variant='subtitle2'>{currentNews.author}</Typography>            \r\n              </PostHeader>\r\n\r\n              {currentNews.importance === '1' ? this.props.createImportantBar(10) : null}\r\n\r\n              <Typography variant='h5'>{currentNews.title.replace(/&quot;/g, `\"`)}</Typography>\r\n\r\n              <PostContent>\r\n                <Typography variant='body1'>{currentNews.text.replace(/&quot;/g, `\"`)}</Typography>\r\n                <Typography variant='caption'>{currentNews.date}</Typography>\r\n              </PostContent>\r\n\r\n              <PostLikes>\r\n                <Typography variant='subtitle2'>{currentNews.likes} {this.props.getNoun(currentNews.likes)} \"Нравится\"</Typography>\r\n                {/* eslint-disable-next-line*/}\r\n                {likedBy.map((user, i) => {\r\n\r\n                  while (i < 7) {\r\n                    return (\r\n                      <Tooltip key={i} title={`${user.name} ${user.surname}`} placement=\"top\">\r\n                        <Avatar style={{ background: `url(${user.avatar ? user.avatar : DefaultAvatar}) no-repeat center/cover` }}></Avatar>\r\n                      </Tooltip>\r\n                    )\r\n                  }\r\n                })}\r\n              </PostLikes>\r\n\r\n              <PostActions id='actions-news'>\r\n                {thisComments.length}\r\n                <Tooltip placement='top' title={`${thisComments.length} ${this.props.getCommentsNoun(thisComments.length)}`}>\r\n                  <FontAwesomeIcon icon='comments' style={{ marginLeft: 10 }} />\r\n                </Tooltip>\r\n\r\n                {!_.some(likedBy, ['id', user.id])\r\n                  ?\r\n                  <React.Fragment>\r\n                    <span>{currentNews.likes}</span>\r\n                    <Tooltip placement='top' title={`${currentNews.likes} ${this.props.getNoun(currentNews.likes)} \"Нравится\"`}>\r\n                      <FontAwesomeIcon onClick={e => this.addLike(currentNews.id, e)} icon='heart' style={{ marginLeft: 10 }} />\r\n                    </Tooltip>\r\n                  </React.Fragment>\r\n                  :\r\n                  <React.Fragment>\r\n                    <span>{currentNews.likes}</span>\r\n                    <Tooltip placement='top' title={`${currentNews.likes} ${this.props.getNoun(currentNews.likes)} \"Нравится\"`}>\r\n                      <FontAwesomeIcon onClick={e => this.removeLike(currentNews.id, e)} icon='heart' style={{ color: '#1976d2', marginLeft: 10 }} />\r\n                    </Tooltip>  \r\n                  </React.Fragment>\r\n                }              \r\n              </PostActions>\r\n\r\n              <NewComment>\r\n                <p className='newcomment-reply'>В ответ <a href={`${window.location.origin}/id${currentNews.id}`}>{currentNews.author}</a></p>\r\n                <div className='newcomment-input'>\r\n                  <Avatar style={{ background: `url(${user.avatar ? user.avatar : DefaultAvatar}) no-repeat center/cover` }}></Avatar>\r\n                  <TextArea>\r\n                    <TextField\r\n                      label='Комментарий'\r\n                      multiline\r\n                      variant='outlined'\r\n                      name='commentText'\r\n                      value={commentText}\r\n                      onChange={this.handleChange}\r\n                      required\r\n                    />\r\n                  </TextArea>\r\n                </div>\r\n                <Button variant='contained' color='primary' onClick={this.submitComment} disabled={!commentText}>Отправить</Button>\r\n              </NewComment>\r\n\r\n              {commentsLoading ? <Loader minHeight={280} color='primary' /> :\r\n                thisComments.map((comment, i) => {\r\n                  return (\r\n                    <Comments key={i}>\r\n                      <div className='comment-header'>\r\n                        <Avatar style={{ background: `url(${comment.avatar ? comment.avatar : DefaultAvatar}) no-repeat center/cover`, marginTop: 20 }}></Avatar>\r\n                        <Typography variant='subtitle2'>{comment.who}</Typography>\r\n                        <Typography variant='caption' className='comment-date'>{comment.date}</Typography>\r\n                      </div>\r\n                      <div className='comment-text'>{comment.text}</div>\r\n\r\n                      {comment.author_id === user.id ?\r\n                      <DelIcon>\r\n                        <Tooltip placement='left' title=\"Удалить\">\r\n                          <DeleteIcon onClick={(e) => this.deleteComment(e, comment.id, comment.news_id)} />\r\n                        </Tooltip>\r\n                      </DelIcon>\r\n                      : null}\r\n                    </Comments>\r\n                  )\r\n                })}\r\n            </Fragment>}\r\n        </Single>\r\n        <Wrapper onClick={closeNews}></Wrapper>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst Single = styled.div`\r\n  width: 600px;\r\n  min-height: 300px;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  position: fixed;\r\n  z-index: 50;\r\n  background: #fff;\r\n  top: 100px;\r\n  border-radius: 10px;\r\n  box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\r\n  padding: 15px 30px;\r\n  overflow-y: scroll;\r\n  overflow-x: hidden;\r\n  max-height: 80%;\r\n\r\n  .close {\r\n    top: 5px;\r\n  }\r\n  ::-webkit-scrollbar { \r\n    display: none; \r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    width: 100%;\r\n    height: calc(100vh - 50px);\r\n    top: 0;\r\n    max-height: unset;\r\n    border-radius: 0;\r\n    padding: 30px 15px 15px;\r\n  }\r\n`;\r\n\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  background: rgba(0,0,0,.5);\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  top: 0;\r\n  z-index: 49;\r\n`;\r\n\r\nconst PostHeader = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 25px;\r\n\r\n  img {\r\n    border-radius: 50%;\r\n    width: 60px;\r\n  }\r\n  p {\r\n    font-size: 18px;\r\n    font-weight: 700;\r\n  }\r\n`;\r\n\r\nconst PostContent = styled.div`\r\n  p {\r\n    margin: 15px 0 5px;\r\n    font-size: 20px;\r\n  }\r\n  span {\r\n    color: #657786;\r\n    font-size: 14px;\r\n  }\r\n`;\r\n\r\nconst PostLikes = styled.div`\r\n  border-top: 1px solid #e6ecf0;\r\n  border-bottom: 1px solid #e6ecf0;\r\n  margin-top: 20px;\r\n  1px solid #e6ecf0;\r\n  align-items: center;\r\n  display: flex;\r\n\r\n  div {\r\n    margin: 0 5px;\r\n  }\r\n\r\n  h6:first-child {\r\n    width: 50%;\r\n    padding: 15px 10px;\r\n    border-right: 1px solid #e6ecf0;\r\n  }\r\n\r\n  span {\r\n    width: 50%;\r\n    padding: 15px 10px 15px;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    h6:first-child {\r\n      font-size: 12px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst PostActions = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-top: 20px;\r\n\r\n  img {\r\n    width: 15px;\r\n    margin-right: 40px;\r\n    margin-left: 10px;\r\n    opacity: .7;\r\n    cursor: pointer;\r\n  }\r\n\r\n  img:hover {\r\n    opacity: 1;\r\n    transition: .37s ease;\r\n  }\r\n`;\r\n\r\nconst Comments = styled.div`\r\n  margin-left: -30px;\r\n  width: 600px;\r\n  border-bottom: 1px solid #e6ecf0;\r\n  cursor: pointer;\r\n  padding: 15px 30px;\r\n  position: relative;\r\n\r\n  :last-child {\r\n    border-bottom: none;\r\n  }\r\n\r\n  :hover {\r\n    background: #f5f8fa;\r\n    transition: .37s ease;\r\n  }\r\n\r\n  .comment-header {\r\n    display: flex;\r\n    align-items: center;\r\n    \r\n    div {\r\n      border-radius: 50%;\r\n      width: 30px;\r\n      height: 30px;\r\n    }\r\n  }\r\n\r\n  .comment-text {\r\n    padding-left: 45px;\r\n  }\r\n\r\n  .comment-date {\r\n    margin-left: 10px;\r\n    color: #657786;\r\n    :before {\r\n      content: '\\00b7';\r\n      margin-right: 10px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst NewComment = styled.div`\r\n  padding: 15px 30px;\r\n  background: #f5f8fa;\r\n  width: calc(100% + 60px);\r\n  margin-top: 20px;\r\n  margin-left: -30px;\r\n  border-bottom: 1px solid #e6ecf0;\r\n  border-top: 1px solid #e6ecf0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  .close {\r\n    top: 5px;\r\n  }\r\n  button {\r\n    width: 150px;\r\n    align-self: flex-end;\r\n    margin-top: 15px;\r\n  }\r\n  \r\n  .newcomment-reply {\r\n    margin: 0 40px;\r\n    color: #657786;\r\n    a {\r\n      color: #0084B4;\r\n      text-decoration: none;\r\n      margin-left: 5px;\r\n      :hover {\r\n        text-decoration: underline;\r\n      }\r\n    }\r\n  }\r\n\r\n  .newcomment-input {\r\n    display: flex;\r\n    align-items: flex-start;\r\n    margin-top: 20px;\r\n    div {\r\n      margin-right: 0;\r\n    }\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    margin-left: -15px;\r\n    padding: 15px;\r\n    width: calc(100% + 30px);\r\n  }\r\n`;\r\nconst Avatar = styled.div`\r\n  min-width: 30px;\r\n  border-radius: 50%;\r\n  min-height: 30px;\r\n  margin-right: 15px;\r\n`;\r\nconst TextArea = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-left: 10px;\r\n  background: #fff;\r\n  height: 110px;\r\n  width: 100%;\r\n\r\n  textarea {\r\n    max-height: 90px;\r\n    background: #fff;\r\n    &::-webkit-scrollbar {\r\n      width: 10px;\r\n    }\r\n   \r\n    &::-webkit-scrollbar-track {\r\n      background-color: #ebebeb;\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n    }\r\n  \r\n    &::-webkit-scrollbar-thumb {\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n      background: #1976d2; \r\n    }\r\n  }\r\n\r\n  & > div {\r\n    width: 100%;\r\n    & > div {\r\n      height: 100%;\r\n    }\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  position: absolute;\r\n  right: 25px;\r\n  top: 10px;\r\n  cursor: pointer;\r\n  svg {\r\n    color: #1976d2;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    right: 15px;\r\n    top: 25px;\r\n    svg {\r\n      font-size: 32px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst DelIcon = styled.div`\r\n  cursor: pointer;\r\n  right: 25px;\r\n  top: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n  position: absolute;\r\n  height: fit-content;\r\n  svg {\r\n    color: rgba(0,0,0,.54);\r\n  }\r\n`;\r\n\r\nexport default connect(state => ({ store: state }))(withSnackbar(SingleNews));\r\n","import React, { Component, Fragment } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport './css/SideNews.css';\r\nimport SingleNews from './SingleNews';\r\nimport styled from 'styled-components';\r\nimport { Typography, Paper, Switch, Button, Tooltip } from '@material-ui/core';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport { connect } from 'react-redux';\r\nimport Loader from './Loader/Loader';\r\n\r\nclass SideNews extends Component {\r\n  state = {\r\n    importance: false,\r\n    singleNews: false,\r\n    singleNewsData: [],\r\n    singleNewsId: ''\r\n  }\r\n\r\n  // переходим к конкретной новости\r\n  goToSingleNews = id => this.setState({ singleNews: true, singleNewsId: id });\r\n\r\n  // закрываем новость \r\n  closeNews = () => {\r\n    this.setState({ singleNews: false, singleNewsId: '' });\r\n  }\r\n\r\n  changeImportance = () => this.setState({ importance: !this.state.importance });\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | Находим правильную форму склонения комментариев\r\n  |--------------------------------------------------\r\n  */\r\n  getNoun = number => {\r\n    number = Math.abs(number);\r\n    number %= 100;\r\n    if (number >= 5 && number <= 20) return 'отметок';\r\n    number %= 10;\r\n    if (number === 1) return 'отметка';\r\n    if (number >= 2 && number <= 4) return 'отметки';\r\n    return 'отметок';\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | Находим правильную форму склонения комментариев\r\n  |--------------------------------------------------\r\n  */\r\n  getCommentsNoun = number => {\r\n    number = Math.abs(number);\r\n    number %= 100;\r\n    if (number >= 5 && number <= 20) return 'комментариев';\r\n    number %= 10;\r\n    if (number === 1) return 'комментарий';\r\n    if (number >= 2 && number <= 4) return 'комментария';\r\n    return 'комментариев';\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | создаёт надпись \"Помечено как важное\"\r\n  |--------------------------------------------------\r\n  */\r\n  createImportantBar = (margin) => {\r\n    const Important = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 0;\r\n    margin-top: ${margin}px;\r\n    svg {\r\n      color: rgba(0,0,0,.15);\r\n      margin-right: 5px;  \r\n    }\r\n  `;\r\n    return (\r\n      <Important>\r\n        <WarningIcon />\r\n        <Typography variant='caption'>Отмечено как \"Важное\"</Typography>\r\n      </Important>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { importance, singleNews, singleNewsId } = this.state;\r\n    const { store: { news }} = this.props;\r\n    var NEWS_COUNTER = 0;\r\n\r\n    return (\r\n      <Wrapper>\r\n        <Paper>\r\n          {news.length === 0 ? <Loader minHeight={250} color='primary' /> :\r\n            <News>\r\n              <NewsSwitch>\r\n                <Typography variant='subtitle2'>Только важное </Typography>\r\n                <Switch color='primary' onClick={this.changeImportance.bind(this)} />\r\n              </NewsSwitch>\r\n              {/* eslint-disable-next-line */}\r\n              {news.length > 0 ? news.map((item, i) => {\r\n                if (importance) {\r\n                  if (item.importance === '1' && NEWS_COUNTER < 3) {\r\n                    NEWS_COUNTER++;\r\n                    return (\r\n                      <div key={i} className=\"news-item\">\r\n                        <div className=\"news-item-header\">\r\n                          <Typography variant='subtitle2'>{item.author}</Typography>\r\n                          <Typography variant='caption'>{item.date}</Typography>\r\n                        </div>\r\n                        <Typography variant='button' className='news-caption' onClick={() => this.goToSingleNews(item.id)}>\r\n                          {item.importance === '1' ? <Tooltip title='Важное!' placement=\"left\"><WarningIcon /></Tooltip> : null}\r\n                          {item.title}\r\n                        </Typography>\r\n                        <div className=\"news-item-text\">\r\n                          <Typography variant='body2'>{item.text}</Typography>\r\n                        </div>\r\n                        <Tooltip title=\"Перейти к комментариям\" placement=\"top-start\">\r\n                          <div\r\n                            onClick={() => this.goToSingleNews(item.id)}\r\n                            className=\"news-item-comment\"\r\n                          >\r\n                            <FontAwesomeIcon icon='comments' />\r\n                            {item.comments} {this.getCommentsNoun(item.comments)}\r\n                          </div>\r\n                        </Tooltip>\r\n                      </div>\r\n                    )\r\n                  }\r\n                } else {\r\n                  while (i < 3) {\r\n                    return (\r\n                      <div key={i} className=\"news-item\">\r\n                        <div className=\"news-item-header\">\r\n                          <Typography variant='subtitle2'>{item.author}</Typography>\r\n                          <Typography variant='caption'>{item.date}</Typography>\r\n                        </div>\r\n                        <Typography variant='button' className='news-caption' onClick={() => this.goToSingleNews(item.id)}>\r\n                          {item.importance === '1' ? <Tooltip title='Важное!' placement=\"top-start\"><WarningIcon /></Tooltip> : null}\r\n                          {item.title.replace(/&quot;/g, `\"`)}\r\n                        </Typography>\r\n                        <div className=\"news-item-text\">\r\n                          <Typography variant='body2'>{item.text.replace(/&quot;/g, `\"`)}</Typography>\r\n                        </div>\r\n                        <Tooltip title=\"Перейти к комментариям\" placement=\"top-start\">\r\n                          <div\r\n                            onClick={() => this.goToSingleNews(item.id)}\r\n                            className=\"news-item-comment\"\r\n                          >\r\n                            <FontAwesomeIcon icon='comments' />\r\n                            {item.comments} {this.getCommentsNoun(item.comments)}\r\n                          </div>\r\n                        </Tooltip>\r\n                      </div>\r\n                    )\r\n                  }\r\n                }\r\n              })\r\n              : <NoNews><Typography variant='h6'>нет новостей</Typography></NoNews>}\r\n              <Button\r\n                variant='contained'\r\n                color='primary'\r\n                onClick={() => { this.props.handleChangeSection('news'); window.scrollTo(0, 0) }}\r\n              >\r\n                КО ВСЕМ НОВОСТЯМ\r\n              </Button>\r\n            </News>}\r\n        </Paper>\r\n        <Fragment>\r\n        {singleNews ?\r\n          <SingleNews\r\n            closeNews={this.closeNews.bind(this)}\r\n            singleNewsId={singleNewsId}\r\n            news={news}\r\n            getNoun={this.getNoun}\r\n            getCommentsNoun={this.getCommentsNoun}\r\n            reloadComponent={this.reloadComponent}\r\n            createImportantBar={this.createImportantBar.bind(this)}\r\n          />\r\n          : null}\r\n        </Fragment>  \r\n      </Wrapper>\r\n    )\r\n  }\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  width: 30%;\r\n  @media all and (max-width: 600px) {\r\n    display: none;\r\n  }\r\n`;\r\nconst NewsSwitch = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\nconst News = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n\r\n  .news-item {\r\n    width: 100%;\r\n    padding-bottom: 0;\r\n  }\r\n  svg {\r\n    margin-left: 0;\r\n  }\r\n  .news-caption {\r\n    display: flex;\r\n    align-items: flex-start;\r\n    width: 111%;\r\n    cursor: pointer;\r\n    margin-left: -15px;\r\n    padding: 10px 15px 8px;\r\n    &:hover {\r\n      background: #1976d2;\r\n      color: #ffffff;\r\n      transition: .37s ease;\r\n    }\r\n    svg {\r\n      color: rgba(0,0,0,.15) !important;\r\n      margin-right: 8px;\r\n      font-size: 22px;\r\n    }\r\n  }\r\n\r\n  .news-item-comment {\r\n    width: 111%;\r\n    cursor: pointer;\r\n    margin-left: -15px;\r\n    padding: 12px 15px;\r\n    &:hover {\r\n      background: rgba(0,0,0,0.015);\r\n    }\r\n  }\r\n`;\r\nconst NoNews = styled.div`\r\n  height: 150px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  opacity: .37;\r\n  margin-bottom: 20px;\r\n`;\r\nexport default connect(state => ({ store: state }))(SideNews);","import React from 'react';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport defaultAvatar from '../img/photos/images.png';\r\n\r\nfunction Friend(props) {\r\n  let avatar = props.friend.avatar;\r\n \r\n  return (\r\n    <ListItem button TouchRippleProps={{ classes: { child: 'touch-ripple' }}} >\r\n      <ListItemAvatar>\r\n        <Avatar\r\n          style={{ height: 50, width: 50 }}\r\n          alt={`${props.friend.name} ${props.friend.surname}`}\r\n          src={props.friend.avatar !== '' ? avatar : defaultAvatar}\r\n        />\r\n      </ListItemAvatar>\r\n      <ListItemText\r\n        inset\r\n        primary={`${props.friend.name} ${props.friend.surname}, ${props.friend.position}`}\r\n        secondary={props.friend.last_activity}\r\n      />\r\n    </ListItem>\r\n  );\r\n}\r\n\r\nexport default Friend;","import React from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport SearchIcon from '../img/icons/baseline-search-24px.svg';\r\nimport styled from 'styled-components';\r\n\r\nfunction Search(props) {\r\n  return (\r\n    <SearchWrapper>\r\n      <TextField\r\n        id=\"outlined-adornment-password\"\r\n        variant=\"outlined\"\r\n        type='text'\r\n        label=\"Поиск\"\r\n        margin='dense'\r\n        value={props.searchValue}\r\n        onChange={props.handleSearch}\r\n        InputProps={{\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <IconButton\r\n                aria-label=\"Искать в списке коллег\"\r\n              >\r\n                <img alt='Поиск' src={SearchIcon} style={{ opacity: '.37' }} />\r\n              </IconButton>\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n      />\r\n    </SearchWrapper>\r\n  )\r\n}\r\n\r\nconst SearchWrapper = styled.div`\r\n  padding: 20px\r\n  & > div {\r\n    width: 100%;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\r\n    padding: 10px 20px 12px;\r\n    height: 80px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: flex-end;\r\n    label {\r\n      line-height: .5;\r\n    }\r\n    input {\r\n      padding: 9px 18.5px;\r\n    }\r\n    input::placeholder {\r\n      color: red;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default Search;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nexport default function NotFound() {\r\n  return (\r\n    <Wrapper>\r\n      <Typography variant='h6' style={{ opacity: .3 }}>совпадений не найдено</Typography>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  height: 555px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n`;","import React, { useEffect, useState } from 'react';\r\nimport List from '@material-ui/core/List';\r\nimport Friend from './Friend';\r\nimport API from '../functions/API';\r\nimport styled from 'styled-components';\r\nimport Search from './Search';\r\nimport { Link } from 'react-router-dom';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Loader from '../Loader/Loader';\r\nimport { connect } from 'react-redux';\r\nimport moment from 'moment';\r\nimport NotFound from './NotFound';\r\n\r\nfunction FriendList({ onFetchFriends, setOnline, filterFriends, store: { friends }}) {\r\n  const [searchValue, setSearchValue] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [_friends, setFriends] = useState([]);\r\n  const documentTitle = document.title;\r\n\r\n  useEffect(() => {\r\n    if (friends.length === 0) {\r\n      setLoading(true);\r\n      fetch(`${API}/api/user/read.php`)\r\n        .then(response => response.json())\r\n        .then(friends => {\r\n          onFetchFriends(friends.data);\r\n          sortFriends(friends.data);\r\n          setFriends(friends.data);\r\n        })\r\n        .then(() => setLoading(false)) \r\n    }\r\n \r\n    return () => document.title = documentTitle;  \r\n  }, [])\r\n    \r\n  \r\n  function sortFriends(friends) {\r\n    let sorted = friends;\r\n    let online = [],\r\n        offline = [],\r\n        not_used = [];\r\n    sorted.forEach(friend => {\r\n      friend.last_activity = setFriendsOnline(friend.last_activity);\r\n      friend.last_activity === 'Online' \r\n        ? online.push(friend) \r\n        : friend.last_activity \r\n          ? offline.push(friend)\r\n          : not_used.push(friend)\r\n    }); \r\n    sorted = online.concat(offline.concat(not_used));\r\n    setOnline(sorted);\r\n  }\r\n\r\n  function handleSearch(e) {\r\n    setSearchValue(e.target.value);\r\n    const searchValue = e.target.value.toLowerCase();\r\n    document.title = e.target.value || documentTitle;\r\n\r\n    if (searchValue === '') {\r\n      filterFriends(_friends);\r\n      return;\r\n    } \r\n\r\n    friends = friends.filter(friend => \r\n      friend.name.toLowerCase().includes(searchValue) || \r\n      friend.surname.toLowerCase().includes(searchValue) ||\r\n      friend.position.toLowerCase().includes(searchValue)\r\n    );\r\n    filterFriends(friends);\r\n  }\r\n\r\n  function setFriendsOnline(time) {\r\n    if (!time) return '';\r\n\r\n    const lastActivity = moment(Number(time)).fromNow();\r\n    if ((lastActivity.includes('секунд') || lastActivity.includes('минут')) && (parseInt(lastActivity) < 15 || !parseInt(lastActivity))) {\r\n      return `Online`;\r\n    } else {\r\n      return `Последний визит: ${lastActivity}`;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Paper>\r\n      {loading ? <Loader minHeight={370} color='primary' /> \r\n        :\r\n        <FriendWrapper>\r\n          <Search \r\n            handleSearch={handleSearch} \r\n            searchValue={searchValue}\r\n          />\r\n          <List>\r\n            {friends.map(friend  => \r\n              <Link \r\n                key={friend.id} \r\n                to={`id${friend.id}`}\r\n              >\r\n                <Friend\r\n                  friend={friend} \r\n                />\r\n              </Link>\r\n            )} \r\n          </List>\r\n          {friends.length === 0 ? <NotFound /> : null}\r\n        </FriendWrapper>\r\n      }\r\n    </Paper>\r\n  );\r\n}\r\n\r\nconst FriendWrapper = styled.div`\r\n  a {\r\n    text-decoration: none;\r\n  }\r\n  ul {\r\n    padding: 0;\r\n    padding-bottom: 50px;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    ul {\r\n      padding-top: 15px;\r\n      padding-bottom: 15px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default connect( state => ({ store: state }),\r\n  dispatch => ({\r\n    onFetchFriends: (friends) => {\r\n      dispatch({ type: 'FETCH_FRIENDS', payload: friends })},\r\n    filterFriends: (friends) => {\r\n      dispatch({ type: 'FILTER_FRIENDS', payload: friends })},\r\n    setOnline: (friends) => {\r\n      dispatch({ type: 'SET_FRIENDS', payload: friends })}\r\n  })\r\n)(FriendList);","import React from 'react';\r\nimport Modal from '@material-ui/core/Modal';\r\n\r\nexport default function ModalWindow(props) {\r\n  return (\r\n    <Modal\r\n      open={props.open}\r\n      onClose={props.handleClose}\r\n    >\r\n      {props.component}\r\n    </Modal>\r\n  )\r\n}\r\n","import React, { Fragment } from 'react';\r\nimport { Paper, Typography, Button } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\nimport styled from 'styled-components';\r\n\r\nexport default function ConfirmDelete(props) {\r\n  return (\r\n    <Fragment>\r\n      <Wrapper>\r\n        <Paper>\r\n          <Icon onClick={props.handleClose}>\r\n            <CloseIcon />\r\n          </Icon>\r\n          <Typography variant='body1'>{`Вы уверены, что хотите ${props.message}?`}</Typography>\r\n          <ButtonContainer>\r\n            <Button variant='contained' color='secondary' onClick={props.setAdministrator}>Да</Button>\r\n            <Button variant='text' color='default' onClick={props.handleClose}>Отмена</Button>\r\n          </ButtonContainer>\r\n        </Paper>\r\n        \r\n      </Wrapper>\r\n      <Backdrop onClick={props.handleClose} />\r\n    </Fragment>\r\n  )\r\n}\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  height: 200px;\r\n  width: 400px;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n  outline: none;\r\n  z-index: 1000;\r\n  & > div {\r\n    height: 100%;\r\n    position: relative;\r\n    display: flex;\r\n    padding: 30px;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: 95%;\r\n  }\r\n`;\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  margin-top: 30px;\r\n  button {\r\n    margin-right: 25px;\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  svg {\r\n    cursor: pointer;\r\n    color: rgba(0,0,0,.54);\r\n    position: absolute;\r\n    right: 16px;\r\n    top: 16px;\r\n  }\r\n`\r\nconst Backdrop = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  top: 0;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  background: rgba(0,0,0,.37);\r\n`;","import React from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport { connect } from 'react-redux';\r\nimport { withSnackbar } from 'notistack';\r\nimport Modal from '../Modal/Modal';\r\nimport $ from 'jquery';\r\nimport API from '../functions/API';\r\nimport ConfirmStatus from './ConfirmStatus';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass LongMenu extends React.Component {\r\n  state = {\r\n    anchorEl: null,\r\n    preparedId: null,\r\n    open: false\r\n  };\r\n\r\n  handleClick = event => {\r\n    event.stopPropagation();\r\n    this.setState({ anchorEl: event.currentTarget });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ anchorEl: null });\r\n  };\r\n\r\n  prepareToUpdate(id) {\r\n    this.setState({ preparedId: id, open: true });\r\n  }\r\n\r\n  setAdministrator = () => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    formData.append('id', this.state.preparedId);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/user/setAdministrator.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () => {\r\n        self.handleClose();\r\n        self.props.enqueueSnackbar('Статус пользователя был успешно сменён', { variant: 'success' })\r\n        self.props.fetchUserInfo();\r\n      },\r\n      error: err => {\r\n        console.log(err);\r\n        self.props.enqueueSnackbar('Что-то пошло не так, попробуйте снова', { variant: 'error' })\r\n      }\r\n    });\r\n  }\r\n\r\n  handleClose = () => this.setState({ open: false, preparedId: null });\r\n\r\n  render() {\r\n    const { anchorEl } = this.state;\r\n    const open = Boolean(anchorEl);\r\n    const { userInfo, user_logged_id } = this.props;\r\n\r\n    return (\r\n      <div onClick={() => this.setState({ anchorEl: null })}>\r\n        <IconButton\r\n          aria-label=\"More\"\r\n          aria-owns={anchorEl ? 'simple-menu' : undefined}\r\n          aria-haspopup=\"true\"\r\n          onClick={this.handleClick}\r\n        >\r\n          <MoreVertIcon />\r\n        </IconButton>\r\n        <Menu\r\n          id=\"long-menu\"\r\n          anchorEl={anchorEl}\r\n          open={open}\r\n          onClose={this.handleClose}\r\n        >\r\n        {Number(userInfo.id) !== Number(user_logged_id) && this.props.store.user.length > 0 && this.props.store.user.admin === '1' ?\r\n          <MenuItem onClick={() => this.prepareToUpdate(userInfo.id)}>\r\n            {userInfo.admin === '1' ? \"Разжаловать администратора\" : \"Сделать администратором\"}\r\n          </MenuItem>\r\n        : null}\r\n          <MenuItem component={Link} to='/calendar'>Календарь</MenuItem>\r\n          <MenuItem component={Link} to='/learnings'>Обучение</MenuItem> \r\n        </Menu>\r\n\r\n        {/* Confirm promote modal */}\r\n        <Modal\r\n          open={this.state.open}\r\n          handleClose={this.handleClose.bind(this)}\r\n          component={<ConfirmStatus\r\n            setAdministrator={this.setAdministrator}\r\n            handleClose={this.handleClose.bind(this)}\r\n            message={userInfo.admin === '1' ? \"разжаловать администратора\" : `назначить ${userInfo.name} ${userInfo.surname} администратором`}\r\n          />}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => ({\r\n    store: state,\r\n  })\r\n)(withSnackbar(LongMenu));","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Select from './Select';\r\n\r\nexport default function Dropdown(props) {\r\n  return (\r\n    <Wrapper>\r\n      <Select \r\n        userInfo={props.userInfo} u\r\n        ser_logged_id={props.user_logged_id} \r\n        fetchUserInfo={props.fetchUserInfo} \r\n      />\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  position: absolute;\r\n  right: 10px;\r\n  top: 10px;\r\n`;","import React, { Component, Fragment } from 'react';\r\nimport $ from 'jquery';\r\nimport API from './functions/API';\r\nimport InputMask from 'react-input-mask';\r\nimport './css/PersonalInfo.css';\r\nimport defaultAvatar from './img/photos/images.png';\r\nimport { Typography, OutlinedInput, Select, TextField, Tooltip, Paper, FormControl, FormHelperText, Button, MenuItem, InputLabel } from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Done';\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport styled from 'styled-components';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport Loader from './Loader/Loader';\r\nimport { DatePicker } from 'material-ui-pickers';\r\nimport { withSnackbar } from 'notistack';\r\nimport { connect } from 'react-redux';\r\nimport DropdownActions from './DropdownActions/Dropdown';\r\n\r\nvar autoSaveTimer = null;\r\nvar pageInterval = null;\r\n\r\nclass PersonalInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      userInfo: {},\r\n      newChildInput: false,\r\n      nameError: true,\r\n      yearError: true,\r\n      childName: '',\r\n      childBirthyear: '',\r\n      loading: true,\r\n      selectedDate: '',\r\n      loadingChild: false,\r\n      isSelectOpened: false,\r\n      lastUser: null\r\n    }\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.fetchUserInfo = this.fetchUserInfo.bind(this);\r\n    this.deleteChild = this.deleteChild.bind(this);\r\n    this.prepareChild = this.prepareChild.bind(this);\r\n    this.handleChild = this.handleChild.bind(this);\r\n    this.addChild = this.addChild.bind(this);\r\n    this.removeInput = this.removeInput.bind(this);\r\n  }\r\n\r\n  fetchUserInfo(action) {\r\n    const id = window.location.pathname.slice(3);\r\n    if (!action) this.setState({ loading: true });\r\n      \r\n    if (action === 'child') this.setState({ loadingChild: true });\r\n\r\n    fetch(`${API}/api/user/info.php?id=${id}`)\r\n      .then(response => response.json())\r\n      .then(userInfo => this.setState({ userInfo, selectedDate: userInfo.birthday, lastUser: userInfo }))\r\n      .then(() => this.setState({ loading: false, loadingChild: false }))\r\n  }\r\n\r\n  // делаем запрос перед рендером\r\n  componentDidMount() {\r\n    this.fetchUserInfo();\r\n    var currentLocation = window.location.pathname;\r\n    pageInterval = setInterval(() => {\r\n      if (currentLocation !== window.location.pathname && window.location.pathname.includes('id')) {\r\n        this.fetchUserInfo();\r\n        window.clearInterval(pageInterval)\r\n      } \r\n    }, 250)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.clearInterval(pageInterval)\r\n  }\r\n\r\n  handleDateChange = date => this.setState({ selectedDate: date.format() });\r\n\r\n  // динамически обрабатываем изменения полей\r\n  handleChange(event) {\r\n    window.clearTimeout(autoSaveTimer);\r\n    // ставим стейт исходя из именя поля и вводимого значения\r\n    let userInfo = { ...this.state.userInfo };\r\n    userInfo[event.target.name] = event.target.value;\r\n    this.setState({ userInfo });\r\n    this.props.updateUser(event.target.name, event.target.value);\r\n    autoSaveTimer = setTimeout(() => {\r\n      this.handleSubmit(event, true);\r\n      this.props.enqueueSnackbar('Персональные данные были обновлены', { variant: 'success' });\r\n    }, 2500)\r\n  }\r\n\r\n  prepareChild() {\r\n    this.setState({ newChildInput: true })\r\n  }\r\n\r\n  handleChild(event) {\r\n    this.setState({\r\n      [event.target.name]: event.target.value,\r\n      nameError: true,\r\n      yearError: true\r\n    })\r\n  }\r\n\r\n  addChild(e) {\r\n    e.preventDefault();\r\n    if (this.state.childName && this.state.childBirthyear) {\r\n      var self = this;\r\n      const formData = new FormData();\r\n      formData.append('name', this.state.childName);\r\n      formData.append('year', this.state.childBirthyear);\r\n      formData.append('parent', self.props.user_logged_id);\r\n\r\n      $.ajax({\r\n        url: `${API}/api/child/add.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: function () {\r\n          self.fetchUserInfo('child');\r\n          self.setState({ newChildInput: false, childBirthyear: '', childName: '' });\r\n          self.props.enqueueSnackbar('Персональные данные были обновлены', { variant: 'success' });\r\n        },\r\n        error: function() {\r\n          self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' });\r\n        }\r\n      });\r\n    } else {\r\n      if (this.state.newChildInput) {\r\n        this.props.enqueueSnackbar('Нужно заполнить все поля', { variant: 'warning' });\r\n        if (!this.state.childBirthyear) this.setState({ yearError: false })\r\n        if (!this.state.childName) this.setState({ nameError: false })\r\n      }\r\n    }\r\n  }\r\n\r\n  deleteChild(id) {\r\n    var self = this;\r\n    self.setState({ modal: false });\r\n    const formData = new FormData();\r\n    formData.append('id', id);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/child/delete.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function (res) {\r\n        self.fetchUserInfo('child');\r\n        self.props.enqueueSnackbar('Персональные данные были обновлены', { variant: 'success' });\r\n        console.log(res);\r\n      },\r\n      error: function() {\r\n        self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' });\r\n      }\r\n    });\r\n  }\r\n\r\n  removeInput = () => this.setState({ newChildInput: false });\r\n\r\n  handleSubmit(e, dontShow) {\r\n    var self = this;\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n\r\n    formData.append('id', this.props.user_logged_id);\r\n    formData.append('adress', $('input[name=\"adress\"]').val());\r\n    formData.append('army_country', $('input[name=\"army_country\"]').val());\r\n    formData.append('army_type', $('input[name=\"army_type\"]').val());\r\n    formData.append('birthday', this.state.selectedDate.slice(0, 10));\r\n    formData.append('district', $('input[name=\"district\"]').val());\r\n    formData.append('fakultet', $('input[name=\"fakultet\"]').val());\r\n    formData.append('name', $('input[name=\"name\"]').val());\r\n    formData.append('phone', $('input[name=\"phone\"]').val());\r\n    formData.append('position', $('input[name=\"position\"]').val());\r\n    formData.append('status', this.state.userInfo.status);\r\n    formData.append('surname', $('input[name=\"surname\"]').val());\r\n    formData.append('vuz', $('input[name=\"vuz\"]').val());\r\n    formData.append('city', $('input[name=\"city\"]').val());\r\n    formData.append('sex', this.state.userInfo.sex);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/user/update.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function (res) {\r\n        let response = res.result;\r\n        switch (response) {\r\n          case 0:\r\n            self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' });\r\n            break;\r\n          case 1: \r\n            if (!dontShow) {\r\n              self.fetchUserInfo('update');\r\n              self.props.enqueueSnackbar('Персональные данные были обновлены', { variant: 'success' });\r\n              self.addChild(e);\r\n            }\r\n            break;\r\n          default: break;\r\n        }\r\n      },\r\n      error: function() {\r\n        self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' });\r\n      }\r\n    });\r\n  }\r\n\r\n  createInput = (label, value, name) => {\r\n    const { user } = this.props.store;\r\n    const { userInfo } = this.state;\r\n\r\n    if (user.id === userInfo.id) {\r\n      return (\r\n        <TextField\r\n          label={label}\r\n          value={value}\r\n          fullWidth={true}\r\n          name={name}\r\n          margin='dense'\r\n          InputLabelProps={{ shrink: true }}\r\n          onChange={this.handleChange}\r\n          variant=\"outlined\"\r\n        />\r\n      )\r\n    } else {\r\n      return (\r\n        <Naked>\r\n          {name === 'name' || name === 'surname' || name === 'position' ? (\r\n            <FormControl>\r\n              <InputBase value={value} />\r\n            </FormControl>\r\n          ) : (\r\n              <FormControl>\r\n                <InputLabel htmlFor={name}>{label}</InputLabel>\r\n                <InputBase id={name} value={value} />\r\n              </FormControl>\r\n            )}\r\n        </Naked>\r\n      )\r\n    }\r\n  }\r\n\r\n  closeSelectOnScroll = () => true;\r\n  listenSelect = () => true;\r\n  closeSelect = () => this.setState({ isSelectOpened: false });\r\n\r\n  render() {\r\n    const { loading, newChildInput, childName, childBirthyear, nameError, yearError } = this.state;\r\n    const { user } = this.props.store;\r\n    let childrens = {};\r\n    let userInfo = user;\r\n\r\n    if (userInfo.childs) childrens = JSON.parse(userInfo.childs.replace(/\\//g, ''));\r\n\r\n    if (user.hasOwnProperty('name')) {\r\n      if (window.location.pathname.slice(3) === userInfo.id) {\r\n        userInfo = user;\r\n      } else {\r\n        userInfo = this.state.userInfo;\r\n      }\r\n    }\r\n\r\n    return (\r\n      <Paper className=\"personal\">\r\n\r\n        {!loading ? <Form id=\"personal-info\" action=\"\" method=\"POST\" onSubmit={this.handleSubmit}>\r\n\r\n          <DropdownActions userInfo={userInfo} fetchUserInfo={this.fetchUserInfo}/>\r\n\r\n          <div className=\"personal-header\">\r\n            <div className=\"personal-header__photo\">\r\n              <div style={{ background: `url(${userInfo.avatar ? userInfo.avatar : defaultAvatar}) no-repeat center/cover` }}></div>\r\n            </div>\r\n            <div className={user.id === userInfo.id ? 'personal-header__info' : null}>\r\n              {user.id === userInfo.id ? (\r\n                <Fragment>\r\n                  {this.createInput('Имя', userInfo.name, 'name')}\r\n                  {this.createInput('Фамилия', userInfo.surname, 'surname')}\r\n                  {this.createInput('Должность', userInfo.position, 'position')}\r\n                </Fragment>\r\n              ) : (\r\n                  <Fragment>\r\n                    <InputBase className='user-header' value={userInfo.name + ' ' + userInfo.surname} />\r\n                    <span className='user-position'>{this.createInput('Должность', userInfo.position, 'position')}</span>\r\n                  </Fragment>\r\n                )}\r\n\r\n              {user.id === userInfo.id ? (\r\n                <InputMask\r\n                  mask=\"+7 (999) 99-99-999\"\r\n                  value={userInfo.phone}\r\n                  onChange={this.handleChange}\r\n                >\r\n                  {() => <TextField\r\n                    label='Номер телефона'\r\n                    name='phone'\r\n                    fullWidth={true}\r\n                    margin='dense'\r\n                    InputLabelProps={{ shrink: true }}\r\n                    variant=\"outlined\"\r\n                  />}\r\n                </InputMask>) : (\r\n                  <Naked>\r\n                    <InputBase id='phone' style={{ pointerEvents: 'none', padding: 0 }} value={userInfo.phone} />\r\n                  </Naked>\r\n                )}\r\n\r\n              {user.id === userInfo.id ? (\r\n                <FormControl >\r\n                  <DatePicker\r\n                    variant='outlined'\r\n                    name=\"birthday\"\r\n                    margin='dense'\r\n                    label='Дата рождения'\r\n                    format={userInfo.admin === '1' ? 'Do MMMM YYYY' : 'Do MMMM'}\r\n                    value={this.state.selectedDate ? this.state.selectedDate : userInfo.birthday}\r\n                    fullWidth={true}\r\n                    InputLabelProps={{ shrink: true }}\r\n                    onChange={this.handleDateChange}\r\n                    aria-describedby=\"component-helper-text\"\r\n                    cancelLabel='Отмена'\r\n                  />\r\n                  <FormHelperText id=\"component-helper-text\">*Год рождения будет виден только руководству</FormHelperText>\r\n                </FormControl>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n          <div className=\"personal-section\">\r\n\r\n            {user.id !== userInfo.id && !userInfo.status && childrens.length === 0 ?\r\n            null :\r\n            <div className=\"personal-section__header\">\r\n              <Typography vazriant='h6' color='primary'>Семья</Typography>\r\n              <hr />\r\n            </div>\r\n            }\r\n\r\n            {user.id !== userInfo.id ? (\r\n              <FormControl style={{ width: '100%' }}>\r\n                <InputLabel htmlFor=\"status\">Семейное положение</InputLabel>\r\n                <Select   \r\n                  value={userInfo.status || ''}\r\n                  onOpen={this.listenSelect}\r\n                  onClose={this.closeSelectOnScroll}\r\n                  open={this.state.isSelectOpened}\r\n                  onChange={this.handleChange}\r\n                  onClick={() => this.setState({ isSelectOpened: !this.state.isSelectOpened })}\r\n                  input={\r\n                    <OutlinedInput\r\n                      labelWidth={500}\r\n                      name=\"status\"\r\n                      id=\"status\"\r\n                    />\r\n                  }         \r\n                >\r\n                  {userInfo.sex === 'женский' ?\r\n                    <MenuItem value=\"Не замужем\">Не замужем</MenuItem> :\r\n                    <MenuItem value=\"Не женат\">Не женат</MenuItem>\r\n                  }\r\n                  {userInfo.sex === 'женский' ?\r\n                    <MenuItem value=\"Замужем\">Замужем</MenuItem> :\r\n                    <MenuItem value=\"Женат\">Женат</MenuItem>\r\n                  }\r\n                  <MenuItem value=\"В гражданском браке\">В гражданском браке</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            ) : (\r\n\r\n              userInfo.status ?\r\n                <Naked>\r\n                  <FormControl>\r\n                    <InputLabel htmlFor='status'>Семейное положение</InputLabel>\r\n                    <InputBase id='status' value={userInfo.status} />\r\n                  </FormControl>\r\n                </Naked>\r\n              : null\r\n              )}\r\n          </div>\r\n          <div className=\"personal-section\">\r\n          \r\n              {user.id !== userInfo.id && childrens.length === 0 \r\n              ? null \r\n              :\r\n              <Fragment>\r\n                <div className=\"personal-section__header\">\r\n                  <Typography variant='h6' color='primary'>Дети</Typography>\r\n                  <hr />\r\n                </div>\r\n                {this.state.loadingChild ? <Loader minHeight={120} color='primary' /> :\r\n                <Childrens>\r\n                  {Object.keys(childrens).map(child =>\r\n                    <Children key={childrens[child].id}>\r\n                      <Typography variant='subtitle2'>Имя: {childrens[child].child_name} </Typography>\r\n                      <Typography variant='caption'>{childrens[child].child_birthyear} г.р.</Typography>\r\n                      {user.id !== userInfo.id  ?\r\n                        <Tooltip title=\"Удалить\" placement=\"right\"><Clear onClick={() => this.deleteChild(childrens[child].id)} /></Tooltip>\r\n                      : null}\r\n                    </Children>\r\n                  )}\r\n                </Childrens>}\r\n              </Fragment>\r\n              }\r\n\r\n            {newChildInput ? (<NewChild>\r\n              <div>\r\n                <TextField\r\n                  label='Имя'\r\n                  value={childName}\r\n                  fullWidth={true}\r\n                  name='childName'\r\n                  margin='dense'\r\n                  error={!nameError}\r\n                  InputLabelProps={{ shrink: true }}\r\n                  onChange={this.handleChild}\r\n                  variant=\"outlined\"\r\n                />\r\n                <TextField\r\n                  label='Год рождения'\r\n                  value={childBirthyear}\r\n                  fullWidth={true}\r\n                  name='childBirthyear'\r\n                  margin='dense'\r\n                  type='date'\r\n                  error={!yearError}\r\n                  InputLabelProps={{ shrink: true }}\r\n                  onChange={this.handleChild}\r\n                  variant=\"outlined\"\r\n                />\r\n              </div>\r\n              <span>\r\n                <Tooltip title=\"Добавить\" placement=\"right\">\r\n                  <AddIcon onClick={this.addChild} />\r\n                </Tooltip>\r\n                <Tooltip title=\"Отменить\" placement=\"right\">\r\n                  <Clear onClick={() => this.setState({ newChildInput: false, childBirthyear: '', childName: '', nameError: true, yearError: true })} />\r\n                </Tooltip>\r\n              </span>\r\n            </NewChild>) : null}\r\n\r\n            {user.id !== userInfo.id ? (\r\n              <ChildBtns>\r\n                <Button variant='contained' color='primary' onClick={newChildInput ? this.addChild : this.prepareChild}>Добавить</Button>\r\n              </ChildBtns>) : null}\r\n          </div>\r\n          <div className=\"personal-section\">\r\n            {user.id !== userInfo.id && !userInfo.city && !userInfo.disctrict && !userInfo.adress \r\n            ? null :\r\n            <div className=\"personal-section__header\">\r\n              <Typography variant='h6' color='primary'>Контакты</Typography>\r\n              <hr />\r\n            </div>\r\n            }\r\n\r\n            {user.id !== userInfo.id && !userInfo.city && !userInfo.disctrict && !userInfo.adress \r\n            ? null :      \r\n              <Fragment>\r\n                {this.createInput('Родной город', userInfo.city, 'city')}\r\n                {this.createInput('Области/края', userInfo.district, 'district')}\r\n                {this.createInput('Актуальный адрес', userInfo.adress, 'adress')}\r\n              </Fragment>\r\n            }\r\n\r\n          </div>\r\n          <div className=\"personal-section\">\r\n            {user.id !== userInfo.id && !userInfo.vuz && !userInfo.fakultet \r\n            ? null :\r\n            <div className=\"personal-section__header\">\r\n              <Typography variant='h6' color='primary'>Образование</Typography>\r\n              <hr />\r\n            </div>\r\n            }\r\n\r\n            {user.id !== userInfo.id && !userInfo.vuz && !userInfo.fakultet\r\n            ? null :\r\n              <Fragment>\r\n                {this.createInput('ВУЗ', userInfo.vuz, 'vuz')}\r\n                {this.createInput('Факультет', userInfo.fakultet, 'fakultet')}\r\n              </Fragment>\r\n            }\r\n\r\n          </div>\r\n          {userInfo.sex === 'мужской' ?\r\n            <div className=\"personal-section\">\r\n              {user.id !== userInfo.id  && !userInfo.army_country && !userInfo.army_type \r\n              ? null :\r\n              <div className=\"personal-section__header\">\r\n                <Typography variant='h6' color='primary'>Служба</Typography>\r\n                <hr />\r\n              </div>\r\n              }\r\n\r\n              {user.id !== userInfo.id  && !userInfo.army_country && !userInfo.army_type \r\n              ? null :\r\n                <Fragment>\r\n                  {this.createInput('Страна', userInfo.army_country, 'army_country')}\r\n                  {this.createInput('Род войск', userInfo.army_type, 'army_type')}\r\n                </Fragment>\r\n              }\r\n            </div> : null}\r\n\r\n          {user.id !== userInfo.id  ? <Btn><Button type='submit' variant='contained' color='primary' onClick={this.handleSubmit}>Обновить данные</Button></Btn> : null}\r\n        </Form> : <Loader minHeight={400} color='primary' />}\r\n      </Paper >\r\n    )\r\n  }\r\n}\r\nconst Form = styled.form`\r\n  padding-bottom: 30px;\r\n  position: relative;\r\n  label {\r\n    text-transform: lowercase;\r\n  }\r\n  .user-header {\r\n    color: #1976d2;\r\n    font-size: 20px;\r\n  }\r\n  .user-position {\r\n    display: block;\r\n    margin-top: -10px;\r\n    & > div > div {\r\n      margin: 0;\r\n      padding: 0;\r\n      & > div > input {\r\n        color: rgba(0,0,0,.54);\r\n        font-size: 14px;\r\n      }\r\n    }\r\n  }\r\n  fieldset {\r\n    border: none;\r\n  }\r\n`;\r\nconst Btn = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\nconst Children = styled.div`\r\n  width: 30%;\r\n  position: relative;\r\n  margin-bottom: 15px;\r\n  margin-right: 3%;\r\n\r\n  &:hover > svg {\r\n    display: block;\r\n  } \r\n\r\n  svg {\r\n    display: none;\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    opacity: .5;\r\n    cursor: pointer;\r\n    font-size: 20px;\r\n    &:hover {\r\n      opacity: .8;\r\n    }\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: 100%;\r\n    svg {\r\n      display: block;\r\n      font-size: 28px;\r\n    }\r\n  }\r\n`;\r\nconst Childrens = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin: 20px 0 5px;\r\n  padding-left: 15px;\r\n`;\r\nconst NewChild = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  & > div {\r\n    width: 90%;\r\n  }\r\n\r\n  svg {\r\n    opacity: .5;\r\n    cursor: pointer;\r\n    font-size: 24px;\r\n    &:hover {\r\n      opacity: .8;\r\n    }\r\n  }\r\n`;\r\nconst ChildBtns = styled.div`\r\n  margin-top: 15px;\r\n  button {\r\n    margin-right: 15px;\r\n  }\r\n  padding-left: 15px;\r\n`;\r\nconst Naked = styled.div`\r\n  width: 100%;\r\n  display: inline-block;\r\n  & > div {\r\n    display: block;\r\n    margin-bottom: 10px;\r\n    padding-left: 37px;\r\n  }\r\n  & > div > div {\r\n    display: block;\r\n    pointer-events: none;\r\n    margin-top: -5px;\r\n  }\r\n  label {\r\n    font-size: 12px;\r\n    position: relative;\r\n    text-transform: lowercase;\r\n  }\r\n  .inline-input {\r\n    display: inline-flex;\r\n    margin-left: 10px;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    & > div {\r\n      padding-left: 15px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    updateUser: (field, value) => {\r\n      dispatch({ type: 'UPDATE_USER', payload: value, field: field })\r\n    }\r\n  })\r\n)(withSnackbar(PersonalInfo));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { Fab as Fabulous } from '@material-ui/core';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nconst styles = theme => ({\r\n  fixed: {\r\n    position: 'fixed',\r\n    bottom: window.innerWidth > 600 ? theme.spacing.unit * 2 : 74,\r\n    right: theme.spacing.unit * 3,\r\n  },\r\n});\r\n\r\nfunction Fab(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <div>\r\n      <Tooltip title={props.title} aria-label={props.title}>\r\n        <Fabulous color={props.secondary ? 'secondary' : 'primary'} className={classes.fixed}>\r\n          <AddIcon />\r\n        </Fabulous>\r\n      </Tooltip>\r\n    </div>\r\n  );\r\n}\r\n\r\nFab.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(Fab);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport Select from 'react-select';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Typography, FormControlLabel, Checkbox, NoSsr, TextField, Paper, Chip, MenuItem } from '@material-ui/core';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport { emphasize } from '@material-ui/core/styles/colorManipulator';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    height: 120,\r\n    marginTop: 20,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between'\r\n  },\r\n  input: {\r\n    display: 'flex',\r\n    padding: 0,\r\n  },\r\n  valueContainer: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  chip: {\r\n    margin: `${theme.spacing.unit / 2}px ${theme.spacing.unit / 4}px`,\r\n  },\r\n  chipFocused: {\r\n    backgroundColor: emphasize(\r\n      theme.palette.type === 'light' ? theme.palette.grey[300] : theme.palette.grey[700],\r\n      0.08,\r\n    ),\r\n  },\r\n  noOptionsMessage: {\r\n    padding: `${theme.spacing.unit}px ${theme.spacing.unit * 2}px`,\r\n  },\r\n  singleValue: {\r\n    fontSize: 16,\r\n  },\r\n  placeholder: {\r\n    position: 'absolute',\r\n    left: 2,\r\n    fontSize: 16,\r\n  },\r\n  paper: {\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    marginTop: theme.spacing.unit,\r\n    left: 0,\r\n    right: 0,\r\n  }\r\n});\r\n\r\nfunction NoOptionsMessage(props) {\r\n  return (\r\n    <Typography\r\n      color=\"textSecondary\"\r\n      className={props.selectProps.classes.noOptionsMessage}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction inputComponent({ inputRef, ...props }) {\r\n  return <div ref={inputRef} {...props} />;\r\n}\r\n\r\nfunction Control(props) {\r\n  return (\r\n    <TextField\r\n      fullWidth\r\n      InputProps={{\r\n        inputComponent,\r\n        inputProps: {\r\n          className: props.selectProps.classes.input,\r\n          inputRef: props.innerRef,\r\n          children: props.children,\r\n          ...props.innerProps,\r\n        },\r\n      }}\r\n      {...props.selectProps.textFieldProps}\r\n    />\r\n  );\r\n}\r\n\r\nfunction Option(props) {\r\n  return (\r\n    <MenuItem\r\n      buttonRef={props.innerRef}\r\n      selected={props.isFocused}\r\n      component=\"div\"\r\n      style={{\r\n        fontWeight: props.isSelected ? 500 : 400,\r\n      }}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </MenuItem>\r\n  );\r\n}\r\n\r\nfunction Placeholder(props) {\r\n  return (\r\n    <Typography\r\n      color=\"textSecondary\"\r\n      className={props.selectProps.classes.placeholder}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction SingleValue(props) {\r\n  return (\r\n    <Typography className={props.selectProps.classes.singleValue} {...props.innerProps}>\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction ValueContainer(props) {\r\n  return <div className={props.selectProps.classes.valueContainer}>{props.children}</div>;\r\n}\r\n\r\nfunction MultiValue(props) {\r\n  return (\r\n    <Chip\r\n      tabIndex={-1}\r\n      label={props.children}\r\n      className={classNames(props.selectProps.classes.chip, {\r\n        [props.selectProps.classes.chipFocused]: props.isFocused,\r\n      })}\r\n      onDelete={props.removeProps.onClick}\r\n      deleteIcon={<CancelIcon {...props.removeProps} />}\r\n    />\r\n  );\r\n}\r\n\r\nfunction Menu(props) {\r\n  return (\r\n    <Paper square className={props.selectProps.classes.paper} {...props.innerProps}>\r\n      {props.children}\r\n    </Paper>\r\n  );\r\n}\r\n\r\nconst components = {\r\n  Control,\r\n  Menu,\r\n  MultiValue,\r\n  NoOptionsMessage,\r\n  Option,\r\n  Placeholder,\r\n  SingleValue,\r\n  ValueContainer,\r\n};\r\n\r\nclass IntegrationReactSelect extends React.Component {\r\n\r\n  render() {\r\n    const { classes, theme } = this.props;\r\n    \r\n    const users = this.props.users.map(user => ({\r\n      value: user.id,\r\n      label: `${user.name} ${user.surname}`,\r\n    }));\r\n\r\n    const selectStyles = {\r\n      input: base => ({\r\n        ...base,\r\n        color: theme.palette.text.primary,\r\n        '& input': {\r\n          font: 'inherit',\r\n        },\r\n      }),\r\n    };\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <NoSsr>\r\n          <Select\r\n            classes={classes}\r\n            styles={selectStyles}\r\n            textFieldProps={{\r\n              label: 'Сотрудники',\r\n              InputLabelProps: {\r\n                shrink: true,\r\n              },\r\n            }}\r\n            options={users}\r\n            components={components}\r\n            value={this.props.multi}\r\n            onChange={this.props.handleChange('multi')}\r\n            placeholder=\"Выберите сотрудников\"\r\n            isMulti\r\n          />\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox\r\n                onChange={this.props.changeImportance}\r\n                color=\"primary\"\r\n              />\r\n            }\r\n            label=\"Отметить как важную\"\r\n          />\r\n        </NoSsr>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nIntegrationReactSelect.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  theme: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(IntegrationReactSelect);","import React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { TimePicker, DatePicker } from 'material-ui-pickers';\r\n\r\nclass MaterialUIPickers extends React.Component {\r\n  render() {\r\n    return (\r\n      <Grid container justify=\"space-around\" style={{ paddingBottom: 30 }}>\r\n        <DatePicker\r\n          margin=\"normal\"\r\n          label=\"Выберите дату\"\r\n          value={this.props.selectedDate}\r\n          minDate={new Date(new Date().getTime() + 24 * 60 * 60 * 1000)}\r\n          fullWidth={true}\r\n          onChange={this.props.handleDateChange}\r\n          cancelLabel='Отмена'\r\n          emptyLabel='не выбрана дата'\r\n        />\r\n        <TimePicker\r\n          ampm={false}\r\n          margin=\"normal\"\r\n          label=\"Выберите время\"\r\n          value={this.props.selectedTime}\r\n          locale='ru'\r\n          fullWidth={true}\r\n          minutesStep={5}\r\n          onChange={this.props.handleTimeChange}\r\n          cancelLabel='Отмена'\r\n          emptyLabel='не выбрано время'\r\n        />\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MaterialUIPickers;","import React from 'react';\r\nimport { TextField } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nexport default function TextInput(props) {\r\n  return (\r\n    <TextArea>\r\n      <TextField\r\n        label=\"Поставленная задача\"\r\n        multiline\r\n        variant=\"outlined\"\r\n        name='text'\r\n        onChange={props.handleTextChange}\r\n        value={props.text}\r\n        required\r\n      />\r\n    </TextArea>\r\n  )\r\n}\r\n\r\nconst TextArea = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-top: 10px;\r\n  height: 150px;\r\n\r\n  textarea {\r\n    max-height: 130px;\r\n    &::-webkit-scrollbar {\r\n      width: 10px;\r\n    }\r\n   \r\n    &::-webkit-scrollbar-track {\r\n      background-color: #ebebeb;\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n    }\r\n  \r\n    &::-webkit-scrollbar-thumb {\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n      background: #1976d2; \r\n    }\r\n  }\r\n\r\n  & > div {\r\n    width: 100%;\r\n    & > div {\r\n      height: 100%;\r\n    }\r\n  }\r\n`;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport StepContent from '@material-ui/core/StepContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Autocomplete from './Autocomplete';\r\nimport Pickers from './Pickers';\r\nimport TextInput from './TextInput';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n  },\r\n  actionsContainer: {\r\n    marginBottom: theme.spacing.unit * 2,\r\n  },\r\n  resetContainer: {\r\n    padding: theme.spacing.unit * 3,\r\n  },\r\n});\r\n\r\nfunction getSteps() {\r\n  return ['Выберите сотрудника и важность', 'Назначьте дату и время', 'Поставьте задачу'];\r\n}\r\n\r\nfunction getStepContent(step) {\r\n  switch (step) {\r\n    case 0:\r\n      return `Вы можете выбрать одного или более сотрудников. К тому же можете установить повышенную важность задачи.`;\r\n    case 1:\r\n      return 'Выберите дату и время в соответствующих полях.';\r\n    case 2:\r\n      return `Сотрудник сможет найти поставленные ему задачи в уведомлениях.`;\r\n    default:\r\n      return 'Unknown step';\r\n  }\r\n}\r\n\r\nclass VerticalLinearStepper extends React.Component {\r\n  state = {\r\n    activeStep: 0,\r\n  };\r\n\r\n  handleNext = () => {\r\n    this.setState(state => ({\r\n      activeStep: state.activeStep + 1,\r\n    }));\r\n  };\r\n\r\n  handleBack = () => {\r\n    this.setState(state => ({\r\n      activeStep: state.activeStep - 1,\r\n    }));\r\n  };\r\n\r\n  handleReset = () => {\r\n    this.setState({\r\n      activeStep: 0,\r\n    });\r\n  };\r\n\r\n  checkDisabled = (step, multi, date, time, text) => {\r\n    if (step === 0 && multi.length !== 0) return false;\r\n    if (step === 1 && date && time) return false;\r\n    if (step === 2 && text.length > 0) return false;\r\n    \r\n    return true;\r\n  }\r\n\r\n  render() {\r\n    const { classes, users, multi, selectedTime, selectedDate, text } = this.props;\r\n    const steps = getSteps();\r\n    const { activeStep } = this.state;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <Stepper activeStep={activeStep} orientation=\"vertical\">\r\n          {steps.map((label, index) => (\r\n            <Step key={label}>\r\n              <StepLabel>{label}</StepLabel>\r\n              <StepContent>\r\n                <Typography>{getStepContent(index)}</Typography>\r\n                <div className={classes.actionsContainer}>\r\n                  <div>\r\n                    <Button\r\n                      disabled={activeStep === 0}\r\n                      onClick={this.handleBack}\r\n                      className={classes.button}\r\n                    >\r\n                      Назад\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      onClick={activeStep === steps.length - 1 ? () => {this.props.handleSubmit(); this.handleNext()} : this.handleNext}\r\n                      className={classes.button}\r\n                      disabled={this.checkDisabled(activeStep, multi, selectedDate, selectedTime, text)} \r\n                    >\r\n                      {activeStep === steps.length - 1 ? 'Финиш' : 'Дальше'}\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </StepContent>\r\n            </Step>\r\n          ))}\r\n                        \r\n        </Stepper>\r\n\r\n        {/* Контент */}\r\n        {activeStep === 0 \r\n          ? <Autocomplete \r\n              users={users} \r\n              multi={multi}\r\n              handleChange={this.props.handleChange}\r\n              changeImportance={this.props.changeImportance}\r\n            />\r\n          : activeStep === 1\r\n          ? <Pickers \r\n              selectedTime={selectedTime} \r\n              selectedDate={selectedDate}\r\n              handleDateChange={this.props.handleDateChange}\r\n              handleTimeChange={this.props.handleTimeChange}\r\n            />\r\n          : activeStep === 2\r\n          ? <TextInput\r\n              text={text}\r\n              handleTextChange={this.props.handleTextChange}\r\n            />\r\n          : null } \r\n\r\n        {activeStep === steps.length && (\r\n          <Paper square elevation={0} className={classes.resetContainer}>\r\n            <Typography>Задача успешно поставлена.</Typography>\r\n            <Button \r\n              onClick={() => {this.handleReset(); this.props.resetAll()}}\r\n              variant=\"contained\"               \r\n              color=\"primary\"\r\n              className={classes.button}\r\n            >\r\n              Поставить ещё задачу\r\n            </Button>\r\n            <Button \r\n              onClick={this.props.handleClose} \r\n              className={classes.button}\r\n            >\r\n              Закрыть\r\n            </Button>\r\n          </Paper>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nVerticalLinearStepper.propTypes = {\r\n  classes: PropTypes.object,\r\n};\r\n\r\nexport default withStyles(styles)(VerticalLinearStepper);","import React, { Component, Fragment } from 'react';\r\nimport { Paper, Typography, Tooltip } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport API from '../functions/API';\r\nimport Stepper from './Stepper';\r\nimport $ from 'jquery';\r\nimport { connect } from 'react-redux';\r\nimport { withSnackbar } from 'notistack';\r\n\r\nclass NewTask extends Component {\r\n  state = {\r\n    selectedDate: null,\r\n    selectedTime: null,\r\n    users: [],\r\n    multi: [],\r\n    text: '',\r\n    importance: 0\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    fetch(`${API}/api/user/read.php`)\r\n      .then(response => response.json())\r\n      .then(users => this.setState({ users: users.data.filter(user => Number(user.id) !== this.props.user_logged_id) }))\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  handleChange = name => value => this.setState({ [name]: value });\r\n  handleDateChange = date => this.setState({ selectedDate: date.format() });\r\n  handleTimeChange = time => this.setState({ selectedTime: time.format() });\r\n  handleTextChange = e => this.setState({ text: e.target.value })\r\n  changeImportance = () => this.setState({ importance: !this.state.importance });\r\n  resetAll = () => {\r\n    this.setState({\r\n      selectedDate: new Date(),\r\n      selectedTime: new Date(),\r\n      multi: [],\r\n      text: '',\r\n      importance: 0\r\n    });\r\n  }\r\n\r\n  handleSubmit = () => {\r\n    const { multi, selectedTime, selectedDate, text, importance } = this.state;\r\n    const formData = new FormData();\r\n    const self = this;\r\n    let forWho = [];\r\n    let date = new Date();\r\n    multi.forEach(user => forWho.push(`for${user.value}`));\r\n\r\n    formData.append('from', this.props.user_logged_id);\r\n    formData.append('date', date.toLocaleDateString());\r\n    formData.append('for', forWho.join(','));\r\n    formData.append('time', `${date.getHours() < 10 ? '0' + date.getHours() : date.getHours()}:${date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()}`);\r\n    formData.append('until_date', selectedDate.slice(0, 10));\r\n    formData.append('text', text);\r\n    formData.append('until_time', selectedTime.slice(11, 16));\r\n    formData.append('importance', importance ? '1' : '0');\r\n    formData.append('created_at', new Date().getTime());\r\n    \r\n    $.ajax({\r\n      url: `${API}/api/tasks/add.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: res => {\r\n        console.log(res);\r\n        fetch(`${API}/api/tasks/read.php?id=${this.props.user_logged_id}`)\r\n          .then(response => response.json())\r\n          .then(tasks => self.props.onAddNewTask(tasks.data))\r\n          .then(() => self.props.enqueueSnackbar('Задача была поставлена', { variant: 'success' }))\r\n          .catch(err => console.log(err))\r\n      },\r\n      error: err => {\r\n        console.log(err);\r\n        self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' })\r\n      }\r\n    });\r\n  }\r\n  \r\n  render() {\r\n    const { users, multi, selectedTime, selectedDate, text } = this.state;\r\n\r\n    return (\r\n      <Fragment>\r\n        <Wrapper>\r\n          <Paper>\r\n            <span className='closeNewTask' onClick={this.props.handleClose}>\r\n              <Tooltip title=\"Закрыть\" placement=\"left\"><CloseIcon /></Tooltip>\r\n            </span>\r\n            <Typography variant='h5'>Новая Задача</Typography>\r\n            <Stepper\r\n              users={users}\r\n              multi={multi}\r\n              text={text}\r\n              selectedTime={selectedTime}\r\n              selectedDate={selectedDate}\r\n              handleChange={this.handleChange}\r\n              handleTextChange={this.handleTextChange}\r\n              handleDateChange={this.handleDateChange}\r\n              handleTimeChange={this.handleTimeChange}\r\n              changeImportance={this.changeImportance}\r\n              resetAll={this.resetAll}\r\n              handleClose={this.props.handleClose}\r\n              handleSubmit={this.handleSubmit}\r\n            />\r\n          </Paper>\r\n        </Wrapper>\r\n        {window.innerWidth >= 600 ? <Backdrop onClick={this.props.handleClose} /> : null}\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  max-width: 600px;\r\n  min-height: 300px;\r\n  height: fit-content;\r\n  margin: auto;\r\n  background: #ffffff;\r\n  border-radius: 10px;\r\n  outline: none;\r\n  z-index: 10;\r\n\r\n  .listFor {\r\n    max-height: 220px;\r\n    margin-top: 20px;\r\n    overflow: auto;\r\n  }\r\n  .listFor::-webkit-scrollbar {\r\n    width: 10px;\r\n  }\r\n  .listFor::-webkit-scrollbar-track {\r\n    background-color: #ebebeb;\r\n    -webkit-border-radius: 10px;\r\n    border-radius: 10px;\r\n  }\r\n  .listFor::-webkit-scrollbar-thumb {\r\n    -webkit-border-radius: 10px;\r\n    border-radius: 10px;\r\n    background: #1976d2; \r\n  }\r\n\r\n  & > div {\r\n    height: fit-content;\r\n    padding: 20px 30px;\r\n  }\r\n   \r\n  .closeNewTask svg {\r\n    font-size: 30px;\r\n    color: #1976d2;\r\n    opacity: .8;\r\n    cursor: pointer;\r\n    position: absolute;\r\n    right: 20px;\r\n    top: 20px;\r\n\r\n    :hover {\r\n      opacity: .8;\r\n      transition: .37s ease;\r\n    }\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    top: 0;\r\n    max-width: 100%;\r\n    border-radius: unset;\r\n    height: calc(100vh - 55px);\r\n    margin: unset;\r\n    box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\r\n    & > div {\r\n      padding: 20px 15px;\r\n      box-shadow: unset;\r\n      & > div {\r\n        > div:first-child {\r\n          padding: 20px 5px;\r\n        }\r\n      }\r\n    }\r\n    .closeNewTask svg {\r\n      font-size: 32px;\r\n      right: 15px;\r\n    } \r\n  }\r\n`;\r\n\r\nconst Backdrop = styled.div`\r\n  position: absolute;\r\n  top: 0; bottom: 0;\r\n  left: 0; right: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 5;\r\n  background: rgba(0,0,0,.17);\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    onAddNewTask: (task) => {\r\n      dispatch({ type: 'ADD_TASK', payload: task })\r\n    }\r\n  })\r\n)(withSnackbar(NewTask));","import React from 'react';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Delete from '@material-ui/icons/Delete';\r\nimport { Typography, ExpansionPanelDetails, ExpansionPanelSummary, ExpansionPanel, Tooltip, Button } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport classNames from 'classnames';\r\nimport moment from 'moment';\r\nimport $ from 'jquery';\r\nimport API from '../functions/API';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Task extends React.Component {\r\n\r\n  getUserNames = (users) => {\r\n    let usersId = users.split(',');\r\n    let result = 'Для: ';  \r\n\r\n    usersId.forEach(id => {\r\n      if (Number(id.slice(3)) === this.props.user_logged_id) return result += \"Вас  \";\r\n      result += `${this.props.users.find(user => user.id === id.slice(3)).name} `;\r\n      result += `${this.props.users.find(user => user.id === id.slice(3)).surname}, `;\r\n    })\r\n    return result;\r\n  }\r\n\r\n  getAdresant = (id) => {\r\n    let initial = \"От: \";\r\n    // eslint-disable-next-line\r\n    if (Number(id) === this.props.user_logged_id) return initial += 'Вас';\r\n\r\n    if (this.props.users.length > 0) {\r\n      initial += this.props.users.find(user => user.id === this.props.task.from).name;\r\n      initial += ` ${this.props.users.find(user => user.id === this.props.task.from).surname}`;\r\n      return initial;\r\n    }\r\n  }\r\n\r\n  openTask(e, id, readed) {\r\n    const self = this;\r\n    if (!readed) {\r\n      e.stopPropagation();\r\n      const formData = new FormData();\r\n      formData.append('id', id);\r\n      $.ajax({\r\n        url: `${API}/api/tasks/mark_as_read.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: res => {\r\n          console.log(res);\r\n          self.props.markTask(id);\r\n        }\r\n      }); \r\n    }\r\n  }\r\n\r\n  render() {\r\n    const now = moment(new Date()); //todays date\r\n    const end = moment(this.props.task.until_date); // another date\r\n    const difference = moment.duration(end.diff(now))._milliseconds;\r\n\r\n    return (\r\n      <ExpansionPanel onClick={e => this.openTask(e, this.props.task.id, this.props.task.readed)}>\r\n        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n          <Typography variant='caption'>\r\n            <Typography variant='subtitle2' style={styles.flex}>\r\n            {this.props.task.from === this.props.user_logged_id.toString() ? 'Поставлено: ' : 'Получено: ' }\r\n            {this.props.task.date} в {`${this.props.task.time} `}\r\n              {this.props.task.importance === '1' ? <Tooltip title=\"Отмечено как 'Важное'\" placement=\"top-start\"><Icon><WarningIcon /></Icon></Tooltip> : null}\r\n            </Typography>\r\n            {this.getAdresant(this.props.task.from)}\r\n            <TaskStatus>\r\n              <Typography variant='caption' className={classNames({\r\n                'task-completed': this.props.task.status === '1',\r\n                'task-doing': this.props.task.status === '0',\r\n                'task-late': difference < 0\r\n              })}>\r\n                {this.props.task.status === '1' && difference > 0 ? \"Выполнена\" :\r\n                  this.props.task.status === '0' && difference > 0 ? \"Выполняется\" :\r\n                    \"Просрочена\"}\r\n              </Typography>\r\n            </TaskStatus>\r\n          </Typography>\r\n\r\n          {this.props.task.from === this.props.user_logged_id.toString() ?     \r\n            <DeleteIcon onClick={(e) => this.props.handleConfirm(e, this.props.task.id)}>\r\n              <Tooltip title=\"Удалить\" placement=\"left\">\r\n                <Delete />\r\n              </Tooltip>\r\n            </DeleteIcon>\r\n          : null }\r\n\r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails style={styles.details}>\r\n          <Typography variant='h6'> {this.props.task.text}  </Typography>\r\n          <Footer>\r\n            <div>\r\n              <Typography variant='caption'>{this.props.users.length > 0 ? this.getUserNames(this.props.task.for).slice(0, -2) : null}</Typography>\r\n              <Typography variant='subtitle2'>Выполнить до: {this.props.task.until_date.split('-').reverse().join('.')}, {this.props.task.until_time}</Typography>\r\n            </div>\r\n    \r\n            {this.props.task.status === '0' && this.props.task.for.includes(`for${this.props.user_logged_id}`) ?\r\n              difference < 0 ?\r\n                <Tooltip title=\"Нельзя выполнить просроченную задачу\" placement=\"top-start\" leaveDelay={200}>\r\n                  <span><Button disabled={true} variant='contained' color='primary'>Выполнить</Button></span>\r\n                </Tooltip> :\r\n                <Button\r\n                  onClick={() => this.props.handleCompleted(this.props.task.id)}\r\n                  variant='contained'\r\n                  color='primary'\r\n                >\r\n                  Выполнить</Button>\r\n              : null}\r\n          </Footer>\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n    )\r\n  }\r\n}\r\nconst styles = {\r\n  flex: {\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  },\r\n  details: {\r\n    flexDirection: 'column'\r\n  }\r\n}\r\nconst Icon = styled.div`\r\n  svg {\r\n    color: rgba(0,0,0,.15) !important;\r\n    margin-left: 8px;\r\n    font-size: 22px;\r\n  }\r\n`;\r\nconst DeleteIcon = styled.span`\r\n  svg {\r\n    font-size: 32px;\r\n    color: rgba(0,0,0,0.54);\r\n    right: 55px;\r\n    padding: 5px;\r\n    top: 0;\r\n    bottom: 0;\r\n    margin: auto;\r\n    position: absolute;\r\n  }\r\n`;\r\nconst Footer = styled.div`\r\n  margin-top: 30px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\nconst TaskStatus = styled.span`\r\n  .task-completed {\r\n    color: darkgreen;\r\n  }\r\n  .task-doing {\r\n    color: darkblue;\r\n  }\r\n  .task-late {\r\n    color: darkred;\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({\r\n    store: state\r\n  }),\r\n  dispatch => ({\r\n    markTask: (task) => {\r\n      dispatch({ type: 'READED_TASK', payload: task})\r\n    }     \r\n  })\r\n)(Task);","import React, { Fragment } from 'react';\r\nimport { Paper, Typography, Button } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\nimport styled from 'styled-components';\r\n\r\nexport default function ConfirmDelete(props) {\r\n  return (\r\n    <Fragment>\r\n      <Wrapper>\r\n        <Paper>\r\n          <Icon onClick={props.handleClose}>\r\n            <CloseIcon />\r\n          </Icon>\r\n          <Typography variant='body1'>{`Вы уверены, что хотите удалить ${props.name}?`}</Typography>\r\n          <Typography variant='caption'>Вся информация будет удалена безвозвратно.</Typography>\r\n          <ButtonContainer>\r\n            <Button variant='contained' color='secondary' onClick={props.handleDelete}>Удалить</Button>\r\n            <Button variant='text' color='default' onClick={props.handleClose}>Отмена</Button>\r\n          </ButtonContainer>\r\n        </Paper>\r\n        \r\n      </Wrapper>\r\n      <Backdrop onClick={props.handleClose} />\r\n    </Fragment>\r\n  )\r\n}\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  height: 200px;\r\n  width: 400px;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n  outline: none;\r\n  z-index: 1000;\r\n  & > div {\r\n    height: 100%;\r\n    position: relative;\r\n    display: flex;\r\n    padding: 30px;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: 95%;\r\n  }\r\n`;\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  margin-top: 30px;\r\n  button {\r\n    margin-right: 25px;\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  svg {\r\n    cursor: pointer;\r\n    color: rgba(0,0,0,.54);\r\n    position: absolute;\r\n    right: 16px;\r\n    top: 16px;\r\n  }\r\n`\r\nconst Backdrop = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  top: 0;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  background: rgba(0,0,0,.37);\r\n`;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nexport default function ResponsiveHeader(props) {\r\n  return (\r\n    <Wrapper>\r\n      <Typography variant='h6'>{props.title}</Typography>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24); \r\n  height: 80px;\r\n  padding: 36px 20px 15px;\r\n  font-size: 24px;\r\n  background: #fff;\r\n`;","import React, { Component, Fragment } from 'react';\r\nimport { Paper, Typography, Button } from '@material-ui/core';\r\nimport Fab from '../Fab/Fab';\r\nimport Modal from '../Modal/Modal';\r\nimport NewTask from './NewTask';\r\nimport styled from 'styled-components';\r\nimport API from '../functions/API';\r\nimport Task from './Task';\r\nimport $ from 'jquery';\r\nimport { connect } from 'react-redux';\r\nimport ConfirmDelete from './ConfirmDelete';\r\nimport Loader from '../Loader/Loader';\r\nimport { withSnackbar } from 'notistack';\r\nimport ResponsiveHeader from '../ResponsiveHeader/ResponsiveHeader';\r\n\r\nclass Tasks extends Component {\r\n  state = {\r\n    open: false,\r\n    confirm: false,\r\n    preparedToDelete: null,\r\n    tasks: [],\r\n    initial: [],\r\n    users: [],\r\n    disabledButton: 1,\r\n    loading: true\r\n  }\r\n  componentDidMount = () => {\r\n    fetch(`${API}/api/tasks/read.php?id=${this.props.user_logged_id}`)\r\n      .then(response => response.json())\r\n      .then(tasks => this.props.getTasks(tasks.data))\r\n      .catch(err => console.log(err))\r\n\r\n    fetch(`${API}/api/user/read.php`)\r\n      .then(response => response.json())\r\n      .then(users => this.setState({ users: users.data }))\r\n      .then(() => this.setState({ loading: false }))\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  handleOpen = (e) => this.setState({ open: true });\r\n  handleConfirm = (e,id) => {\r\n    e.stopPropagation();\r\n    this.setState({ confirm: true, preparedToDelete: id });\r\n  }\r\n  handleClose = () => this.setState({ open: false, confirm: false, preparedToDelete: null });\r\n\r\n  handleCompleted = (id) => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    let date = new Date();\r\n    this.setState({ loading: true })\r\n    const done_date = date.toLocaleDateString();\r\n    const done_time = `${date.getHours() < 10 ? '0' + date.getHours() : date.getHours()}:${date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()}`;\r\n\r\n    formData.append('id', id);\r\n    formData.append('done_date', done_date);\r\n    formData.append('done_time', done_time);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/tasks/complete.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: res => {\r\n        console.log(res);\r\n        fetch(`${API}/api/tasks/read.php?id=${self.props.user_logged_id}`)\r\n          .then(response => response.json())\r\n          .then(tasks => self.setState({ tasks: tasks.data, initial: tasks.data }))\r\n          .then(() => self.props.enqueueSnackbar('Задача отмечена как \"Выполненная\"', { variant: 'success' }))\r\n          .then(() => self.props.markAsCompleted(self.state.tasks))\r\n          .then(() => this.setState({ loading: false }))\r\n          .catch(err => console.log(err))\r\n      },\r\n      error: err => {\r\n        console.log(err);\r\n        self.props.enqueueSnackbar('Что-то пошло не так, попробуйте снова', { variant: 'error' })\r\n      }\r\n    });\r\n  }\r\n\r\n  handleFilter = (id, filter) => {\r\n    this.setState({ disabledButton: id });\r\n    let filtered = this.state.initial;\r\n\r\n    if (filter === 'initial') this.props.onFilter(this.state.initial);\r\n    if (filter === 'transfered') {\r\n      filtered = filtered.filter(item => Number(item.from) === this.props.user_logged_id);\r\n      this.props.onFilter(filtered);\r\n    }\r\n    if (filter === 'completed') {\r\n      filtered = filtered.filter(item => item.status === '1');\r\n      this.props.onFilter(filtered);\r\n    }\r\n  }\r\n\r\n  handleDelete = () => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    this.setState({ loading: true })\r\n    formData.append('id', this.state.preparedToDelete);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/tasks/delete.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: res => {\r\n        console.log(res);\r\n        fetch(`${API}/api/tasks/read.php?id=${self.props.user_logged_id}`)\r\n          .then(response => response.json())\r\n          .then(tasks => self.setState({ tasks: tasks.data || [], initial: tasks.data || [] }))\r\n          .then(() => self.props.enqueueSnackbar('Задача успешно была удалена', { variant: 'info' }))\r\n          .then(() => self.props.onDeleteTask(self.state.preparedToDelete))\r\n          .then(() => self.handleClose())\r\n          .then(() => this.setState({ loading: false }))\r\n          .catch(err => console.log(err))\r\n      },\r\n      error: err => {\r\n        console.log(err);\r\n        self.props.enqueueSnackbar('Что-то пошло не так, попробуйте снова', { variant: 'error' })\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { open, users, disabledButton } = this.state;\r\n\r\n    if (this.state.initial.length === 0) {\r\n      setTimeout(() => this.setState({ initial: this.props.store.tasks, tasks: this.props.store.tasks }), 0);\r\n    }\r\n\r\n    return (\r\n      <Wrapper> \r\n        <Paper>\r\n          {window.innerWidth < 600 ? <ResponsiveHeader title='Задачи' /> : null}\r\n          {!this.state.loading ?\r\n            <Fragment>\r\n              <Filters>\r\n                <Button\r\n                  onClick={() => this.handleFilter(1, 'initial')}\r\n                  variant={disabledButton !== 1 ? 'contained' : 'text'}\r\n                  disabled={disabledButton === 1 ? true : false}>Все задачи</Button>\r\n                <Button\r\n                  onClick={() => this.handleFilter(2, 'transfered')}\r\n                  variant={disabledButton !== 2 ? 'contained' : 'text'}\r\n                  disabled={disabledButton === 2 ? true : false}\r\n                >\r\n                  Поставленные\r\n            </Button>\r\n                <Button\r\n                  onClick={() => this.handleFilter(3, 'completed')}\r\n                  variant={disabledButton !== 3 ? 'contained' : 'text'}\r\n                  disabled={disabledButton === 3 ? true : false}\r\n                >\r\n                  Выполненные\r\n            </Button>\r\n              </Filters>\r\n              {this.props.store.tasks.length > 0\r\n                ?\r\n                this.props.store.tasks.map(task =>\r\n                  <Task\r\n                    key={task.id}\r\n                    task={task}\r\n                    users={users}\r\n                    user_logged_id={this.props.user_logged_id}\r\n                    handleCompleted={this.handleCompleted}\r\n                    handleConfirm={this.handleConfirm.bind(this)}\r\n                  />)\r\n                :\r\n                <Typography className='no-tasks' variant='caption'>нет задач</Typography>}\r\n            </Fragment>\r\n            : <Loader minHeight={300} color='primary' />}\r\n        </Paper>\r\n\r\n\r\n        {/* Button to add task */}\r\n        {this.props.store.user.length > 0 && this.props.store.user.admin === '1' ?\r\n        <span onClick={this.handleOpen}><Fab title='Добавить задачу' /></span> : null}\r\n\r\n        {/* Add new task modal */}\r\n        <Modal\r\n          open={open}\r\n          handleClose={this.handleClose.bind(this)}\r\n          component={\r\n            <NewTask\r\n              handleClose={this.handleClose.bind(this)}\r\n              user_logged_id={this.props.user_logged_id}\r\n            />}\r\n        />\r\n\r\n        {/* Confirm delete modal */}\r\n        <Modal\r\n          open={this.state.confirm}\r\n          handleClose={this.handleClose.bind(this)}\r\n          component={<ConfirmDelete\r\n            handleDelete={this.handleDelete}\r\n            handleClose={this.handleClose.bind(this)}\r\n            name='задачу'\r\n          />}\r\n        />\r\n      </Wrapper>\r\n    )\r\n  }\r\n}\r\nconst Wrapper = styled.div`\r\n  .no-tasks {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    opacity: .37;\r\n    height: 300px;\r\n    font-size: 20px;\r\n  }\r\n`;\r\nconst Filters = styled.div`\r\n  height: 60px;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  button {\r\n    width: 33.3%;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    height: 45px;\r\n      \r\n    button {\r\n      > span {\r\n        font-size: 10px;\r\n        color: #757575;\r\n      }\r\n    }\r\n    button:disabled {\r\n      > span {\r\n        font-size: 12px;\r\n        color: #232323;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({\r\n    store: state\r\n  }),\r\n  dispatch => ({\r\n    markAsCompleted: (tasks) => {\r\n      dispatch({ type: 'MARK_COMPLETED', payload: tasks })\r\n    },\r\n    onDeleteTask: (task) => {\r\n      dispatch({ type: 'DELETE_TASK', payload: task })\r\n    },\r\n    onFilter: (tasks) => {\r\n      dispatch({ type: 'FILTER_TASKS', payload: tasks })\r\n    },\r\n    getTasks: (tasks) => {\r\n      dispatch({ type: 'FETCH_TASKS', payload: tasks })\r\n    }\r\n  })\r\n)(withSnackbar(Tasks));","import React, { Fragment } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Checkbox, Button, FormControlLabel, Typography, TextField, Tooltip } from '@material-ui/core';\r\nimport defaultAvatar from '../img/photos/images.png';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { connect } from 'react-redux';\r\n\r\nfunction NewNews({ submitNews, closeNews, newNewsTopic, handleChange, invalidTopic, invalidText, newNewsText, newNewsImportance, changeImportance, store: { user }}) {\r\n  let avatar = user.avatar;\r\n  return (\r\n    <Fragment>\r\n      <Container>\r\n        <Header>\r\n          <Typography variant='button'>Новая новость</Typography> \r\n\r\n          <Tooltip placement='left' title='Закрыть'>\r\n            <Icon><CloseIcon onClick={closeNews} /></Icon>\r\n          </Tooltip>\r\n\r\n        </Header>\r\n        <Body>\r\n          <form action=\"\" method=\"POST\" onSubmit={submitNews}>\r\n            <Topic>\r\n              {user.avatar === ''\r\n                ? <div className='image' alt={`${user.name} ${user.surname}`} style={{ background: `url(${defaultAvatar}) no-repeat center/cover` }} />\r\n                : <div className='image' alt={`${user.name} ${user.surname}`} style={{ background: `url(${avatar}) no-repeat center/cover` }} />\r\n              }\r\n              <TextField\r\n                label=\"Заголовок\"\r\n                value={newNewsTopic}\r\n                onChange={handleChange}\r\n                error={invalidTopic}\r\n                variant=\"outlined\"\r\n                name='newNewsTopic'\r\n                type='text'\r\n                required\r\n              />\r\n            </Topic>\r\n            <TextArea>\r\n              <TextField\r\n                label=\"Текст новости\"\r\n                multiline\r\n                variant=\"outlined\"\r\n                name='newNewsText'\r\n                error={invalidText}\r\n                onChange={handleChange}\r\n                value={newNewsText}\r\n                required\r\n              />\r\n            </TextArea>\r\n            <Footer>\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    checked={newNewsImportance}\r\n                    onChange={changeImportance}\r\n                    color=\"primary\"\r\n                  />\r\n                }\r\n                label=\"Отметить как важное\"\r\n              />\r\n              <Button onClick={submitNews} variant='contained' color='primary'>{window.innerWidth > 600 ? 'Добавить новость' : <AddIcon />}</Button>\r\n            </Footer>\r\n          </form>\r\n        </Body>\r\n      </Container>\r\n      <Wrapper onClick={closeNews}></Wrapper>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  background: rgba(0,0,0, .5);\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  top: 0;\r\n  z-index: 30;\r\n`;\r\nconst Container = styled.div`\r\n  background: #ffffff;\r\n  width: 600px;\r\n  position: fixed;\r\n  top: 150px;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  border-radius: 10px;\r\n  z-index: 37;\r\n  box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\r\n\r\n  .close {\r\n    top: -5px;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: 100%;\r\n    top: 0;\r\n    bottom: 0;\r\n    box-shadow: unset;\r\n    border-radius: 0;\r\n    padding-top: 10px;\r\n  }\r\n`;\r\nconst Header = styled.div`\r\n  display: flex;\r\n  height: 50px;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\nconst Body = styled.div`\r\n  .image {\r\n    width: 56px;\r\n    height: 56px;\r\n    border-radius: 50%;\r\n    display: inline-block;\r\n  }\r\n  padding: 0 25px;\r\n  @media all and (max-width: 600px) {\r\n    .image {\r\n      display: none;\r\n    }\r\n    padding: 0 15px;\r\n  }\r\n`;\r\nconst Footer = styled.div`\r\n  display: flex;\r\n  height: 90px;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 85%;\r\n  margin-left: 15%;\r\n  @media all and (max-width: 600px) {\r\n    width: 100%;\r\n    margin-left: 0;\r\n  }\r\n`;\r\nconst Topic = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-top: 5px;\r\n\r\n  & > div {\r\n    width: 85%;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    & > div {\r\n      width: 100%;\r\n    }\r\n  }\r\n`;\r\nconst TextArea = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-top: 10px;\r\n  height: 150px;\r\n\r\n  textarea {\r\n    max-height: 130px;\r\n    &::-webkit-scrollbar {\r\n      width: 10px;\r\n    }\r\n   \r\n    &::-webkit-scrollbar-track {\r\n      background-color: #ebebeb;\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n    }\r\n  \r\n    &::-webkit-scrollbar-thumb {\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n      background: #1976d2; \r\n    }\r\n  }\r\n\r\n  & > div {\r\n    width: 85%;\r\n    & > div {\r\n      height: 100%;\r\n    }\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    & > div {\r\n      width: 100%;\r\n    }\r\n    height: 250px;\r\n    textarea {\r\n      max-height: 230px;\r\n    }\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  cursor: pointer;\r\n  position: absolute;\r\n  top: 15px;\r\n  right: 20px;\r\n  svg {\r\n    font-size: 32px;\r\n    color: #1976d2;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    right: 15px;\r\n  }\r\n`;\r\n\r\nexport default connect(state => ({ store: state }))(NewNews);","import React from 'react';\r\nimport { Paper, Typography, Button } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\nimport styled from 'styled-components';\r\n\r\nexport default function ConfirmDelete(props) {\r\n  return (\r\n    <Wrapper>\r\n      <Paper>\r\n        <Icon onClick={props.closeNews}>\r\n          <CloseIcon />\r\n        </Icon>\r\n        <Typography variant='body1'>Вы уверены, что хотите удалить новость?</Typography>\r\n        <Typography variant='caption'>Вся информация по новости будет удалена безвозвратно.</Typography>\r\n        <ButtonContainer>\r\n          <Button variant='contained' color='secondary' onClick={props.removeNews}>Удалить</Button>\r\n          <Button variant='text' color='default' onClick={props.closeNews}>Отмена</Button>\r\n        </ButtonContainer>\r\n      </Paper>\r\n      <Dialogue />\r\n    </Wrapper>\r\n  )\r\n}\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  height: 200px;\r\n  width: 400px;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n  outline: none;\r\n  & > div {\r\n    height: 100%;\r\n    position: relative;\r\n    display: flex;\r\n    padding: 30px;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    z-index: 10;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: 100%;\r\n  }\r\n`;\r\nconst Dialogue = styled.section`\r\n  position: fixed !important;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  background: rgba(0,0,0,0.54);\r\n  width: 100vw;\r\n  height: 100vh !important;\r\n  z-index: 5;\r\n`;\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  margin-top: 30px;\r\n  button {\r\n    margin-right: 25px;\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  svg {\r\n    cursor: pointer;\r\n    color: rgba(0,0,0,.54);\r\n    position: absolute;\r\n    right: 16px;\r\n    top: 16px;\r\n  }\r\n`","import React, { Component, Fragment } from 'react';\r\nimport styled from 'styled-components';\r\nimport $ from 'jquery';\r\nimport SingleNews from './SingleNews';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport Fab from './Fab/Fab';\r\nimport NewNews from './News/NewNews';\r\nimport API from './functions/API';\r\nimport { Paper, Button, Typography, TextField, Tooltip } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\nimport defaultAvatar from './img/photos/images.png';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Loader from './Loader/Loader';\r\nimport ConfirmDelete from './News/ConfirmDelete';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport { withSnackbar } from 'notistack';\r\nimport ResponsiveHeader from './ResponsiveHeader/ResponsiveHeader';\r\n\r\nclass News extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      newNews: false,\r\n      newNewsTopic: '',\r\n      newNewsText: '',\r\n      newNewsImportance: false,\r\n      editing: '',\r\n      singleNews: false,\r\n      singleNewsData: [],\r\n      singleNewsId: '',\r\n      invalidText: false,\r\n      invalidTopic: false,\r\n      loading: true,\r\n      confirmDelete: false,\r\n      preparedNewsId: ''\r\n    }\r\n\r\n    this.addLike = this.addLike.bind(this);\r\n    this.reloadComponent = this.reloadComponent.bind(this);\r\n    this.removeLike = this.removeLike.bind(this);\r\n    this.addNews = this.addNews.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.submitNews = this.submitNews.bind(this);\r\n    this.removeNews = this.removeNews.bind(this);\r\n    this.editNews = this.editNews.bind(this);\r\n    this.prepareNews = this.prepareNews.bind(this);\r\n    this.showNews = this.showNews.bind(this);\r\n    this.changeImportance = this.changeImportance.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.reloadComponent();\r\n  }\r\n\r\n  async reloadComponent(action) {\r\n    if (!action) await this.setState({ loading: true })\r\n    await this.setState({ loading: false })\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n    this.setState({ invalidText: false, invalidTopic: false });\r\n  }\r\n\r\n  // добавляем лайк\r\n  addLike = (id, e) => {\r\n    const { user } = this.props.store;\r\n    var self = this;\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const formData = new FormData();\r\n    formData.append('id', id);\r\n    formData.append('liked_by', user.id);\r\n    formData.append('created_at', new Date().getTime());\r\n    const actions = document.getElementById('actions');\r\n    actions.style.pointerEvents = 'none';\r\n\r\n    $.ajax({\r\n      url: `${API}/api/news/addlike.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function () {\r\n        self.reloadComponent('like');\r\n        setTimeout(() => actions.style.pointerEvents = 'all', 500)\r\n      }\r\n    });\r\n  }\r\n\r\n  // убираем лайк\r\n  removeLike = (id, e) => {\r\n    const { user } = this.props.store;\r\n    const self = this;\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const actions = document.getElementById('actions');\r\n    actions.style.pointerEvents = 'none';\r\n\r\n    const formData = new FormData();\r\n    formData.append('id', id);\r\n    formData.append('liked_by', user.id);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/news/removelike.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function () {\r\n        self.reloadComponent('like');\r\n        self.setState({ newNews: false });\r\n        setTimeout(() => actions.style.pointerEvents = 'all', 500)\r\n      }\r\n    });\r\n  }\r\n\r\n  submitNews = (e) => {\r\n    const { user } = this.props.store;\r\n    var self = this;\r\n    e.preventDefault();\r\n    if (this.state.newNewsTopic !== '' && this.state.newNewsText !== '') {\r\n      const formData = new FormData();\r\n\r\n      formData.append('author', `${user.name} ${user.surname}`);\r\n      formData.append('title', this.state.newNewsTopic);\r\n      formData.append('text', this.state.newNewsText);\r\n      formData.append('date', new Date().toJSON().slice(0, 10).replace(/-/g, '.'));\r\n      formData.append('created_at', new Date().getTime());\r\n      formData.append('importance', this.state.newNewsImportance ? 1 : 0);\r\n      formData.append('author_id', user.id);\r\n\r\n      $.ajax({\r\n        url: `${API}/api/news/submitnews.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: function () {\r\n          self.reloadComponent();\r\n          self.setState({ \r\n            newNews: !self.state.newNews, \r\n            newNewsText: '', \r\n            newNewsTopic: ''\r\n          });\r\n          self.props.enqueueSnackbar('Добавлена новая новость', { variant: 'success' })\r\n        },\r\n        error: function () {\r\n          self.props.enqueueSnackbar('Не удалось добавить новость', { variant: 'error' })\r\n        }\r\n      });\r\n\r\n    } else {\r\n      self.props.enqueueSnackbar('Необходимо заполнить все поля', { variant: 'warning' })\r\n      if (self.state.newNewsTopic === '') this.setState({ invalidTopic: true });\r\n      if (self.state.newNewsText === '') this.setState({ invalidText: true });\r\n    }\r\n  }\r\n\r\n  changeImportance = () => this.setState({ newNewsImportance: !this.state.newNewsImportance });\r\n\r\n  removeNews = () => {\r\n    this.setState({ editing: true });\r\n    var self = this;\r\n    const formData = new FormData();\r\n    formData.append('id', this.state.preparedNewsId);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/news/delete.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function() {\r\n        self.reloadComponent();\r\n        self.setState({ editing: '', preparedNewsId: '', confirmDelete: false  });\r\n        self.props.enqueueSnackbar('Новость была удалена', { variant: 'info' });\r\n      },\r\n      error: function() {\r\n        self.props.enqueueSnackbar('Не удалось удалить новость', { variant: 'error' });\r\n      }\r\n    });\r\n  };\r\n\r\n  prepareNews = id => {\r\n    const { news } = this.props.store;\r\n    let title = news.find(news => news.id === id).title;\r\n    let text = news.find(news => news.id === id).text;\r\n    this.setState({ editing: id, newNewsTopic: title, newNewsText: text });\r\n  }\r\n\r\n  editNews = (e, id) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    var self = this;\r\n\r\n    if (this.state.newNewsTopic !== '' && this.state.newNewsText !== '') {\r\n      const formData = new FormData();\r\n      formData.append('id', id);\r\n      formData.append('title', this.state.newNewsTopic);\r\n      formData.append('text', this.state.newNewsText);\r\n\r\n      $.ajax({\r\n        url: `${API}/api/news/edit.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: function() {\r\n          self.reloadComponent();\r\n          setTimeout(() => self.setState({ editing: '' }), 200);\r\n          self.props.enqueueSnackbar('Новость была изменена', { variant: 'info' });\r\n        },\r\n        error: function () {\r\n          self.props.enqueueSnackbar('Не удалось изменить новость', { variant: 'error' });\r\n        }\r\n      });\r\n    } else {\r\n      self.props.enqueueSnackbar('Нужно заполнить всё поля', { variant: 'warning' });\r\n      if (self.state.newNewsTopic === '') this.setState({ invalidTopic: true });\r\n      if (self.state.newNewsText === '') this.setState({ invalidText: true });\r\n    }\r\n  }\r\n\r\n  addNews = () => this.setState({ editing: '', newNews: !this.state.newNews, newNewsText: '', newNewsTopic: '' });\r\n\r\n  showNews(id) {\r\n    setTimeout(() => {\r\n      if (this.state.editing === '') this.setState({ singleNews: true, singleNewsId: id });\r\n    }, 100)\r\n  }\r\n\r\n  // закрываем новость \r\n  closeNews = () => {\r\n    this.setState({ \r\n      singleNews: false, \r\n      singleNewsId: '', \r\n      newNews: false, \r\n      likedBy: [], \r\n      preparedNewsId: '',\r\n      confirmDelete: false\r\n    });\r\n    this.reloadComponent('close');\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | находим правильную форму склонения лайков \r\n  |--------------------------------------------------\r\n  */\r\n getNoun = number => {\r\n    number = Math.abs(number);\r\n    number %= 100;\r\n    if (number >= 5 && number <= 20) return 'отметок';\r\n    number %= 10;\r\n    if (number === 1) return 'отметка';\r\n    if (number >= 2 && number <= 4) return 'отметки';\r\n    return 'отметок';\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | Находим правильную форму склонения комментариев\r\n  |--------------------------------------------------\r\n  */\r\n  getCommentsNoun = number => {\r\n    number = Math.abs(number);\r\n    number %= 100;\r\n    if (number >= 5 && number <= 20) return 'комментариев';\r\n    number %= 10;\r\n    if (number === 1) return 'комментарий';\r\n    if (number >= 2 && number <= 4) return 'комментария';\r\n    return 'комментариев';\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | создаёт надпись \"Помечено как важное\"\r\n  |--------------------------------------------------\r\n  */\r\n  createImportantBar = (margin) => {\r\n    const Important = styled.div`\r\n      display: flex;\r\n      align-items: center;\r\n      margin-bottom: 0;\r\n      margin-top: ${margin}px;\r\n      svg {\r\n        color: rgba(0,0,0,.15);\r\n        margin-right: 5px;  \r\n      }\r\n    `;\r\n    return (\r\n      <Important>\r\n        <WarningIcon />\r\n        <Typography variant='caption'>Отмечено как \"Важное\"</Typography>            \r\n      </Important>\r\n    )\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | Спрашиваем об удалении новости\r\n  |--------------------------------------------------\r\n  */\r\n  prepareDelete = (e, id) => {\r\n    this.setState({ confirmDelete: true, preparedNewsId: id });\r\n    e.stopPropagation();\r\n  }\r\n\r\n  handleAvatarRoute = avatar => {\r\n    return window.location.host.includes('localhost') ? avatar.slice(16) : avatar;\r\n  }\r\n\r\n  render() {\r\n    const { invalidText, invalidTopic, newNews, loading, newNewsText, newNewsTopic, editing, singleNews, singleNewsId, newNewsImportance } = this.state;\r\n    const { user, news } = this.props.store;\r\n    \r\n    if (news.length === 0) setTimeout(() => this.setState({ news }), 0);\r\n\r\n    return (\r\n      <Paper>\r\n        {window.innerWidth < 600 ? <ResponsiveHeader title='Новости компании' /> : null}\r\n        {loading ? <Loader minHeight={300} color='primary' /> :\r\n          news.length > 0 && news ? news.map((item, i) => {\r\n            return (  \r\n              <NewsContainer key={i} onClick={() => this.showNews(item.id)}>\r\n                <UserAvatar style={{ background: `url(${item.avatar === '' ? defaultAvatar : item.avatar}) no-repeat center/cover` }} />\r\n                <div>\r\n                  <NewsInfo>\r\n                    {user.id === item.author_id\r\n                      ?\r\n                      <Fragment>\r\n                        <Typography variant='caption'>\r\n                          <Typography variant='subtitle2'>Вы</Typography>\r\n                          {item.date}\r\n                        </Typography>\r\n                        <Icon>\r\n                          <Tooltip placement='left' title=\"Удалить\">\r\n                            <DeleteIcon onClick={(e) => this.prepareDelete(e, item.id)} />\r\n                          </Tooltip>\r\n                        </Icon>\r\n                      </Fragment>\r\n                      :\r\n                      <Typography variant='caption'>\r\n                        <Typography variant='subtitle2'>{item.author}</Typography>\r\n                        {item.date}\r\n                      </Typography>}\r\n                  </NewsInfo>\r\n\r\n                  {item.importance === '1' ? this.createImportantBar(0) : null}\r\n\r\n                  {editing !== item.id ?\r\n                    <Fragment>\r\n                      <Typography variant='button'>{item.title.replace(/&quot;/g, `\"`)}</Typography>\r\n                      <Body><Typography variant='body2'>{item.text.replace(/&quot;/g, `\"`)}</Typography></Body>\r\n                    </Fragment>\r\n                    :\r\n                    <form id='edit-news' action={`${API}/api/news/edit.php`} method=\"POST\" onSubmit={(e) => this.editNews(e, item.id)} >\r\n                      <TextField\r\n                        label=\"Заголовок\"\r\n                        value={newNewsTopic}\r\n                        onChange={this.handleChange}\r\n                        variant=\"outlined\"\r\n                        name='newNewsTopic'\r\n                        type='text'\r\n                        error={this.state.invalidTopic}\r\n                      />\r\n                      <TextArea>\r\n                        <TextField\r\n                          label=\"Текст новости\"\r\n                          multiline\r\n                          variant=\"outlined\"\r\n                          name='newNewsText'\r\n                          onChange={this.handleChange}\r\n                          value={newNewsText}\r\n                          error={this.state.invalidText}\r\n                        />\r\n                      </TextArea>\r\n                      <Button onClick={(e) => this.editNews(e, item.id)} variant='contained' color='primary'>Изменить</Button>\r\n                    </form>}\r\n                </div>\r\n\r\n                <Actions id='actions'>\r\n                  <p>{item.comments}</p>\r\n                  <Tooltip title={`${item.comments} ${this.getCommentsNoun(item.comments)}`} placement='top'>\r\n                    <FontAwesomeIcon onClick={editing === '' ? () => this.showNews(item.id) : null} icon=\"comments\" />\r\n                  </Tooltip>\r\n                  \r\n                    <p>{item.likes}</p>\r\n\r\n                  {!item.liked_by.includes(` ${user.id}`)\r\n                    ?\r\n                    <Tooltip title={`${item.likes} ${this.getNoun(item.likes)} \"Нравится\"`} placement='top'>\r\n                      <FontAwesomeIcon onClick={e => this.addLike(item.id, e)} icon=\"heart\" />\r\n                    </Tooltip>  \r\n                    :\r\n                    <Tooltip title={`${item.likes} ${this.getNoun(item.likes)} \"Нравится\"`} placement='top'>\r\n                      <FontAwesomeIcon onClick={e => this.removeLike(item.id, e)} icon=\"heart\" style={{ color: '#1976d2' }} />\r\n                    </Tooltip>  \r\n                  }\r\n                  {user.id === item.author_id\r\n                    ?\r\n                    <Tooltip title='Редактировать' placement='top'>\r\n                    <FontAwesomeIcon onClick={() => this.prepareNews(item.id)} icon=\"edit\" style={{ marginLeft: '25px' }} />\r\n                    </Tooltip>\r\n                    :\r\n                    null\r\n                  }\r\n                  {window.innerWidth >= 600 ? \r\n                    <Button onClick={() => this.showNews(item.id)} variant='contained' color='primary' style={{ position: 'absolute', right: window.innerWidth > 600 ? 40 : 20 }}>Читать</Button>\r\n                  : null }\r\n                </Actions>\r\n\r\n              </NewsContainer>\r\n            )\r\n          }\r\n          ) : <NoNews><Typography variant='h6'>нет новостей</Typography></NoNews>}\r\n\r\n        <div onClick={this.addNews}><Fab title='Добавить новость' /></div>\r\n\r\n        {newNews ?\r\n          <NewNews\r\n            newNewsTopic={newNewsTopic}\r\n            newNewsText={newNewsText}\r\n            invalidText={invalidText}\r\n            invalidTopic={invalidTopic}\r\n            submitNews={this.submitNews}\r\n            handleChange={this.handleChange}\r\n            changeImportance={this.changeImportance}\r\n            newNewsImportance={newNewsImportance}\r\n            closeNews={this.closeNews.bind(this)}\r\n          /> : null}\r\n\r\n        {singleNews\r\n          ?\r\n          <SingleNews\r\n            showNews={this.showNews}\r\n            closeNews={this.closeNews.bind(this)}\r\n            singleNewsId={singleNewsId}\r\n            getNoun={this.getNoun}\r\n            getCommentsNoun={this.getCommentsNoun}\r\n            reloadComponent={this.reloadComponent}\r\n            createImportantBar={this.createImportantBar} />\r\n          :\r\n          null}\r\n\r\n        {/* Подтверить удаление новости */}\r\n        {this.state.confirmDelete ?\r\n        <ConfirmDelete\r\n          closeNews={this.closeNews.bind(this)}\r\n          removeNews={this.removeNews.bind(this)}\r\n        /> : null}\r\n\r\n      </Paper>\r\n    )\r\n  }\r\n}\r\n\r\nconst NewsContainer = styled.div`\r\n  position: relative;\r\n  padding: 20px 40px 20px 120px;\r\n  border-bottom: 1px solid #e6ecf0;\r\n  cursor: pointer;\r\n\r\n  input {\r\n    padding: 10px 15px;\r\n  }\r\n  :hover {\r\n    background: rgba(0,0,0,0.037);\r\n    transition: .37s ease;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    padding: 10px 20px 10px 80px;\r\n  }\r\n`;\r\nconst Body = styled.div`\r\n  padding: 10px 15px;\r\n  margin-top: 10px;\r\n  background: rgba(0,0,0,0.015);\r\n`;\r\nconst NewsInfo = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: 5px;\r\n\r\n  span {\r\n    display: flex;\r\n    align-items: baseline;\r\n    h6 {\r\n      margin-right: 10px;\r\n      :after {\r\n        content: '\\00b7';\r\n        margin-left: 10px;\r\n      }\r\n    }\r\n  }\r\n`;\r\nconst UserAvatar = styled.div`\r\n  position: absolute;\r\n  left: 20px;\r\n  top: 30px;\r\n  border-radius: 50%;\r\n  width: 80px;\r\n  height: 80px;\r\n  @media all and (max-width: 600px) {\r\n    width: 45px;\r\n    height: 45px;\r\n  }\r\n`;\r\n\r\nconst Actions = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  p {\r\n    margin-right: 5px;\r\n    color: #657786;\r\n  }\r\n`;\r\n\r\nconst TextArea = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin: 15px 0 10px;\r\n  height: 120px;\r\n\r\n  textarea {\r\n    max-height: 100px;\r\n    &::-webkit-scrollbar {\r\n      width: 10px;\r\n    }\r\n   \r\n    &::-webkit-scrollbar-track {\r\n      background-color: #ebebeb;\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n    }\r\n  \r\n    &::-webkit-scrollbar-thumb {\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n      background: #1976d2; \r\n    }\r\n  }\r\n\r\n  & > div {\r\n    width: 100%;\r\n    & > div {\r\n      height: 100%;\r\n    }\r\n  }\r\n`;\r\nconst NoNews = styled.div`\r\n  height: 254px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  opacity: .37;\r\n  margin-bottom: 20px;\r\n`;\r\nconst Icon = styled.div`\r\n  cursor: pointer;\r\n  svg {\r\n    color: rgba(0,0,0,0.54);\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({\r\n    store: state,\r\n  }),\r\n  dispatch => ({\r\n    onAddNews: (news) => {\r\n      dispatch({ type: 'ADD_NEWS', payload: news })\r\n    }\r\n  })\r\n)(withSnackbar(News));","import React from 'react';\r\nimport Calendar from '@material-ui/icons/CalendarToday';\r\nimport Message from '@material-ui/icons/Message';\r\nimport Task from '@material-ui/icons/ListAlt';\r\nimport News from '@material-ui/icons/NewReleases';\r\nimport People from '@material-ui/icons/People';\r\nimport Notifictaions from '@material-ui/icons/Notifications';\r\n\r\nconst sections = [\r\n  {\r\n    value: 0,\r\n    section: 'feed',\r\n    label: 'Уведомления',\r\n    img: <Notifictaions />\r\n  },\r\n  { \r\n    value: 1,\r\n    section: 'messages',\r\n    label: 'Сообщения',\r\n    img: <Message />,\r\n  },\r\n  {\r\n    value: 2,\r\n    section: 'news',\r\n    label: 'Новости',\r\n    img: <News />,\r\n  },\r\n  {\r\n    value: 3,\r\n    section: 'tasks',\r\n    label: 'Задачи',\r\n    img: <Task />,\r\n  },\r\n  {\r\n    value: 4,\r\n    section: 'colleagues',\r\n    label: 'Коллеги',\r\n    img: <People />,\r\n  }\r\n];\r\n\r\nif (window.innerWidth >= 600) {\r\n  sections.push({\r\n    value: 5,\r\n    section: 'calendar',\r\n    label: 'Календарь',\r\n    img: <Calendar />,\r\n  })\r\n}\r\n\r\nexport default sections;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport sections from './sections';\r\nimport styled from 'styled-components';\r\nimport { connect } from 'react-redux';\r\n\r\nfunction Navigation({ store: { unreaded: { feed }}}) {\r\n  return (\r\n    <Wrapper>\r\n      <AppBar position=\"static\" color=\"default\">\r\n        <Tabs\r\n          value={sections.findIndex(section => window.location.pathname.slice(1) === section.section) !== -1 ? sections.findIndex(section => window.location.pathname.slice(1) === section.section) : 0}\r\n          indicatorColor=\"primary\"\r\n          centered\r\n        >\r\n          {sections.map((section, i) =>\r\n            <Tab\r\n              key={i}\r\n              label={section.section === 'feed' && feed ?\r\n                <BadgeWrapper><Badge color=\"secondary\" className='feedBadge' badgeContent={feed}>\r\n                  {section.label}\r\n                </Badge></BadgeWrapper>\r\n                : section.label\r\n              }\r\n              component={Link}\r\n              to={section.section}\r\n              icon={section.img}\r\n            />\r\n          )}\r\n        </Tabs>\r\n      </AppBar>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  flex-grow: 1;\r\n  width: 100%;\r\n  background-color: #ffffff;\r\n  margin-bottom: 4px;\r\n\r\n  a {\r\n    width: ${100 / sections.length}%\r\n  }\r\n  svg {\r\n    color: #1976d2;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    position: fixed;\r\n    bottom: 0;\r\n    z-index: 1000;\r\n    opacity: 1;\r\n    margin-bottom: 0;\r\n    width: ${window.innerWidth}px;\r\n    a {\r\n      padding-top: 5px;\r\n      min-height: 50px;\r\n    }\r\n    a > span > span {\r\n      display: block;\r\n      font-size: 8px;\r\n    }\r\n  }\r\n`;\r\nconst BadgeWrapper = styled.div`\r\n  & > span > span {\r\n    top: -19px;\r\n    right: -5px;\r\n  }\r\n`;\r\nexport default connect(state => ({ store: state }),\r\n  dispatch => ({\r\n    getTasks: (tasks) => {\r\n      dispatch({ type: 'FETCH_TASKS', payload: tasks})\r\n    }     \r\n  })\r\n)(Navigation);","import React, { Fragment } from 'react';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport defaultAvatar from '../img/photos/images.png';\r\nimport styled from 'styled-components';\r\nimport moment from 'moment';\r\n/* import NotReaded from '@material-ui/icons/Done';\r\nimport Readed from '@material-ui/icons/DoneAll'; */\r\n\r\nfunction Friend(props) {\r\n  let avatar = '';\r\n\r\n  if (window.location.host.includes('localhost') && props.friend.avatar) {\r\n    avatar = props.friend.avatar.slice(16);\r\n  } else {\r\n    avatar = props.friend.avatar;\r\n  }\r\n\r\n  const cropString = string => {\r\n    if (string.length < 137) return string;\r\n    return `${string.substring(0,137)}...`;\r\n  }\r\n\r\n  const getTime = (time, date, readed) => {\r\n    const fromDayStart = moment().startOf('day').format();\r\n    const dateFromNow = moment(date, \"DD.MM.YYYY\").format();\r\n   /*  let icon = null;\r\n\r\n    readed === '1' ? icon = <Readed /> : icon = <NotReaded />;   */ \r\n    \r\n    /**\r\n    |--------------------------------------------------\r\n    | здесь проблема с моментом, считает почему с ошибкой на день\r\n    | внизу заккоментирован правильный ретурн по логике\r\n    |--------------------------------------------------\r\n    */\r\n    if (!moment(fromDayStart).isSame(dateFromNow, 'day')) {\r\n      return <Time>{/* props.friend.id === props.friend.message.user ? icon : null */}<Typography variant=\"subtitle2\" color='primary'>{moment(date, \"DD.MM.YYYY\").calendar().slice(0,-4)} {time}</Typography></Time>\r\n      /* return <Time>{icon}<Typography variant=\"subtitle2\" color='primary'>{moment(date).fromNow()}</Typography></Time> */\r\n    }\r\n\r\n    return (\r\n      <Time>{/* props.friend.id === props.friend.message.user ? icon : null */}<Typography variant=\"subtitle2\" color='primary'>{props.friend.message.time}</Typography></Time>\r\n    )\r\n  }\r\n  \r\n  return (\r\n    <ListItem \r\n      onClick={() => props.openRoom(props.friend.hasOwnProperty('message') && props.friend.message ? props.friend.message.chat : 0, props.friend)}\r\n      button \r\n      TouchRippleProps={{ classes: { child: 'touch-ripple' }}} \r\n    >\r\n      <ListItemAvatar>\r\n        <Avatar\r\n          style={{ height: 50, width: 50 }}\r\n          alt={`${props.friend.name} ${props.friend.surname}`}\r\n          src={props.friend.avatar !== '' ? avatar : defaultAvatar}\r\n        />\r\n      </ListItemAvatar>\r\n      <ListItemText\r\n        inset\r\n        primary={<MessageHeader>\r\n          <Typography variant=\"subtitle1\">{`${props.friend.name} ${props.friend.surname}`}</Typography>\r\n          {props.friend.message ? \r\n            getTime(props.friend.message.time, props.friend.message.date, props.friend.message.readed)     \r\n          : null}\r\n        </MessageHeader>}\r\n        secondary={props.friend.message ?\r\n          <Fragment>\r\n            <Typography component=\"span\" style={{ display: 'inline' }} color=\"primary\">\r\n              {props.friend.id === props.friend.message.user ? `${props.friend.name} ${props.friend.surname}:` : 'Вы:'}\r\n            </Typography>\r\n            {` — ${cropString(props.friend.message.body)} `} \r\n          </Fragment>\r\n        : null}    \r\n      />\r\n    </ListItem>\r\n  );\r\n}\r\nconst Time = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  opacity: .87;\r\n  svg {\r\n    margin-right: 6px;\r\n    font-size: 17px;\r\n    color: #1976d2;\r\n  }\r\n`;\r\nconst MessageHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\nexport default Friend;","import React from 'react';\r\nimport { Typography } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nexport default function NoMessages() {\r\n  return (\r\n    <Container>\r\n      <Typography variant='body1' style={{ marginBottom: 12 }}>\r\n        Будьте первым, кто отправит сообщение в этом диалоге.\r\n      </Typography>\r\n      <Typography variant='body2'>\r\n        Чтобы написать коллеге, просто введите текст сообщения в строке снизу и нажмите клавишу \"Enter\".\r\n      </Typography>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  padding: 30px 80px;\r\n  height: 250px;\r\n  display: flex;\r\n  opacity: .75;\r\n  text-align: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n\r\n  @media all and (max-width: 600px) {\r\n    padding: 30px 40px;\r\n    height: 160px;\r\n  }\r\n`;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport defaultAvatar from '../img/photos/images.png';\r\nimport { Typography, Tooltip } from '@material-ui/core';\r\n/* import NotReaded from '@material-ui/icons/Done';\r\nimport Readed from '@material-ui/icons/DoneAll'; */\r\nimport moment from 'moment';\r\nimport Delete from '@material-ui/icons/Delete';\r\nimport Edit from '@material-ui/icons/Edit';\r\n\r\nfunction Message(props) { \r\n  let prodUrl = '';\r\n  /* if (!window.location.host.includes('localhost')) {\r\n    prodUrl = `frontend/public/`;\r\n  }  */\r\n\r\n  function isToday(date) {\r\n    const fromDayStart = moment().startOf('day').format();\r\n    const dateFromNow = moment(date, \"DD.MM.YYYY\").format();\r\n\r\n    if (!moment(fromDayStart).isSame(dateFromNow, 'day')) {\r\n      return moment(date, \"DD.MM.YYYY\").calendar().slice(0,-4);\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  const { room, user } = props.store;\r\n\r\n  return (\r\n    <Container style={ room.user.id !== props.message.user ? { flexDirection: 'row-reverse'} : {}}>\r\n      <Avatar \r\n        style={ room.user.id !== props.message.user \r\n          ? { background: `url(${prodUrl}${user.avatar ? user.avatar : defaultAvatar}) no-repeat center/cover` } \r\n          : { background: `url(${prodUrl}${room.user.avatar? room.user.avatar : defaultAvatar}) no-repeat center/cover` } \r\n        }>\r\n      </Avatar>  \r\n      <Body>\r\n        <Typography className='message-name' variant='subtitle2' color='secondary'>      \r\n          {room.user.id !== props.message.user \r\n            ? `Вы` \r\n            : `${room.user.name} ${room.user.surname}` }\r\n          \r\n          {room.user.id !== props.message.user \r\n            ? <span>\r\n                <Tooltip title='редактировать' placement='top'><Edit onClick={() => props.editMessage(props.message.body, props.message.id)} /></Tooltip>\r\n                <Tooltip title='удалить' placement='top'><Delete onClick={props.handleDelete} /></Tooltip>\r\n              </span> \r\n            : null}\r\n        </Typography>\r\n        <Typography variant='body2'>{props.message.body}</Typography>\r\n        <Typography className='message-time' variant='subtitle2' color='primary'>    \r\n          {isToday(props.message.date)} {props.message.time}\r\n          {props.message.edited === '1' ? ' отредактировано' : null}\r\n          {/* room.user.id !== props.message.user ? props.message.readed === '1' ? <Readed /> : <NotReaded /> : null */}\r\n        </Typography>\r\n      </Body>  \r\n    </Container>\r\n  )\r\n}\r\nconst Container = styled.div`\r\n  display: flex;\r\n  align-items: flex-end;\r\n`;\r\nconst Avatar = styled.div`\r\n  min-width: 35px;\r\n  min-height: 35px;\r\n  border-radius: 50%;\r\n  margin: 0 15px;\r\n`;\r\nconst Body = styled.div`\r\n  max-width: 70%;\r\n  background: #fafafa;\r\n  padding: 10px 15px;\r\n  border-radius: 7px;\r\n  margin: 15px 0 0;\r\n  .message-time {\r\n    font-size: .7rem;\r\n    display: flex;\r\n    align-items: center;\r\n    svg {\r\n      font-size: 18px;\r\n      margin-left: 5px; \r\n    }\r\n  }\r\n  .message-name {\r\n    display: flex;\r\n    align-items: center;\r\n    min-width: 100px;\r\n    justify-content: space-between;\r\n    svg {\r\n      font-size: 16px;\r\n      margin-left: 5px; \r\n      color: rgba(0,0,0,.34);\r\n      cursor: pointer;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({\r\n    store: state\r\n  })\r\n)(Message);","import React from 'react';\r\nimport NoMessages from './NoMessages';\r\nimport { connect } from 'react-redux';\r\nimport Message from './Message';\r\nimport styled from 'styled-components';\r\n\r\nfunction Messages(props) {\r\n  const { messages } = props.store;\r\n  \r\n  setTimeout(() => {\r\n    const messageContainer = document.getElementById(\"messages\");\r\n    if (messages.length !== 0 && messageContainer) messageContainer.scrollTop = messageContainer.scrollHeight; \r\n  }, 0);\r\n\r\n  return (\r\n    <Container id='messages'>\r\n      {messages.length !== 0 ? \r\n        messages.map(message => \r\n          <Message \r\n            key={message.id} \r\n            message={message} \r\n            editMessage={props.editMessage}\r\n            handleDelete={() => props.handleDelete(message.id)}\r\n          />\r\n        )\r\n      : <NoMessages />}\r\n    </Container>\r\n  )\r\n}\r\n\r\n\r\n\r\nconst Container = styled.div`\r\n  overflow: auto;\r\n  margin-top: 5px;\r\n  max-height: 310px;\r\n  &::-webkit-scrollbar {\r\n    width: 2px;\r\n  } \r\n  &::-webkit-scrollbar-track {\r\n    background-color: #fafafa;\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    background: #1976d2; \r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    max-height: calc(100vh - 100px);\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({\r\n    store: state\r\n  })\r\n)(Messages);","import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport styled from 'styled-components';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Send from '@material-ui/icons/Send';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nexport default function SendMessageInput(props) {\r\n  return (\r\n    <Container onSubmit={props.sendMessage}>\r\n      <TextField\r\n        placeholder=\"Напишите сообщение...\"\r\n        fullWidth\r\n        autoFocus\r\n        margin='dense'\r\n        variant=\"filled\"\r\n        onChange={props.handleNewMessage}\r\n        value={props.message}\r\n        InputProps={{\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <Tooltip title='Отправить сообщение' position='top'>\r\n                <IconButton\r\n                  aria-label=\"Отправить сообщение\"\r\n                  onClick={props.sendMessage}\r\n                >\r\n                  <Send />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n      />\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.form`\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  overflow: hidden;\r\n  background: #fafafa;\r\n  & > div {\r\n    margin: 0;\r\n  }\r\n  & > div > div {\r\n    background: #fafafa !important;\r\n    :hover {\r\n      background: #fafafa;\r\n    }\r\n  }\r\n  input {\r\n    background: #fafafa;\r\n    padding: 13px 25px;\r\n    font-size: 14px;\r\n  }\r\n`;","import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport styled from 'styled-components';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Edit from '@material-ui/icons/Edit';\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nexport default function EditMessageInput(props) {\r\n  return (\r\n    <Container onSubmit={props.submitEdit}>\r\n      <TextField\r\n        placeholder=\"Отредактируйте сообщение...\"\r\n        fullWidth\r\n        autoFocus\r\n        margin='dense'\r\n        variant=\"filled\"\r\n        onChange={props.handleEdit}\r\n        value={props.message}\r\n        InputProps={{\r\n          startAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <Tooltip title='Редактировать' position='top'>\r\n                <IconButton\r\n                  aria-label=\"Редактировать\"\r\n                  onClick={props.submitEdit}\r\n                >\r\n                  <Edit />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </InputAdornment>\r\n          ),\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <Tooltip title='Закрыть' position='top'>\r\n                <IconButton\r\n                  aria-label=\"Закрыть\"\r\n                  onClick={props.closeEditing}\r\n                >\r\n                  <Clear />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n      />\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.form`\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  overflow: hidden;\r\n  background: #fafafa;\r\n  z-index: 10;\r\n  & > div {\r\n    margin: 0;\r\n  }\r\n  & > div > div {\r\n    background: #fafafa !important;\r\n    :hover {\r\n      background: #fafafa;\r\n    }\r\n  }\r\n  input {\r\n    background: #fafafa;\r\n    padding: 13px 25px;\r\n    font-size: 14px;\r\n  }\r\n`;","import React, { Fragment } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Typography, Button } from '@material-ui/core';\r\n\r\nexport default function DeleteModal(props) {\r\n  return (\r\n    <Fragment>\r\n      <Container>\r\n        <Typography variant='body2'>Вы уверены, что хотите удалить сообщение?</Typography>\r\n        <Typography variant='body2'>Это действие удалит его для всех участников чата.</Typography>    \r\n        <div>\r\n          <Button variant='text' color='primary' onClick={props.closeDelete} >Отмена</Button>\r\n          <Button variant='text' color='primary' onClick={props.submitDelete}>Удалить</Button>\r\n        </div>       \r\n      </Container>\r\n      <Overlay onClick={props.closeDelete} />\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  padding: 30px 20px 10px;\r\n  width: 320px;\r\n  height: 200px;\r\n  margin: auto;\r\n  z-index: 10;\r\n  background: #fafafa;\r\n  box-shadow: rgba(0,0,0,0.2) 0px 1px 3px 0px, rgba(0,0,0,0.14) 0px 1px 1px 0px, rgba(0,0,0,0.12) 0px 2px 1px -1px;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  & > div {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n  }\r\n`;\r\n\r\nconst Overlay = styled.div`\r\n  position: absolute;\r\n  top: 0; bottom: 0;\r\n  left: 0; right: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 5;\r\n  background: rgba(0,0,0,.17);\r\n`;","import React, { Component } from 'react';\r\nimport API from '../functions/API';\r\nimport $ from 'jquery';\r\nimport styled from 'styled-components';\r\nimport { connect } from 'react-redux';\r\nimport Back from '@material-ui/icons/ArrowBack';\r\nimport { Typography } from '@material-ui/core';\r\nimport defaultAvatar from '../img/photos/images.png';\r\nimport Messages from './Messages';\r\nimport Loader from '../Loader/Loader';\r\nimport SendMessageInput from './SendMessageInput';\r\nimport EditMessageInput from './EditMessageInput';\r\nimport DeleteModal from './DeleteModal';\r\nimport moment from 'moment';\r\n\r\nclass ChatRoom extends Component {\r\n  state = {\r\n    loading: true,\r\n    editing: false,\r\n    editText: '',\r\n    deleting: false,\r\n    newMessage: '',\r\n    deleteID: null,\r\n    editID: null\r\n  }\r\n  interval = null;\r\n\r\n  componentDidMount = () => {\r\n    this.getMessages();\r\n    this.interval = setInterval(() => this.getMessages(), 5000);\r\n  }\r\n\r\n  componentWillUnmount = () => {\r\n    clearInterval(this.interval);\r\n  }\r\n  \r\n  getMessages = () => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    formData.append('chat', this.props.store.room.chat_id); \r\n\r\n    $.ajax({\r\n      url: `${API}/api/message/read.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function (res) {\r\n        self.setState({ loading: false });\r\n        if (res.messages) self.props.getMessages(res.messages);      \r\n      },\r\n      error: err => console.log(err)\r\n    });\r\n\r\n  }\r\n\r\n  handleEdit = (e) => this.setState({ editText: e.target.value });\r\n  editMessage = (message, id) => { if(!this.state.editing) this.setState({ editing: !this.state.editing, editText: message, editID: id })};\r\n  closeEditing = () =>  this.setState({ editing: false, editText: '', editID: null });\r\n\r\n  handleDelete = id => this.setState({ deleting: true, deleteID: id });\r\n  closeDelete = () =>  this.setState({ deleting: false, deleteID: null });\r\n\r\n  handleNewMessage = (e) => this.setState({ newMessage: e.target.value });\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | Отправляет сообщение\r\n  |--------------------------------------------------\r\n  */\r\n  sendMessage = (e) => {\r\n    if (e) e.preventDefault();\r\n\r\n    const { room, user } = this.props.store;  \r\n\r\n    // если в комнате нет чат-id то создадим чат\r\n    if (!room.hasOwnProperty('chat_id')) {\r\n      this.getMessageId(user.id, room.user.id);\r\n      return;\r\n    } else {\r\n      fetch(`${API}/api/message/get_id.php`)\r\n        .then(response => response.json())\r\n        .then(message => localStorage.setItem('message_id', message.message_id))\r\n        .catch(err => console.log(err))\r\n    }\r\n\r\n    const formData = new FormData();\r\n    const self = this; \r\n    const message = {\r\n      user: user.id,\r\n      chat: room.hasOwnProperty('chat_id') ? room.chat_id : localStorage.getItem('chat_id'),\r\n      body: this.state.newMessage,\r\n      date: moment().format('L'),\r\n      time: moment().format('LT'),\r\n      created_at: new Date().getTime()\r\n    };\r\n\r\n    formData.append('chat', message.chat); \r\n    formData.append('user', message.user);\r\n    formData.append('body', message.body); \r\n    formData.append('date', message.date); \r\n    formData.append('time', message.time); \r\n    formData.append('created_at', message.created_at); \r\n\r\n    $.ajax({\r\n      url: `${API}/api/message/send.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function(res) {\r\n        if (!self.props.store.chats.find(chat => chat.id === message.chat)) {\r\n          self.props.createChat(localStorage.getItem('users'), message.chat, message); \r\n        }  \r\n        self.props.addMessage(message);\r\n        self.setState({ newMessage: '' })\r\n        self.getMessages();\r\n      },\r\n      error: err => console.log(err)\r\n    });\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | получаем @ID последнего сообщение в базе\r\n  |--------------------------------------------------\r\n  */\r\n  getMessageId = (user1, user2) => {\r\n    fetch(`${API}/api/message/get_id.php`)\r\n      .then(response => response.json())\r\n      .then(message => this.createChat(user1, user2, message.message_id))\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | Создаем чат\r\n  |--------------------------------------------------\r\n  */\r\n  createChat = (user1, user2, message_id) => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    const users = `id${user1}, id${user2}`;\r\n    const messageId = (Number(message_id) + 1).toString();\r\n    formData.append('users', users); \r\n    formData.append('last_msg', messageId); \r\n\r\n    $.ajax({\r\n      url: `${API}/api/chat/create.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function (res) {\r\n        self.props.assignChat(res.chat_id);\r\n        localStorage.setItem('message_id', messageId);\r\n        localStorage.setItem('chat_id', res.chat_id);\r\n        localStorage.setItem('users', `id${user1}, id${user2}`);\r\n        self.sendMessage(false);    \r\n      },\r\n      error: err => console.log(err)\r\n    });\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | удаляем сообщение\r\n  |--------------------------------------------------\r\n  */\r\n  submitDelete = () => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    formData.append('id', this.state.deleteID); \r\n\r\n    $.ajax({\r\n      url: `${API}/api/message/delete.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function(res) {\r\n        self.props.deleteMessage(self.state.deleteID);\r\n        if (self.props.store.messages.length === 0) self.props.deleteChat(self.props.store.room.chat_id);\r\n        self.closeDelete();\r\n        self.getMessages();\r\n      },\r\n      error: err => console.log(err)\r\n    });\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | редактируем сообщение\r\n  |--------------------------------------------------\r\n  */\r\n  submitEdit = (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    const self = this;\r\n    formData.append('id', this.state.editID); \r\n    formData.append('body', this.state.editText); \r\n\r\n    $.ajax({\r\n      url: `${API}/api/message/edit.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: async () => {  \r\n        self.closeEditing();  \r\n        await self.getMessages();   \r\n        await self.props.editMessage(self.state.editID, self.state.editText); \r\n      },\r\n      error: err => console.log(err)\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { loading, editing, deleting } = this.state;\r\n    const { room } = this.props.store;\r\n\r\n    let avatar = null;\r\n    if (room.hasOwnProperty('user') && window.location.host.includes('localhost')) {\r\n      avatar = room.user.avatar.slice(16);\r\n    } else if (room.hasOwnProperty('user')) {\r\n      avatar = room.user.avatar;\r\n    }\r\n\r\n    return (\r\n      <Room>\r\n        <RoomHeader>\r\n          <Icon onClick={() => this.props.openRoom(0, room.user)}>\r\n            <Back />\r\n          </Icon>\r\n          {room.hasOwnProperty('user') ?\r\n          <div className='room-header__user'>\r\n            <div className='room-header__avatar' style={{ background: `url(${room.user.avatar !== '' ? avatar : defaultAvatar}) no-repeat center/cover`}}></div>\r\n            <div className='room-header__info'>\r\n              <Typography variant='subtitle2'>{room.user.name} {room.user.surname}</Typography>\r\n              <Typography variant='caption'>{room.user.position}</Typography>\r\n            </div>\r\n          </div> : null}\r\n        </RoomHeader>\r\n\r\n        {loading ? <Loader minHeight={250} color='primary' /> : <Messages \r\n          editMessage={this.editMessage.bind(this)} \r\n          handleDelete={this.handleDelete.bind(this)}\r\n        />}\r\n\r\n        {editing ? <EditMessageInput \r\n          closeEditing={this.closeEditing.bind(this)} \r\n          message={this.state.editText} \r\n          handleEdit={this.handleEdit.bind(this)}\r\n          submitEdit={this.submitEdit.bind(this)}\r\n        /> : null}\r\n\r\n        <SendMessageInput \r\n          message={this.state.newMessage}\r\n          sendMessage={this.sendMessage} \r\n          handleNewMessage={this.handleNewMessage}\r\n        />\r\n\r\n        {deleting ? <DeleteModal \r\n          closeDelete={this.closeDelete.bind(this)}\r\n          submitDelete={this.submitDelete.bind(this)}\r\n        /> : null}\r\n      </Room>\r\n    )\r\n  }\r\n}\r\nconst Room = styled.div`\r\n  overflow: hidden;\r\n  height: 432px;\r\n\r\n  @media all and (max-width: 600px) {\r\n    height: calc(100vh - 55px);\r\n  }\r\n`;\r\nconst RoomHeader = styled.div`\r\n  background: #1976d2;\r\n  height: 60px;\r\n  color: rgba(255,255,255,.5);\r\n  display: flex;\r\n  align-items: center;\r\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 1px 3px 0px, rgba(0, 0, 0, 0.14) 0px 1px 1px 0px, rgba(0, 0, 0, 0.12) 0px 2px 1px -1px;\r\n\r\n  .room-header__user {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 100%;\r\n  }\r\n  .room-header__avatar {\r\n    height: 45px;\r\n    width: 45px;\r\n    border-radius: 50%;\r\n    margin-right: 15px;\r\n  }\r\n  h6 {\r\n    color: #fff;\r\n    opacity: .85;\r\n  }\r\n  span {\r\n    color: rgba(255,255,255,.5);\r\n  }\r\n  :hover {\r\n    color: #fff;\r\n    transition: .37s ease;\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  width: 60px;\r\n  height: 60px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n`;\r\nexport default connect(\r\n  state => ({\r\n    store: state\r\n  }),\r\n  dispatch => ({\r\n    getMessages: (messages) => {\r\n      dispatch({ type: 'FETCH_MESSAGES', payload: messages })\r\n    },\r\n    createChat: (users, chat_id, message) => {\r\n      dispatch({ type: 'CREATE_CHAT', payload: { users: users, id: chat_id, message: message }})\r\n    },\r\n    assignChat: (chat_id) => {\r\n      dispatch({ type: 'ASSIGN_CHAT', payload: chat_id })\r\n    },\r\n    addMessage: (message) => {\r\n      dispatch({ type: 'ADD_MESSAGE', payload: message })\r\n    },\r\n    deleteMessage: (messageID) => {\r\n      dispatch({ type: 'DELETE_MESSAGE', payload: messageID })\r\n    },\r\n    editMessage: (messageID, messageBody) => {\r\n      dispatch({ type: 'EDIT_MESSAGE', payload: [messageID, messageBody] })\r\n    },\r\n    deleteChat: (chat_id) => {\r\n      dispatch({ type: 'DELETE_CHAT', payload: chat_id })\r\n    },\r\n  })\r\n)(ChatRoom);","import React, { Component } from 'react';\r\nimport List from '@material-ui/core/List';\r\nimport ChatItem from './ChatItem';\r\nimport API from '../functions/API';\r\nimport styled from 'styled-components';\r\nimport Search from '../FriendsList/Search';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Loader from '../Loader/Loader';\r\nimport { connect } from 'react-redux';\r\nimport { Transition, animated } from 'react-spring/renderprops';\r\nimport ChatRoom from './ChatRoom';\r\n\r\nclass FriendList extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      friends: [],\r\n      initial: [],\r\n      searchValue: '',\r\n      loading: true,\r\n      documentTitle: document.title,\r\n      completed: false,\r\n      openRoom: false,\r\n      index: 1,\r\n      initialAnimation: false,\r\n      direction: true\r\n    }\r\n\r\n    this.rebuildList = this.rebuildList.bind(this);\r\n  }\r\n    \r\n  componentDidMount() {\r\n    fetch(`${API}/api/user/read.php`)\r\n      .then(response => response.json())\r\n      .then(friends => {\r\n        const data = friends.data;\r\n        this.setState({ friends: data, initial: data, loading: false })\r\n      })\r\n  }\r\n\r\n  handleSearch = (e) => {\r\n    this.setState({ searchValue: e.target.value });\r\n    const searchValue = e.target.value.toLowerCase();\r\n\r\n    document.title = e.target.value || this.state.documentTitle;\r\n\r\n    let friends = this.state.initial;\r\n    friends = friends.filter(friend =>\r\n      friend.name.toLowerCase().includes(searchValue) ||\r\n      friend.surname.toLowerCase().includes(searchValue) ||\r\n      friend.position.toLowerCase().includes(searchValue)\r\n    );\r\n    this.setState({ friends });\r\n  }\r\n\r\n  componentWillUnmount = () => {\r\n    document.title = this.state.documentTitle;\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | переделываем массив списка друзей исходя из полученных сообщений\r\n  |--------------------------------------------------\r\n  */\r\n  rebuildList = (chats) => {\r\n    let friends = this.state.friends;\r\n    chats.forEach(chat => {\r\n      friends.find(friend => chat.users.includes(`id${friend.id}`)).message = chat.message;\r\n    })\r\n    let withMessages = friends.filter(friend => friend.hasOwnProperty('message'));\r\n    let withoutMessages = friends.filter(friend => !friend.hasOwnProperty('message'));\r\n    let sorted = withMessages.concat(withoutMessages);\r\n    this.setState({ completed: true, friends: sorted });\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | переключаем и анимируем комнату чата и список\r\n  |--------------------------------------------------\r\n  */\r\n  openRoom = (chat, friend) => {\r\n    if (!this.state.initialAnimation) this.setState({ initialAnimation: true });\r\n\r\n    if (chat) {\r\n      this.props.openChat(chat, friend);\r\n    } else {\r\n      this.rebuildList(this.props.store.chats);\r\n      setTimeout(() => this.props.closeChat(friend), 570);\r\n    }\r\n\r\n    this.setState({ direction: !this.state.direction });\r\n\r\n    setTimeout(() => this.setState(state => ({\r\n      index: state.index === 1 ? 0 : 1,\r\n    })), 300)\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | массив того, что анимируем\r\n  |--------------------------------------------------\r\n  */\r\n  pages = [\r\n    style => (\r\n      <animated.div style={{ ...style, position: 'absolute', width: '100%' }}>\r\n        <ChatRoom\r\n          openRoom={this.openRoom.bind(this)}\r\n        />\r\n      </animated.div>\r\n    ),\r\n    style => (\r\n      <animated.div style={{ ...style, position: 'absolute', width: '100%' }}>\r\n        <Search\r\n          handleSearch={this.handleSearch}\r\n          searchValue={this.searchValue}\r\n        />\r\n        <List>\r\n          {this.state.friends.map(friend =>\r\n            <ChatItem\r\n              openRoom={this.openRoom.bind(this)}\r\n              key={friend.id}\r\n              friend={friend}\r\n            />\r\n          )}\r\n        </List>\r\n      </animated.div>\r\n    )\r\n  ]\r\n\r\n  getDirection = direction => {\r\n    if (direction) {\r\n      return 'translateX(100%)';\r\n    } else {\r\n      return 'translateX(-100%)';\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { chats } = this.props.store;\r\n    const { completed, friends, index, direction } = this.state;\r\n\r\n    if (chats.length > 0 && friends.length > 0 && !completed) {\r\n      this.rebuildList(chats);\r\n    }\r\n\r\n    return (\r\n      <Paper>\r\n        {this.state.loading ?\r\n          <Loader minHeight={370} color='primary' />\r\n          :\r\n          <FriendWrapper>\r\n            <Transition\r\n              reset\r\n              unique\r\n              native\r\n              items={index}\r\n              from={this.state.initialAnimation ? { transform: this.getDirection(direction) } : { zIndex: 1 }}\r\n              enter={{ transform: 'translateX(0%)' }}\r\n              leave={{ transform: this.getDirection(!direction) }}\r\n            >\r\n              {index => this.pages[index]}\r\n            </Transition>\r\n          </FriendWrapper>\r\n        }\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nconst FriendWrapper = styled.div`\r\n  height: 432px;\r\n  overflow: auto;\r\n  overflow-x: hidden;\r\n  position: relative;\r\n\r\n  &::-webkit-scrollbar {\r\n    width: 5px;\r\n  } \r\n  &::-webkit-scrollbar-track {\r\n    background-color: #fafafa;\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    background: #1976d2; \r\n  }\r\n  a {\r\n    text-decoration: none;\r\n  }\r\n  ul {\r\n    padding: 0;\r\n    padding-bottom: 50px;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    height: calc(100vh - 55px);\r\n    ul {\r\n      padding: unset;\r\n      padding-top: 10px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    openChat: (chat, friend) => {\r\n      dispatch({ type: 'OPEN_CHAT', payload: [chat, friend] })\r\n    },\r\n    closeChat: (friend) => {\r\n      dispatch({ type: 'CLOSE_CHAT', payload: [null, friend] })\r\n    },\r\n  })\r\n)(FriendList);","import React from 'react';\r\nimport { Typography } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nexport default function NoChats() {\r\n  return (\r\n    <Container>\r\n      <Typography variant='body1'>\r\n        Пока у вас нет ни одного диалога.\r\n      </Typography>\r\n      <Typography variant='body2'>\r\n        Выберите коллегу из списка ниже или введите в строке поиска имя, фамилию или занимающую должность коллеги, которому хотите отправить сообщение.\r\n      </Typography>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  padding: 30px 40px;\r\n  height: 150px;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  flex-direction: column;\r\n`;","import React, { Component } from 'react';\r\nimport Dialogues from './Dialogues';\r\nimport API from '../functions/API';\r\nimport $ from 'jquery';\r\nimport Loader from '../Loader/Loader';\r\nimport { connect } from 'react-redux';\r\nimport { Paper } from '@material-ui/core';\r\nimport NoChats from './NoChats';\r\n\r\nclass Chat extends Component {\r\n  state = { loading: true }\r\n\r\n  componentDidMount() {\r\n    this.fetchChats();\r\n  }\r\n\r\n  fetchChats() {\r\n    const self = this;\r\n\r\n    $.ajax({\r\n      url: `${API}/api/chat/read.php`,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function (res) {\r\n        self.setState({ loading: false });\r\n\r\n        if (res[0].chats) {\r\n          let result = res[0].chats;\r\n          result.forEach(item => {\r\n            item.users = item.users.replace(res.user_id, '').replace(',', '').trim();\r\n          }) \r\n          self.props.getChats(res[0].chats);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { loading } = this.state;\r\n    const { chats } = this.props.store;\r\n    \r\n    return (\r\n      <Paper>\r\n        {chats.length === 0 ? <NoChats /> : null}\r\n        {!loading \r\n          ? <Dialogues />\r\n          : <Loader minHeight={300} color='primary' />}\r\n      </Paper>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => ({\r\n    store: state\r\n  }),\r\n  dispatch => ({\r\n    getChats: (chats) => {\r\n      dispatch({ type: 'FETCH_CHATS', payload: chats })\r\n    }\r\n  })\r\n)(Chat);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport defaultAvatar from '../img/photos/images.png';\r\nimport Heart from '@material-ui/icons/Favorite';\r\nimport Calendar from '@material-ui/icons/InsertChart';\r\nimport News from '@material-ui/icons/NewReleases';\r\nimport Task from '@material-ui/icons/ListAlt';\r\nimport Comment from '@material-ui/icons/Comment';\r\nimport VerifiedUser from '@material-ui/icons/VerifiedUser';\r\n\r\nexport default function UserAvatar({ avatar, type }) {\r\n  \r\n  function drawBadge() {\r\n    switch (type) {\r\n      case 'likes':\r\n        return <Heart style={{ color: '#ff4800', top: '2px' }} />\r\n      case 'tasks':\r\n        return <Task style={{ color: '#6a1b9a' }} />\r\n      case 'results':\r\n        return <VerifiedUser style={{ color: '#2e7d32' }} />\r\n      case 'events':\r\n        return <Calendar style={{ color: '#1976d2' }} />\r\n      case 'comments':\r\n        return <Comment style={{ color: '#1976d2' }} />\r\n      case 'news':\r\n        return <News style={{ color: '#1976d2' }} />\r\n      default:\r\n        return <Heart style={{ color: '#ff4800', top: '2px' }} />  \r\n    }\r\n  }\r\n\r\n  return (\r\n    <Wrapper\r\n      style={{ background: `url(\"${avatar ? avatar : defaultAvatar}\") center center / cover no-repeat` }}\r\n    >\r\n      <Badge>{drawBadge()}</Badge>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  border-radius: 50%;\r\n  min-width: 80px;\r\n  margin: 15px 25px;\r\n  min-height: 80px;\r\n  position: relative;\r\n`;\r\n\r\nconst Badge = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: white;\r\n  border-radius: 50%;\r\n  width: 30px;\r\n  height: 30px;\r\n  box-shadow: 2px 2px 3px 0px #2323;\r\n  svg {\r\n    position: absolute;\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    top: 0;\r\n    margin: auto;\r\n    font-size: 18px;\r\n  }\r\n`;","import React from 'react';\r\nimport moment from 'moment';\r\nimport UserAvatar from './UserAvatar';\r\nimport styled from 'styled-components';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nexport default function Comment({ item }) {\r\n  return (\r\n    <CommentWrapper>\r\n      <UserAvatar avatar={item.avatar} type={item.type} />\r\n      <CommentContent>\r\n        <Typography variant='subtitle2' color='primary'>{`${item.name} ${item.surname}`}</Typography>\r\n        <Typography variant='body1' style={{ padding: '5px 0' }}>{item.text}</Typography>\r\n        <Typography variant='caption'>\r\n          <b style={{ fontWeight: 500}}>{moment(Number(item.created_at)).calendar()}</b> — комментарий к вашей новости&nbsp;\r\n          <b style={{ fontWeight: 500}}>{item.title}</b>\r\n        </Typography>\r\n      </CommentContent>\r\n    </CommentWrapper>\r\n  )\r\n}\r\n\r\nconst CommentWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px 0;\r\n  border-bottom: 1px solid #f5f5f5;\r\n`;\r\n\r\nconst CommentContent = styled.div`\r\n  width: 100%;\r\n  padding-right: 25px;\r\n`;\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport UserAvatar from './UserAvatar';\r\nimport styled from 'styled-components';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nexport default function Comment({ item }) {\r\n  return (\r\n    <LikeWrapper>\r\n      <UserAvatar avatar={item.avatar} type={item.type} />\r\n      <LikeContent>\r\n        <Typography variant='subtitle2' color='primary'>{`${item.name} ${item.surname}`}</Typography>\r\n        <Typography variant='caption'>\r\n          <b style={{ fontWeight: 500}}>{moment(Number(item.created_at)).calendar()}</b> — понравилась ваша запись&nbsp;\r\n          <b style={{ fontWeight: 500}}>{item.title}</b>\r\n        </Typography>\r\n      </LikeContent>\r\n    </LikeWrapper>\r\n  )\r\n}\r\n\r\nconst LikeWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px 0;\r\n  border-bottom: 1px solid #f5f5f5;\r\n`;\r\n\r\nconst LikeContent = styled.div`\r\n  width: 100%;\r\n  padding-right: 25px;\r\n`;","import React from 'react';\r\nimport moment from 'moment';\r\nimport UserAvatar from './UserAvatar';\r\nimport styled from 'styled-components';\r\nimport { Typography, Tooltip } from '@material-ui/core';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\n\r\nexport default function News({ item }) {\r\n  function createImportantBar() {\r\n    const Important = styled.div`\r\n      display: flex;\r\n      align-items: center;\r\n      margin: 0;\r\n      svg {\r\n        color: rgba(0,0,0,.15);\r\n        margin-right: 5px;  \r\n      }\r\n    `;\r\n    return (\r\n      <Tooltip title='Отмечено как важно' placement='top'>\r\n        <Important>\r\n          <WarningIcon />       \r\n        </Important>\r\n      </Tooltip>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <NewsWrapper>\r\n      <UserAvatar avatar={item.avatar} type={item.type} />\r\n      <NewsContent>\r\n        <Typography variant='subtitle2' color='primary' style={{ display: 'flex', alignItems: 'center' }}>\r\n          {item.importance === '1' ? createImportantBar() : null}\r\n          {`${item.name} ${item.surname} — ${item.title}`}\r\n        </Typography>\r\n        <Typography variant='body1' style={{ padding: '5px 0' }}>{item.text}</Typography>\r\n        <Typography variant='caption'>\r\n          <b style={{ fontWeight: 500}}>{moment(Number(item.created_at)).calendar()}</b>\r\n        </Typography>\r\n      </NewsContent>\r\n    </NewsWrapper>\r\n  )\r\n}\r\n\r\nconst NewsWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px 0;\r\n  border-bottom: 1px solid #f5f5f5;\r\n`;\r\n\r\nconst NewsContent = styled.div`\r\n  width: 100%;\r\n  padding-right: 25px;\r\n`;\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport UserAvatar from './UserAvatar';\r\nimport styled from 'styled-components';\r\nimport { Typography, Tooltip } from '@material-ui/core';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\n\r\nexport default function News({ item }) {\r\n  function createImportantBar() {\r\n    const Important = styled.div`\r\n      display: flex;\r\n      align-items: center;\r\n      margin: 0;\r\n      svg {\r\n        color: rgba(0,0,0,.15);\r\n        margin-right: 5px;  \r\n      }\r\n    `;\r\n    return (\r\n      <Tooltip title='Отмечено как важно' placement='top'>\r\n        <Important>\r\n          <WarningIcon />       \r\n        </Important>\r\n      </Tooltip>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <NewsWrapper>\r\n      <UserAvatar avatar={item.avatar} type={item.type} />\r\n      <NewsContent>\r\n        <Typography variant='subtitle2' color='primary' style={{ display: 'flex', alignItems: 'center' }}>\r\n          {item.importance === '1' ? createImportantBar() : null}\r\n          {`${item.name} ${item.surname} — Поставил вам задачу`}\r\n        </Typography>\r\n        <Typography variant='body1' style={{ padding: '5px 0' }}>{item.text}</Typography>\r\n        <Typography variant='caption'>\r\n          <b style={{ fontWeight: 500}}>{moment(Number(item.created_at)).calendar()}</b> — выполнить до:&nbsp;\r\n          <b style={{ fontWeight: 500}}>{`${item.until_date} — ${item.until_time}`}</b>\r\n        </Typography>\r\n      </NewsContent>\r\n    </NewsWrapper>\r\n  )\r\n}\r\n\r\nconst NewsWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px 0;\r\n  border-bottom: 1px solid #f5f5f5;\r\n`;\r\n\r\nconst NewsContent = styled.div`\r\n  width: 100%;\r\n  padding-right: 25px;\r\n`;\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport UserAvatar from './UserAvatar';\r\nimport styled from 'styled-components';\r\nimport { Typography } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Result({ item }) {\r\n  const result = `${parseFloat(item.result.replace(',','.')) / item.questions.split(',').length * 100}%`;\r\n\r\n  return (\r\n    <ResultWrapper>\r\n      <UserAvatar avatar={item.avatar} type={item.type} />\r\n      <ResultContent>\r\n        <Typography variant='subtitle2' color='primary'>Вы прошли тестирование</Typography>\r\n        <Typography variant='h3' color='primary' style={{ marginTop: 5 }}>{result}</Typography>\r\n        <Typography variant='caption' style={{ padding: '5px 0' }}>Оставшееся время: {item.estimated_time}</Typography>\r\n        <Typography variant='caption'>\r\n          <b style={{ fontWeight: 500}}>{moment(Number(item.created_at)).calendar()}</b>&nbsp;\r\n          — &nbsp;\r\n          <Link to={`/test/${item.id}`} style={{  \r\n            color: '#1976d2', \r\n            textDecoration: 'none'\r\n          }}\r\n          >посмотреть детальные результаты</Link>\r\n        </Typography>\r\n      </ResultContent>\r\n    </ResultWrapper>\r\n  )\r\n}\r\n\r\nconst ResultWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px 0;\r\n  border-bottom: 1px solid #f5f5f5;\r\n`;\r\n\r\nconst ResultContent = styled.div`\r\n  width: 100%;\r\n  padding-right: 25px;\r\n`;\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport UserAvatar from './UserAvatar';\r\nimport styled from 'styled-components';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nexport default function Result({ item }) {\r\n  function getRemainingPlaces(max, signed) {\r\n    let maxUsers = Number(max);\r\n    let signedUsers = signed.split(',').length;\r\n    if (signed === '') signedUsers = 0;\r\n    let remaining = maxUsers - signedUsers;\r\n\r\n    if (remaining === 0) {\r\n      return 'Свободных мест нет.'\r\n    } else if (remaining === 1) {\r\n      return 'Можно записаться, осталось одно место.'\r\n    } else if (remaining > 5) {\r\n      return `Можно записаться, осталось ${remaining} мест.`\r\n    } else if (remaining > 1) {\r\n      return `Можно записаться, осталось ${remaining} места.`\r\n    }\r\n  }\r\n\r\n  function isFuture() {\r\n    return moment(item.endDate).diff(moment(new Date()));\r\n  }\r\n\r\n  return (\r\n    <EventWrapper>\r\n      <UserAvatar avatar={item.avatar} type={item.type} />\r\n      <EventContent>\r\n        <Typography variant='subtitle2' color='primary' style={{ marginBottom: 5 }}>{`Новое событие в календаре — ${item.title}`}</Typography>\r\n        <Typography variant='body1'>{`${moment(item.startDate).calendar()} — ${item.endDate.slice(-5)}`}</Typography>\r\n\r\n        {item.max !== '0' && isFuture() > 0 ? <Typography variant='caption'>{getRemainingPlaces(item.max, item.signed)}</Typography> : null}\r\n        <Typography variant='caption' style={{ marginTop: 5 }}>\r\n          Событие добавлено в календарь — &nbsp;\r\n          <b style={{ fontWeight: 500}}>{moment(Number(item.created_at)).calendar()}</b>\r\n        </Typography>\r\n      </EventContent>\r\n    </EventWrapper>\r\n  )\r\n}\r\n\r\nconst EventWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px 0;\r\n  border-bottom: 1px solid #f5f5f5;\r\n`;\r\n\r\nconst EventContent = styled.div`\r\n  width: 100%;\r\n  padding-right: 25px;\r\n`;\r\n","import React from 'react';\r\nimport { Typography } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nexport default function ThastIt() {\r\n  return (\r\n    <Container>\r\n      <Typography variant='button' style={{ opacity: .5 }}>Показаны последние новости</Typography>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100px;\r\n  width: 100%;\r\n`;","import React, { Fragment, useEffect } from 'react';\r\nimport { Paper, Typography } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\nimport Loader from '../Loader/Loader';\r\nimport Comment from './Comment';\r\nimport Like from './Like';\r\nimport News from './News';\r\nimport Task from './Task';\r\nimport Result from './Result';\r\nimport Event from './Event';\r\nimport ThatsIt from './ThatsIt';\r\nimport styled from 'styled-components';\r\nimport Circle from '@material-ui/icons/CheckCircle';\r\n\r\nfunction index({ onReadFeed, store: { feed, unreaded } }) { \r\n  useEffect(() => {\r\n    let timeout = null;\r\n    if (unreaded.feed > 0) {\r\n      timeout = setTimeout(() => {\r\n        document.querySelector('.feedBadge span').style.display = 'none';\r\n        onReadFeed();\r\n      }, 2000)\r\n    }\r\n    return () => window.clearTimeout(timeout)\r\n  });\r\n\r\n  function renderFeedItem(item) {\r\n    switch(item.type) {\r\n      case 'news':\r\n        return <News key={item.fake_id} item={item} />\r\n      case 'tasks':\r\n        return <Task key={item.fake_id} item={item} />\r\n      case 'results':\r\n        return <Result key={item.fake_id} item={item} />\r\n      case 'events':\r\n        return <Event key={item.fake_id} item={item} />\r\n      case 'likes':\r\n        return <Like key={item.fake_id} item={item} />\r\n      case 'comments':\r\n        return <Comment key={item.fake_id} item={item} />\r\n      default: return 'notfound'\r\n    }\r\n  }\r\n\r\n  function renderLastViewed(item) {\r\n    const elem = renderFeedItem(item);\r\n    return (\r\n      <Fragment key={item.fake_id}>\r\n        {elem}\r\n        <Caught>\r\n          <Circle />\r\n          <Typography variant='subtitle2' style={{ opacity: .5 }}>новые уведомления</Typography>\r\n        </Caught>\r\n      </Fragment>     \r\n    )\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <Paper>\r\n        {feed.length === 0 \r\n          ? <Loader minHeight={370} /> \r\n          : feed.map((item, index) => \r\n            unreaded.feed > 0  && unreaded.feed === index + 1 ? renderLastViewed(item) : renderFeedItem(item))\r\n        }   \r\n      </Paper>\r\n      {feed.length !== 0 ? <ThatsIt /> : null}\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nconst Caught = styled.div`\r\n  display: flex;\r\n  height: 125px;\r\n  width: 100%;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n\r\n  svg {\r\n    opacity: 0.075;\r\n    font-size: 36px;\r\n    margin-bottom: 10px;\r\n  }\r\n`;\r\n\r\nexport default connect(state => ({ store: state }),\r\n  dispatch => ({ onReadFeed: () => dispatch({ type: 'READ_FEED' })    \r\n}))(index);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst styles = {\r\n  card: {\r\n    width: '100%',\r\n    maxWidth: 345,\r\n  },\r\n  media: {\r\n    height: 170,\r\n  },\r\n  text: {\r\n    height: 140,\r\n  }\r\n};\r\n\r\nfunction MediaCard(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <Card className={classes.card} style={ props.section === 'materials' ? { pointerEvents: 'none', filter: 'grayscale(100%)' } : {}}>\r\n      <CardActionArea onClick={() => props.changeSection(props.section)}>\r\n        <CardMedia\r\n          className={classes.media}\r\n          image={props.image}\r\n          title={props.title}\r\n        />\r\n        <CardContent\r\n          className={classes.text}\r\n        >\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {props.title}\r\n          </Typography>\r\n          <Typography component=\"p\">\r\n            {props.description}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions>\r\n        <Button size=\"small\" color=\"primary\" onClick={() => props.changeSection(props.section)}>\r\n          {props.button || \"Перейти\"}\r\n        </Button>\r\n\r\n{/*     <Button size=\"small\" color=\"primary\">\r\n          Learn More\r\n        </Button> */}\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n}\r\n\r\nMediaCard.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(MediaCard);","const cards = [\r\n  {\r\n    id: 0,\r\n    image: 'https://coda.newjobs.com/api/imagesproxy/ms/niche/images/can/ml.jpg',\r\n    title: 'Тесты',\r\n    description: \"Здесь вы можете пройти тесты. По прохождению - вы сможете узнать результаты.\",\r\n    section: 'tests'\r\n  },\r\n  { \r\n    id: 1,\r\n    image: 'https://wpdocs.co/wp-content/uploads/2016/04/documentation.png',\r\n    title: 'Материалы',\r\n    description: \"Здесь вы можете посмотреть и изучить учебные материалы, которые помогу вам при прохождении тестов.\",\r\n    section: 'materials',\r\n    button: 'в разработке...'\r\n  },\r\n];\r\n\r\nexport default cards;","import React from 'react';\r\nimport { Paper } from '@material-ui/core';\r\nimport Card from '../Media/Media';\r\nimport cards from './cards';\r\n\r\nexport default function Container(props) {\r\n  return (\r\n    <Paper className={props.class}>\r\n      {cards.map(card => \r\n        <Card \r\n          key={card.id} \r\n          title={card.title} \r\n          image={card.image} \r\n          description={card.description} \r\n          section={card.section}\r\n          changeSection={props.changeSection}\r\n          button={card.button}\r\n        />\r\n      )}\r\n    </Paper>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nexport default function Materials(props) {\r\n  return (\r\n    <div>\r\n      materials\r\n\r\n      <Button variant='contained' onClick={props.closeSection}>Назад</Button>\r\n    </div>\r\n  )\r\n}\r\n","import API from '../functions/API';\r\n\r\nexport async function fetchMistakes() {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/mistake/read.php`)\r\n    .then(response => response.json())\r\n    .then(mistakes => result = mistakes.data)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchTests() {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/test/read.php`)\r\n    .then(response => response.json())\r\n    .then(res => result = res.data)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchTestsById() {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/test/read.php?byid=true`)\r\n    .then(response => response.json())\r\n    .then(res => result = res.data)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchQuestions() {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/question/read.php`)\r\n    .then(response => response.json())\r\n    .then(res => result = res.data)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchCategories() {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/getCategories.php`)\r\n    .then(response => response.json())\r\n    .then(res => result = res)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchTestLastId() {\r\n  let result = '';\r\n\r\n  await fetch(`${API}/api/test/getLastId.php`)\r\n    .then(response => response.json())\r\n    .then(res => result = res)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchSingleTest(id) {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/test/getSingleTest.php?id=${id}`)\r\n    .then(response => response.json())\r\n    .then(res => result = res.data)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchSingleQuestion(id) {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/question/getSingleQuestion.php?id=${id}`)\r\n    .then(response => response.json())\r\n    .then(res => result = res.data)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchTestStatus(id) {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/test/getStatus.php?id=${id}`)\r\n    .then(response => response.json())\r\n    .then(res => result = res.data)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport default [];","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport styled from 'styled-components';\r\n\r\nexport default function NotFound() {\r\n  return (\r\n    <Wrapper>\r\n      <Typography variant='h6'>ничего не найдено</Typography>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  min-height: 220px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  opacity: .35;\r\n`;","import React, { Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Delete from '@material-ui/icons/Delete';\r\nimport styled from 'styled-components';\r\nimport NotFound from './NotFound';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n    backgroundColor: theme.palette.background.paper,\r\n    paddingBottom: 40\r\n  },\r\n  inline: {\r\n    display: 'inline',\r\n  },\r\n});\r\n\r\nfunction ListItemLink(props) {\r\n  return <ListItem button component=\"a\" {...props} />;\r\n}\r\n\r\nfunction TestList(props) {\r\n  const { classes } = props;\r\n  let items = props.items;\r\n\r\n  if (props.completed) {\r\n    items = items.filter(item => {\r\n      return props.completed ? item.completed : !item.completed;\r\n    })\r\n  }\r\n\r\n  function getCorrectTime(time) {\r\n    return time === 'false' || !time  ? 'не ограничено' : `${time} минут`;\r\n  }\r\n\r\n  function getPercent(value) {\r\n    return parseFloat(value.replace(',','.')).toFixed(2) * 100 + '%';\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <List component=\"nav\">\r\n        {items && items.length > 0 ? items.map((item) => \r\n          <Fragment key={item.id}>\r\n            <ListItemLink href={`test/${item.id}`}>\r\n              <ListItemText \r\n                primary={`${item.user_name}, ${item.position} ${item.completed === '1' ? '(завершён)' : item.completed === '0.5' ? '(начат)' : '(ожидает прохождения)'}`} \r\n                secondary={\r\n                  <React.Fragment>\r\n                    <Typography component=\"span\" className={classes.inline} color=\"textPrimary\">\r\n                      {item.date}\r\n                    </Typography>\r\n                    {item.completed === '1' ? ` — Результат: ${getPercent(item.result)}.` : ` — Вопросов в тестировании: ${item.questions.length}, время на прохождение: ${getCorrectTime(item.time)}` }\r\n                  </React.Fragment>\r\n                }\r\n              />\r\n              {!props.completed ?     \r\n                <DeleteIcon onClick={e => props.handleConfirm(e, item.id)}>\r\n                  <Tooltip title=\"Удалить тестирование\" placement=\"top\">\r\n                    <Delete />\r\n                  </Tooltip>\r\n                </DeleteIcon>\r\n              : null }\r\n            </ListItemLink>\r\n            <Divider />\r\n          </Fragment>\r\n        ) : <NotFound /> }\r\n      </List>\r\n    </div>\r\n  );\r\n}\r\n\r\nTestList.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nconst DeleteIcon = styled.span`\r\n  svg {\r\n    font-size: 32px;\r\n    color: rgba(0,0,0,0.54);\r\n    right: 25px;\r\n    padding: 5px;\r\n    top: 0;\r\n    bottom: 0;\r\n    margin: auto;\r\n    position: absolute;\r\n  }\r\n`;\r\n\r\nexport default withStyles(styles)(TestList);","import React from 'react';\r\nimport { Typography } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nexport default function NoTests() {\r\n  return (\r\n    <Container>\r\n      <Typography variant='body1'>\r\n        Пока вы ещё не проходили ниодного тестирования.\r\n      </Typography>\r\n      <Typography variant='body2' style={{ marginTop: 20 }}>\r\n        Как только у вас будет пройдено тестирование - здесь вы сможете просмотреть результаты его выполения.\r\n      </Typography>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  padding: 30px 40px;\r\n  height: 350px;\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n`;","import React from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport SearchIcon from '../img/icons/baseline-search-24px.svg';\r\nimport styled from 'styled-components';\r\n\r\nfunction Search(props) {\r\n  return (\r\n    <SearchWrapper>\r\n      <TextField\r\n        id=\"outlined-adornment-password\"\r\n        variant=\"outlined\"\r\n        type='text'\r\n        label=\"Начните вводить имя, фамилию или должность...\"\r\n        margin='dense'\r\n        value={props.searchValue}\r\n        onChange={props.handleSearch}\r\n        InputProps={{\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <IconButton\r\n                aria-label=\"Начните вводить имя, фамилию или должность...\"\r\n              >\r\n                <img alt='Поиск' src={SearchIcon} style={{ opacity: '.37' }} />\r\n              </IconButton>\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n      />\r\n    </SearchWrapper>\r\n  )\r\n}\r\n\r\nconst SearchWrapper = styled.div`\r\n  padding: 20px;\r\n  & > div {\r\n    width: 100%;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\r\n    padding: 10px 20px 12px;\r\n    height: 80px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: flex-end;\r\n    label {\r\n      line-height: .5;\r\n    }\r\n    input {\r\n      padding: 9px 18.5px;\r\n    }\r\n    input::placeholder {\r\n      color: red;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default Search;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport Select from 'react-select';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Typography, NoSsr, TextField, Paper, Chip, MenuItem } from '@material-ui/core';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport { emphasize } from '@material-ui/core/styles/colorManipulator';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    height: 120,\r\n    marginTop: 20,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between',\r\n    zIndex: 1000,\r\n  },\r\n  input: {\r\n    display: 'flex',\r\n    padding: 0,\r\n  },\r\n  valueContainer: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    zIndex: 1000,\r\n  },\r\n  chip: {\r\n    margin: `${theme.spacing.unit / 2}px ${theme.spacing.unit / 4}px`,\r\n  },\r\n  chipFocused: {\r\n    backgroundColor: emphasize(\r\n      theme.palette.type === 'light' ? theme.palette.grey[300] : theme.palette.grey[700],\r\n      0.08,\r\n    ),\r\n  },\r\n  noOptionsMessage: {\r\n    padding: `${theme.spacing.unit}px ${theme.spacing.unit * 2}px`,\r\n  },\r\n  singleValue: {\r\n    fontSize: 16,\r\n  },\r\n  placeholder: {\r\n    position: 'absolute',\r\n    left: 2,\r\n    fontSize: 16,\r\n  },\r\n  paper: {\r\n    position: 'absolute',\r\n    zIndex: 1000,\r\n    marginTop: theme.spacing.unit,\r\n    left: 0,\r\n    right: 0,\r\n  }\r\n});\r\n\r\nfunction NoOptionsMessage(props) {\r\n  return (\r\n    <Typography\r\n      color=\"textSecondary\"\r\n      className={props.selectProps.classes.noOptionsMessage}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction inputComponent({ inputRef, ...props }) {\r\n  return <div ref={inputRef} {...props} />;\r\n}\r\n\r\nfunction Control(props) {\r\n  return (\r\n    <TextField\r\n      fullWidth\r\n      InputProps={{\r\n        inputComponent,\r\n        inputProps: {\r\n          className: props.selectProps.classes.input,\r\n          inputRef: props.innerRef,\r\n          children: props.children,\r\n          ...props.innerProps,\r\n        },\r\n      }}\r\n      {...props.selectProps.textFieldProps}\r\n    />\r\n  );\r\n}\r\n\r\nfunction Option(props) {\r\n  return (\r\n    <MenuItem\r\n      buttonRef={props.innerRef}\r\n      selected={props.isFocused}\r\n      component=\"div\"\r\n      style={{\r\n        fontWeight: props.isSelected ? 500 : 400,\r\n      }}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </MenuItem>\r\n  );\r\n}\r\n\r\nfunction Placeholder(props) {\r\n  return (\r\n    <Typography\r\n      color=\"textSecondary\"\r\n      className={props.selectProps.classes.placeholder}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction SingleValue(props) {\r\n  return (\r\n    <Typography className={props.selectProps.classes.singleValue} {...props.innerProps}>\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction ValueContainer(props) {\r\n  return <div className={props.selectProps.classes.valueContainer}>{props.children}</div>;\r\n}\r\n\r\nfunction MultiValue(props) {\r\n  return (\r\n    <Chip\r\n      tabIndex={-1}\r\n      label={props.children}\r\n      className={classNames(props.selectProps.classes.chip, {\r\n        [props.selectProps.classes.chipFocused]: props.isFocused,\r\n      })}\r\n      onDelete={props.removeProps.onClick}\r\n      deleteIcon={<CancelIcon {...props.removeProps} />}\r\n    />\r\n  );\r\n}\r\n\r\nfunction Menu(props) {\r\n  return (\r\n    <Paper square className={props.selectProps.classes.paper} {...props.innerProps}>\r\n      {props.children}\r\n    </Paper>\r\n  );\r\n}\r\n\r\nconst components = {\r\n  Control,\r\n  Menu,\r\n  MultiValue,\r\n  NoOptionsMessage,\r\n  Option,\r\n  Placeholder,\r\n  SingleValue,\r\n  ValueContainer,\r\n};\r\n\r\nclass IntegrationReactSelect extends React.Component {\r\n\r\n  render() {\r\n    const { classes, theme } = this.props;\r\n    \r\n    const users = this.props.users.map(user => ({\r\n      value: user.id,\r\n      label: `${user.name} ${user.surname}`,\r\n      position: user.position\r\n    }));\r\n\r\n    const selectStyles = {\r\n      input: base => ({\r\n        ...base,\r\n        color: theme.palette.text.primary,\r\n        '& input': {\r\n          font: 'inherit',\r\n        },\r\n      }),\r\n    };\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <NoSsr>\r\n          <Select\r\n            classes={classes}\r\n            styles={selectStyles}\r\n            textFieldProps={{\r\n              label: 'Сотрудник',\r\n              InputLabelProps: {\r\n                shrink: true,\r\n              },\r\n            }}\r\n            options={users}\r\n            components={components}\r\n            value={this.props.selectedUser}\r\n            onChange={this.props.handleChange('selectedUser')}\r\n            placeholder=\"Выберите тестируемого сотрудника\"\r\n            isMulti={false}\r\n          />\r\n        </NoSsr>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nIntegrationReactSelect.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  theme: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(IntegrationReactSelect);","import React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nlet times = [\r\n  {\r\n    value: false,\r\n    label: 'без времени'\r\n  }\r\n];\r\n\r\nfor (let i = 10; i <= 120; i += 10) {\r\n  let item = {};\r\n  item.value = i;\r\n  item.label = `${i} минут`;\r\n  times.push(item);\r\n}\r\n\r\nconst styles = theme => ({\r\n  textField: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    width: '100%',\r\n  },\r\n  menu: {\r\n    width: 200,\r\n  },\r\n});\r\n\r\nclass TimePicker extends React.Component {\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <Grid container justify=\"space-around\" style={{ paddingBottom: 30 }}>\r\n        <TextField\r\n          select\r\n          label=\"Минуты\"\r\n          className={classes.textField}\r\n          value={this.props.selectedTime}\r\n          onChange={this.props.handleTimeChange}\r\n          SelectProps={{\r\n            MenuProps: {\r\n              className: classes.menu,\r\n            },\r\n          }}\r\n          helperText=\"Пожалуйста, назначьте время прохождения теста\"\r\n          margin=\"dense\"\r\n        >\r\n          {times.map(option => (\r\n            <MenuItem key={option.value} value={option.value}>\r\n              {option.label}\r\n            </MenuItem>\r\n          ))}\r\n        </TextField>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(TimePicker);","import React from 'react';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\n\r\nclass QuestionItem extends React.Component {\r\n\r\n  mark(category, id) {\r\n    this.props.setHeadSubCategory(category);\r\n    this.props.handleMarkQuestion(id, '')\r\n  }\r\n\r\n  render() {\r\n    const { question } = this.props;\r\n    return (\r\n      <ListItem dense button onClick={() => this.mark(this.props.category, question.id)}>\r\n        <Checkbox\r\n          checked={question.checked}\r\n          tabIndex={-1}\r\n          disableRipple\r\n          color='primary'\r\n        />\r\n        <ListItemText primary={question.question} />\r\n      </ListItem>\r\n    );\r\n  }\r\n}\r\n\r\nexport default QuestionItem;","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport QuestionItem from './QuestionItem';\r\nimport List from '@material-ui/core/List';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport { connect } from 'react-redux';\r\n\r\nconst styles = theme => ({\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightRegular,\r\n  },\r\n});\r\n\r\nfunction CategoryItem(props) {\r\n  const [checked, setChecked] = useState(false);\r\n  const [categoryFiltered, setCategoryFiltered] = useState([]);\r\n  const { classes } = props;\r\n  const [checkedSubs, setCheckedSubs] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const categoryFiltered = props.questions.filter(q => q.category === props.value);\r\n    setCategoryFiltered(categoryFiltered);\r\n    findUniqSubcategories(categoryFiltered);\r\n  }, []);\r\n\r\n  function markAll(e) {\r\n    e.stopPropagation();\r\n    let allCategories = props.store.categories;\r\n    setChecked(checked ? false : true);\r\n    !checked ? setCheckedSubs(allCategories) : setCheckedSubs([]);\r\n  }\r\n\r\n  function setHeadSubCategory(category) {\r\n    let current = checkedSubs;\r\n\r\n    if (current.indexOf(category) === -1) {\r\n      current.push(category);\r\n      setChecked(true);\r\n    } else {\r\n      current = current.filter(cat => cat !== category);\r\n      if (current.length === 0) setChecked(false);\r\n    }\r\n    setCheckedSubs(current);\r\n  }\r\n\r\n  function markSub(e, category) {\r\n    e.stopPropagation();\r\n    props.handleMarkQuestion(undefined, props.value, checkedSubs.indexOf(category) !== -1, category)\r\n    let current = checkedSubs;\r\n\r\n    if (current.indexOf(category) === -1) {\r\n      current.push(category);\r\n      setChecked(true);\r\n    } else {\r\n      current = current.filter(cat => cat !== category);\r\n      if (current.length === 0) setChecked(false);\r\n    }\r\n\r\n    setCheckedSubs(current);\r\n  }\r\n\r\n  function findUniqSubcategories(questions) {\r\n    let result = props.store.categories;\r\n    questions.forEach(question => {\r\n      if (result.indexOf(question.subcategory) === -1) result.push(question.subcategory);\r\n    })\r\n    props.getCategories(result);\r\n  }\r\n\r\n  return (\r\n    <ExpansionPanel>\r\n      <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />} className='align-center expansion-panel-top' style={{ paddingLeft: 12 }}>\r\n        <Checkbox\r\n          onClick={e => markAll(e)}\r\n          checked={checked}\r\n          onChange={() => props.handleMarkQuestion('', props.value, checked)}\r\n        />\r\n        <Typography className={classes.heading}>{props.var}</Typography>\r\n      </ExpansionPanelSummary>\r\n      <ExpansionPanelDetails style={{ flexDirection: 'column', padding: 0 }}>\r\n        {/*eslint-disable-next-line */}\r\n        {props.store.categories.map(category => {\r\n          if (categoryFiltered.find(q => q.subcategory === category)) {\r\n            return (\r\n              <ExpansionPanel key={category}>\r\n                <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />} className='align-center' style={{ paddingLeft: 12 }}>\r\n                  <Checkbox\r\n                    color='primary'\r\n                    onClick={e => markSub(e, category)}\r\n                    checked={checkedSubs.indexOf(category) !== -1}\r\n                  />\r\n                  <Typography className={classes.heading}>{category}</Typography>\r\n                </ExpansionPanelSummary>\r\n                <ExpansionPanelDetails style={{ flexDirection: 'column', padding: 0 }}>\r\n                  <List>\r\n                    {/*eslint-disable-next-line */}\r\n                    {categoryFiltered.map(question => {\r\n                      if (question.subcategory === category) {\r\n                        return (\r\n                          <QuestionItem\r\n                            key={question.id}\r\n                            category={category}\r\n                            setHeadSubCategory={setHeadSubCategory}\r\n                            question={question}\r\n                            handleMarkQuestion={props.handleMarkQuestion}\r\n                          />\r\n                        )\r\n                      }\r\n                    })}\r\n                  </List>\r\n                </ExpansionPanelDetails>\r\n              </ExpansionPanel>\r\n            )\r\n          }\r\n        }\r\n        )}\r\n      </ExpansionPanelDetails>\r\n    </ExpansionPanel>\r\n  );\r\n}\r\n\r\nCategoryItem.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    getCategories: categories => {\r\n      dispatch({ type: 'GET_CATEGORIES', payload: categories })\r\n    },\r\n    resetCategories: categories => {\r\n      dispatch({ type: 'RESET_CATEGORIES', payload: categories })\r\n    }\r\n  })\r\n)(withStyles(styles)(CategoryItem));\r\n","import React, { Fragment } from 'react';\r\nimport CategoryItem from './CategoryItem';\r\n\r\nexport default function SelectQuestions(props) {\r\n  return (\r\n    <Fragment>\r\n      {props.categories.map(category => \r\n        <CategoryItem \r\n          key={category.id} \r\n          var={category.var} \r\n          value={category.value} \r\n          questions={props.questions} \r\n          handleMarkQuestion={props.handleMarkQuestion}\r\n        />\r\n      )}\r\n    </Fragment>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport StepContent from '@material-ui/core/StepContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport SelectUser from './SelectUser';\r\nimport SelectTime from './SelectTime';\r\nimport SelectQuestions from './SelectQuestions';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n  },\r\n  actionsContainer: {\r\n    marginBottom: theme.spacing.unit * 2,\r\n  },\r\n  resetContainer: {\r\n    padding: theme.spacing.unit * 3,\r\n  },\r\n});\r\n\r\nfunction getSteps() {\r\n  return ['Выберите сотрудника', 'Назначьте время прохождения', 'Выберите вопросы'];\r\n}\r\n\r\nfunction getStepContent(step) {\r\n  switch (step) {\r\n    case 0:\r\n      return `Выберите сотрудника из выпадающего списка, так же можете начать вводить имя или фамилию сотрудника в строке поиска. Вы можете выбрать только одного сотрудника.`;\r\n    case 1:\r\n      return 'Выберите длительность тестирования из выпадающего списка.';\r\n    case 2:\r\n      return `Отметьте категории или подкатегории вопросов, которые будут в тестировании. Вы можете добавлять в тестирование вопросы из разных категорий.`;\r\n    default:\r\n      return 'Unknown step';\r\n  }\r\n}\r\n\r\nclass VerticalLinearStepper extends React.Component {\r\n  state = {\r\n    activeStep: 0,\r\n  };\r\n\r\n  handleNext = () => {\r\n    this.setState(state => ({\r\n      activeStep: state.activeStep + 1,\r\n    }));\r\n    this.setOverlay(this.state.activeStep + 1);\r\n  };\r\n\r\n  handleBack = () => {\r\n    this.setState(state => ({\r\n      activeStep: state.activeStep - 1,\r\n    }));\r\n    this.setOverlay(this.state.activeStep - 1);\r\n  };\r\n\r\n  handleReset = () => {\r\n    this.setState({\r\n      activeStep: 0,\r\n    });\r\n    this.setOverlay(0)\r\n  };\r\n\r\n  setOverlay(step) {\r\n    const overlay = document.getElementById('overlay-modal');\r\n    if (step === 2) {\r\n      overlay.style.overflow = 'overlay';\r\n    } else {\r\n      overlay.style.overflow = 'visible';\r\n    }\r\n  }\r\n\r\n  checkDisabled = (step, selectedUser, time, questions) => {\r\n    if (step === 0 && selectedUser.length !== 0) return false;\r\n    if (step === 1 && (typeof time === 'boolean' || time)) return false;\r\n    if (step === 2 && questions) {\r\n      const selectedQuestions = questions.filter(question => question.checked);\r\n      if (selectedQuestions.length > 0 ) return false;\r\n    } \r\n    return true;\r\n  }\r\n\r\n  render() {\r\n    const { classes, users, selectedUser, selectedTime, questions, categories } = this.props;\r\n    const steps = getSteps();\r\n    const { activeStep } = this.state;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <Stepper activeStep={activeStep} orientation=\"vertical\">\r\n          {steps.map((label, index) => (\r\n            <Step key={label}>\r\n              <StepLabel>{label}</StepLabel>\r\n              <StepContent>\r\n                <Typography>{getStepContent(index)}</Typography>\r\n                <div className={classes.actionsContainer}>\r\n                  <div>\r\n                    <Button\r\n                      disabled={activeStep === 0}\r\n                      onClick={this.handleBack}\r\n                      className={classes.button}\r\n                    >\r\n                      Назад\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      color={activeStep === steps.length - 1 ? 'secondary' : 'primary'}\r\n                      onClick={activeStep === steps.length - 1 ? () => {this.props.handleSubmit(); this.handleNext()} : this.handleNext}\r\n                      className={classes.button}\r\n                      disabled={this.checkDisabled(activeStep, selectedUser, selectedTime, questions)} \r\n                    >\r\n                      {activeStep === steps.length - 1 ? 'Создать тестирование' : 'Дальше'}\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </StepContent>\r\n            </Step>\r\n          ))}\r\n                        \r\n        </Stepper>\r\n\r\n        {/* Контент */}\r\n        {activeStep === 0 \r\n          ? <SelectUser \r\n              users={users} \r\n              selectedUser={selectedUser}\r\n              handleChange={this.props.handleChange}\r\n            />\r\n          : activeStep === 1\r\n          ? <SelectTime \r\n              selectedTime={selectedTime} \r\n              handleTimeChange={this.props.handleTimeChange}\r\n            />\r\n          : activeStep === 2\r\n          ? <SelectQuestions\r\n              questions={questions}\r\n              categories={categories}\r\n              handleMarkQuestion={this.props.handleMarkQuestion}\r\n            />\r\n          : null } \r\n\r\n        {activeStep === steps.length && (\r\n          <Paper square elevation={0} className={classes.resetContainer}>\r\n            <Typography>Вы можете запустить тестирование в любое время на вкладке \"созданные\" в разделе тесты.</Typography>\r\n            <Button \r\n              onClick={() => {this.handleReset(); this.props.resetAll()}}\r\n              variant=\"contained\"               \r\n              color=\"secondary\"\r\n              className={classes.button}\r\n            >\r\n              Создать ещё одно тестирование\r\n            </Button>\r\n            <Button \r\n              onClick={this.props.handleClose} \r\n              className={classes.button}\r\n            >\r\n              Закрыть\r\n            </Button>\r\n          </Paper>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nVerticalLinearStepper.propTypes = {\r\n  classes: PropTypes.object,\r\n};\r\n\r\nexport default withStyles(styles)(VerticalLinearStepper);","import React, { Component, Fragment } from 'react';\r\nimport { Paper, Typography, Tooltip } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport API from '../../functions/API';\r\nimport Stepper from './Stepper';\r\nimport $ from 'jquery';\r\nimport { connect } from 'react-redux';\r\nimport { withSnackbar } from 'notistack';\r\nimport { fetchQuestions, fetchCategories } from '../../Effects/fetches';\r\nimport moment from 'moment';\r\nimport { fetchTestLastId } from '../../Effects/fetches';\r\n\r\nclass GenerateTest extends Component {\r\n  state = {\r\n    selectedTime: '',\r\n    users: [],\r\n    selectedUser: [],\r\n    questions: [],\r\n    categories: []\r\n  }\r\n\r\n  async componentDidMount() {\r\n    fetch(`${API}/api/user/read.php`)\r\n      .then(response => response.json())\r\n      .then(users => this.setState({ users: users.data }))\r\n      .catch(err => console.log(err))\r\n\r\n    const categories = await fetchCategories();\r\n    const questions = await fetchQuestions();\r\n    \r\n    await this.setState({ questions, categories });\r\n  }\r\n\r\n  handleChange = name => value => this.setState({ [name]: value });\r\n  handleTimeChange = e => this.setState({ selectedTime: e.target.value });\r\n\r\n  handleMarkQuestion = (id, category, checked, sub) => {\r\n    let questions = this.state.questions;\r\n    if (id) {\r\n      let questionToMark = questions.find(question => question.id === id);\r\n      questionToMark.checked = !questionToMark.checked;\r\n    } else {\r\n      if (sub) {\r\n        let questionsToMark = questions.filter(question => question.category === category && question.subcategory === sub);\r\n        questionsToMark.forEach(question => {\r\n          question.checked = !checked;\r\n        });\r\n      } else {\r\n        let questionsToMark = questions.filter(question => question.category === category);\r\n        questionsToMark.forEach(question => {\r\n          question.checked = !checked;\r\n        });\r\n      }\r\n    }\r\n    this.setState({ questions });    \r\n  }\r\n\r\n  handleSubmit = () => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    const { selectedUser, questions, selectedTime } = this.state;\r\n    const selectedQuestions = questions.filter(question => question.checked);\r\n    const selectedQuestionsIds = [];\r\n\r\n    selectedQuestions.map(q => selectedQuestionsIds.push(q.id));\r\n\r\n    formData.append('questions', selectedQuestionsIds);\r\n    formData.append('user_name', selectedUser.label);\r\n    formData.append('user_id', selectedUser.value);\r\n    formData.append('date', moment().format('L'));\r\n    formData.append('time', selectedTime);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/test/create.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: async () => {\r\n        let last_id = await fetchTestLastId();\r\n        await self.props.onAddNewTest({\r\n          questions: selectedQuestionsIds,\r\n          user_name: selectedUser.label,\r\n          user_id: selectedUser.value,\r\n          date: moment().format('L'),\r\n          time: selectedTime,\r\n          completed: false,\r\n          position: selectedUser.position,\r\n          id: Number(last_id)\r\n        })\r\n        await self.props.enqueueSnackbar('Тест успешно был создан', { variant: 'success' });\r\n      },\r\n      error: () => {\r\n        self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' });\r\n      }\r\n    });\r\n  }\r\n  \r\n  resetAll() {\r\n    const questions = [];\r\n    this.state.questions.forEach(question => {\r\n      question.checked = false;\r\n      questions.push(question);\r\n    });\r\n    this.setState({\r\n      selectedTime: '',\r\n      selectedUser: [],\r\n      questions,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { users, selectedUser, selectedTime } = this.state;\r\n\r\n    return (\r\n      <Fragment>\r\n        <Wrapper id='overlay-modal'>\r\n          <Paper>\r\n            <span className='closeNewTask' onClick={this.props.handleClose}>\r\n              <Tooltip title=\"Закрыть\" placement=\"left\"><CloseIcon /></Tooltip>\r\n            </span>\r\n            <Typography variant='h5'>Создать тестирование</Typography>\r\n            <Stepper\r\n              users={users}\r\n              selectedUser={selectedUser}\r\n              selectedTime={selectedTime}\r\n              handleChange={this.handleChange}\r\n              handleTimeChange={this.handleTimeChange}\r\n              handleClose={this.props.handleClose}\r\n              handleSubmit={this.handleSubmit}\r\n              questions={this.state.questions}\r\n              categories={this.state.categories}\r\n              handleMarkQuestion={this.handleMarkQuestion.bind(this)}\r\n              resetAll={this.resetAll.bind(this)}\r\n            />\r\n          </Paper>\r\n        </Wrapper>\r\n        {window.innerWidth >= 600 ? <Backdrop onClick={this.props.handleClose} /> : null}\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  max-width: 850px;\r\n  height: fit-content;\r\n  max-height: 75vh;\r\n  overflow: visible;\r\n  margin: auto;\r\n  background: #ffffff;\r\n  border-radius: 10px;\r\n  outline: none;\r\n  z-index: 10;\r\n\r\n  .listFor {\r\n    max-height: 220px;\r\n    margin-top: 20px;\r\n    overflow: auto;\r\n  }\r\n  ::-webkit-scrollbar {\r\n    width: 5px;\r\n  }\r\n  ::-webkit-scrollbar-track {\r\n    background-color: #ebebeb;\r\n    -webkit-border-radius: 10px;\r\n    border-radius: 10px;\r\n  }\r\n  ::-webkit-scrollbar-thumb {\r\n    -webkit-border-radius: 10px;\r\n    border-radius: 10px;\r\n    background: #1976d2; \r\n  }\r\n\r\n  & > div {\r\n    height: fit-content;\r\n    padding: 20px 30px;\r\n  }\r\n   \r\n  .closeNewTask svg {\r\n    font-size: 30px;\r\n    color: #1976d2;\r\n    opacity: .8;\r\n    cursor: pointer;\r\n    position: absolute;\r\n    right: 20px;\r\n    top: 20px;\r\n\r\n    :hover {\r\n      opacity: .8;\r\n      transition: .37s ease;\r\n    }\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    top: 0;\r\n    max-width: 100%;\r\n    border-radius: unset;\r\n    height: calc(100vh - 55px);\r\n    margin: unset;\r\n    box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\r\n    & > div {\r\n      padding: 20px 15px;\r\n      box-shadow: unset;\r\n      & > div {\r\n        > div:first-child {\r\n          padding: 20px 5px;\r\n        }\r\n      }\r\n    }\r\n    .closeNewTask svg {\r\n      font-size: 32px;\r\n      right: 15px;\r\n    } \r\n  }\r\n`;\r\n\r\nconst Backdrop = styled.div`\r\n  position: absolute;\r\n  top: 0; bottom: 0;\r\n  left: 0; right: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 5;\r\n  background: rgba(0,0,0,.17);\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    onAddNewTest: test => {\r\n      dispatch({ type: 'ADD_TEST', payload: test })\r\n    }\r\n  })\r\n)(withSnackbar(GenerateTest));","import React, { Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TestList from '../List/List';\r\nimport Search from './Search';\r\nimport Fab from '../Fab/Fab';\r\nimport Modal from '../Modal/Modal';\r\nimport GenerateTest from './Steps/GenerateTest';\r\nimport { connect } from 'react-redux';\r\nimport ConfirmDelete from '../Tasks/ConfirmDelete';\r\nimport Loader from '../Loader/Loader';\r\nimport API from '../functions/API';\r\nimport { withSnackbar } from 'notistack';\r\nimport $ from 'jquery';\r\n\r\nfunction TabContainer({ children, dir }) {\r\n  return (\r\n    <Typography component=\"div\" dir={dir}>\r\n      {children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nTabContainer.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n  dir: PropTypes.string.isRequired,\r\n};\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    width: '100%',\r\n  },\r\n});\r\n\r\nclass AdminPanel extends React.Component {\r\n  state = {\r\n    value: 0,\r\n    searchValue: '',\r\n    items: [],\r\n    documentTitle: document.title,\r\n    open: false,\r\n    confirm: false,\r\n    loading: false\r\n  };\r\n\r\n  handleChange = (event, value) => {\r\n    this.setState({ value });\r\n  };\r\n\r\n  handleChangeIndex = index => {\r\n    this.setState({ value: index });\r\n  };\r\n\r\n  handleSearch = (e) => {\r\n    this.setState({ searchValue: e.target.value });\r\n    const searchValue = e.target.value.toLowerCase();\r\n    document.title = e.target.value || this.state.documentTitle;\r\n    let items = this.state.items;\r\n    items = items.filter(item => \r\n      item.user_name.toLowerCase().includes(searchValue) || \r\n      item.position.toLowerCase().includes(searchValue)\r\n    );\r\n    this.props.onFilterTests(items);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ items: this.props.store.tests });\r\n  }\r\n\r\n  componentWillUnmount = () => {\r\n    document.title = this.state.documentTitle;\r\n  }\r\n\r\n  openModal = () => this.setState({ open: true });\r\n  closeModal = () => this.setState({ open: false });\r\n  handleClose = () => this.setState({ open: false, confirm: false, preparedToDelete: null });\r\n  handleConfirm = (e,id) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.setState({ confirm: true, preparedToDelete: id });\r\n  }\r\n\r\n  handleDelete = () => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    this.setState({ loading: true, confirm: false })\r\n    formData.append('id', this.state.preparedToDelete);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/test/delete.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: res => {\r\n        console.log(res);\r\n        self.props.onDeleteTest(self.state.preparedToDelete);\r\n        self.setState({ loading: false, preparedToDelete: null });\r\n        self.props.enqueueSnackbar('Тестирование успешно было удалено', { variant: 'info' });\r\n      },\r\n      error: err => {\r\n        console.log(err);\r\n        self.props.enqueueSnackbar('Что-то пошло не так, попробуйте снова', { variant: 'error' });\r\n      }\r\n    }); \r\n  }\r\n\r\n  render() {\r\n    const { classes, theme } = this.props;\r\n    const { tests } = this.props.store;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <AppBar position=\"static\" color=\"default\">\r\n          <Tabs\r\n            value={this.state.value}\r\n            onChange={this.handleChange}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            variant=\"fullWidth\"\r\n          >\r\n            <Tab label=\"Завершенные\" />\r\n            <Tab label=\"Созданные\" />\r\n          </Tabs>\r\n        </AppBar>\r\n\r\n        {this.state.loading \r\n        ? <Loader minHeight={300} color='primary' />\r\n        : \r\n        <Fragment>\r\n          <Search \r\n            handleSearch={this.handleSearch}\r\n            searchValue={this.state.searchValue}\r\n          />\r\n\r\n          <SwipeableViews\r\n            axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\r\n            index={this.state.value}\r\n            onChangeIndex={this.handleChangeIndex}\r\n            style={{ maxHeight: 350, paddingBottom: 50 }}\r\n            className='swipeable'\r\n          >\r\n            <TabContainer dir={theme.direction}>\r\n              <TestList items={tests.length > 0 ? tests : []} completed={true} handleConfirm={this.handleConfirm} />\r\n            </TabContainer>\r\n            <TabContainer dir={theme.direction}>\r\n              <TestList items={tests.length > 0 ? tests : []} completed={false} handleConfirm={this.handleConfirm} />\r\n            </TabContainer>\r\n          </SwipeableViews>\r\n        </Fragment>\r\n        }\r\n\r\n        {/* Add new task modal */}\r\n        <Modal\r\n          open={this.state.open}\r\n          handleClose={this.closeModal}\r\n          component={\r\n            <GenerateTest\r\n              handleClose={this.closeModal}\r\n            />}\r\n        />\r\n\r\n        {/* Confirm delete modal */}\r\n        <Modal\r\n          open={this.state.confirm}\r\n          handleClose={this.handleClose.bind(this)}\r\n          component={<ConfirmDelete\r\n            handleDelete={this.handleDelete}\r\n            handleClose={this.handleClose.bind(this)}\r\n            name='тестирование'\r\n          />}\r\n        />\r\n\r\n        <span onClick={this.openModal}>\r\n          <Fab title=\"Создать тестирование\" />\r\n        </span>\r\n  \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nAdminPanel.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  theme: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    onFilterTests: tests => {\r\n      dispatch({ type: \"FILTER_TESTS\", payload: tests })\r\n    },\r\n    onDeleteTest: test_id => {\r\n      dispatch({ type: \"DELETE_TEST\", payload: test_id })\r\n    }\r\n  })\r\n)(withSnackbar(withStyles(styles, { withTheme: true })(AdminPanel)));\r\n\r\n","import React from 'react';\r\nimport { Typography, Paper } from '@material-ui/core';\r\n\r\nexport default function UserPanel() {\r\n  return (\r\n    <Paper style={styles}>\r\n      <Typography variant='h5'>Тестирования</Typography>\r\n      <Typography variant='body2'>Здесь вы можете просмотреть результаты пройденных вами тестов.</Typography>\r\n    </Paper>\r\n  )\r\n}\r\n\r\nconst styles = {\r\n  marginBottom: 10,\r\n  padding: '35px 15px 15px'\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { Button, Paper } from '@material-ui/core/';\r\nimport { fetchTests, fetchTestsById } from '../Effects/fetches';\r\nimport Loader from '../Loader/Loader';\r\nimport TestList from '../List/List';\r\nimport KeyboardBackspace from '@material-ui/icons/KeyboardBackspace';\r\nimport styled from 'styled-components';\r\nimport NoTests from './NoTests';\r\nimport AdminPanel from './AdminPanel';\r\nimport { connect } from 'react-redux';\r\nimport UserPanel from './UserPanel';\r\n\r\nfunction Tests(props) {\r\n  const { tests } = props.store;\r\n  const isAdmin = props.store.user.admin;\r\n  const [loading, setLoading] = useState(tests.length === 0 ? true : false);\r\n\r\n  useEffect(() => {\r\n    if (tests.length === 0) {\r\n        async function fetchData() {\r\n        const response = isAdmin === '1' ? await fetchTests() : await fetchTestsById();\r\n        props.fetchTests(response);\r\n        setLoading(false);\r\n      }\r\n      fetchData(); \r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Paper style={{ minHeight: 300, position: 'relative' }}>\r\n\r\n      {!loading && isAdmin === '1' ? <AdminPanel items={tests} /> : null}\r\n\r\n      {!loading && isAdmin === '0' ? <UserPanel /> : null}\r\n\r\n      {loading \r\n        ? <Loader minHeight={350} color='primary' /> \r\n        : tests && tests.length > 0 && isAdmin === '0'\r\n          ? <TestList items={tests}/>\r\n          : isAdmin === '0' ? <NoTests /> : null}\r\n\r\n      <Buttons>\r\n        <Button  \r\n          color='primary' \r\n          onClick={props.closeSection}\r\n        >\r\n          <KeyboardBackspace />\r\n          Назад \r\n        </Button>\r\n      </Buttons>\r\n    </Paper>\r\n  )\r\n}\r\n\r\nconst Buttons = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  position: absolute;\r\n  bottom: 0;\r\n  button {\r\n    width: 100%;\r\n    height: 50px;\r\n    margin: 20px auto 0;\r\n    background: #fff;\r\n    span > svg {\r\n      margin-right: 10px;\r\n    }\r\n    :hover {\r\n      background: #1976d2;\r\n      color: white;\r\n      svg {\r\n        color: white;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    fetchTests: tests => {\r\n      dispatch({ type: 'FETCH_TESTS', payload: tests })\r\n    }\r\n  })\r\n)(Tests);","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport ResponsiveHeader from '../ResponsiveHeader/ResponsiveHeader';\r\nimport Cards from './Container';\r\nimport Materials from './Materials';\r\nimport Tests from './Tests';\r\n\r\nfunction Learnings() {\r\n  const [opened, setOpened] = useState(false);\r\n\r\n  function changeSection(section) {\r\n    setOpened(section);\r\n  }\r\n\r\n  function closeSection() {\r\n    setOpened(false);\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      {window.innerWidth < 600 ? <ResponsiveHeader title='Обучение' /> : null}\r\n\r\n      {!opened \r\n        ? <Cards \r\n            class='learnings-container' \r\n            changeSection={changeSection} \r\n          />\r\n        : opened === 'tests' \r\n          ? <Tests closeSection={closeSection} />\r\n          : <Materials closeSection={closeSection} />\r\n      }\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  .learnings-container {\r\n    display: flex;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    .learnings-container {\r\n      flex-direction: column;\r\n      padding-bottom: 50px;\r\n      & > div {\r\n        margin: 0 auto 25px;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default Learnings;","import React, { Fragment } from 'react';\r\nimport './css/MainPage.css'\r\nimport Header from './Header';\r\nimport MainpageHeader from './MainpageHeader';\r\nimport SideNews from './SideNews';\r\nimport FriendsList from './FriendsList/FriendsList';\r\nimport PersonalInfo from './PersonalInfo';\r\nimport Tasks from './Tasks/Tasks';\r\nimport News from './News';\r\nimport Nav from './Navigation/Navigation';\r\nimport styled from 'styled-components';\r\nimport Chat from './Chat/Chat';\r\nimport { connect } from 'react-redux';\r\nimport Feed from './Feed/index';\r\nimport Learnings from './Learnings/Learnings';\r\n\r\nfunction MainPage() {\r\n  function switchComponent() {\r\n    let url = window.location.pathname.slice(1);\r\n    if (url.includes('id')) return <PersonalInfo />\r\n    \r\n    switch (url) {\r\n      case 'messages':\r\n        return <Chat />;\r\n      case 'news':\r\n        return <News />;\r\n      case 'tasks':\r\n        return <Tasks />;\r\n      case 'learnings':\r\n        return <Learnings />;\r\n      case 'colleagues':\r\n        return <FriendsList />\r\n      case 'feed':\r\n        return <Feed />\r\n      default: return null;\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <Fragment>\r\n      <MainpageHeader />\r\n      <div className=\"container\">\r\n        <Header />\r\n        <Nav />\r\n        <MainSection>\r\n          <SideNews />\r\n          <div className=\"main-page-container\">\r\n            {switchComponent()}\r\n          </div>\r\n        </MainSection>  \r\n      </div>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nconst MainSection = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport default connect(state => ({ store: state }))(MainPage);","import React, { Component, Fragment } from 'react';\r\nimport $ from 'jquery';\r\nimport { withSnackbar } from 'notistack';\r\nimport API from './functions/API';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\nimport { Button, Typography, TextField } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nclass ForgetPassword extends Component {\r\n  state = {\r\n    credentials: ''\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    var self = this;\r\n    e.preventDefault();\r\n\r\n    if (this.state.credentials) {\r\n      const formData = new FormData();\r\n      formData.append('credentials', this.state.credentials);\r\n\r\n      $.ajax({\r\n        url: `${API}/api/user/forget.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: function (res) {\r\n          console.log(res);\r\n          let response = res.result;\r\n\r\n          if (response === 1) {\r\n            self.props.enqueueSnackbar('На указанный вами при регистрации email - были отправлены рекомендации по восстановлению пароля', { variant: 'info' });\r\n            self.props.forgetPassword();\r\n          } else {\r\n            self.props.enqueueSnackbar('К сожалению, такого логина или email - не существует. Проверьте правильность введенных данных', { variant: 'info' });\r\n          }\r\n        },\r\n        error: function () {\r\n          self.props.enqueueSnackbar('Ошибка авторизации', { variant: 'error' });\r\n        }\r\n      });\r\n\r\n    } else {\r\n      self.props.enqueueSnackbar('Пожалуйста, введите, логин или пароль', { variant: 'warning' });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <Wrapper>\r\n          <Icon>\r\n            <CloseIcon onClick={this.props.forgetPassword} />\r\n          </Icon>\r\n          <Typography variant='subtitle2'>Восстановление пароля.</Typography>\r\n          <TextField\r\n            label=\"E-mail или логин\"\r\n            variant=\"outlined\"\r\n            name='login'\r\n            fullWidth\r\n            margin='dense'\r\n            error={this.state.credential}\r\n            onChange={e => this.setState({ credentials: e.target.value })}\r\n            value={this.state.username}\r\n          />\r\n          <Button variant='contained' color='primary' onClick={this.handleSubmit}>Отправить</Button>\r\n        </Wrapper>\r\n        <div className=\"black-wrapper black-wrapper__this\" onClick={this.props.forgetPassword}></div>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\nconst Wrapper = styled.div`\r\n  background: #fff;\r\n  z-index: 100;\r\n  width: 500px;\r\n  height: 258px;\r\n  left: 0;\r\n  right: 0;\r\n  position: fixed;\r\n  top: 25%;\r\n  margin: auto;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  justify-content: space-evenly;\r\n  padding: 30px;\r\n`;\r\nconst Icon = styled.div`\r\n  position: absolute;\r\n  right: 25px;\r\n  top: 15px;  \r\n  cursor: pointer;\r\n  svg {\r\n    color: #1976d2;\r\n  }\r\n`;\r\nexport default withSnackbar(ForgetPassword);\r\n","class Cookie {\r\n  setCookie(cname, cvalue, exdays) {\r\n    var d = new Date();\r\n    d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\r\n    var expires = \"expires=\"+d.toUTCString();\r\n    document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\r\n  }\r\n\r\n  getCookie(cname) {\r\n    var name = cname + \"=\";\r\n    var ca = document.cookie.split(';');\r\n    for(var i = 0; i < ca.length; i++) {\r\n      var c = ca[i];\r\n      while (c.charAt(0) === ' ') {\r\n        c = c.substring(1);\r\n      }\r\n      if (c.indexOf(name) === 0) {\r\n        return c.substring(name.length, c.length);\r\n      }\r\n    }\r\n    return \"\";\r\n  }\r\n\r\n  checkCookie() {\r\n    var user = this.getCookie(\"username\");\r\n    if (user !== \"\") {\r\n      alert(\"Welcome again \" + user);\r\n    } else {\r\n      user = prompt(\"Please enter your name:\", \"\");\r\n      if (user !== \"\" && user !== null) {\r\n        this.setCookie(\"username\", user, 365);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default Cookie;","import React, { Component, Fragment } from 'react';\r\nimport $ from 'jquery';\r\nimport ForgetPassword from './ForgetPassword';\r\nimport { connect } from 'react-redux';\r\nimport API from './functions/API';\r\nimport { Button } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport { withSnackbar } from 'notistack';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Cookie from './functions/Cookie';\r\n\r\nclass SignupForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      login: '',\r\n      password: '',\r\n      isForget: '',\r\n      isPassHidden: false,\r\n      invalidText: false,\r\n      invalidPass: false\r\n    }\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  // динамически обрабатываем изменения полей\r\n  handleChange(event) {\r\n    this.setState({ invalidText: false, invalidPass: false })\r\n    // ставим стейт исходя из именя поля и вводимого значения\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    })\r\n  }\r\n\r\n  forgetPassword = () => this.setState({ isForget: !this.state.isForget });\r\n\r\n  handleSubmit(e) {\r\n    var self = this;\r\n    e.preventDefault();\r\n\r\n    if (this.state.login !== '' && this.state.password.length >= 8) {\r\n      const formData = new FormData();\r\n\r\n      formData.append('login', this.state.login);\r\n      formData.append('password', this.state.password);\r\n\r\n      $.ajax({\r\n        url: `${API}/api/user/signup.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: function (res) {\r\n          let jwt = res.jwt;\r\n          let response = res.result;\r\n          let user_id = res.user_id;\r\n          let cookie = new Cookie();\r\n\r\n          switch (response) {\r\n            case 0:\r\n              self.props.enqueueSnackbar('Не удалось войти. Проверьте правильность введенных данных', { variant: 'warning' });\r\n              break;\r\n            case 0.5:\r\n              self.props.enqueueSnackbar('К сожалению, ваша учетная запись ещё не подтверждена, попробуйте войти позже', { variant: 'info' });\r\n              break;\r\n            case 'error':\r\n              self.props.enqueueSnackbar('Не удалось войти. Проверьте правильность введенных данных', { variant: 'error' });\r\n              break;\r\n            case 1:\r\n              localStorage.setItem('akv_jwt_token', jwt);\r\n              cookie.setCookie('akv_jwt_token', jwt, 30);\r\n              cookie.setCookie('user_id', user_id, 30);\r\n              window.location.href = `/`;  \r\n              break;\r\n            default: break;\r\n          }\r\n        },\r\n        error: function () {\r\n          self.props.enqueueSnackbar('Ошибка авторизации', { variant: 'error' });\r\n        }\r\n      });\r\n\r\n    } else {\r\n      self.props.enqueueSnackbar('Пожалуйста, заполните все поля', { variant: 'warning' });\r\n      if (this.state.password.length < 8) this.setState({ invalidPass: true })\r\n      if (!this.state.login) this.setState({ invalidText: true })\r\n    }\r\n  }\r\n\r\n  handleClickShowPassword = () => {\r\n    this.setState({ isPassHidden: !this.state.isPassHidden });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <div className=\"form-container\" style={{ 'paddingBottom': '45px' }}>\r\n          <form className=\"registerForm\" id=\"register\" action=\"\" method=\"POST\" onSubmit={this.handleSubmit}>\r\n\r\n            <TextField\r\n              label=\"Логин или email\"\r\n              variant=\"outlined\"\r\n              name='login'\r\n              fullWidth\r\n              margin='dense'\r\n              onChange={this.handleChange}\r\n              value={this.state.username}\r\n              error={this.state.invalidText}\r\n            />\r\n\r\n            <TextField\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              type={this.state.isPassHidden ? 'text' : 'password'}\r\n              label=\"Пароль\"\r\n              margin='dense'\r\n              name='password'\r\n              error={this.state.invalidPass}\r\n              value={this.state.password}\r\n              onChange={this.handleChange}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      aria-label=\"Toggle password visibility\"\r\n                      onClick={this.handleClickShowPassword}\r\n                    >\r\n                      {this.state.isPassHidden ? <VisibilityOff /> : <Visibility />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n            {this.state.invalidPass ? <FormHelperText style={{ color: '#f44336' }}>Пароль должен быть не менее 8 символов</FormHelperText> : ''}\r\n\r\n            <Buttons>\r\n              <Button variant='text' color='default' onClick={this.forgetPassword}>Забыли пароль?</Button>\r\n              <Button variant='contained' color='primary' type='submit'>Войти</Button>\r\n            </Buttons>\r\n            {this.state.isForget ? <ForgetPassword forgetPassword={this.forgetPassword} /> : null}\r\n          </form>\r\n        </div>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst Buttons = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 35px;\r\n`;\r\n\r\nexport default connect(\r\n  state => ({\r\n    global: state\r\n  }),\r\n  dispatch => ({\r\n    login: (user) => {\r\n      dispatch({ type: 'LOGGED_IN', payload: user })\r\n    }\r\n  })\r\n)(withSnackbar(SignupForm));","import React, { Component, Fragment } from 'react';\r\nimport $ from 'jquery';\r\nimport { withSnackbar } from 'notistack';\r\nimport API from './functions/API';\r\nimport { Button } from '@material-ui/core';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport styled from 'styled-components';\r\nimport Loader from './Loader/Loader';\r\n\r\nclass RegisterForm extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      email: '',\r\n      login: '',\r\n      password: '',\r\n      confirmed: '',\r\n      isEmailValid: '',\r\n      isPassHidden: false, \r\n      entered: false,\r\n      name: '',\r\n      surname: '',\r\n      loading: false\r\n    }\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.validateEmail = this.validateEmail.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.showPassword = this.showPassword.bind(this);\r\n  }\r\n\r\n  // динамически обрабатываем изменения полей\r\n  handleChange(event) {\r\n    // ставим стейт исходя из именя поля и вводимого значения\r\n    this.setState({\r\n      [event.target.name]: event.target.value,\r\n      entered: false\r\n    })\r\n    // если вводится е-мэйл то прогоняем через функцию\r\n    if (event.target.name === 'email') {\r\n      this.validateEmail(event.target.value);\r\n      // если вводимое значение пустое - то убираем подсказку \r\n      if (event.target.value === '') {\r\n        this.setState({ isEmailValid: '' });\r\n      }\r\n    }\r\n  }\r\n\r\n  validateEmail(email) {\r\n    // eslint-disable-next-line\r\n    const regExp = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    regExp.test(email) ? this.setState({ isEmailValid: true }) : this.setState({ isEmailValid: false });\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    var self = this;\r\n    e.preventDefault();\r\n    this.setState({ entered: true, loading: true });\r\n\r\n    if (this.state.login &&  this.state.surname && this.state.name && this.state.isEmailValid && this.state.password) {\r\n      const formData = new FormData();\r\n\r\n      formData.append('login', this.state.login);\r\n      formData.append('email', this.state.email);\r\n      formData.append('password', this.state.password);\r\n      formData.append('name', this.state.name);\r\n      formData.append('surname', this.state.surname);\r\n\r\n      $.ajax({\r\n        url: `${API}/api/user/register.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: function (res) {\r\n          const response = res.result;\r\n\r\n          switch (response) {\r\n            case 0:\r\n              self.props.enqueueSnackbar('Не удалось зарегистрироватьcя.', { variant: 'error' });\r\n              break;\r\n            case 1:\r\n              self.props.enqueueSnackbar('Вы успешно зарегистрировались, как только вашу учетную запись подтвердят - вы сможете начать пользоваться сервисом. Вы получите уведомление по указанной при регистрации почте.', { variant: 'success' });\r\n              self.setState({ \r\n                email: '',\r\n                login: '',\r\n                name: '',\r\n                surname: '',\r\n                password: '',\r\n                confirmed: '',\r\n                isEmailValid: '',\r\n                isPassHidden: false, \r\n                entered: false,\r\n                loading: false\r\n              })\r\n              break;\r\n            case 2:\r\n              self.props.enqueueSnackbar('Пользователь с таким логином или email уже существует', { variant: 'warning' });\r\n              break;\r\n            default: return null;\r\n          }\r\n        },\r\n        error: function () {\r\n          self.props.enqueueSnackbar('Ошибка регистрации', { variant: 'error' });\r\n        }\r\n      });\r\n    } else {\r\n      self.props.enqueueSnackbar('Пожалуйста, заполните все поля', { variant: 'warning' });\r\n    }\r\n  }\r\n\r\n  showPassword() {\r\n    this.setState({ isPassHidden: !this.state.isPassHidden });\r\n  }\r\n\r\n  handleClickShowPassword = () => {\r\n    this.setState({ isPassHidden: !this.state.isPassHidden });\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <div className=\"form-container\">\r\n          <form id=\"register\" action=\"\" method=\"POST\" onSubmit={this.handleSubmit}>\r\n            <TextField\r\n              label=\"Имя\"\r\n              variant=\"outlined\"\r\n              name='name'\r\n              fullWidth\r\n              error={this.state.entered && !this.state.name}\r\n              margin='dense'\r\n              onChange={this.handleChange}\r\n              value={this.state.name}\r\n            />\r\n            <TextField\r\n              label=\"Фамилия\"\r\n              variant=\"outlined\"\r\n              name='surname'\r\n              fullWidth\r\n              error={this.state.entered && !this.state.surname}\r\n              margin='dense'\r\n              onChange={this.handleChange}\r\n              value={this.state.surname}\r\n            />\r\n            <TextField\r\n              label=\"Логин или email\"\r\n              variant=\"outlined\"\r\n              name='login'\r\n              fullWidth\r\n              error={this.state.entered && !this.state.login}\r\n              margin='dense'\r\n              onChange={this.handleChange}\r\n              value={this.state.login}\r\n            />\r\n\r\n            <TextField\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              type={this.state.isPassHidden ? 'text' : 'password'}\r\n              label=\"Пароль\"\r\n              margin='dense'\r\n              name='password'\r\n              value={this.state.password}\r\n              onChange={this.handleChange}\r\n              error={this.state.entered && this.state.password.length < 8}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      aria-label=\"Toggle password visibility\"\r\n                      onClick={this.handleClickShowPassword}\r\n                    >\r\n                      {this.state.isPassHidden ? <VisibilityOff /> : <Visibility />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n            {this.state.password.length > 0 && this.state.password.length < 8 ? <FormHelperText style={{ color: '#f44336' }}>Пароль должен быть не менее 8 символов</FormHelperText> : ''}\r\n\r\n            <TextField\r\n              label=\"Повторите пароль\"\r\n              variant=\"outlined\"\r\n              name='confirmed'\r\n              fullWidth\r\n              margin='dense'\r\n              type='password'\r\n              error={this.state.entered && this.state.confirmed.length < 8}\r\n              onChange={this.handleChange}\r\n              value={this.state.confirmed}\r\n            />\r\n\r\n            {this.state.password !== this.state.confirmed && this.state.confirmed !== '' ? <FormHelperText style={{ color: '#f44336' }}>Пароль должны совпадать</FormHelperText> : null}\r\n\r\n            <TextField\r\n              label=\"Электронная почта\"\r\n              variant=\"outlined\"\r\n              name='email'\r\n              fullWidth\r\n              error={this.state.entered && !this.state.isEmailValid && !this.state.email.lentgh}\r\n              margin='dense'\r\n              onChange={this.handleChange}\r\n              value={this.state.email}\r\n            />\r\n            {!this.state.isEmailValid && this.state.email ? <FormHelperText style={{ color: '#f44336' }}>Пожалуйста, введите настоящий email адрес</FormHelperText> : ''}\r\n\r\n            <BtnWrapper>\r\n              <Button variant='contained' color='primary' type='submit' disabled={this.state.loading}> \r\n                {this.state.loading ? <Loader minHeight={30} color='secondary' /> : 'Зарегистрироваться'}  \r\n              </Button>\r\n            </BtnWrapper>\r\n          </form>\r\n\r\n        </div>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\nconst BtnWrapper = styled.div`\r\n  button {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 30px;\r\n    margin: auto;\r\n    width: fit-content;\r\n    min-width: 199px;\r\n    background: #1976d2 !important;\r\n    & > span > div > div {\r\n      height: 25px !important;\r\n      width: 25px !important;\r\n    }\r\n  }\r\n`;\r\nexport default withSnackbar(RegisterForm);","import React from 'react';\r\nimport './css/BgBubbles.css';\r\n\r\nconst BgBubbles = ({ cssClass }) => {\r\n  return (\r\n    <ul className={cssClass ? `${cssClass} bg-bubbles` : 'bg-bubbles'}>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default BgBubbles;","import React, { Component } from 'react';\nimport SignupForm from './SignupForm';\nimport RegisterForm from './RegisterForm';\nimport Header from './Header';\nimport Typography from '@material-ui/core/Typography';\nimport BgBubbles from './BgBubbles';\nimport './css/LoginForms.css';\n\nclass LoginForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      whichForm: false,\n    }\n    this.changeForm = this.changeForm.bind(this);\n  }\n\n  changeForm() {\n    this.setState({whichForm: !this.state.whichForm});\n  }\n\n  render() {\n    return (\n      <div className=\"login-screen\">\n        <Header />\n        <div className=\"login-screen-container\">\n          <p className=\"login-screen-greetings\">Здравствуйте</p>  \n          <div className=\"login-button-container\">\n            <button className={this.state.whichForm ? 'login-screen-button login-screen-button-enabled' : 'login-screen-button'} onClick={this.changeForm}>\n              <Typography variant='button'>Войти</Typography>\n            </button>\n            <button className={this.state.whichForm ? 'login-screen-button' : 'login-screen-button login-screen-button-enabled'} onClick={this.changeForm}>\n              <Typography variant='button'>Зарегистрироваться</Typography>\n            </button>\n          </div>              \n          {this.state.whichForm ? <RegisterForm /> : <SignupForm />}                        \n        </div>\n        <BgBubbles /> \n      </div>\n    );\n  }\n}\n\nexport default LoginForm;\n","import React, { Component } from 'react';\r\nimport Header from './Header';\r\nimport BgBubbles from './BgBubbles';\r\nimport './css/LoginForms.css';\r\nimport './css/Approved.css';\r\n\r\nclass Approved extends Component {\r\n  goToMain = () => window.location.href = '/';\r\n  closeWindow = () => window.close();\r\n\r\n  render() {\r\n   return (\r\n      <div className=\"login-screen\">\r\n        <Header />\r\n        <div className=\"approved-container\">\r\n          <h1>Регистрация пользователя была подтверждена.</h1>\r\n          <button onClick={this.goToMain}>На главную</button>                   \r\n        </div>\r\n        <BgBubbles /> \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Approved;","import React, { Component } from 'react';\r\nimport Header from './Header';\r\nimport BgBubbles from './BgBubbles';\r\nimport $ from 'jquery';\r\nimport './css/LoginForms.css';\r\nimport './css/Restore.css';\r\nimport { withSnackbar } from 'notistack';\r\nimport { Button, Typography } from '@material-ui/core';\r\nimport API from './functions/API';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport styled from 'styled-components';\r\n\r\nclass Restore extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      pw: '',\r\n      confirmed: '',\r\n      isPassHidden: false,\r\n      entered: false\r\n    }\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    // ставим стейт исходя из именя поля и вводимого значения\r\n    this.setState({\r\n      [event.target.name]: event.target.value,\r\n      entered: false\r\n    })\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    var self = this;\r\n    this.setState({ entered: true });\r\n\r\n    if (self.state.pw === self.state.confirmed && self.state.pw && self.state.confirmed) {\r\n      self.setState({ modal: false });\r\n      e.preventDefault();\r\n      const formData = new FormData();\r\n\r\n      function getUrlVars() {\r\n        let vars = {};\r\n        // eslint-disable-next-line\r\n        let parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {\r\n          vars[key] = value;\r\n        });\r\n        return vars;\r\n      }\r\n\r\n      formData.append('password', $('input[name=\"pw\"]').val());\r\n      formData.append('auth', getUrlVars()['auth'])\r\n\r\n      $.ajax({\r\n        url: `${API}/api/user/restore.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: function (res) {\r\n          console.log(res);\r\n          let response = res.result;\r\n\r\n          switch (response) {\r\n            case 0:\r\n              self.props.enqueueSnackbar('Не удалось изменить пароль', { variant: 'error' });\r\n              break;\r\n            case 1:\r\n              self.props.enqueueSnackbar('Поздравляем, успешно удалось сменить пароль - теперь вы можете войти в систему', { variant: 'success' });\r\n              setTimeout(() => window.location.href = 'login', 237);\r\n              break;\r\n            default: return null;\r\n          }\r\n        },\r\n        error: function () {\r\n          self.props.enqueueSnackbar('Ошибка авторизации', { variant: 'error' });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  handleClickShowPassword = () => {\r\n    this.setState({ isPassHidden: !this.state.isPassHidden });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"login-screen\">\r\n        <Header />\r\n        <div className=\"form-container restore-container\">\r\n          <Typography variant='h6'>Введите новый пароль.</Typography>\r\n          <Typography variant='caption'> Выбор более безопасного пароля поможет обеспечить защиту вашей личной информации.</Typography>\r\n\r\n          <InputWrapper>\r\n            <TextField\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              type={this.state.isPassHidden ? 'text' : 'password'}\r\n              label=\"Пароль\"\r\n              margin='dense'\r\n              name='pw'\r\n              value={this.state.pw}\r\n              onChange={this.handleChange}\r\n              error={this.state.pw.length > 0 && this.state.pw.length < 8}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      aria-label=\"Toggle password visibility\"\r\n                      onClick={this.handleClickShowPassword}\r\n                    >\r\n                      {this.state.isPassHidden ? <VisibilityOff /> : <Visibility />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n            {this.state.pw.length > 0 && this.state.pw.length < 8 ? <FormHelperText style={{ color: '#f44336' }}>Пароль должен быть не менее 8 символов</FormHelperText> : ''}\r\n\r\n            <TextField\r\n              label=\"Повторите пароль\"\r\n              variant=\"outlined\"\r\n              name='confirmed'\r\n              fullWidth\r\n              margin='dense'\r\n              type='password'\r\n              error={this.state.entered && this.state.confirmed.length < 8 && this.state.confirmed.length > 0}\r\n              onChange={this.handleChange}\r\n              value={this.state.confirmed}\r\n            />\r\n            {this.state.pw !== this.state.confirmed && this.state.confirmed ? <FormHelperText style={{ color: '#f44336' }}>Пароль должны совпадать</FormHelperText> : null}\r\n          </InputWrapper>\r\n\r\n          <BtnContainer>\r\n            <Button variant='contained' color='primary' onClick={this.handleSubmit}>Сменить пароль</Button>\r\n          </BtnContainer>\r\n        </div>\r\n        <BgBubbles />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst BtnContainer = styled.div`\r\n  button {\r\n    position: absolute;\r\n    bottom: 35px;\r\n    left: 0;\r\n    right: 0;\r\n    margin: auto;\r\n    width: fit-content;\r\n  }\r\n`;\r\nconst InputWrapper = styled.div`\r\n  margin-top: 15px;\r\n`;\r\nexport default withSnackbar(Restore);","import React, { Component } from 'react';\r\nimport './css/404.css';\r\n\r\nclass Page404 extends Component {\r\n\r\n  goToMain = () => window.location.href = '/';\r\n\r\n  render() {\r\n    return (\r\n      <main>\r\n        <div className=\"loading wave\">\r\n          404\r\n        </div>\r\n        <div className=\"not-found wave\">\r\n          Страница не найдена\r\n        </div> \r\n      <button onClick={this.goToMain}>перейти на главную</button>\r\n    </main>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Page404;","import React, { Component } from 'react';\r\nimport $ from 'jquery';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport BgBubbles from './BgBubbles';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport DefaultAvatar from './img/photos/images.png';\r\nimport API from './functions/API';\r\nimport { withSnackbar } from 'notistack';\r\nimport { DatePicker } from 'material-ui-pickers';\r\n\r\nif (window.location.pathname === '/settings') {\r\n  $(document.body).css({\r\n    background: 'linear-gradient(to bottom right,#00c5fe,#9de3dc,#0d11b4)'\r\n  })\r\n}\r\n\r\nconst styles = {\r\n  default: {\r\n    width: window.innerWidth < 600 ? '95%' : 600,\r\n    margin: '10px auto',\r\n    position: 'relative',\r\n    padding: window.innerWidth < 600 ? '20px 15px 80px' : '20px 40px 80px',\r\n    zIndex: 37\r\n  },\r\n  input: {\r\n    width: '100%',\r\n  },\r\n  button: {\r\n    position: 'absolute',\r\n    left: 0,\r\n    right: 0,\r\n    width: 120,\r\n    bottom: 25,\r\n    margin: 'auto'\r\n  },\r\n  upload: {\r\n    background: '#ef6c00',\r\n    color: 'white',\r\n    margin: 'auto',\r\n    cursor: 'pointer',\r\n    position: 'relative'\r\n  },\r\n  hiddenInput: {\r\n    opacity: 0,\r\n    position: 'absolute',\r\n    cursor: 'pointer',\r\n    left: 0, right: 0, bottom: 0, top: 0\r\n  },\r\n  avatar: {\r\n    width: 100,\r\n    height: 100,\r\n    marginBottom: 15,\r\n    borderRadius: '50%'\r\n  },\r\n  header: {\r\n    marginTop: 100,\r\n    marginBottom: 12,\r\n    color: '#fff',\r\n    textAlign: 'center',\r\n    fontWeight: 500,\r\n    display: window.innerWidth < 600 ? 'none' : 'block'\r\n  }\r\n};\r\n\r\nconst genders = [\r\n  {\r\n    value: 'мужской',\r\n    label: 'мужской'\r\n  },\r\n  {\r\n    value: 'женский',\r\n    label: 'женский',\r\n  }\r\n];\r\n\r\nclass Settings extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user: [],\r\n      selectedFile: null,\r\n      user_id: '',\r\n      uploadedAvatar: '',\r\n      selectedDate: ''\r\n    }\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  fileSelect = event => {\r\n    if (event.target.files[0].size < 2 * 1024 * 1024) {\r\n      this.setState({ selectedFile: event.target.files[0] })\r\n      this.uploadAvatar(event.target.files[0]);\r\n    } else {\r\n      this.props.enqueueSnackbar('Файл слишком большой, размер должен не превышать 2МБ', { variant: 'warning' });\r\n    }\r\n  }\r\n\r\n  uploadAvatar = (file) => {\r\n    let fd = new FormData();\r\n    let files = file;\r\n    let self = this;\r\n    fd.append('file', files);\r\n    fd.append('id', this.state.user_id);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/user/upload.php`,\r\n      type: 'post',\r\n      data: fd,\r\n      contentType: false,\r\n      processData: false,\r\n      success: function (res) {\r\n        if (window.location.host.includes('localhost')) {\r\n          self.setState({ uploadedAvatar: res.location.slice(22) })\r\n        } else {\r\n          self.setState({ uploadedAvatar: res.location.slice(6) })\r\n        }\r\n        console.log(res);\r\n      },\r\n    });\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    fetch(`${API}/api/user/info.php`)\r\n      .then(response => response.json())\r\n      .then(user => this.setState({ user, user_id: user.id }))\r\n  }\r\n\r\n  handleChange = event => {\r\n    // ставим стейт исходя из именя поля и вводимого значения\r\n    let user = { ...this.state.user };\r\n    user[event.target.name] = event.target.value;\r\n    this.setState({ user });\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    var self = this;\r\n    self.setState({ modal: false });\r\n    e.preventDefault();\r\n\r\n    if ($('input[name=\"surname\"]').val() && $('input[name=\"name\"]').val() && $('input[name=\"sex\"]').val() && $('input[name=\"position\"]').val() && (this.state.selectedDate || this.state.user.birthday)) {\r\n      const formData = new FormData();\r\n      formData.append('id', self.state.user.id);\r\n      formData.append('surname', $('input[name=\"surname\"]').val());\r\n      formData.append('name', $('input[name=\"name\"]').val());\r\n      formData.append('birthday', self.state.selectedDate.slice(0, 10) || this.state.user.birthday);\r\n      formData.append('sex', $('input[name=\"sex\"]').val());\r\n      formData.append('position', $('input[name=\"position\"]').val());\r\n      formData.append('avatar', self.state.uploadedAvatar);\r\n\r\n      $.ajax({\r\n        url: `${API}/api/user/settings.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: function (res) {\r\n          console.log(res);\r\n          let response = res.result;\r\n          switch (response) {\r\n            case 0:\r\n              self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' });\r\n              break;\r\n            case 1:\r\n              self.props.enqueueSnackbar('Персональные данные изменены', { variant: 'success' });\r\n              window.location.href = `/feed`;\r\n              break;\r\n            default: break;\r\n          }\r\n        },\r\n        error: function () {\r\n          self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' });\r\n        }\r\n      });\r\n    } else {\r\n      self.props.enqueueSnackbar('Пожалуйста заполните все поля', { variant: 'warning' });\r\n    }  \r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | устанавливаем дату из пикера в нужном формате\r\n  |--------------------------------------------------\r\n  */\r\n  handleDateChange = date => this.setState({ selectedDate: date.format() });\r\n\r\n  render() {\r\n    const { user, uploadedAvatar } = this.state;\r\n\r\n    let avatar = user.avatar;\r\n\r\n    return (\r\n      <React.Fragment>\r\n\r\n        <Typography variant=\"h5\" style={{ ...styles.header }}>Начните заполнять персональные данные</Typography>\r\n\r\n        <Paper style={{ ...styles.default }} elevation={1}>\r\n\r\n          <form id=\"personal-info\" action=\"\" method=\"POST\" encType=\"multipart/form-data\">\r\n            {uploadedAvatar ?\r\n              <div style={{ ...styles.avatar, background: `url(${uploadedAvatar}) no-repeat center/cover` }}></div> :\r\n              <div style={{ ...styles.avatar, background: `url(${avatar ? avatar : DefaultAvatar}) no-repeat center/cover` }}></div>}\r\n            <Button variant=\"contained\" style={{ ...styles.upload }}>\r\n              Загрузить фото профиля\r\n            <Icon style={{ marginLeft: 10 }}>cloud_upload</Icon>\r\n              <input\r\n                id='avatar'\r\n                accept=\"image/*\"\r\n                style={{ ...styles.hiddenInput }}\r\n                type=\"file\"\r\n                name='avatar'\r\n                onChange={this.fileSelect}\r\n              />\r\n            </Button>\r\n\r\n            <TextField\r\n              required\r\n              label=\"Ваше имя\"\r\n              name='name'\r\n              InputLabelProps={{ shrink: true }}\r\n              margin=\"normal\"\r\n              onChange={this.handleChange}\r\n              value={user.name}\r\n              style={{ ...styles.input }}\r\n            />\r\n\r\n            <TextField\r\n              required\r\n              label=\"Фамилия\"\r\n              name='surname'\r\n              InputLabelProps={{ shrink: true }}\r\n              margin=\"normal\"\r\n              onChange={this.handleChange}\r\n              value={user.surname}\r\n              style={{ ...styles.input }}\r\n            />\r\n\r\n            <TextField\r\n              select\r\n              required\r\n              label=\"Пол\"\r\n              InputLabelProps={{ shrink: true }}\r\n              value={user.sex}\r\n              onChange={this.handleChange}\r\n              helperText=\"Пожалуйста, выберите пол\"\r\n              margin=\"normal\"\r\n              name='sex'\r\n              style={{ ...styles.input }}\r\n            >\r\n              {genders.map(option => (\r\n                <MenuItem name='sex' key={option.value} value={option.value}>\r\n                  {option.label}\r\n                </MenuItem>\r\n              ))}\r\n            </TextField>\r\n\r\n            <TextField\r\n              required\r\n              label=\"Должность\"\r\n              name=\"position\"\r\n              InputLabelProps={{ shrink: true }}\r\n              margin=\"normal\"\r\n              onChange={this.handleChange}\r\n              value={user.position}\r\n              style={{ ...styles.input }}\r\n            />\r\n\r\n            <DatePicker\r\n              name=\"birthday\"\r\n              margin=\"normal\"\r\n              label='Дата рождения'\r\n              format={'Do MMMM YYYY'}\r\n              value={this.state.selectedDate ? this.state.selectedDate : user.birthday || null}\r\n              fullWidth={true}\r\n              InputLabelProps={{ shrink: true }}\r\n              onChange={this.handleDateChange}\r\n              aria-describedby=\"component-helper-text\"\r\n              style={{ ...styles.input }}\r\n              cancelLabel='Отмена'\r\n              emptyLabel='Не выбрана дата рождения'\r\n              required\r\n            />\r\n\r\n            <Typography variant=\"caption\" gutterBottom>\r\n              *Дата рождения будет видна только руководству\r\n            </Typography>\r\n\r\n            <Button variant=\"contained\" color='primary' style={{ ...styles.button }} onClick={this.handleSubmit}>\r\n              Вперёд!\r\n           </Button>\r\n\r\n          </form>\r\n        </Paper>\r\n\r\n        <BgBubbles />\r\n\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withSnackbar(Settings);","import React, { useState } from 'react';\r\nimport Countdown from 'react-countdown-now';\r\nimport { connect } from 'react-redux';\r\nimport { Typography, Tooltip } from '@material-ui/core/';\r\nimport styled from 'styled-components';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\nimport PlayIcon from '@material-ui/icons/PlayArrow';\r\nimport AlarmIcon from '@material-ui/icons/AlarmOn'\r\n\r\nconst Completionist = () => <Typography variant='h3' id='timer' className='completed'>Время вышло</Typography>;\r\n\r\nconst Timer = ({ hours, minutes, seconds, completed, api }) => {\r\n  function getTime(h, m, s) {\r\n    if (h < 10) h = '0' + h;\r\n    if (m < 10) m = '0' + m;\r\n    if (s < 10) s = '0' + s;\r\n\r\n    if (h === '00') {\r\n      return `${m}:${s}`;\r\n    } else {\r\n      return `${h}:${m}:${s}`;\r\n    }\r\n  }\r\n\r\n  if (completed) {\r\n    return <Container><Time><Completionist /></Time></Container>;\r\n  } else {\r\n    return (\r\n      <Container>\r\n        <Time> \r\n          <AlarmIcon className='time-icon' />\r\n          <Typography variant='h3' id='timer'>{getTime(hours, minutes, seconds)}</Typography>\r\n        </Time>\r\n        <Controls>\r\n          <Tooltip title='старт' onClick={api.start}><PlayIcon style={api.isPaused() ? { pointerEvents: 'all' } : { pointerEvents: 'none', opacity: 1 }} /></Tooltip>\r\n          <Tooltip title='пауза' onClick={api.pause}><PauseIcon style={api.isPaused() ? { pointerEvents: 'none', opacity: 1 } : { pointerEvents: 'all'}} /></Tooltip>   \r\n        </Controls>\r\n      </Container>\r\n    )\r\n  }\r\n};\r\n\r\nconst CountdownTimer = ({ store, pauseTest, resumeTest, finish }) => {\r\n  // eslint-disable-next-line\r\n  const [time, setTime] = useState(store.tests[0] && store.tests[0].hasOwnProperty('time') ? Date.now() + Number(store.tests[0].time) * 60 * 1000 : 0);\r\n\r\n  return (\r\n    <Countdown\r\n      controlled={false}\r\n      autoStart={true}\r\n      date={time}\r\n      renderer={Timer}\r\n      onPause={pauseTest}\r\n      onStart={resumeTest}\r\n      onComplete={finish}\r\n    />\r\n  )\r\n}\r\n\r\nconst Controls = styled.div`\r\n  svg {\r\n    font-size: 40px;\r\n    opacity: .15;\r\n    transition: .57s ease;\r\n    cursor: pointer;\r\n    :hover {\r\n      opacity: .9;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n`;\r\n\r\nconst Time = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 25%;\r\n  align-items: center;\r\n  h3 {\r\n    opacity: .15;\r\n  }\r\n  .time-icon {\r\n    font-size: 42px;\r\n    opacity: .15;\r\n  }\r\n  .completed {\r\n    font-size: 32px;\r\n    margin-top: 64px;\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n)(CountdownTimer);","import React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Button, Typography, Checkbox, FormGroup, FormControlLabel } from '@material-ui/core';\r\nimport Sphere from '../../img/photos/sphere.png';\r\nimport Lightbox from 'react-images';\r\n\r\nexport default function Question({ allQuestionsId, paused, findTimer, answered, variants, setChecked, question, questionNumber, skipQuestion, nextQuestion, prevQuestion }) {\r\n  const [images, setImages] = useState([]);\r\n  const [lightboxOpen, setLightboxOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    getImages();\r\n  }, [])\r\n\r\n  function getPrevBtnStatus(index) {\r\n    if (!index) return true;\r\n    let status = false;\r\n    if (answered.includes(index - 1)) status = true;\r\n    return status;\r\n  }\r\n\r\n  function getImages() {\r\n    if (question.image) {\r\n      const images = [];\r\n      Object.entries(question.image_file).map(item => {\r\n        return images.push({\r\n          src: `http://akvatory.local/${item[1].original.file}`\r\n        })\r\n      })\r\n      setImages(images);\r\n    }   \r\n  }\r\n\r\n  function openLightbox() {\r\n    setLightboxOpen(true);\r\n  }\r\n\r\n  function closeLightbox() {\r\n    setLightboxOpen(false);\r\n  }\r\n\r\n  let checked = variants.length > 0 ? variants.find(variant => variant.checked) : 0;  \r\n \r\n  return (\r\n    <Container style={findTimer() ? { marginTop: '-93px' } : { marginTop: 40 }}>\r\n      <QuestionHeader>\r\n        <Spheric>\r\n          <Typography variant='h1'>{questionNumber + 1}</Typography>\r\n          <img src={Sphere} alt='' />\r\n        </Spheric>  \r\n        <div className='question-header-text'>\r\n          <Typography variant='h6'>{question.question}</Typography>\r\n          <Typography variant='caption' style={{ marginBottom: 10 }}>{question.category} - {question.subcategory}</Typography>\r\n          {question.audio ?\r\n              question.audio_file.map(item => \r\n                <audio controls className='question-audio' key={item.id}>\r\n                  <source src={`http://akvatory.local/${item.file}`} />\r\n                </audio> \r\n              )\r\n          : null}\r\n          {question.image ?\r\n              Object.entries(question.image_file).map((item, i) => \r\n                <img \r\n                  onClick={openLightbox}\r\n                  key={item[0]} \r\n                  style={{ maxWidth: '100%', maxHeight: 300, marginTop: 10, cursor: 'pointer' }} \r\n                  src={`http://akvatory.local/${item[1].original.file}`} \r\n                  alt=''\r\n                /> \r\n              ) \r\n          : null}\r\n        </div>\r\n      </QuestionHeader>\r\n      <FormGroup className='checkboxes' style={paused ? { pointerEvents: 'none' } : { pointerEvents: 'all' } }>\r\n        {variants.map(variant =>\r\n          <FormControlLabel\r\n            key={variant.id}\r\n            control={\r\n              <Checkbox\r\n                checked={variant.checked}\r\n                onClick={() => setChecked(variant.id)}\r\n              />\r\n            }\r\n            label={variant.item}\r\n          />\r\n        )}\r\n      </FormGroup>\r\n      {!paused ?\r\n      <Buttons>\r\n        <Button onClick={nextQuestion} disabled={checked ? false : true} variant='contained' color='primary'>Далее</Button>\r\n        <Button onClick={prevQuestion} disabled={getPrevBtnStatus(questionNumber)} variant='outlined' color='primary'>Назад</Button>\r\n        <Button onClick={skipQuestion} disabled={allQuestionsId.length - 1 === answered.length} variant='contained' color='secondary'>Пропустить</Button>\r\n      </Buttons>\r\n      : null }\r\n\r\n      {question.image ?\r\n        <Lightbox\r\n          images={[...images]}\r\n          isOpen={lightboxOpen}\r\n          onClose={closeLightbox}\r\n          width={1920}\r\n          showImageCount={false}\r\n        />\r\n      : null}\r\n\r\n\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  width: 75%;\r\n  margin-top: 40px;\r\n  .checkboxes {\r\n    margin: 25px 0;\r\n  }\r\n`;\r\nconst Buttons = styled.div`\r\n  button {\r\n    margin-right: 30px;\r\n    min-width: 125px;\r\n  }\r\n`;\r\nconst QuestionHeader = styled.div`\r\n  display: flex;\r\n  align-items: flex-start;\r\n  .question-header-text {\r\n    width: 525px;\r\n    padding-left: 25px;\r\n    margin-bottom: 20px;\r\n  }\r\n  .question-audio {\r\n    width: 100%;\r\n    :focus, :active {\r\n      outline: 0;\r\n    }\r\n  }\r\n`;\r\nconst Spheric = styled.div`\r\n  height: 100px;\r\n  width: 100px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: relative;\r\n  img {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  h1 {\r\n    font-size: 48px;\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    margin: auto;\r\n    color: white;\r\n    width: fit-content;\r\n    height: fit-content;\r\n    font-weight: 600;\r\n  }\r\n`;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Badge from '@material-ui/core/Badge';\r\n\r\nexport default function Circles({ questions, answered, skipped }) {\r\n  function getStatus(index, type) {\r\n    let isAnswered = answered.includes(index);\r\n    let isSkipped = skipped.includes(index);\r\n    \r\n    if (type === 'class' && !isAnswered && !isSkipped) {\r\n      return 'default-badge';\r\n    } else if (type === 'class') {\r\n      return '';\r\n    }\r\n\r\n    if (type === 'color' && isAnswered) {\r\n      return 'primary';\r\n    } else {\r\n      return 'secondary'\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {questions.map((_, i ) => \r\n        <Badge \r\n          key={i}\r\n          badgeContent={i + 1} \r\n          color={getStatus(i, 'color')} \r\n          className={getStatus(i, 'class')}\r\n        >{''}</Badge>\r\n      )}\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  flex-wrap: wrap;\r\n  > span {\r\n    width: 45px;\r\n    height: 30px;\r\n    margin: 10px 0 0;\r\n    > span {\r\n      width: 30px;\r\n      height: 30px;\r\n      transform: unset;\r\n      left: 0;\r\n      margin: auto;\r\n    }\r\n  }\r\n  .default-badge span {\r\n    background: #F9A825;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nexport default function Legend() {\r\n  return (\r\n    <Container>\r\n      <div>\r\n        <Badge children={true} color='primary'className='default-badge'>{''}</Badge>\r\n        <Typography variant='caption' className='caption'>Вопрос ожидает ответа</Typography>\r\n      </div>\r\n      <div>\r\n        <Badge children={true}  color='primary'>{''}</Badge>\r\n        <Typography variant='caption' className='caption'>Вы ответили на этот вопрос</Typography>\r\n      </div>\r\n      <div>\r\n        <Badge color='secondary'>{''}</Badge>\r\n        <Typography variant='caption' className='caption'>Вы пропустили этот вопрос</Typography>\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  margin: 35px 0;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  flex-direction: column;\r\n  flex-wrap: wrap;\r\n  > div > span {\r\n    width: 45px;\r\n    height: 30px;\r\n    margin: 10px 0 0;\r\n    > span {\r\n      width: 30px;\r\n      height: 30px;\r\n      transform: unset;\r\n      left: 0;\r\n      margin: auto;\r\n    }\r\n  }\r\n  > div {\r\n    align-items: center;\r\n    display: flex;\r\n    .caption {\r\n      width: unset;\r\n      height: unset;\r\n      margin-top: 10px;\r\n      margin-left: 10px;\r\n    }\r\n  }\r\n  .default-badge span {\r\n    background: #F9A825;\r\n  }\r\n`;","import $ from 'jquery';\r\nimport API from '../functions/API';\r\n\r\nexport function startTest(id) {\r\n  const formData = new FormData();\r\n  formData.append('id', id);\r\n  $.ajax({\r\n    url: `${API}/api/test/start.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST'\r\n  });\r\n}\r\n\r\nexport function setupResult(data) {\r\n  const formData = new FormData();\r\n  formData.append('test_id', data.test_id);\r\n  formData.append('user_id', data.user_id);\r\n  formData.append('user_name', data.user_name);\r\n  formData.append('date', data.date);\r\n  formData.append('estimated_time', data.estimated_time);\r\n\r\n  $.ajax({\r\n    url: `${API}/api/result/init.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST'\r\n  });\r\n}\r\n\r\nexport function updateResult(data) {\r\n  const formData = new FormData();\r\n  formData.append('test_id', data.test_id);\r\n  formData.append('variants', data.variants);\r\n  formData.append('estimated_time', data.estimated_time);\r\n  formData.append('question_id', data.question_id);\r\n\r\n  $.ajax({\r\n    url: `${API}/api/result/update.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST'\r\n  });\r\n}\r\n\r\nexport function finishTest(data) {\r\n  const formData = new FormData();\r\n  formData.append('id', data.id);\r\n  formData.append('estimated_time', data.estimated_time);\r\n  formData.append('created_at', new Date().getTime());\r\n\r\n  $.ajax({\r\n    url: `${API}/api/test/finish.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST'\r\n  });\r\n}\r\n\r\nexport async function createEvent(data) {\r\n  const formData = new FormData();\r\n  \r\n  for (let key in data) {\r\n    formData.append(key, data[key]);    \r\n  }\r\n  let result;\r\n  \r\n  await $.ajax({\r\n    url: `${API}/api/calendar/addEvent.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST',\r\n    success: async (res) => {\r\n      result = await res;\r\n    }\r\n  }); \r\n\r\n  return await result;\r\n}\r\n\r\nexport function deleteEvent(id) {\r\n  const formData = new FormData();\r\n  formData.append('id', id);\r\n  \r\n  $.ajax({\r\n    url: `${API}/api/calendar/deleteEvent.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST'\r\n  });\r\n}\r\n\r\nexport function signUpOnEvent(data) {\r\n  const formData = new FormData();\r\n  formData.append('id', data.id);\r\n  formData.append('username', `${data.name} ${data.surname}`);\r\n\r\n  $.ajax({\r\n    url: `${API}/api/calendar/signUp.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST'\r\n  });\r\n}\r\n\r\nexport function unSignUpOnEvent(data) {\r\n  const formData = new FormData();\r\n  formData.append('id', data.id);\r\n  formData.append('username', `${data.name} ${data.surname}`);\r\n\r\n  $.ajax({\r\n    url: `${API}/api/calendar/unSignUp.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST'\r\n  });\r\n}\r\n\r\nexport default [];","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport styled from 'styled-components';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n  }\r\n});\r\n\r\nfunction SimpleExpansionPanel(props) {\r\n  const { classes, object } = props;\r\n\r\n  function isCorrect(question) {\r\n    if (object.question_data.answers.includes(question)) {\r\n      return 'primary';\r\n    } else {\r\n      return 'secondary';\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ExpansionPanel>\r\n        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />} className='align-center' style={{ background: '#fafafa' }}>\r\n          <Typography variant='h6'>{object.result >= 1 ? object.result + ' балл' : object.result + ' баллов'}\r\n            <Typography className={classes.heading}>Вопрос: {object.question_data.question}</Typography>\r\n          </Typography>    \r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails>\r\n          <Answers>\r\n            <Typography variant='subtitle2' gutterBottom={true}>вы ответили:</Typography>\r\n            {object.answered.map(question => <Typography color={isCorrect(question)}>{question}</Typography>)}\r\n            <hr />\r\n            <Typography variant='subtitle2' gutterBottom={true}>{object.question_data.answers.length > 0 ? 'ответы:' : 'ответ:'}</Typography>\r\n            {object.question_data.answers.map(question => <Typography>{question}</Typography>)}\r\n          </Answers>\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Answers = styled.div`\r\n  width: 100%;\r\n  hr {\r\n    border: none;\r\n    height: 3px;\r\n    background: #fafafa;\r\n  }\r\n`;\r\n\r\nSimpleExpansionPanel.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(SimpleExpansionPanel);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n  }\r\n});\r\n\r\nfunction SimpleExpansionPanel(props) {\r\n  const { classes, object } = props;\r\n  return (\r\n    <div className={classes.root}>\r\n      <ExpansionPanel disabled>\r\n        <ExpansionPanelSummary className='align-center' style={{ background: '#fafafa' }}>\r\n          <Typography variant='h6'>0 баллов\r\n            <Typography className={classes.heading}>Вопрос: {object}</Typography>\r\n          </Typography>    \r\n        </ExpansionPanelSummary>\r\n      </ExpansionPanel>\r\n    </div>\r\n  );\r\n}\r\n\r\nSimpleExpansionPanel.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(SimpleExpansionPanel);","import React, { useEffect, useState, Fragment } from 'react';\r\nimport styled from 'styled-components';\r\nimport Loader from '../../Loader/Loader';\r\nimport API from '../../functions/API';\r\nimport { Typography, Button } from '@material-ui/core'; \r\nimport ResultsList from './ResultsList';\r\nimport NotAnswered from './NotAnswered';\r\n\r\nexport default function Results() {\r\n  const [results, setResults] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const id = window.location.pathname.replace('/test/', \"\");\r\n    fetch(`${API}/api/result/getResults.php?test_id=${id}`)\r\n      .then(response => response.json())\r\n      .then(results => {\r\n        results.data.not_answered = JSON.parse(results.data.not_answered);\r\n        results.data.object = JSON.parse(results.data.object);\r\n        results.data.object.forEach(result => {\r\n          result.question_data = JSON.parse(result.question_data);\r\n          result.question_data.variants = result.question_data.variants.split(\"\\n\");\r\n          result.question_data.answers = result.question_data.answers.split(\"\\n\");\r\n        });\r\n        setResults(results.data)\r\n      })\r\n      .then(() => setLoading(false))\r\n      .catch(err => console.log(err))\r\n  }, []);\r\n\r\n  function getPercent(value) {\r\n    return parseFloat(value.replace(',','.')).toFixed(2) * 100 + '%';\r\n  }\r\n\r\n  function getColor(value) {\r\n    return parseFloat(value.replace(',','.')).toFixed(2) >= 0.5 ? 'primary' : 'secondary';\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {loading\r\n        ? <Loader minHeight='300px' color='primary' />\r\n        : (\r\n          <Fragment>\r\n            <Typography variant='h1' style={{ marginBottom: 20 }} color={getColor(results.result)}>{getPercent(results.result)}</Typography>\r\n            <Typography variant='h6'>{results.user_name}</Typography>\r\n            <Typography variant='caption'>Дата прохождения тестирования: {results.date}</Typography>\r\n            {results.estimated_time ? <Typography variant='caption'>Оставшееся время: {results.estimated_time}</Typography> : null}\r\n\r\n            <br />\r\n            <br />\r\n            <br />\r\n            {results.object.map(result => \r\n                <ResultsList object={result} />\r\n            )}  \r\n\r\n            {results.not_answered.map(result => \r\n                <NotAnswered object={result} />\r\n            )}        \r\n\r\n            <Buttons>\r\n              <Button variant='contained' component='a' href='/' color='primary'>на главную</Button>\r\n              <Button variant='outlined' component='a' href='/learnings' color='primary'>обучение</Button>\r\n            </Buttons>\r\n          </Fragment>\r\n      )}\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n`;\r\nconst Buttons = styled.div`\r\n  margin-top: 40px;\r\n  a {\r\n    margin-right: 10px;\r\n  }\r\n`;","import React, { useState, Fragment } from 'react';\r\nimport { Typography, Button } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport Results from './Results';\r\n\r\nexport default function Finish() {\r\n  const [isShowResult, setShowResult] = useState(false);\r\n\r\n  return (\r\n    <Container>\r\n      {isShowResult \r\n        ? <Results /> \r\n        :\r\n        <Fragment>\r\n          <Typography variant='h5' style={{ marginBottom: 10 }}>Тест завершён.</Typography>\r\n          <Typography variant='body2'>Вы можете посмотреть результаты тестирования, нажав на кнопку ниже.</Typography>\r\n          <Buttons>\r\n            <Button variant='contained' color='primary' onClick={() => setShowResult(true)}>результаты</Button>\r\n            <Button variant='outlined' color='primary' component='a' href='/'>на главную</Button>\r\n          </Buttons>\r\n        </Fragment>\r\n      }  \r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  height: fit-content;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 60px 30px;\r\n`;\r\nconst Buttons = styled.div`\r\n  margin-top: 30px;\r\n  button {\r\n    margin: 0 10px;\r\n  }\r\n`;","import React, { useState, useEffect } from 'react';\r\nimport Timer from './Timer';\r\nimport styled from 'styled-components';\r\nimport { fetchSingleQuestion } from '../../Effects/fetches';\r\nimport Loader from '../../Loader/Loader';\r\nimport { connect } from 'react-redux';\r\nimport Question from './Question';\r\nimport Circles from './Circles';\r\nimport Legend from './Legend';\r\nimport { updateResult, finishTest } from '../../Effects/requests';\r\nimport Finish from './Finish';\r\n\r\nfunction Test({ store, object }) {\r\n  // eslint-disable-next-line\r\n  const [_, updateState] = useState(0);\r\n  const [variants, setVariants] = useState([]);\r\n  const [questionNumber, setQuestionNumber] = useState(0);\r\n  const [allQuestionsId, setAllQuestionsId] = useState([]);\r\n  const [question, setQuestion] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [skipped, setSkipped] = useState([]);\r\n  const [answered, setAnswered] = useState([]);\r\n  const [finished, setFinished] = useState(false);\r\n  const [test, setTest] = useState([]);\r\n  const [paused, setPaused] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const allQuestionsId = store.tests[0].questions.split(',');\r\n    setTest(store.tests[0]);\r\n    setAllQuestionsId(allQuestionsId);\r\n    async function fetchData() {\r\n      const response = await fetchSingleQuestion(allQuestionsId[questionNumber]);\r\n      await setQuestion(response);\r\n      await getVariants(response); \r\n      if (loading) await setLoading(false);\r\n    }\r\n    fetchData();\r\n  }, [questionNumber]);\r\n\r\n  useEffect(() => {\r\n    const allQuestionsId = store.tests[0].questions.split(',');\r\n    if (object && object.length > 1) loadSave(object, allQuestionsId);\r\n  }, []);\r\n\r\n  function pauseTest() {\r\n    setPaused(true);\r\n  }\r\n\r\n  function resumeTest() {\r\n    setPaused(false);\r\n  }\r\n\r\n  function loadSave(save, allQuestionsId) {\r\n    let idArray = save[1].answered;\r\n    let result = [];\r\n\r\n    for (let i = 0; i < idArray.length; i++) {\r\n      for (let j = 0; j < allQuestionsId.length; j++) {\r\n        if (idArray[i] === allQuestionsId[j]) {\r\n          result.push(j);\r\n          continue;\r\n        }\r\n      }\r\n    }\r\n\r\n    setAnswered(result);\r\n\r\n    let next = 0;\r\n\r\n    for (let i = 0; i < result.length; i++) {\r\n      if (!allQuestionsId.includes(i)) {\r\n        next = i;\r\n      } else {\r\n        next = i + 1;\r\n      }\r\n    }\r\n    setQuestionNumber(next);\r\n  }\r\n\r\n  function getVariants(question) {\r\n    const splitted = question[0].variants.split(\"\\n\");\r\n    let variants = [];\r\n    splitted.forEach((item, i) => {\r\n      variants.push({\r\n        id: i,\r\n        item: item,\r\n        checked: false\r\n      })\r\n    })\r\n    setVariants(variants);\r\n  }\r\n\r\n  function setChecked(id) {\r\n    let newVariants = variants;\r\n\r\n    if (!question[0].answers) {\r\n      newVariants.forEach(variant => {\r\n        variant.checked = false;\r\n      });\r\n    }\r\n\r\n    newVariants[id].checked = !newVariants[id].checked;\r\n    setVariants(newVariants);\r\n    updateState(Math.random());\r\n  }\r\n\r\n  function nextQuestion() {\r\n    let newState = answered;\r\n    if (!answered.includes(questionNumber)) {\r\n      newState.push(questionNumber);\r\n      setAnswered(newState);\r\n    }\r\n    updateTestResult();\r\n    getNextStep(questionNumber);\r\n  }\r\n\r\n  function prevQuestion() {\r\n    setQuestionNumber(questionNumber - 1);\r\n  }\r\n\r\n  function skipQuestion() {\r\n    let newState = skipped;\r\n    if (!skipped.includes(questionNumber)) {\r\n      newState.push(questionNumber);\r\n      setSkipped(newState);\r\n    }\r\n    getNextStep(questionNumber);\r\n  }\r\n\r\n  function getNextStep() {\r\n    if (allQuestionsId.length === answered.length) {\r\n      finish();\r\n      return;\r\n    }\r\n\r\n    let next = questionNumber;\r\n\r\n    if (answered.includes(next)) {\r\n      next = Math.max(...answered);\r\n    }\r\n\r\n    if (next + 1 === allQuestionsId.length) {\r\n      for (let i = 0; i < allQuestionsId.length; i++) {\r\n        if (!answered.includes(i)) {\r\n          next = i;\r\n          break;\r\n        }\r\n      }\r\n      setQuestionNumber(next);\r\n    } else {\r\n      setQuestionNumber(next + 1);\r\n    }\r\n  }\r\n\r\n  async function finish() {\r\n    const test = await store.tests[0];\r\n    const testData = {\r\n      id: test.id,\r\n      estimated_time: document.getElementById('timer') ? document.getElementById('timer').innerHTML : 0\r\n    }\r\n\r\n    await finishTest(testData);\r\n    await setFinished(true);\r\n  }\r\n\r\n  async function updateTestResult() {\r\n    const test = await store.tests[0];\r\n    const checkedVariants = variants.filter(variant => variant.checked);\r\n    const checked = [];\r\n\r\n    checkedVariants.forEach(variant => {\r\n      checked.push(variant.item);\r\n    })\r\n\r\n    const testData = {\r\n      question_id: allQuestionsId[questionNumber],\r\n      test_id: test.id,\r\n      variants: checked,\r\n      estimated_time: document.getElementById('timer') ? document.getElementById('timer').innerHTML : 0\r\n    }\r\n\r\n    updateResult(testData);\r\n  }\r\n\r\n  function findTimer() {\r\n    return !Array.isArray(test) && !test.estimated_time.includes('false');\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {!finished && findTimer()\r\n        ? <Timer style={`${loading ? { opacity: 0 } : { opacity: 1 }}`} pauseTest={pauseTest} resumeTest={resumeTest} finish={finish} />\r\n        : null}\r\n\r\n      {loading\r\n        ? <Loader minHeight='45vh' />\r\n        : (\r\n          !finished ?\r\n            <QuestionWrapper>\r\n              <Question\r\n                question={question[0]}\r\n                questionNumber={questionNumber}\r\n                nextQuestion={nextQuestion}\r\n                prevQuestion={prevQuestion}\r\n                skipQuestion={skipQuestion}\r\n                setChecked={setChecked}\r\n                variants={variants}\r\n                answered={answered}\r\n                allQuestionsId={allQuestionsId}\r\n                findTimer={findTimer}\r\n                paused={paused}\r\n              />\r\n              <div style={{ width: '25%' }}>\r\n                <Legend />\r\n                <hr></hr>\r\n                <Circles\r\n                  skipped={skipped}\r\n                  answered={answered}\r\n                  questions={allQuestionsId}\r\n                />\r\n              </div>\r\n            </QuestionWrapper>\r\n            : <Finish />\r\n        )}\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  width: 1000px;\r\n  margin-top: -50px;\r\n  min-height: 75vh;\r\n  padding: 30px 35px;\r\n`;\r\nconst QuestionWrapper = styled.div`\r\n  display: flex;\r\n\r\n  hr {\r\n    background: #f5f5f5;\r\n    border: none;\r\n    height: 2px;\r\n    margin-bottom: 30px;\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state })\r\n)(Test);","import React from 'react';\r\nimport { Typography, Button } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nexport default function StartTestTemplate({ start }) {\r\n  return (\r\n    <Container>\r\n      <Typography variant='h5'>Добро пожаловать в тестирование.</Typography>\r\n      <div>\r\n        <Typography variant='body2'>Для того, чтобы начать - нажмите кнопку \"Начать тест\".</Typography>\r\n        <Typography variant='body2'>Как только, тестирование начнётся - запустится таймер.</Typography>\r\n      </div>\r\n      <Buttons>\r\n        <Button variant='contained' color='primary' onClick={start}>Начать тест</Button>\r\n        <Button color='primary' component='a' href='/learnings'>назад</Button>\r\n      </Buttons>   \r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  padding: 60px 40px;\r\n  min-height: 30vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst Buttons = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  button, a {\r\n    min-width: 150px;\r\n  }\r\n`;\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Typography, Button } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport Test from './Test';\r\nimport API from '../../functions/API';\r\n\r\nexport default function Continue() {\r\n  const [object, setObject] = useState([]);\r\n  const [isContinue, setContinue] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const id = window.location.pathname.replace('/test/', \"\");\r\n    fetch(`${API}/api/result/getResults.php?test_id=${id}`)\r\n      .then(response => response.json())\r\n      .then(results => {\r\n        let testData = [];\r\n        testData.push(results.data.estimated_time);\r\n        testData.push({\r\n          answered: [],\r\n        });\r\n\r\n        results.data.object = JSON.parse(results.data.object);\r\n        results.data.object.forEach(result => {\r\n          result.question_data = JSON.parse(result.question_data);\r\n          testData[1].answered.push(result.question_data.id);\r\n        });\r\n        setObject(testData)   \r\n      })\r\n      .catch(err => console.log(err))\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      {isContinue \r\n        ? <Test object={object} />\r\n        : <Fragment>\r\n          <Typography variant='h4' style={{ marginBottom: 10 }}>Тест стартовал.</Typography>\r\n          <Typography variant='body1'>Вы можете продолжить тестирование, нажав на кнопку ниже.</Typography>\r\n          <Buttons>\r\n            <Button variant='contained' color='primary' onClick={() => setContinue(true)}>продолжить</Button>\r\n            <Button variant='outlined' color='primary' component='a' href='/'>на главную</Button>\r\n          </Buttons>\r\n        </Fragment> \r\n      }\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  height: fit-content;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 60px 30px;\r\n`;\r\nconst Buttons = styled.div`\r\n  margin-top: 30px;\r\n  button {\r\n    margin: 0 10px;\r\n  }\r\n`;","import React, { Fragment, useState, useEffect } from 'react';\r\nimport Header from '../../Header';\r\nimport Test from './Test';\r\nimport styled from 'styled-components';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport StartTestTemplate from './StartTestTemplate';\r\nimport BgBubbles from '../../BgBubbles';\r\nimport { connect } from 'react-redux';\r\nimport { startTest as startTestRequest, setupResult } from '../../Effects/requests';\r\nimport moment from 'moment';\r\nimport Finish from './Finish';\r\nimport Continue from './Continue';\r\nimport API from '../../functions/API';\r\nimport Loader from '../../Loader/Loader';\r\n\r\nif (window.location.pathname !== '/settings') document.body.style.height = 'unset';\r\n\r\nfunction TestContainer({ store }) {\r\n  const [start, setStart] = useState(false);\r\n  const [finished, setFinished] = useState(false);\r\n  const [started, setStarted] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const id = window.location.pathname.replace('/test/',\"\");\r\n    fetch(`${API}/api/test/getStatus.php?id=${id}`)\r\n      .then(response => response.json())\r\n      .then(res => {\r\n        switch(res) {\r\n          case '1': \r\n            setFinished(true);\r\n            break;\r\n          case '0.5':\r\n            setStarted(true);\r\n            break\r\n          default: return;  \r\n        }\r\n      })\r\n      .then(() => setLoading(false))\r\n      .catch(err => console.log(err))\r\n  }, []);\r\n\r\n  function startTest() {\r\n    const test = store.tests[0]\r\n    const id = window.location.pathname.replace('/test/',\"\");\r\n    const testData = {\r\n      test_id: test.id,\r\n      user_id: test.user_id,\r\n      user_name: test.user_name,\r\n      date: moment().format('L'),\r\n      estimated_time: test.estimated_time\r\n    }\r\n\r\n    setStart(true);\r\n    startTestRequest(id);\r\n    setupResult(testData);\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <Header /> \r\n      <Container className='container'>\r\n        <Paper style={styles.container}>\r\n          {loading ? \r\n          <Loader minHeight={250} color=\"primary\" /> :\r\n          start\r\n            ? <Test /> \r\n            : \r\n              !finished && !started \r\n              ? <StartTestTemplate start={startTest} /> \r\n              : finished ? <Finish /> : <Continue />\r\n          }\r\n        </Paper> \r\n      </Container>\r\n      <BgBubbles cssClass='testing-bubbles' />\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    margin: '200px auto 0',\r\n    width: 'fit-content',\r\n    minWidth: 600\r\n  }\r\n}\r\n\r\nconst Container = styled.div``;\r\n\r\nexport default connect(\r\n  state => ({ store: state })\r\n)(TestContainer);","import React, { useEffect, useState, Fragment } from 'react';\r\nimport { fetchSingleTest } from '../../Effects/fetches';\r\nimport Loader from '../../Loader/Loader';\r\nimport { connect } from 'react-redux';\r\nimport TestContainer from './TestContainer';\r\n\r\nfunction TestPage({ fetchTest }) {\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const id = window.location.pathname.replace('/test/',\"\");\r\n    async function fetchData() {\r\n      const response = await fetchSingleTest(id);\r\n      await response ? fetchTest(response) : window.location.href = '/404';\r\n      await setLoading(false);  \r\n    }\r\n    fetchData(); \r\n  }, []);\r\n  \r\n  return (\r\n    <Fragment>\r\n      {loading ? <Loader minHeight='100vh' color='secondary' /> : <TestContainer /> }\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    fetchTest: test => {\r\n      dispatch({ type: 'FETCH_TEST', payload: test })\r\n    }\r\n  })\r\n)(TestPage);","import React, { PureComponent } from \"react\";\r\nimport { DateTimePicker } from \"material-ui-pickers\";\r\nimport { IconButton, InputAdornment } from \"@material-ui/core\";\r\nimport AlarmIcon from \"@material-ui/icons/AddAlarm\";\r\n\r\nclass CustomDateTimePicker extends PureComponent {\r\n  render() {\r\n    const { helperText, date, setDate, error, callback } = this.props;\r\n\r\n    return (\r\n      <DateTimePicker   \r\n        ampm={false}\r\n        showTabs={false}\r\n        autoSubmit={false}\r\n        allowKeyboardControl={true}\r\n        minDate={new Date()}\r\n        value={date}\r\n        onChange={e => {\r\n          setDate(e);\r\n          callback();\r\n        }}\r\n        label={helperText}\r\n        variant='outlined'\r\n        margin='dense'\r\n        cancelLabel='отмена'\r\n        required\r\n        minutesStep={10}\r\n        error={error}\r\n        InputProps={{\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <IconButton>\r\n                <AlarmIcon />\r\n              </IconButton>\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default CustomDateTimePicker;","import React, { useState } from 'react';\r\nimport Modal from '../Modal/Modal';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\nimport styled from 'styled-components';\r\nimport { Paper, TextField, Button, FormControlLabel, Checkbox, MenuItem } from '@material-ui/core';\r\nimport Picker from './Picker';\r\nimport moment from 'moment';\r\nimport { withSnackbar } from 'notistack';\r\nimport { createEvent as requestEvent } from '../Effects/requests';\r\nimport { connect } from 'react-redux';\r\n\r\nconst ranges = [];\r\nconst intervals = [];\r\n\r\nfor (let i = 1; i <= 5; i++) {\r\n  ranges.push({\r\n    value: i,\r\n    label: `${i} ${getNoun(i)}`\r\n  })\r\n}\r\nranges.push({\r\n  value: Infinity,\r\n  label: `не ограничено`\r\n})\r\n\r\nfor (let i = 30; i <= 120; i += 10) {\r\n  intervals.push({\r\n    value: i,\r\n    label: `${i} минут`\r\n  })\r\n}\r\n\r\nfunction getNoun(number) {\r\n  number = Math.abs(number);\r\n  number %= 100;\r\n  if (number >= 5 && number <= 20) return 'участников';\r\n  number %= 10;\r\n  if (number === 1) return 'участник';\r\n  if (number >= 2 && number <= 4) return 'участника';\r\n  return 'участников';\r\n}\r\n\r\nfunction NewEvent({ isOpen, handleClose, enqueueSnackbar, user, onAddEvent }) {\r\n  const [title, setTitle] = useState('');\r\n  const [_startDate, _setStartDate] = useState(null);\r\n  const [_endDate, _setEndDate] = useState(null);\r\n  const [startDate, setStartDate] = useState(null);\r\n  const [endDate, setEndDate] = useState(null);\r\n  const [isSignAllowed, setSignAllowed] = useState(false);\r\n  const [maxUsers, setMaxUsers] = useState(ranges[0].value);\r\n  const [isSplitted, setSplitted] = useState(false);\r\n  const [interval, setInterval] = useState(intervals[2].value);\r\n  const [emptyTitle, setEmptyTitle] = useState(false);\r\n  const [emptyStartDate, setEmptyStartDate] = useState(false);\r\n  const [emptyEndDate, setEmptyEndDate] = useState(false);\r\n\r\n  function setStart(e) {\r\n    const dateString = moment(e._d).format('YYYY-MM-DD HH:mm');\r\n    if (\r\n      (Number(dateString.slice(-5,-3)) > 7 && Number(dateString.slice(-5,-3)) < 18) \r\n      || \r\n      (Number(dateString.slice(-5,-3)) === 18 && Number(dateString.slice(-2)) === 0)\r\n    ) {\r\n      _setStartDate(e._d);\r\n      setStartDate(dateString);\r\n    } else {\r\n      setTimeout(() => setEmptyStartDate(true), 500);\r\n      enqueueSnackbar('Вы можете назначить время только с 08:00 - 18:00', {variant: 'warning'});\r\n    }\r\n  }\r\n\r\n  function setEnd(e) {\r\n    const dateString = moment(e._d).format('YYYY-MM-DD HH:mm');\r\n    if (\r\n      (Number(dateString.slice(-5,-3)) > 7 && Number(dateString.slice(-5,-3)) < 18) \r\n      || \r\n      (Number(dateString.slice(-5,-3)) === 18 && Number(dateString.slice(-2)) === 0)\r\n    ) {\r\n      _setEndDate(e._d);\r\n      setEndDate(dateString); \r\n    } else {\r\n      setTimeout(() => setEmptyEndDate(true), 500);\r\n      enqueueSnackbar('Вы можете назначить время только с 08:00 - 18:00', {variant: 'warning'});\r\n    }\r\n  }\r\n\r\n  function isSameDay() {\r\n    if (endDate && startDate) {\r\n      const ey = parseInt(endDate.slice(0, 4));\r\n      const em = parseInt(endDate.slice(5, 7));\r\n      const ed = parseInt(endDate.slice(8, 10));\r\n      const sy = parseInt(startDate.slice(0, 4));\r\n      const sm = parseInt(startDate.slice(5, 7));\r\n      const sd = parseInt(startDate.slice(8, 10));\r\n      return ey === sy && em === sm && ed === sd ? true : false;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  async function createEvent() {\r\n    if (title && startDate && endDate) {\r\n      const data = { creator: user.id, title, created_at: new Date().getTime() }\r\n\r\n      if (isSignAllowed) {\r\n        data.max = maxUsers;\r\n      } else {\r\n        data.max = '0';\r\n      }\r\n      if (isSplitted) data.interval = interval; \r\n      if (moment(_startDate).diff(moment(_endDate)) > 0) {\r\n        data.startDate = endDate;\r\n        data.endDate = startDate;\r\n      } else {\r\n        data.endDate = endDate;\r\n        data.startDate = startDate;\r\n      }\r\n      \r\n      const success = await requestEvent(data);\r\n\r\n      if (success) {    \r\n        data.name = user.name;\r\n        data.surname = user.surname;\r\n        if (!isSplitted) data.id = success.id\r\n        onAddEvent(data);\r\n        enqueueSnackbar('Событие успешно создано', {variant: 'success'});\r\n        if (isSplitted) window.location.reload();\r\n      } else {\r\n        enqueueSnackbar('Ошибка сервера', {variant: 'error'});\r\n      }\r\n      handleClose();\r\n    } else {\r\n      if (!title) setEmptyTitle(true);\r\n      if (!startDate) setEmptyStartDate(true);\r\n      if (!endDate) setEmptyEndDate(true);\r\n      enqueueSnackbar('Необходимо заполнить все поля', {variant: 'error'});\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      open={isOpen}\r\n      onClose={handleClose}\r\n      component={\r\n        <Wrapper>\r\n          <Paper>\r\n            <Icon onClick={handleClose}>\r\n              <CloseIcon />\r\n            </Icon>\r\n            <TextField\r\n              required\r\n              label=\"Название\"\r\n              margin=\"dense\"\r\n              variant=\"outlined\"\r\n              value={title}\r\n              error={emptyTitle}\r\n              onClick={() => setEmptyTitle(false)}\r\n              onChange={e => setTitle(e.target.value)}\r\n            />\r\n            <Picker\r\n              helperText='Назначьте начало мероприятия'\r\n              date={_startDate}\r\n              setDate={setStart}\r\n              error={emptyStartDate}\r\n              callback={() => setEmptyStartDate(false)}\r\n            />\r\n            <Picker\r\n              helperText='Назначьте окончание мероприятия'\r\n              date={_endDate}\r\n              setDate={setEnd}\r\n              error={emptyEndDate}\r\n              callback={() => setEmptyEndDate(false)}\r\n            />\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  checked={isSignAllowed}\r\n                  onChange={() => setSignAllowed(isSignAllowed ? false : true)}\r\n                  color=\"primary\"\r\n                />\r\n              }\r\n              label=\"На событие можно записаться\"\r\n            />\r\n            {isSignAllowed ?\r\n              <TextField\r\n                select\r\n                variant='outlined'\r\n                margin='dense'\r\n                label=\"Максимальное кол-во участников\"\r\n                value={maxUsers}\r\n                onChange={e => setMaxUsers(e.target.value)}\r\n              >\r\n                {ranges.map(option => (\r\n                  <MenuItem key={option.value} value={option.value}>\r\n                    {option.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </TextField>\r\n              : null}\r\n\r\n            {isSameDay() ? \r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    checked={isSplitted}\r\n                    onChange={() => setSplitted(isSplitted ? false : true)}\r\n                    color=\"primary\"\r\n                  />\r\n                }\r\n                label=\"Разбить на интервалы\"\r\n              /> : null}\r\n            {isSplitted ?\r\n              <TextField\r\n                select\r\n                variant='outlined'\r\n                margin='dense'\r\n                label=\"Интервал\"\r\n                value={interval}\r\n                onChange={e => setInterval(e.target.value)}\r\n              >\r\n                {intervals.map(option => (\r\n                  <MenuItem key={option.value} value={option.value}>\r\n                    {option.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </TextField>\r\n              : null}\r\n            <ButtonContainer>\r\n              <Button variant='contained' color='secondary' onClick={createEvent}>Создать</Button>\r\n              <Button variant='text' color='default' onClick={handleClose}>Отмена</Button>\r\n            </ButtonContainer>\r\n          </Paper>\r\n          <Dialogue />\r\n        </Wrapper>\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  height: fit-content;\r\n  width: 480px;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n  outline: none;\r\n  & > div {\r\n    position: relative;\r\n    display: flex;\r\n    padding: 45px 45px 30px;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    z-index: 10;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: 100%;\r\n  }\r\n`;\r\nconst Dialogue = styled.section`\r\n  position: fixed !important;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  background: rgba(0,0,0,0.54);\r\n  width: 100vw;\r\n  height: 100vh !important;\r\n  z-index: 5;\r\n`;\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  margin-top: 30px;\r\n  button {\r\n    margin-right: 25px;\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  svg {\r\n    cursor: pointer;\r\n    color: rgba(0,0,0,.54);\r\n    position: absolute;\r\n    right: 16px;\r\n    top: 16px;\r\n  }\r\n`\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    onAddEvent: (event) => {\r\n      dispatch({ type: 'ADD_EVENT', payload: event })\r\n    }\r\n  })\r\n)(withSnackbar(NewEvent));\r\n","import React from 'react';\r\nimport Modal from '../Modal/Modal';\r\nimport styled from 'styled-components';\r\nimport { Paper, Button, Typography } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\n\r\nexport default function ConfirmModal({ deleteAppointment, isOpen, handleClose }) {\r\n  return (\r\n    <Modal\r\n      open={isOpen}\r\n      onClose={handleClose}\r\n      component={\r\n        <Wrapper>\r\n            <Paper>\r\n              <Icon onClick={handleClose}>\r\n                <CloseIcon />\r\n              </Icon>\r\n              <Typography variant='body1'>Вы уверены, что хотите удалить мероприятие?</Typography>\r\n              <Typography variant='caption'>Вся информация по мероприятию будет удалена безвозвратно.</Typography>\r\n              <ButtonContainer>\r\n                <Button variant='contained' color='secondary' onClick={deleteAppointment}>Удалить</Button>\r\n                <Button variant='text' color='default' onClick={handleClose}>Отмена</Button>\r\n              </ButtonContainer>\r\n            </Paper>  \r\n          <Dialogue />\r\n        </Wrapper>\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  height: fit-content;\r\n  width: 350px;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n  outline: none;\r\n  & > div {\r\n    position: relative;\r\n    display: flex;\r\n    padding: 45px 25px 30px;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    z-index: 10;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: 100%;\r\n  }\r\n`;\r\nconst Dialogue = styled.section`\r\n  position: fixed !important;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  background: rgba(0,0,0,0.54);\r\n  width: 100vw;\r\n  height: 100vh !important;\r\n  z-index: 5;\r\n`;\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  margin-top: 30px;\r\n  button {\r\n    margin-right: 25px;\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  svg {\r\n    cursor: pointer;\r\n    color: rgba(0,0,0,.54);\r\n    position: absolute;\r\n    right: 16px;\r\n    top: 16px;\r\n  }\r\n`\r\n\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Paper, Typography, Button } from '@material-ui/core';\r\nimport { ViewState } from '@devexpress/dx-react-scheduler';\r\nimport { Scheduler, WeekView, Toolbar, DateNavigator, Appointments, ViewSwitcher, MonthView, DayView, AppointmentForm, AppointmentTooltip } from '@devexpress/dx-react-scheduler-material-ui';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { fade } from '@material-ui/core/styles/colorManipulator';\r\nimport API from '../functions/API';\r\nimport styled from 'styled-components';\r\nimport NewEvent from './NewEvent';\r\nimport { connect } from 'react-redux';\r\nimport { deleteEvent, signUpOnEvent, unSignUpOnEvent } from '../Effects/requests';\r\nimport { withSnackbar } from 'notistack';\r\nimport Modal from './Modal';\r\n\r\nconst style = theme => ({\r\n  todayCell: {\r\n    backgroundColor: fade(theme.palette.primary.main, 0.1),\r\n    color: 'black',\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.primary.main, 0.14),\r\n    },\r\n    '&:focus': {\r\n      backgroundColor: fade(theme.palette.primary.main, 0.16),\r\n    },\r\n  },\r\n  weekendCell: {\r\n    backgroundColor: fade(theme.palette.action.disabledBackground, 0.04),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.action.disabledBackground, 0.04),\r\n    },\r\n    '&:focus': {\r\n      backgroundColor: fade(theme.palette.action.disabledBackground, 0.04),\r\n    },\r\n  },\r\n  today: {\r\n    backgroundColor: fade(theme.palette.primary.main, 0.16),\r\n  },\r\n  weekend: {\r\n    backgroundColor: fade(theme.palette.action.disabledBackground, 0.06),\r\n  },\r\n});\r\n\r\nconst Appointment = ({ children, style, ...restProps }) => {\r\n  const signedUsers = restProps.data.signed ? restProps.data.signed.split(',') : [];\r\n  const remaining = restProps.data.max - signedUsers.length;\r\n\r\n  return (\r\n    <Appointments.Appointment\r\n      {...restProps}\r\n      style={{\r\n        ...style,\r\n        backgroundColor: !remaining ? '#3949AB' : '#1976d2',\r\n        borderRadius: '8px',\r\n      }}\r\n      onDoubleClick={null}\r\n    >\r\n      {children}\r\n  \r\n    </Appointments.Appointment>\r\n  )\r\n}\r\n\r\nconst AppointmentContentBase = ({ enqueueSnackbar, onSignup, onUnSignup, store, children, ...restProps  }) => {\r\n  const signedUsers = restProps.appointmentData.signed ? restProps.appointmentData.signed.split(',') : [];\r\n  const userName = `${restProps.appointmentData.name} ${restProps.appointmentData.surname}`;\r\n  const remaining = restProps.appointmentData.max - signedUsers.length;\r\n\r\n  function getRemainingPlaces(remaining) {\r\n    if (remaining === 1) return `Осталось одно место.`;\r\n    if (remaining > 1) return `Свободных мест: ${remaining}.`;\r\n    return `Все места заняты.`\r\n  }\r\n\r\n  function signed() {\r\n    if (signedUsers.length === 0) return <Typography variant='body2' style={{ padding: '5px 0' }}>Пока никто не записался</Typography>\r\n    return <Typography variant='body2' style={{ padding: '5px 0' }}>Записались: </Typography>\r\n  }\r\n\r\n  function signUp() {\r\n    const data = {\r\n      id: restProps.appointmentData.id,\r\n      name: store.user.name,\r\n      surname: store.user.surname\r\n    }\r\n    signUpOnEvent(data);\r\n    onSignup(data);\r\n    enqueueSnackbar('Вы записались на мероприятие', { variant: 'success' });\r\n\r\n    var closeIcon = document.querySelector('div [role=\"document\"]').querySelector('button');\r\n    closeIcon.click();\r\n  }\r\n\r\n  function unSignUp() {\r\n    const data = {\r\n      id: restProps.appointmentData.id,\r\n      name: store.user.name,\r\n      surname: store.user.surname\r\n    }\r\n    unSignUpOnEvent(data);\r\n    onUnSignup(data);\r\n    enqueueSnackbar('Вы отписались от мероприятия', { variant: 'info' });\r\n\r\n    var closeIcon = document.querySelector('div [role=\"document\"]').querySelector('button');\r\n    closeIcon.click();\r\n  }\r\n\r\n  function isSigned() {\r\n    if (restProps.appointmentData.hasOwnProperty('signed')) {\r\n      return restProps.appointmentData.signed.includes(`${store.user.name} ${store.user.surname}`);\r\n    }\r\n    return false;\r\n  }\r\n\r\n  return (\r\n    <div style={{ overflow: 'hidden', paddingBottom: 10 }}>\r\n      <div style={{ padding: '5px 15px' }}>\r\n        <Typography variant='subtitle2'>Создатель: {userName}</Typography>\r\n        {restProps.appointmentData.max === '0' ?\r\n        null :\r\n        (<Fragment>\r\n          {signed()}\r\n          {signedUsers.map(user =>\r\n            <Typography variant='body2' key={user}>— {user}</Typography>\r\n          )}\r\n          <Typography variant='caption' style={{ marginTop: 5 }}>{getRemainingPlaces(remaining)}</Typography> \r\n        </Fragment>)}\r\n      </div> \r\n\r\n      {children}\r\n\r\n      {remaining ? \r\n        <div style={{ display: 'flex', justifyContent: 'flex-end', padding: '15px 15px 5px' }}>     \r\n          <Button variant='contained' color='secondary' onClick={!isSigned() ? signUp : unSignUp}>{!isSigned() ? 'записаться' : 'отписаться'} </Button>\r\n        </div> : null}\r\n\r\n      {!remaining && isSigned() ? \r\n      <div style={{ display: 'flex', justifyContent: 'flex-end', padding: '15px 15px 5px' }}>     \r\n        <Button variant='contained' color='secondary' onClick={unSignUp}>{'отписаться'} </Button>\r\n      </div> : null}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst AppointmentContent = connect(state => ({ store: state }),\r\n  dispatch => ({ \r\n    onSignup: (data) => dispatch({ type: 'SIGN_UP', payload: data }),\r\n    onUnSignup: (data) => dispatch({ type: 'UNSIGN_UP', payload: data })\r\n}))(withSnackbar(AppointmentContentBase));\r\n\r\nconst AppointmentsTooltipBase = ({ enqueueSnackbar, onDeleteEvent, style, store, children, ...restProps }) => {\r\n  const [isOpen, setOpen] = useState(false);\r\n\r\n  let isUserAppointment = false;\r\n\r\n  if (restProps.appointmentMeta && restProps.appointmentMeta.data.creator === store.user.id) {\r\n    isUserAppointment = true;\r\n  }\r\n\r\n  const prepareDelete = () => {\r\n    setOpen(true);\r\n  }\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  }\r\n\r\n  const deleteAppointment = () => {\r\n    deleteEvent(restProps.appointmentMeta.data.id);\r\n    onDeleteEvent(restProps.appointmentMeta.data.id);\r\n    restProps.onHide();\r\n    setOpen(false);\r\n    enqueueSnackbar('Событие удалено', { variant: 'success' });\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <AppointmentTooltip.Layout\r\n        {...restProps}\r\n        contentComponent={AppointmentContent}\r\n        showDeleteButton={isUserAppointment}\r\n        onDeleteButtonClick={prepareDelete}\r\n      >\r\n        {children}  \r\n      </AppointmentTooltip.Layout>\r\n      {isOpen ? \r\n        <Modal \r\n          isOpen={isOpen}\r\n          handleClose={handleClose}\r\n          deleteAppointment={deleteAppointment}\r\n        /> \r\n      : null}\r\n    </Fragment>  \r\n  )\r\n}\r\n\r\nconst AppointmentsTooltip = connect(state => ({ store: state }),\r\n  dispatch => ({ onDeleteEvent: (id) => dispatch({ type: 'DELETE_EVENT', payload: id })\r\n}))(withSnackbar(AppointmentsTooltipBase));\r\n\r\nconst TimeTableCellBase = ({ classes, ...restProps }) => {\r\n  const { startDate } = restProps;\r\n  const date = new Date(startDate);\r\n  if (date.getDate() === new Date().getDate()) {\r\n    return <WeekView.TimeTableCell {...restProps} className={classes.todayCell} />;\r\n  } if (date.getDay() === 0 || date.getDay() === 6) {\r\n    return <WeekView.TimeTableCell {...restProps} className={classes.weekendCell} />;\r\n  } return <WeekView.TimeTableCell {...restProps} />;\r\n};\r\n\r\nconst TimeTableCell = withStyles(style, { name: 'TimeTableCell' })(TimeTableCellBase);\r\n\r\nconst DayScaleCellBase = ({ classes, ...restProps }) => {\r\n  const { startDate, today } = restProps;\r\n  if (today) {\r\n    return <WeekView.DayScaleCell {...restProps} className={classes.today} />;\r\n  } if (startDate.getDay() === 0 || startDate.getDay() === 6) {\r\n    return <WeekView.DayScaleCell {...restProps} className={classes.weekend} />;\r\n  } return <WeekView.DayScaleCell {...restProps} />;\r\n};\r\n\r\nconst DayScaleCell = withStyles(style, { name: 'DayScaleCell' })(DayScaleCellBase);\r\n\r\nfunction Calendar({ onFetchEvents, store: { user, events } }) {\r\n  const [isOpen, setOpen] = useState(false);\r\n  const handleClose = () => setOpen(false);\r\n\r\n  useEffect(() => {\r\n    fetch(`${API}/api/calendar/read.php`)\r\n      .then(response => response.json())\r\n      .then(events => onFetchEvents(events))\r\n  }, []);\r\n\r\n  return (\r\n    <Fragment>\r\n      <Paper>\r\n        {user.admin === '1' ?\r\n          <CreateEvent>\r\n            <Button variant='contained' color='secondary' onClick={() => setOpen(true)}>Создать событие</Button>\r\n          </CreateEvent>   \r\n        : null}\r\n        <Scheduler\r\n          style={{ height: '100%' }}\r\n          data={events}     \r\n        >\r\n          <ViewState\r\n            defaultCurrentViewName=\"День\"\r\n          />\r\n          <DayView\r\n            name=\"День\"\r\n            startDayHour={8}\r\n            endDayHour={19}\r\n          />\r\n          <WeekView\r\n            name=\"Неделя\"\r\n            startDayHour={8}\r\n            endDayHour={19}\r\n            firstDayOfWeek={1}\r\n            timeTableCellComponent={TimeTableCell}\r\n            dayScaleCellComponent={DayScaleCell}\r\n          />\r\n          <MonthView\r\n            name=\"Месяц\"\r\n            firstDayOfWeek={1}\r\n          />\r\n          <Toolbar />\r\n          <DateNavigator />       \r\n          <ViewSwitcher />\r\n          <Appointments\r\n            appointmentComponent={Appointment}   \r\n          />\r\n          <AppointmentTooltip\r\n            showOpenButton={false}\r\n            layoutComponent={AppointmentsTooltip}\r\n            showCloseButton   \r\n          />\r\n          <AppointmentForm\r\n            messages={{\r\n              allDayLabel: 'Весь день',\r\n              titleLabel: 'Мероприятие',\r\n              startDateLabel: 'Дата начала',\r\n              endDateLabel: 'Дата завершения',\r\n              commitCommand: 'Создать',\r\n              cancelCommand: 'Отмена',\r\n            }}\r\n            readOnly={true}\r\n          />\r\n        </Scheduler>\r\n        {isOpen ? \r\n          <NewEvent \r\n            isOpen={isOpen}\r\n            handleClose={handleClose}\r\n            user={user}\r\n          /> \r\n        : null}\r\n      </Paper>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nconst CreateEvent = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  width: fit-content;\r\n  margin-top: 15px;\r\n  z-index: 50;\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    onFetchEvents: (events) => {\r\n      dispatch({ type: 'FETCH_EVENTS', payload: events })\r\n    },\r\n    onDeleteEvent: (id) => {\r\n      dispatch({ type: 'DELETE_EVENT', payload: id })\r\n    },\r\n  })\r\n)(Calendar);\r\n","import React, { Fragment } from 'react';\r\nimport Header from '../Header';\r\nimport MainpageHeader from '../MainpageHeader';\r\nimport Nav from '../Navigation/Navigation';\r\nimport { connect } from 'react-redux';\r\nimport Loader from '../Loader/Loader';\r\nimport CalendarContainer from './CalendarContainer';\r\n\r\nfunction index({  store: { user }} ) {\r\n  return (\r\n    <Fragment>\r\n      <MainpageHeader />\r\n      <div className=\"container\">\r\n        <Header />\r\n        <Nav />\r\n      </div> \r\n\r\n      {!user.hasOwnProperty('name') \r\n        ? <Loader minHeight={370} />\r\n        : <CalendarContainer user={user} /> }\r\n  </Fragment>\r\n  )\r\n}\r\n\r\nexport default connect(state => ({ store: state }))(index);","import MainPage from './components/MainPage';\r\nimport LoginForm from './components/LoginForm';\r\nimport Approved from './components/Approved';\r\nimport Restore from './components/Restore';\r\nimport Page404 from './components/Page404';\r\nimport Settings from './components/Settings';\r\nimport TestPage from './components/Learnings/TestPage/index';\r\nimport Calendar from './components/Calendar/index';\r\n\r\nconst routes = [\r\n  {\r\n    path: '/id:user_id',\r\n    component: MainPage,\r\n    description: 'страница пользователя'\r\n  },\r\n  {\r\n    path: '/colleagues',\r\n    component: MainPage,\r\n    description: 'Список друзей(коллег)'\r\n  },\r\n  {\r\n    path: '/news',\r\n    component: MainPage,\r\n    description: 'Новости'\r\n  },\r\n  {\r\n    path: '/messages',\r\n    component: MainPage,\r\n    description: 'Личные сообщения'\r\n  },\r\n  {\r\n    path: '/tasks',\r\n    component: MainPage,\r\n    description: 'Задачи'\r\n  },\r\n  {\r\n    path: '/learnings',\r\n    component: MainPage,\r\n    description: 'Обучение'\r\n  },\r\n  {\r\n    path: '/settings',\r\n    component: Settings,\r\n    description: 'Персональные данные'\r\n  },\r\n  {\r\n    path: '/calendar',\r\n    component: Calendar,\r\n    description: 'Календарь'\r\n  },\r\n  {\r\n    path: '/feed',\r\n    component: MainPage,\r\n    description: 'Оповещения'\r\n  },\r\n  {\r\n    path: '/test/:any',\r\n    component: TestPage,\r\n    description: 'Страница тестирования'\r\n  },\r\n  {\r\n    path: '/login',\r\n    component: LoginForm,\r\n    description: 'Страница авторизации / регистрации'\r\n  },\r\n  {\r\n    path: '/approved',\r\n    component: Approved,\r\n    description: 'Страница подтверждения регистрации'\r\n  },\r\n  {\r\n    path: '/Restore',\r\n    component: Restore,\r\n    description: 'Страница восстановления пароля'\r\n  },\r\n  {\r\n    path: '/404',\r\n    component: Page404,\r\n    description: 'страница 404'\r\n  },\r\n  {\r\n    path: '/:any', // любой не валидный путь\r\n    component: Page404,\r\n    description: 'страница 404'\r\n  }\r\n]\r\n\r\nexport default routes;","import React, { useEffect } from 'react';\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { faComments, faHeart, faEnvelope, faEdit } from '@fortawesome/free-solid-svg-icons';\nimport routes from './routes';\nimport { connect } from 'react-redux';\nimport API from './components/functions/API';\nimport { withSnackbar } from 'notistack' ;\nimport Button from '@material-ui/core/Button';\n\nlibrary.add(faComments, faHeart, faEnvelope, faEdit)\n\nfunction App({ store: { news }, enqueueSnackbar, onFetchFeed, setUnreadedFeed, onFetchNews, onFetchUser }) {\n  /**\n   * @interval - дефолтные интервал получения данных с запросов\n   * @snackbarProps - дефолтные параметры снэкбара\n   */\n  const interval = 15 * 1000;\n  const snackbarProps = {\n    autoHideDuration: 5000,\n    action: <Button size=\"small\" style={{ color: '#1976d2', fontWeight: 700 }}>{'OK'}</Button>\n  }\n\n  /**\n   * для начала просто получим юзера \n  **/\n  useEffect(() => {\n    fetch(`${API}/api/user/info.php`)\n      .then(response => response.json())\n      .then(user => onFetchUser(user))\n  }, [])\n\n  /**\n   * Получаем ленту оповещений каждые @interval секунд\n   * @fetchFeed - запрос на получение ленты\n   * @showSnackbar - за каждый новый элемент в ленте - показываем снэкбар\n  **/\n  useEffect(() => {\n    let timestamp = null;\n  \n    function fetchFeed() {\n      fetch(`${API}/api/getFeed.php`)\n        .then(response => response.json())\n        .then(feed => {\n          if (feed[0].created_at > timestamp) {\n            if (timestamp) setUnreadedFeed( countNew(feed) );\n            onFetchFeed(feed);\n            showSnackbar(feed, countNew(feed) );    \n            timestamp = feed[0].created_at;\n    }})}\n\n    function countNew(feed) {\n      return feed.findIndex(item => item.created_at === timestamp);\n    }\n\n    function showSnackbar(feed, times) {\n      for (let i = 0; i < times; i++) {\n        switch (feed[i].type) {\n          case 'news':\n            enqueueSnackbar(`Новость. ${feed[i].name} ${feed[i].surname} — ${feed[i].title}`, snackbarProps);\n            break;\n          case 'likes':\n            enqueueSnackbar(`Пользователю ${feed[i].name} ${feed[i].surname} понравилась ваша запись — ${feed[i].title}`, snackbarProps);\n            break;\n          case 'tasks':\n            enqueueSnackbar(`Новая задача ${feed[i].importance === '1' ? ' c пометкой \"Важное\" ' : ''} от ${feed[i].name} ${feed[i].surname} — ${feed[i].text}`, snackbarProps);\n            break;\n          case 'messages':\n            enqueueSnackbar(`Новое сообщение от ${feed[i].name} ${feed[i].surname}`, snackbarProps);\n            break;\n          case 'comments':\n            enqueueSnackbar(`Пользователь ${feed[i].name} ${feed[i].surname} — оставил комментарий к вашей записи: ${feed[i].title}`, snackbarProps);\n            break;\n          case 'events':\n            enqueueSnackbar(`Новое событие в календаре — ${feed[i].title}`, snackbarProps);\n            break;\n          default: return Infinity;  \n    }}}\n\n    fetchFeed();\n    setInterval(() => fetchFeed(), interval)\n  }, []);\n\n  /**\n   * получаем список новостей каждые @interval секунд\n  **/\n  useEffect(() => {\n    let newsCount = 0;\n    function fetchNews() {\n      fetch(`${API}/api/news/read.php`)\n        .then(response => response.json())\n        .then(news => {\n          if (newsCount !== news.records.length) {\n            onFetchNews(news.records || []);\n            newsCount = news.records.length;\n          }\n        })\n    }\n\n    fetchNews();\n    setInterval(() => fetchNews(), interval)\n  }, [])\n  \n  return (\n    <BrowserRouter>\n      <Switch>\n        {routes.map(route =>\n          <Route \n            path={route.path} \n            component={route.component} \n            key={route.description}\n          />\n        )}\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default connect(state => ({ store: state }),\n  dispatch => ({\n    onFetchUser: user => dispatch({ type: 'FETCH_USER', payload: user }),\n    onFetchFeed: feed => dispatch({ type: 'FETCH_FEED', payload: feed }),\n    onFetchNews: news => dispatch({ type: 'FETCH_NEWS', payload: news }),\n    setUnreadedFeed: count => dispatch({ type: 'UNREADED_FEED', payload: count })\n}))(withSnackbar(App));\n\n\n","const initialState = {\r\n  feed: 0,\r\n  news: 0,\r\n  messages: 0,\r\n  tasks: 0\r\n}\r\n\r\nexport default function reducing(state = initialState, action) {\r\n  switch (action.type) {\r\n    case 'UNREADED_FEED':\r\n      state.feed = state.feed + action.payload;\r\n      return state;\r\n    case 'READ_FEED':\r\n      state.feed = 0;\r\n      return state;\r\n    default:\r\n      return state\r\n  }\r\n}","import { combineReducers } from 'redux';\r\nimport user from './user';\r\nimport tasks from './tasks';\r\nimport news from './news';\r\nimport chats from './chats';\r\nimport room from './room';\r\nimport messages from './messages';\r\nimport friends from './friends';\r\nimport tests from './tests';\r\nimport categories from './categories';\r\nimport events from './events';\r\nimport feed from './feed';\r\nimport unreaded from './unreaded';\r\n\r\nexport default combineReducers({\r\n  user,\r\n  news,\r\n  tasks,\r\n  chats,\r\n  room,\r\n  messages,\r\n  friends,\r\n  tests,\r\n  categories,\r\n  events,\r\n  feed,\r\n  unreaded\r\n})","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'LOGGED_IN':\r\n      return [action.payload]\r\n    case 'UPDATE_USER':\r\n      let updated = state[0];\r\n      updated[action.field] = action.payload; \r\n      return [updated]\r\n    case 'FETCH_USER':  \r\n      return action.payload\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_NEWS':\r\n      return [...action.payload]\r\n    case 'DELETE_NEWS':\r\n      let nextState = state.filter(item => item.id !== action.payload);\r\n      return [...nextState]\r\n    case 'ADD_NEWS':\r\n      return [...action.payload]  \r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_TASKS':\r\n      if (Array.isArray(action.payload)) {\r\n        return [...action.payload]\r\n      }\r\n      return state\r\n    case 'MARK_COMPLETED':\r\n      return [...action.payload]\r\n    case 'ADD_TASK':\r\n      return [...action.payload]\r\n    case 'FILTER_TASKS':\r\n      return [...action.payload]\r\n    case 'READED_TASK':\r\n      let newState = state;\r\n      let readed = newState.find(task => task.id === action.payload);\r\n      readed.readed = 1;\r\n      return newState;\r\n    case 'DELETE_TASK':\r\n      let nextState = state.filter(item => item.id !== action.payload);\r\n      return [...nextState]\r\n    default:\r\n      return state\r\n  }\r\n}","import _ from 'lodash';\r\n\r\nexport default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_CHATS':\r\n      return [...action.payload]\r\n    case 'CREATE_CHAT':\r\n      return [...state, action.payload]\r\n    case 'DELETE_CHAT':\r\n      let cleared = state.filter(chat => chat.id !== action.payload);\r\n      return cleared\r\n    case 'ADD_MESSAGE':\r\n      let newState = state.filter(chat => chat.id !== action.payload.chat);\r\n      let currentChat = state.find(chat => chat.id === action.payload.chat);\r\n      currentChat.message = action.payload;\r\n      newState = _.concat(newState, currentChat)\r\n      return newState\r\n    case 'EDIT_MESSAGE':\r\n      let editedState = state.filter(chat => chat.message.id !== action.payload[0]);\r\n      let editedMessage = state.find(chat => chat.message.id === action.payload[0]);\r\n      \r\n      if (editedMessage) {\r\n        editedMessage.message.body = action.payload[1];\r\n        editedState = _.concat(editedState, editedMessage)\r\n      }\r\n      \r\n      return editedState\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'OPEN_CHAT':\r\n      return {chat_id: action.payload[0], user: action.payload[1]}\r\n    case 'CLOSE_CHAT':\r\n      return {user: action.payload[1]}\r\n    case 'DELETE_CHAT':\r\n      let initial = state;\r\n      delete initial.chat_id;\r\n      initial.user.message = null;\r\n      return initial\r\n    case 'ASSIGN_CHAT':\r\n      let newState = state;\r\n      newState.chat_id = action.payload;\r\n      return newState;\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_MESSAGES':\r\n      return [...action.payload]\r\n    case 'ADD_MESSAGE':\r\n      let newMessage = action.payload;\r\n      newMessage.id = (Number(localStorage.getItem('message_id')) + 1).toString();\r\n      let finder = state.find(message => message.id === newMessage.id);\r\n      if (finder) {\r\n        newMessage.id = (Number(newMessage.id) + 1).toString();\r\n      }\r\n      return [...state, newMessage]\r\n    case 'DELETE_MESSAGE':\r\n      let newState = state.filter(message => message.id !== action.payload);\r\n      return newState\r\n    case 'CLOSE_CHAT':\r\n      return []\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_FRIENDS':\r\n      return [...action.payload]\r\n    case 'FILTER_FRIENDS':\r\n      return [...action.payload]\r\n    case 'SET_FRIENDS':\r\n      return action.payload\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_TESTS':\r\n      return [...action.payload]\r\n    case 'FETCH_TEST':\r\n      return action.payload;\r\n    case 'ADD_TEST':\r\n      return [...state, action.payload]\r\n    case \"DELETE_TEST\":\r\n      let filtered = state.filter(test => Number(test.id) !== Number(action.payload));\r\n      return filtered;\r\n    case 'FILTER_TESTS':\r\n      return [...action.payload]\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'GET_CATEGORIES':\r\n      return action.payload\r\n    case 'RESE_CATEGORIES':\r\n      return action.payload\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_EVENTS':\r\n      return Array.isArray(action.payload) ? [...action.payload] : state;\r\n    case 'ADD_EVENT':\r\n      return [...state, action.payload]\r\n    case 'CHANGE_EVENTS':\r\n      return [...action.payload]\r\n    case 'DELETE_EVENT':\r\n      return state.filter(item => item.id !== action.payload)\r\n    case 'SIGN_UP':  \r\n      let event = state.find(event => event.id === action.payload.id);\r\n\r\n      if (!event.signed) {\r\n        event.signed = `${action.payload.name} ${action.payload.surname}`;\r\n      } else {\r\n        event.signed += `, ${action.payload.name} ${action.payload.surname}`;\r\n      }\r\n  \r\n      let index = state.findIndex((obj => obj.id === action.payload.id));\r\n      let newState = state;\r\n      \r\n      newState[index].signed = event.signed;\r\n\r\n      return newState\r\n    case 'UNSIGN_UP':\r\n      let updatedState = state;\r\n      let thisEvent = state.find(event => event.id === action.payload.id);\r\n      let userName = `${action.payload.name} ${action.payload.surname}`;\r\n      \r\n      if (thisEvent.signed.split(',').length > 1) {\r\n        if (thisEvent.signed.split(',')[0] === userName) {\r\n          thisEvent.signed = thisEvent.signed.replace(`${userName},`, '');\r\n        } else {\r\n          thisEvent.signed = thisEvent.signed.replace(`, ${userName}`, '');\r\n        }    \r\n      } \r\n      thisEvent.signed = thisEvent.signed.replace(userName, '');\r\n      \r\n\r\n      let i = state.findIndex((obj => obj.id === action.payload.id));\r\n      updatedState[i].signed = thisEvent.signed;\r\n\r\n      return updatedState  \r\n    \r\n    default: return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_FEED':\r\n      return [...action.payload]\r\n    default:\r\n      return state\r\n  }\r\n}","import { createMuiTheme } from '@material-ui/core/styles';\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: { main: '#1976d2' }, \r\n    secondary: { main: '#ff4800' },\r\n  },\r\n  typography: { useNextVariants: true },\r\n  overrides: {\r\n    MuiSnackbar: { \r\n      root: { \r\n        bottom: window.innerWidth < 600 ? '60px !important' : '0', \r\n      },\r\n    },\r\n    MuiModal: {\r\n      root: {\r\n        bottom: window.innerWidth < 600 ? '60px !important' : '0', \r\n        maxWidth: `${window.innerWidth}px !important`\r\n      },\r\n    },\r\n    MuiBackdrop: {\r\n      root: {\r\n        bottom: window.innerWidth < 600 ? 'display: none' : 'display: block', \r\n      },\r\n    },\r\n    MuiFab: {\r\n      root: {\r\n        bottom: window.innerWidth < 600 ? '76px' : '0', \r\n        zIndex: 10\r\n      }\r\n    },\r\n    MuiList: {\r\n      padding: {\r\n        padding: '0 !important'\r\n      }\r\n    },\r\n    MuiGrid: {\r\n      container: {\r\n        height: '100% !important'\r\n      }\r\n    },\r\n    MuiTableCell: {\r\n      root: {\r\n        pointerEvents: 'none'\r\n      }\r\n    },\r\n    Layout: {\r\n      title: {\r\n        marginLeft: '-40px'\r\n      }\r\n    },\r\n    VerticalAppointment: {\r\n      content: {\r\n        fontSize: '1.1rem'\r\n      },\r\n      title: {\r\n        fontWeight: '500',\r\n        fontSize: '1.2rem'\r\n      },\r\n      textContainer: {\r\n        lineHeight: '20px',\r\n        opacity: '.75'\r\n      }\r\n    },\r\n  },\r\n});\r\n\r\nexport default theme;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport reducer from './reducers';\nimport theme from './MaterialTheme';\nimport { MuiPickersUtilsProvider } from 'material-ui-pickers';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport MomentUtils from '@date-io/moment';\nimport moment from 'moment';\nimport 'moment/locale/ru';\nimport { SnackbarProvider } from 'notistack';\n\nlet store = createStore(reducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\nmoment.locale('ru');\n\nfunction Root() {\n  return (\n    <MuiThemeProvider theme={theme}>\n      <Provider store={store}>\n        <MuiPickersUtilsProvider utils={MomentUtils} moment={moment}>\n          <SnackbarProvider \n            maxSnack={3} \n            preventDuplicate={true}\n          >\n            <App />\n          </SnackbarProvider>\n        </MuiPickersUtilsProvider>\n      </Provider>\n    </MuiThemeProvider>\n  );\n}\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}