{"version":3,"sources":["components/Header.jsx","components/DropZone.jsx","components/MainpageHeader.jsx","components/SingleNews.jsx","components/SideNews.jsx","components/Navigation.jsx","components/functions/Cookie.js","components/NavFriends.jsx","components/Modal.jsx","components/PersonalInfo.jsx","components/Tasks.jsx","components/News.jsx","components/MainPage.jsx","components/ForgetPassword.jsx","components/SignupForm.jsx","components/RegisterForm.jsx","components/BgBubbles.jsx","components/LoginForm.jsx","components/Approved.jsx","components/Restore.jsx","components/Page404.jsx","components/Settings.jsx","App.jsx","index.js","components/img/photos/images.png"],"names":["Header","date","Date","react_default","a","createElement","className","dist_default","element","format","id","toLocaleString","weekday","Component","DropZone","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","loadedFiles","_this2","map","file","idx","newFile","updateLoadedFile","objectSpread","isUploading","setTimeout","e","_this3","currentTarget","files","fileReader","FileReader","onload","console","log","result","data","addLoadedFile","onabort","alert","onerror","readAsDataURL","setState","prevState","_","filter","ldFile","oldFile","toConsumableArray","find","_this4","Fragment","style","display","flexDirection","type","name","ref","input","fileInput","onDragOver","preventDefault","stopPropagation","onDrop","onFileLoad","bind","onChange","buttons","text","intent","Intent","PRIMARY","minimal","onClick","click","SUCCESS","onUpload","key","alt","src","react_icons_kit","MainpageHeader","toggleDropzone","dropzone","dropzoneWindow","toggleDropzoneWindow","cropWindow","offEverything","modal","assertThisInitialized","_this$props","user","noAvatar","defaultAvatar","backgroundImage","concat","image","uploadedAvatar","avatar","login","surname","position","href","components_DropZone","SingleNews","handleChange","commentText","target","value","addLike","self","formData","FormData","append","$","ajax","url","processData","contentType","success","res","reloadComponent","error","err","removeLike","submitComment","singleNewsId","toJSON","slice","replace","toLocaleTimeString","fetchComments","currentUser","thisComments","loadedComments","fetch","then","response","json","number","Math","abs","closeNews","comments","news","_this$state","newsElement","item","length","fetchUserInfo","author_id","Single","PostHeader","DefaultAvatar","window","location","origin","PostContent","PostLikes","likes","getNoun","PostActions","keys","index_es","icon","liked_by","includes","color","marginLeft","NewComment","disabled","comment","i","Comments","who","Wrapper","styled","div","_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","SideNews","goToSingleNews","singleNews","changeImportance","importance","singleNewsData","records","NEWS_COUNTER","Switch_default","author","title","dangerouslySetInnerHTML","__html","handleChangeSection","scrollTo","SingleNews_SingleNews","Navigation","sections","section","user_logged_id","img","Link","to","user_id","handleChangeUrl","components_SideNews","Cookie","cname","cvalue","exdays","d","setTime","getTime","expires","toUTCString","document","cookie","ca","split","c","charAt","substring","indexOf","getCookie","prompt","setCookie","NavFriends","friends","friend","handleChangeUserId","Modal","visible","toggleVisible","PersonalInfo","removeInput","newChildInput","userInfo","modalText","childName","childBirthyear","handleSubmit","openModal","deleteChild","prepareChild","handleChild","addChild","event","defineProperty","val","childrens","childs","JSON","parse","components_Modal","action","method","onSubmit","width","birthday","status","default","hidden","sex","child","child_name","child_birthyear","city","district","adress","react_input_mask_default","mask","phone","vuz","fakultet","army_country","army_type","height","Tasks","News","removeClass","countComments","news_id","newNews","submitNews","newNewsTopic","newNewsText","newNewsImportance","addClass","removeNews","prepareNews","dataset","editing","editNews","addNews","showNews","NewsContainer","UserAvatar","NewsInfo","data-id","NewsTitle","marginTop","Actions","AddNews","NewNews","required","placeholder","Checkbox","News_Wrapper","News_templateObject","p","News_templateObject2","News_templateObject3","News_templateObject4","News_templateObject5","News_templateObject6","News_templateObject7","News_templateObject8","_templateObject9","MainPage","pathname","switchComponent","cookie_id","parseInt","current_id","components_PersonalInfo","News_News","components_Tasks","components_NavFriends","components_Header","components_MainpageHeader","components_Navigation","ForgetPassword","fadeOut","hide","forgetPassword","htmlFor","SignupForm","isForget","password","isPassHidden","showPassword","paddingBottom","username","components_ForgetPassword","RegisterForm","email","confirmed","isEmailValid","validateEmail","test","getElementById","reset","BgBubbles","LoginForm","whichForm","changeForm","components_RegisterForm","components_SignupForm","components_BgBubbles","Approved","goToMain","closeWindow","close","Restore","pw","vars","m","getUrlVars","Page404","Settings","componentWillMount","library","add","faComments","faHeart","faEnvelope","faEdit","App","BrowserRouter","Switch","Route","path","component","ReactDOM","render","src_App","module","exports"],"mappings":"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","file":"static/js/main.a4b1526c.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport Moment from 'react-moment';\r\nimport './css/Header.css';\r\n\r\nclass Header extends Component {\r\n  render() {\r\n    const date = new Date();\r\n    return (\r\n      <div className=\"absolute-header\">\r\n        <div className=\"header-team\">#ЕдинаяКоманда</div>\r\n        <div className=\"header-date\">\r\n          <span>сегодня</span>\r\n          <Moment element=\"span\" format=\"DD.MM.YYYY\">{date}</Moment>\r\n          <span id=\"header-date-day\">{date.toLocaleString('ru', {weekday: 'short'})}</span>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Header;","import React, {Component} from 'react';\r\nimport {AnchorButton, Intent} from \"@blueprintjs/core\";\r\nimport _ from 'lodash';\r\nimport {ProgressBar} from 'react-icons-kit';\r\nimport './css/Dropzone.css';\r\n\r\nclass DropZone extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loadedFiles: []\r\n    };\r\n  }\r\n\r\n  onUpload() {\r\n    const {loadedFiles} = this.state;\r\n      //Loop through loaded files and (AJAX Each one to the server)\r\n    loadedFiles.map((file, idx) => {\r\n        /*You should send AJAX request to the backend over here but we are just going to simulate the function of a backend server by using the setTimeout function*/\r\n      //Update file (Change it's state to uploading)\r\n      let newFile = this.updateLoadedFile(file, {\r\n        ...file,\r\n        isUploading: true\r\n      });\r\n      //Simulate a REAL WEB SERVER DOING IMAGE UPLOADING (3seconds)\r\n      setTimeout(() => {\r\n        //Get it back to it's original State\r\n        this.updateLoadedFile(newFile, {\r\n          ...newFile,\r\n          isUploading: false\r\n        });\r\n      }, 3000);\r\n    });\r\n  }\r\n\r\n  onFileLoad(e) {\r\n    //Get current selected or dropped file (it gives you the ability to load multiple images).\r\n    const file = e.currentTarget.files[0];\r\n    //Create instance \r\n    let fileReader = new FileReader();\r\n    //Register event listeners\r\n    fileReader.onload = () => {\r\n      console.log(\"IMAGE LOADED: \", fileReader.result);\r\n      //File Instance for holding image data\r\n        const file = {\r\n        data: fileReader.result,\r\n        isUploading: false\r\n      }\r\n      //Add file to the loadedFiles Array\r\n      this.addLoadedFile(file);\r\n    }\r\n    //Operation Aborted \r\n    fileReader.onabort = () => {\r\n      alert(\"Reading Aborted\");\r\n    }\r\n    //Error when loading \r\n    fileReader.onerror = () => {\r\n      alert(\"Reading ERROR!\");\r\n    }\r\n    //Read the file as a Data URL (which gonna give you a base64 encoded image data)\r\n    fileReader.readAsDataURL(file);\r\n  }\r\n\r\n  addLoadedFile(file) {\r\n    //SetState could take a callback which requires returning the state object to be applied\r\n    this.setState({loadedFiles: [file]});\r\n  }\r\n\r\n  removeLoadedFile(file) {\r\n    //Remove file from the State\r\n    this.setState((prevState) => {\r\n      let loadedFiles = prevState.loadedFiles;\r\n      //filter through all items but the one needs to be removed\r\n      let newLoadedFiles = _.filter(loadedFiles, (ldFile) => {\r\n        //return all elements but the file we want to remove (to get a new array without the target image file)\r\n        return ldFile !== file;\r\n      });\r\n        //Return loadedFiles to update the state \r\n      return {loadedFiles: newLoadedFiles};\r\n    });\r\n  }\r\n  //Remove all Files (Simply set the array to empty)\r\n  removeAllLoadedFile() {\r\n    this.setState({loadedFiles: []});\r\n  }\r\n\r\n  updateLoadedFile(oldFile, newFile) {\r\n    this.setState((prevState) => {\r\n        //Create a new instance since we need to mutate the array \r\n      const loadedFiles = [...prevState.loadedFiles];\r\n        //Find target file to be updated (oldFile)\r\n      _.find(loadedFiles, (file, idx) => {\r\n        if (file === oldFile) \r\n            //This is it! Update it with the new file object\r\n          loadedFiles[idx] = newFile;\r\n        }\r\n      );\r\n        //Set State \r\n      return {loadedFiles};\r\n    });\r\n      //Return new file instance so we could use later as oldFile if we ever wanted to update \r\n    return newFile;\r\n  }\r\n\r\n  render() {\r\n    const {loadedFiles} = this.state;\r\n\r\n    return (\r\n    <>  \r\n      <div\r\n        className=\"inner-container\"\r\n        style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n        <div className=\"sub-header\">Drag an Image</div>\r\n        <div className=\"draggable-container\">\r\n          <input\r\n            type=\"file\"\r\n            id=\"file-browser-input\"\r\n            name=\"file-browser-input\"\r\n            ref={input => this.fileInput = input}\r\n            onDragOver={(e) => {\r\n              e.preventDefault();\r\n                 e.stopPropagation();\r\n            }}\r\n            onDrop={this.onFileLoad.bind(this)}\r\n            onChange={this.onFileLoad.bind(this)}\r\n            />\r\n          <div className=\"files-preview-container\"></div>\r\n          <div className=\"helper-text\">Drag and Drop Images Here</div>\r\n          <div className=\"file-browser-container\">\r\n            <AnchorButton\r\n              text=\"Browse\"\r\n              intent={Intent.PRIMARY}\r\n              minimal={true}\r\n              onClick={() => this.fileInput.click()}/>\r\n          </div>\r\n        </div>\r\n        <AnchorButton\r\n          text=\"Upload\"\r\n          intent={Intent.SUCCESS}\r\n          onClick={this.onUpload.bind(this)}/>\r\n      </div>\r\n\r\n      <div className=\"files-preview-container ip-scrollbar\">\r\n      {loadedFiles.map((file, idx) => {\r\n        return <div className=\"file\" key={idx}>\r\n          <img alt='' src={file.data}/>\r\n          <div className=\"container\">\r\n            <span className=\"progress-bar\">\r\n              {file.isUploading && <ProgressBar/>}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      })}\r\n      </div>\r\n    </>  \r\n    );\r\n  }\r\n}\r\n\r\nexport default DropZone;\r\n","import React, {Component} from 'react';\r\nimport './css/MainpageHeader.css';\r\nimport image from './img/photos/images.png';\r\nimport DropZone from './DropZone';\r\n\r\nclass MainpageHeader extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      dropzone: false,\r\n      dropzoneWindow: false,\r\n      cropWindow: false,\r\n      modal: false,\r\n    }\r\n    this.toggleDropzone         = this.toggleDropzone.bind(this);\r\n    this.toggleDropzoneWindow   = this.toggleDropzoneWindow.bind(this);\r\n    this.offEverything          = this.offEverything.bind(this);\r\n  }\r\n\r\n  toggleDropzone = () => this.setState({ dropzone: !this.state.dropzone, dropzoneWindow: !this.state.dropzoneWindow });\r\n  toggleDropzoneWindow = () => this.setState({dropzoneWindow: !this.state.dropzoneWindow, cropWindow: !this.state.cropWindow });\r\n  offEverything = () => this.setState({dropzone: false, dropzoneWindow: false, cropWindow: false });\r\n\r\n  render() {\r\n    const { user, noAvatar } = this.props;\r\n    const defaultAvatar = { backgroundImage: `url(${image})`};\r\n    const uploadedAvatar = { backgroundImage: `url(${user.avatar})`};\r\n\r\n    return (\r\n      <section>     \r\n        <header className=\"header\">\r\n          <div className=\"person\">\r\n            <div className=\"person-image\" style={noAvatar ? defaultAvatar : uploadedAvatar}></div>\r\n            <div className=\"person-info\">\r\n              <div className=\"person-info__container\">\r\n                <p className=\"person-info__name\">{user.name === '' ? user.login : `${user.name} ${user.surname}`}</p>\r\n                <p className=\"person-info__position\">{user.position}</p>\r\n              </div>\r\n              <a href=\"logout.php\"><button className=\"btn person-logout\">Выйти</button></a>\r\n            </div>\r\n          </div>\r\n          <button onClick={this.toggleDropzone} className=\"btn upload-cover\">Загрузить обложку</button>\r\n        </header>\r\n        {this.state.dropzone ? (\r\n          <DropZone \r\n            toggleDropzone={this.toggleDropzone} \r\n            dropzoneWindow={this.state.dropzoneWindow} \r\n            cropWindow={this.state.cropWindow} \r\n            offEverything={this.offEverything}\r\n            toggleDropzoneWindow={this.toggleDropzoneWindow} /> ) : null}       \r\n      </section>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MainpageHeader;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport $ from 'jquery';\r\nimport DefaultAvatar from './img/photos/images.png';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nexport default class SingleNews extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentUser: [],\r\n      thisComments: [],\r\n      loadedComments: false,\r\n      commentText: ''\r\n    }\r\n  }\r\n\r\n  fetchUserInfo(id) {\r\n    fetch(`http://akvatory.local/api/user/info.php?id=${id}`)\r\n      .then(response => response.json())\r\n      .then(currentUser => this.setState({ currentUser }))\r\n  }\r\n\r\n  fetchComments(id) {\r\n    fetch(`http://akvatory.local/api/news/single_comments.php?id=${id}`)\r\n      .then(response => response.json())\r\n      .then(thisComments => this.setState({ thisComments, loadedComments: !this.state.loadedComments }))\r\n  }\r\n\r\n  handleChange = e => this.setState({commentText: e.target.value});\r\n\r\n  // добавляем лайк\r\n  addLike = (id, e) => {\r\n    var self = this;\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append('id', id);\r\n    formData.append('liked_by', this.props.user.id);\r\n    console.log(id);\r\n    \r\n    $.ajax({ \r\n      // DEV\r\n      url         : 'http://akvatory.local/api/news/addlike.php',\r\n      /* url         : window.location.origin + '/api/news/addlike.php', */\r\n      data        : formData,\r\n      processData : false,\r\n      contentType : false,\r\n      type: 'POST',\r\n      success: function(res) {\r\n        self.props.reloadComponent();\r\n      },\r\n      error: function(err) {\r\n        console.log(err);\r\n      }\r\n    });\r\n  } \r\n\r\n  // убираем лайк\r\n  removeLike = (id, e) => {\r\n    const self = this;\r\n    e.preventDefault();  \r\n\r\n    const formData = new FormData();\r\n    formData.append('id', id);\r\n    formData.append('liked_by', this.props.user.id);\r\n      \r\n    $.ajax({ \r\n      // DEV\r\n      url         : 'http://akvatory.local/api/news/removelike.php',\r\n      /* url         : window.location.origin + '/api/news/removelike.php', */\r\n      data        : formData,\r\n      processData : false,\r\n      contentType : false,\r\n      type: 'POST',\r\n      success: function(res) {\r\n        self.props.reloadComponent();\r\n      },\r\n        error: function(err) {\r\n        console.log(err);\r\n      }\r\n    });\r\n  } \r\n\r\n  submitComment = e => {\r\n    var self = this;\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append('news_id', this.props.singleNewsId);\r\n    formData.append('who', `${this.props.user.name} ${this.props.user.surname}`);\r\n    formData.append('date', new Date().toJSON().slice(0,10).replace(/-/g,'.'));\r\n    formData.append('visible', 1);\r\n    formData.append('time', new Date().toLocaleTimeString().slice(0,-3));\r\n    formData.append('text', this.state.commentText);\r\n    \r\n    $.ajax({ \r\n      // DEV\r\n      url         : 'http://akvatory.local/api/news/addcomment.php',\r\n      /* url         : window.location.origin + '/api/news/addcomment.php', */\r\n      data        : formData,\r\n      processData : false,\r\n      contentType : false,\r\n      type: 'POST',\r\n      success: function(res) {\r\n        self.setState({commentText: ''});\r\n        self.fetchComments();\r\n      },\r\n      error: function(err) {\r\n        console.log(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  getNoun(number) {\r\n    number = Math.abs(number);\r\n    number %= 100;\r\n    if (number >= 5 && number <= 20) return 'отметок';\r\n    number %= 10;\r\n    if (number == 1) return 'отметка';\r\n    if (number >= 2 && number <= 4) return 'отметки';\r\n    return 'отметок';\r\n  } \r\n\r\n  render() {\r\n    const { closeNews, singleNewsId, comments, news, user } = this.props;\r\n    const { currentUser, thisComments, loadedComments, commentText } = this.state;\r\n    const newsElement = this.props.news.filter((item) => item.id === singleNewsId);\r\n    \r\n    if(currentUser.length === 0) {\r\n      this.fetchUserInfo(newsElement[0].author_id);\r\n    }\r\n\r\n    if(!loadedComments) {\r\n      this.fetchComments(singleNewsId);\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <Single>\r\n          <button className=\"close\" onClick={closeNews}></button>\r\n          \r\n          <PostHeader>\r\n            {currentUser.avatar === '' ? <img src={DefaultAvatar} /> : <img src={window.location.origin + currentUser.avatar} />}\r\n            <p>{currentUser.name} {currentUser.surname}</p>\r\n          </PostHeader>\r\n\r\n          <PostContent>\r\n            <p>{newsElement[0].text}</p>\r\n            <span>{newsElement[0].date}</span>\r\n          </PostContent> \r\n\r\n          <PostLikes>\r\n            <span><strong>{newsElement[0].likes}</strong> {this.getNoun(newsElement[0].likes)} \"Нравится\"</span>\r\n            <span><strong>{newsElement[0].likes}</strong> {this.getNoun(newsElement[0].likes)} \"Нравится\"</span>  \r\n          </PostLikes>  \r\n\r\n          <PostActions>\r\n            {Object.keys(thisComments).length} \r\n            <FontAwesomeIcon icon=\"comments\" /> \r\n            \r\n            {!newsElement[0].liked_by.includes(` ${user.id}`) \r\n              ?\r\n              <React.Fragment>\r\n                <span>{newsElement[0].likes}</span>\r\n                <FontAwesomeIcon onClick={e => this.addLike(newsElement[0].id, e)} icon=\"heart\" />\r\n              </React.Fragment> \r\n              :\r\n              <React.Fragment>\r\n                <span>{newsElement[0].likes}</span>\r\n                <FontAwesomeIcon onClick={e => this.removeLike(newsElement[0].id, e)} icon=\"heart\" style={{ color: 'red' }} />\r\n              </React.Fragment>   \r\n            }\r\n                                                            \r\n            <FontAwesomeIcon icon=\"envelope\" style={{marginLeft: '25px'}}  /> \r\n          </PostActions>   \r\n\r\n          <NewComment>\r\n            <p className='newcomment-reply'>В ответ <a href={`${window.location.origin}/id${currentUser.id}`}>{currentUser.name} {currentUser.surname}</a></p>\r\n            <div className='newcomment-input'>\r\n              {user.avatar === '' ? <img src={DefaultAvatar} /> : <img src={window.location.origin + user.avatar} />}\r\n              <textarea onChange={this.handleChange} value={commentText} />\r\n            </div>\r\n            <button\r\n              onClick={this.submitComment} \r\n              className=\"btn\" \r\n              disabled={!commentText ? true : false}\r\n              >\r\n              Отправить</button>\r\n          </NewComment>\r\n\r\n            {thisComments.map((comment,i) => {    \r\n              return ( \r\n                <Comments key={i}>\r\n                  <div className='comment-header'>\r\n                    {comment.avatar === '' || !comment.avatar ? <img src={DefaultAvatar} /> : <img src={window.location.origin + comment.avatar} />}\r\n                    <p><strong>{comment.who}</strong></p>\r\n                    <p className='comment-date'>{comment.date}</p>\r\n                  </div>\r\n                  <div className='comment-text'>{comment.text}</div>\r\n                </Comments> \r\n            )})}\r\n            \r\n\r\n        </Single>\r\n        <Wrapper onClick={closeNews}></Wrapper>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nconst Single = styled.div`\r\n  width: 600px;\r\n  min-height: 300px;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  position: fixed;\r\n  z-index: 50;\r\n  background: #fff;\r\n  top: 100px;\r\n  border-radius: 20px;\r\n  box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\r\n  padding: 15px 30px;\r\n  overflow-y: scroll;\r\n  overflow-x: hidden;\r\n  max-height: 80%;\r\n\r\n  ::-webkit-scrollbar { \r\n    display: none; \r\n  }\r\n`;\r\n\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  background: rgba(0,0,0,.5);\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  top: 0;\r\n  z-index: 49;\r\n`;\r\n\r\nconst PostHeader = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  img {\r\n    border-radius: 50%;\r\n    width: 60px;\r\n  }\r\n  p {\r\n    font-size: 18px;\r\n    font-weight: 700;\r\n  }\r\n`;\r\n\r\nconst PostContent = styled.div`\r\n  p {\r\n    margin-bottom: 5px;\r\n    font-size: 24px;\r\n  }\r\n  span {\r\n    color: #657786;\r\n    font-size: 14px;\r\n  }\r\n`;\r\n\r\nconst PostLikes = styled.div`\r\n  border-top: 1px solid #e6ecf0;\r\n  border-bottom: 1px solid #e6ecf0;\r\n  margin-top: 20px;\r\n  1px solid #e6ecf0;\r\n  align-items: center;\r\n  display: flex;\r\n\r\n  span:first-child {\r\n    border-right: 1px solid #e6ecf0;\r\n  }\r\n\r\n  span {\r\n    width: 50%;\r\n    padding: 15px 10px 15px;\r\n  }\r\n`;\r\n\r\nconst PostActions = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-top: 20px;\r\n\r\n  img {\r\n    width: 15px;\r\n    margin-right: 40px;\r\n    margin-left: 10px;\r\n    opacity: .7;\r\n    cursor: pointer;\r\n  }\r\n\r\n  img:hover {\r\n    opacity: 1;\r\n    transition: .37s ease;\r\n  }\r\n`;\r\n\r\nconst Comments = styled.div`\r\n  margin-left: -30px;\r\n  width: 600px;\r\n  border-bottom: 1px solid #e6ecf0;\r\n  cursor: pointer;\r\n  padding: 15px 30px;\r\n\r\n  :last-child {\r\n    border-bottom: none;\r\n  }\r\n\r\n  :hover {\r\n    background: #f5f8fa;\r\n    transition: .37s ease;\r\n  }\r\n\r\n  .comment-header {\r\n    display: flex;\r\n    align-items: center;\r\n    \r\n    img {\r\n      border-radius: 50%;\r\n      width: 40px;\r\n    }\r\n  }\r\n\r\n  .comment-text {\r\n    padding-left: 40px;\r\n  }\r\n\r\n  .comment-date {\r\n    margin-left: 10px;\r\n    color: #657786;\r\n    :before {\r\n      content: \"\\00b7\";\r\n      margin-right: 10px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst NewComment = styled.div`\r\n  padding: 15px 30px;\r\n  background: #f5f8fa;\r\n  width: 600px;\r\n  margin-top: 20px;\r\n  margin-left: -30px;\r\n  border-bottom: 1px solid #e6ecf0;\r\n  border-top: 1px solid #e6ecf0;\r\n  \r\n  .newcomment-reply {\r\n    margin: 0 40px;\r\n    color: #657786;\r\n    a {\r\n      color: #0084B4;\r\n      text-decoration: none;\r\n      margin-left: 5px;\r\n      :hover {\r\n        text-decoration: underline;\r\n      }\r\n    }\r\n  }\r\n\r\n  .newcomment-input {\r\n    display: flex;\r\n    align-items: flex-start;\r\n    margin-top: 20px;\r\n\r\n    img {\r\n      width: 30px;\r\n      border-radius: 50%;\r\n    }\r\n    textarea {\r\n      resize: none;\r\n      width: 100%;\r\n      margin-left: 10px;\r\n      height: 90px;\r\n      border-radius: 20px;\r\n      border: 2px solid lightblue;\r\n      padding: 10px;\r\n      font-family: 'Calibri';\r\n    }\r\n  }\r\n  .btn {\r\n    margin-top: 15px;\r\n    margin-left: 80%;\r\n    :disabled {\r\n      background: #329CC3;\r\n      opacity: .3;\r\n      cursor: not-allowed;\r\n    }\r\n  }\r\n`;","import React, { Component } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport './css/SideNews.css';\r\nimport SingleNews from './SingleNews';\r\nimport Switch from '@material-ui/core/Switch';\r\n\r\nclass SideNews extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      news: [],\r\n      importance: false,\r\n      singleNews: false,\r\n      singleNewsData: [],\r\n      singleNewsId: '',\r\n      comments: []\r\n    }\r\n    this.reloadComponent = this.reloadComponent.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.reloadComponent();       \r\n  }\r\n\r\n  async reloadComponent() {\r\n    await fetch(`http://akvatory.local/api/news/read.php`)\r\n      .then(response => response.json())\r\n      .then(news => this.setState({ news: news.records }))\r\n    await fetch(`http://akvatory.local/api/news/getcomments.php`)\r\n      .then(response => response.json())\r\n      .then(comments => this.setState({ comments: comments.records }))\r\n  }\r\n  \r\n  // переходим к конкретной новости\r\n  goToSingleNews = id => this.setState({ singleNews: true, singleNewsId: id });\r\n\r\n  // закрываем новость \r\n  closeNews = () => {\r\n    this.setState({ singleNews: false, singleNewsId: '' });\r\n    this.reloadComponent();\r\n  }\r\n\r\n  changeImportance = () => this.setState({ importance: !this.state.importance });\r\n\r\n  getNoun = number => {\r\n    number = Math.abs(number);\r\n    number %= 100;\r\n    if (number >= 5 && number <= 20) return 'комментариев';\r\n    number %= 10;\r\n    if (number == 1) return 'комментарий';\r\n    if (number >= 2 && number <= 4) return 'комментария';\r\n    return 'комментариев';\r\n  }\r\n\r\n  render() {\r\n    const { news, importance, singleNews, singleNewsId, comments } = this.state;\r\n    const { user } = this.props;\r\n    var NEWS_COUNTER = 0;\r\n\r\n    return (\r\n      <>\r\n      <div className=\"news-btns\">\r\n        Только важные новости\r\n        <Switch color='default' onClick={this.changeImportance.bind(this)}  /> \r\n      </div>\r\n      <div className=\"news\">\r\n        {news.map((item, i) => {\r\n\r\n          if (importance) {\r\n            if (item.importance === '1' && NEWS_COUNTER < 3) {\r\n              NEWS_COUNTER++;\r\n              return (\r\n                <div key={i} className=\"news-item news-important\">\r\n                  <div className=\"news-item-header\">\r\n                    <p className=\"news-item-header__author\">{item.author}</p>\r\n                    <p className=\"news-item-header__date\">{item.date}</p>\r\n                  </div>\r\n                  <div className=\"news-item-title\">{item.title}</div>\r\n                  <div className=\"news-item-text\" dangerouslySetInnerHTML={{ __html: item.text }}></div>\r\n                  <div className=\"news-item-comment\">\r\n                    <img alt='' src={window.location.origin + `/img/icons/comment.png`}></img><p>0 комментариев</p>\r\n                  </div>\r\n                </div>\r\n              )\r\n            }\r\n          } else {\r\n            if (i < 3) {\r\n              return (\r\n                <div key={i} className={item.importance === 1 ? \"news-item news-important\" : \"news-item\"}>\r\n                  <div className=\"news-item-header\">\r\n                    <p className=\"news-item-header__author\">{item.author}</p>\r\n                    <p className=\"news-item-header__date\">{item.date}</p>\r\n                  </div>\r\n                  <div className=\"news-item-title\">{item.title}</div>\r\n                  <div className=\"news-item-text\" dangerouslySetInnerHTML={{ __html: item.text }}></div>\r\n                  <div\r\n                    onClick={() => this.goToSingleNews(item.id)}\r\n                    className=\"news-item-comment\"\r\n                  >\r\n                    <FontAwesomeIcon icon='comments' />\r\n                    {item.comments} {this.getNoun(item.comments)}\r\n                  </div>\r\n                </div>\r\n              )\r\n            }\r\n          }\r\n        })}\r\n        <button className=\"news-button\" onClick={() => { this.props.handleChangeSection('news'); window.scrollTo(0, 0) }}>КО ВСЕМ НОВОСТЯМ</button>\r\n\r\n        {singleNews \r\n          ?\r\n          <SingleNews\r\n            closeNews={this.closeNews.bind(this)}\r\n            singleNewsId={singleNewsId}\r\n            news={news}\r\n            user={this.props.user}\r\n            comments={comments}\r\n            reloadComponent={this.reloadComponent}\r\n          />\r\n          : null}\r\n        \r\n      </div>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SideNews;","import React, { Component } from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport './css/Navigation.css';\r\nimport SideNews from './SideNews';\r\n\r\nclass Navigation extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      sections: [\r\n        {\r\n          section: `id${this.props.user_logged_id}`,\r\n          alt: 'Моя страница',\r\n          img: 'my-page.png',\r\n        },\r\n        {\r\n          section: 'messages',\r\n          alt: 'Сообщения',\r\n          img: 'messages.png',\r\n        },\r\n        {\r\n          section: 'news',\r\n          alt: 'Новости компании',\r\n          img: 'rupor.png',\r\n        },\r\n        {\r\n          section: 'tasks',\r\n          alt: 'Входящие задачи',\r\n          img: 'tasks.png',\r\n        },\r\n        {\r\n          section: 'colleagues',\r\n          alt: 'Коллеги',\r\n          img: 'friends.png',\r\n        },\r\n        {\r\n          section: 'learnings',\r\n          alt: 'Обучение',\r\n          img: 'learning.png',\r\n        },\r\n        {\r\n          section: 'gallery',\r\n          alt: 'Галерея',\r\n          img: 'gallery.png',\r\n        },\r\n        {\r\n          section: 'favourites',\r\n          alt: 'Избранное',\r\n          img: 'favourites.png',\r\n        },\r\n      ]\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"navigation-container\">\r\n        {this.state.sections.map((section, i) => {                    \r\n          return (\r\n            <Link key={i}\r\n              to={`/${section.section}`} \r\n              className={this.props.user_id === this.props.user_logged_id && this.props.section == section.section ? 'disabled-link' : ''}\r\n              onClick={this.props.handleChangeUrl}\r\n            >\r\n              <div \r\n                onClick={() => this.props.handleChangeSection(section.section)} \r\n                className={this.props.user_id === this.props.user_logged_id && this.props.section == section.section ? 'navigation-item active' : 'navigation-item'}\r\n              >\r\n                <img src={window.location.origin + `/img/icons/${section.img}`} alt={section.alt} title={section.alt} />\r\n                <p>{section.alt}</p>\r\n              </div>\r\n            </Link>\r\n          ) \r\n        })}\r\n        <SideNews handleChangeSection={this.props.handleChangeSection} user={this.props.user} />\r\n      </div>\r\n    )\r\n  };\r\n\r\n}\r\n\r\nexport default Navigation;","class Cookie {\r\n  setCookie(cname, cvalue, exdays) {\r\n    var d = new Date();\r\n    d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\r\n    var expires = \"expires=\"+d.toUTCString();\r\n    document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\r\n  }\r\n\r\n  getCookie(cname) {\r\n    var name = cname + \"=\";\r\n    var ca = document.cookie.split(';');\r\n    for(var i = 0; i < ca.length; i++) {\r\n      var c = ca[i];\r\n      while (c.charAt(0) === ' ') {\r\n        c = c.substring(1);\r\n      }\r\n      if (c.indexOf(name) === 0) {\r\n        return c.substring(name.length, c.length);\r\n      }\r\n    }\r\n    return \"\";\r\n  }\r\n\r\n  checkCookie() {\r\n    var user = this.getCookie(\"username\");\r\n    if (user !== \"\") {\r\n      alert(\"Welcome again \" + user);\r\n    } else {\r\n      user = prompt(\"Please enter your name:\", \"\");\r\n      if (user !== \"\" && user !== null) {\r\n        this.setCookie(\"username\", user, 365);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default Cookie;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass NavFriends extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      friends: [],\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch(`http://akvatory.local/api/user/read.php`)\r\n      .then(response => response.json())\r\n      .then(friends => this.setState({ friends: friends.records }))    \r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <ul>\r\n      {this.state.friends.map((friend, i) => {\r\n        if (+friend.id !== this.props.user_logged_id) {                  \r\n          return (\r\n            <Link \r\n              key={i}\r\n              to={`id${friend.id}`}\r\n              onClick={() => this.props.handleChangeUserId(friend.id)}\r\n            >\r\n              <li>{friend.name} {friend.surname}</li>\r\n            </Link>\r\n          ) \r\n        } \r\n        })} \r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NavFriends;","import React, { Component } from 'react';\r\nimport './css/Modal.css';\r\nimport './css/animate.css';\r\n\r\nclass Modal extends Component {\r\n  state = {\r\n    visible: true,\r\n  }\r\n\r\n  toggleVisible = () => this.setState({visible: false})\r\n\r\n  render() {\r\n    return ( \r\n      <>\r\n      {this.state.visible ? ( \r\n        <>\r\n        <div id=\"modal\" className=\"modal bounceInDown animated\">\r\n          <span className=\"close\" onClick={this.toggleVisible.bind(this)}></span>\r\n          <p>{this.props.text}</p>\r\n        </div>\r\n        <div className=\"black-wrapper\" onClick={this.toggleVisible.bind(this)}></div></>) \r\n        : null\r\n      }\r\n      </>\r\n    )\r\n  } \r\n}\r\n\r\nexport default Modal;","import React, {Component} from 'react';\r\nimport ModalWindow from './Modal';\r\nimport $ from 'jquery';\r\nimport InputMask from 'react-input-mask'; \r\n/* import Calendar from 'react-calendar'; */\r\nimport './css/PersonalInfo.css';\r\n\r\nclass PersonalInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      userInfo: {},\r\n      modalText: '',\r\n      modal: false,\r\n      newChildInput: false,\r\n      childName: '',\r\n      childBirthyear: ''\r\n    }\r\n    this.handleSubmit      =   this.handleSubmit.bind(this);\r\n    this.handleChange      =   this.handleChange.bind(this);\r\n    this.openModal         =   this.openModal.bind(this);\r\n    this.handleChange      =   this.handleChange.bind(this);\r\n    this.fetchUserInfo     =   this.fetchUserInfo.bind(this);\r\n    this.deleteChild       =   this.deleteChild.bind(this);\r\n    this.prepareChild      =   this.prepareChild.bind(this);\r\n    this.handleChild       =   this.handleChild.bind(this);\r\n    this.addChild          =   this.addChild.bind(this);\r\n    this.removeInput       =   this.removeInput.bind(this);\r\n  }\r\n\r\n  fetchUserInfo() {\r\n    fetch(`http://akvatory.local/api/user/info.php?id=${this.props.user_id}`)\r\n      .then(response => response.json())\r\n      .then(userInfo => this.setState({ userInfo }))\r\n  }\r\n\r\n  // делаем запрос перед рендером\r\n  componentWillMount() {\r\n    this.fetchUserInfo(); \r\n  }\r\n  // делаем запрос перед получением пропсов\r\n  componentWillReceiveProps() {\r\n    this.fetchUserInfo();\r\n  }\r\n\r\n  openModal(text) {\r\n    this.setState({ modal: true, modalText: text});\r\n  }\r\n\r\n  // динамически обрабатываем изменения полей\r\n  handleChange(event) {\r\n    // ставим стейт исходя из именя поля и вводимого значения\r\n    let userInfo = {...this.state.userInfo};\r\n    userInfo[event.target.name] = event.target.value;                        \r\n    this.setState({userInfo});\r\n  }\r\n\r\n  prepareChild() {\r\n    this.setState({ newChildInput: true})\r\n  }\r\n\r\n  handleChild(event) {\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    })\r\n  }\r\n\r\n  addChild(e) {\r\n    e.preventDefault();\r\n    if ($('input[name=\"childName\"]').val() != '' && $('input[name=\"childBirthyear\"]').val() != '') {  \r\n      var self = this;\r\n      self.setState({ modal: false });\r\n      const formData = new FormData();\r\n      formData.append('name', $('input[name=\"childName\"]').val());\r\n      formData.append('year', $('input[name=\"childBirthyear\"]').val());\r\n      formData.append('parent', self.props.user_logged_id);\r\n\r\n      $.ajax({ \r\n        // DEV\r\n        url         : 'http://akvatory.local/api/child/add.php',\r\n        /* url         : window.location.origin + '/api/child/add.php', */\r\n        data        : formData,\r\n        processData : false,\r\n        contentType : false,\r\n        type: 'POST',\r\n        success: function(res) {\r\n          self.fetchUserInfo();\r\n          self.setState({ newChildInput: false, childBirthyear: '', childName: ''});\r\n          console.log(res);\r\n        },\r\n        error: function(err) {\r\n          self.openModal('Что-то пошло не так, попробуйте обновить страницу.');\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  deleteChild(e) {\r\n    var self = this;\r\n    self.setState({ modal: false });\r\n    e.preventDefault(); \r\n    const formData = new FormData();\r\n    formData.append('id', e.target.id);\r\n\r\n    $.ajax({ \r\n      // DEV\r\n      url         : 'http://akvatory.local/api/child/delete.php',\r\n      /* url         : window.location.origin + '/api/child/delete.php', */\r\n      data        : formData,\r\n      processData : false,\r\n      contentType : false,\r\n      type: 'POST',\r\n      success: function(res) {\r\n        self.fetchUserInfo();\r\n        console.log(res);\r\n      },\r\n      error: function(err) {\r\n        self.openModal('Что-то пошло не так, попробуйте обновить страницу.');\r\n      }\r\n    });\r\n  }\r\n\r\n  removeInput = () => this.setState({ newChildInput: false });\r\n\r\n  handleSubmit(e) {\r\n    var self = this;\r\n    self.setState({ modal: false });\r\n    e.preventDefault(); \r\n\r\n      const formData = new FormData();\r\n\r\n      formData.append('id',    this.props.user_logged_id);\r\n      formData.append('adress',    $('input[name=\"adress\"]').val());\r\n      formData.append('army_country',    $('input[name=\"army_country\"]').val());\r\n      formData.append('army_type',    $('input[name=\"army_type\"]').val());\r\n      formData.append('birthday',    $('input[name=\"birthday\"]').val());\r\n      formData.append('district',    $('input[name=\"district\"]').val());\r\n      formData.append('fakultet',    $('input[name=\"fakultet\"]').val());\r\n      formData.append('name',    $('input[name=\"name\"]').val());\r\n      formData.append('phone',    $('input[name=\"phone\"]').val());\r\n      formData.append('position',    $('input[name=\"position\"]').val());\r\n      formData.append('status',    $('select[name=\"status\"]').val());\r\n      formData.append('surname',    $('input[name=\"surname\"]').val());\r\n      formData.append('vuz',    $('input[name=\"vuz\"]').val());\r\n      formData.append('city',    $('input[name=\"city\"]').val());\r\n\r\n      $.ajax({ \r\n        // DEV\r\n        url         : 'http://akvatory.local/api/user/update.php',\r\n        /* url         : window.location.origin + '/api/user/update.php', */\r\n        data        : formData,\r\n        processData : false,\r\n        contentType : false,\r\n        type: 'POST',\r\n        success: function(res) {\r\n          console.log(res);\r\n          let response = res.result;     \r\n          switch(response) {\r\n            case   0:\r\n              self.openModal('Что-то пошло не так, попробуйте обновить страницу.');\r\n              break;\r\n            case   1:\r\n              self.fetchUserInfo();\r\n              self.openModal('Успешно!');\r\n              break;\r\n          }\r\n        },\r\n        error: function(err) {\r\n          self.openModal('Что-то пошло не так, попробуйте обновить страницу.');\r\n        }\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const { userInfo, newChildInput, childName, childBirthyear } = this.state;\r\n    const { user_id, user_logged_id } = this.props;\r\n    \r\n    let childrens = {};\r\n    if (userInfo.childs) {\r\n      childrens = JSON.parse(userInfo.childs.replace(/\\//g,''));\r\n    }\r\n\r\n    return (\r\n    <section className=\"personal\">\r\n          \r\n      {this.state.modal ? <ModalWindow text={this.state.modalText} /> : null}\r\n      <form id=\"personal-info\" action=\"\" method=\"POST\" onSubmit={this.handleSubmit}>\r\n      <div className=\"personal-header\">\r\n        <div className=\"personal-header__photo\">\r\n          <img src={window.location.origin + `/img/photos/images.png`} alt='' />\r\n          {user_logged_id === user_id ? <a>Изменить фото профиля</a> : null}\r\n        </div>\r\n        <div className=\"personal-header__info\">\r\n          <div className=\"personal-header__div\">\r\n            <label>Имя</label>\r\n            <input \r\n              className={user_logged_id === user_id ? 'personal-header__info-input' : 'personal-header__info-input-disabled'} \r\n              type=\"text\" \r\n              name=\"name\"\r\n              onChange={this.handleChange}\r\n              value={userInfo.name} />\r\n          </div>\r\n          <div className=\"personal-header__div\">\r\n            <label>Фамилия</label>\r\n            <input \r\n              className={user_logged_id === user_id ? 'personal-header__info-input' : 'personal-header__info-input-disabled'} \r\n              type=\"text\" \r\n              name=\"surname\"\r\n              onChange={this.handleChange}\r\n              value={userInfo.surname} />\r\n          </div>\r\n          <div className=\"personal-header__div\">\r\n            <label>Должность</label>\r\n            <input \r\n              className={user_logged_id === user_id ? 'personal-header__info-input' : 'personal-header__info-input-disabled'}  \r\n              type=\"text\"\r\n              name=\"position\"\r\n              onChange={this.handleChange}\r\n              value={userInfo.position}/>\r\n          </div>\r\n          {user_logged_id === user_id ? \r\n          (<><div className=\"personal-header__div\">\r\n            <label>Дата рождения</label>\r\n            \r\n            <input \r\n              className={user_logged_id === user_id ? 'personal-header__info-input' : 'personal-header__info-input-disabled'}  \r\n              type=\"date\"\r\n              style={{ 'width' : '189px' }} \r\n              name=\"birthday\"\r\n              onChange={this.handleChange}\r\n              value={userInfo.birthday}/>\r\n          </div>\r\n          <p>*Год рождения будет виден только руководству</p></>)\r\n          : null}\r\n        </div>  \r\n      </div>\r\n      <div className=\"personal-section\">\r\n        <div className=\"personal-section__header\">\r\n          <p>Семья</p>\r\n          <hr />\r\n        </div>\r\n        <div className=\"personal-section__data\">\r\n          <div>\r\n            <label>Семейное положение:</label>\r\n            <select name=\"status\" onChange={this.handleChange} className={user_logged_id === user_id ? 'personal-header__select' : 'personal-header__info-input-disabled'} >\r\n              <option value={userInfo.status} default hidden>{userInfo.status}</option>\r\n              {userInfo.sex === 'женский' ? \r\n                (<><option value=\"Не жената\">Не замужем</option>\r\n                <option value=\"Замужем\">Замужем</option></>) :\r\n                (<><option value=\"Не женат\">Не женат</option>\r\n                <option value=\"Замуж\">Женат</option></>)\r\n              }\r\n              <option value=\"В гражданском браке\">В гражданском браке</option>\r\n            </select>\r\n          </div>\r\n          \r\n          <div className=\"personal-section__data-childrens\">\r\n            <label>Дети:</label>\r\n            <div className=\"personal-section__childrens-container\">\r\n            {Object.keys(childrens).map((child, i)=> {\r\n              return (\r\n              <div className=\"personal-section__childrens\" key={childrens[child].id}>\r\n                <span>\r\n                  <input \r\n                    type=\"text\" \r\n                    className={user_logged_id === user_id ? null : 'personal-header__info-input-disabled'} \r\n                    value={childrens[child].child_name} /> имя\r\n                </span>\r\n                {user_logged_id === user_id ? <a href=\"#\" onClick={this.deleteChild} id={childrens[child].id}></a> : null}  \r\n                <span style={{ 'width': '100%' }}>\r\n                  <input \r\n                    type=\"date\" \r\n                    className={user_logged_id === user_id ? null : 'personal-header__info-input-disabled'} \r\n                    value={childrens[child].child_birthyear} /> г.р\r\n                </span>\r\n              </div>\r\n            )})} \r\n            </div>            \r\n            {user_logged_id === user_id ? <a onClick={this.prepareChild} className=\"personal-section__childrens-add\">+ Добавить</a> : null}\r\n          </div> \r\n\r\n          {newChildInput ?        \r\n          <div className=\"personal-section__childrens-container-add\">\r\n            <div className=\"personal-section__childrens\">\r\n              <span>\r\n                <input \r\n                  name='childName'\r\n                  type='text'\r\n                  onChange={this.handleChild}\r\n                  className={user_logged_id === user_id ? null : 'personal-header__info-input-disabled'} \r\n                  value={childName} /> имя\r\n              </span>\r\n              {user_logged_id === user_id ? <a href=\"#\" onClick={this.addChild}></a> : null}  \r\n              <span style={{ 'width': '100%' }}>\r\n                <input \r\n                  name='childBirthyear'\r\n                  type='date'\r\n                  onChange={this.handleChild} \r\n                  className={user_logged_id === user_id ? null : 'personal-header__info-input-disabled'} \r\n                  value={childBirthyear} /> г.р\r\n              </span>\r\n            </div>\r\n            <a onClick={this.removeInput} className=\"personal-section__childrens-remove\">Отменить</a>\r\n          </div>  \r\n          : null }          \r\n           \r\n        </div>\r\n      </div>\r\n      <div className=\"personal-section\">\r\n        <div className=\"personal-section__header\">\r\n          <p>Контакты</p>\r\n          <hr />\r\n        </div>\r\n        <div className=\"personal-section__data\">\r\n          <div>\r\n            <label>Родной город:</label>\r\n            <input \r\n              type=\"text\" \r\n              className={user_logged_id === user_id ? null : 'personal-header__info-input-disabled'} \r\n              name=\"city\"\r\n              onChange={this.handleChange}\r\n              value={userInfo.city} />\r\n            <label>Области/края:</label>\r\n            <input \r\n              type=\"text\" \r\n              className={user_logged_id === user_id ? null : 'personal-header__info-input-disabled'} \r\n              name=\"district\"\r\n              onChange={this.handleChange}\r\n              value={userInfo.district} />\r\n          </div>\r\n          <div>\r\n            <label>Актуальный адрес:</label>\r\n            <input \r\n              style={{'width':'100%'}} type=\"text\" \r\n              className={user_logged_id === user_id ? null : 'personal-header__info-input-disabled'}\r\n              name=\"adress\"\r\n              onChange={this.handleChange} \r\n              value={userInfo.adress} />\r\n          </div>\r\n          <div>\r\n            <label>Номер телефона:</label>\r\n            <InputMask \r\n              mask=\"+7 (999) 99-99-999\" \r\n              value={userInfo.phone} \r\n              name=\"phone\" \r\n              style={{'width':'100%'}} \r\n              type=\"text\" \r\n              className={user_logged_id === user_id ? null : 'personal-header__info-input-disabled'} \r\n              onChange={this.handleChange}>\r\n            </InputMask>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"personal-section\">\r\n        <div className=\"personal-section__header\">\r\n          <p>Образование:</p>\r\n          <hr />\r\n        </div>\r\n        <div className=\"personal-section__data\">\r\n          <label>ВУЗ:</label>\r\n          <input \r\n            type=\"text\" \r\n            className={user_logged_id === user_id ? null : 'personal-header__info-input-disabled'} \r\n            name=\"vuz\"\r\n            onChange={this.handleChange}\r\n            value={userInfo.vuz} />\r\n          <label>Факультет:</label>\r\n          <input \r\n            type=\"text\" \r\n            className={user_logged_id === user_id ? null : 'personal-header__info-input-disabled'}\r\n            name=\"fakultet\"\r\n            onChange={this.handleChange} \r\n            value={userInfo.fakultet} />\r\n        </div>\r\n      </div>\r\n      {userInfo.sex === 'мужской' ? \r\n      <div className=\"personal-section\">\r\n        <div className=\"personal-section__header\">\r\n          <p>Служба:</p>\r\n          <hr />\r\n        </div>\r\n        <div className=\"personal-section__data\">\r\n          <label>Страна:</label>\r\n          <input \r\n            type=\"text\" \r\n            className={user_logged_id === user_id ? null : 'personal-header__info-input-disabled'}\r\n            name=\"army_country\"\r\n            onChange={this.handleChange} \r\n            value={userInfo.army_country} />\r\n          <label>Род войск:</label>\r\n          <input \r\n            type=\"text\" \r\n            className={user_logged_id === user_id ? null : 'personal-header__info-input-disabled'} \r\n            name=\"army_type\"\r\n            onChange={this.handleChange}\r\n            value={userInfo.army_type} />\r\n        </div>\r\n      </div> : null }\r\n      {user_logged_id === user_id ?\r\n        (<div style={{'width': '100%', 'height': '60px', 'position': 'relative'}}><button className=\"btn\" onClick={this.handleSubmit}>Обновить данные</button></div>)\r\n        : null \r\n      }      \r\n      </form>\r\n    </section>  \r\n   )\r\n  }\r\n\r\n}\r\n\r\n\r\nexport default PersonalInfo;","import React, { Component } from 'react';\r\nimport './css/Tasks.css';\r\n\r\nclass Tasks extends Component {\r\n  render() {\r\n    return (\r\n      <section className=\"tasks\">\r\n        <nav className=\"tasks-header\">\r\n          <ul>\r\n            <li className=\"task-active\"> Все задачи</li>\r\n            <li> Переданные</li>\r\n            <li> Выполненные</li>\r\n          </ul>\r\n        </nav>\r\n        <div className=\"tasks-item\">\r\n          <p className=\"tasks-item__from\">ОтАлекян Сергей</p>\r\n          <div className=\"tasks-item__all\">\r\n            <div className=\"tasks-item__all-when\">\r\n              <p>Получено:</p>\r\n              <p className=\"tasks-time\">29.03.1993</p>\r\n              <p className=\"tasks-time\">12:00</p>\r\n            </div>\r\n            <div className=\"tasks-item__all-text\">\r\n              <p>Lorem Ipsum - это текст-\"рыба\", часто используемый в печати и вэб-дизайне. Lorem Ipsum является стандартной \"рыбой\" для текстов на латинице с начала XVI века. В то время некий безымянный печатник создал большую коллекцию размеров и форм шрифтов, используя Lorem Ipsum для распечатки образцов. Lorem Ipsum не только успешно пережил без заметных изменений пять веков, но и перешагнул в электронный дизайн. Его популяризации в новое время послужили публикация листов Letraset с образцами Lorem Ipsum в 60-х годах и, в более недавнее время, программы электронной вёрстки типа Aldus PageMaker, в шаблонах которых используется Lorem Ipsum.</p>\r\n            </div>\r\n            <div className=\"tasks-item__all-until\">\r\n              <p>Cрок выполнения:</p>\r\n              <span>\r\n                <p className=\"tasks-time\">29.03.1993</p>\r\n                <p>Изменить</p>\r\n              </span>\r\n              <span>\r\n                <p className=\"tasks-time\">15:00</p>\r\n                <p>Изменить</p>\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <nav className=\"tasks-footer\">\r\n            <ul>\r\n              <li> Удалить</li>\r\n              <li> Изменить</li>\r\n              <li className=\"tasks-footer-trans\"> Передать другому</li>\r\n              <li className=\"tasks-footer-transfered\">ПереданаАлекян 037</li>\r\n              <button>Выполнено</button>\r\n            </ul>\r\n          </nav>\r\n        </div>\r\n        <div className=\"tasks-item important-task\">\r\n          <p className=\"tasks-item__from\">ОтАлекян Сергей</p>\r\n          <div className=\"tasks-item__all\">\r\n            <div className=\"tasks-item__all-when\">\r\n              <p>Получено:</p>\r\n              <p className=\"tasks-time\">29.03.1993</p>\r\n              <p className=\"tasks-time\">12:00</p>\r\n            </div>\r\n            <div className=\"tasks-item__all-text \">\r\n              <p>Lorem Ipsum - это текст-\"рыба\", часто используемый в печати и вэб-дизайне. Lorem Ipsum является стандартной \"рыбой\" для текстов на латинице с начала XVI века.</p>\r\n            </div>\r\n            <div className=\"tasks-item__all-until\">\r\n              <p>Cрок выполнения:</p>\r\n              <span>\r\n                <p className=\"tasks-time\">29.03.1993</p>\r\n                <p>Изменить</p>\r\n              </span>\r\n              <span>\r\n                <p className=\"tasks-time\">15:00</p>\r\n                <p>Изменить</p>\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <nav className=\"tasks-footer\">\r\n            <ul>\r\n              <li> Удалить</li>\r\n              <li> Изменить</li>\r\n              <li className=\"tasks-footer-trans\"> Передать другому</li>\r\n              <li className=\"tasks-footer-transfered\">ПереданаАлекян 037</li>\r\n              <button>Выполнено</button>\r\n            </ul>\r\n          </nav>\r\n        </div>\r\n        <div className=\"tasks-item transfered-task\">\r\n          <p className=\"tasks-item__from\">ОтАлекян Сергей</p>\r\n          <div className=\"tasks-item__all\">\r\n            <div className=\"tasks-item__all-when\">\r\n              <p>Получено:</p>\r\n              <p className=\"tasks-time\">29.03.1993</p>\r\n              <p className=\"tasks-time\">12:00</p>\r\n            </div>\r\n            <div className=\"tasks-item__all-text\">\r\n              <p>Lorem Ipsum - это текст-\"рыба\", часто используемый в печати и вэб-дизайне.</p>\r\n            </div>\r\n            <div className=\"tasks-item__all-until\">\r\n              <p>Cрок выполнения:</p>\r\n              <span>\r\n                <p className=\"tasks-time\">29.03.1993</p>\r\n                <p>Изменить</p>\r\n              </span>\r\n              <span>\r\n                <p className=\"tasks-time\">15:00</p>\r\n                <p>Изменить</p>\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <nav className=\"tasks-footer\">\r\n            <ul>\r\n              <li> Удалить</li>\r\n              <li> Изменить</li>\r\n              <li className=\"tasks-footer-trans\"> Передать другому</li>\r\n              <li className=\"tasks-footer-transfered\">ПереданаАлекян 037</li>\r\n              <button>Выполнено</button>\r\n            </ul>\r\n          </nav>\r\n        </div>\r\n        <div className=\"tasks-item done-task\">\r\n          <p className=\"tasks-item__from\">ОтАлекян Сергей</p>\r\n          <div className=\"tasks-item__all\">\r\n            <div className=\"tasks-item__all-when\">\r\n              <p>Получено:</p>\r\n              <p className=\"tasks-time\">29.03.1993</p>\r\n              <p className=\"tasks-time\">12:00</p>\r\n            </div>\r\n            <div className=\"tasks-item__all-text\">\r\n              <p>Lorem Ipsum - это текст-\"рыба\", часто используемый в печати и вэб-дизайне. Lorem Ipsum является стандартной \"рыбой\"</p>\r\n            </div>\r\n            <div className=\"tasks-item__all-until\">\r\n              <p>Cрок выполнения:</p>\r\n              <span>\r\n                <p className=\"tasks-time\">29.03.1993</p>\r\n                <p>Изменить</p>\r\n              </span>\r\n              <span>\r\n                <p className=\"tasks-time\">15:00</p>\r\n                <p>Изменить</p>\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <nav className=\"tasks-footer\">\r\n            <ul>\r\n              <li> Удалить</li>\r\n              <li className=\"tasks-footer-change\"> Изменить</li>\r\n              <li className=\"tasks-footer-trans\"> Передать другому</li>\r\n              <li className=\"tasks-footer-transfered\">ПереданаАлекян 037</li>\r\n              <button>Выполнено</button>\r\n            </ul>\r\n          </nav>\r\n        </div>\r\n        <div className=\"tasks-add\">\r\n          <img src={window.location.origin + '/img/icons/add.png'} alt='Добавить задачу' title='Добавить задачу' />\r\n          <p>Новая задача</p>\r\n        </div>\r\n      </section>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Tasks;","import React, { Component } from 'react';\r\nimport styled from 'styled-components';\r\nimport $ from 'jquery';\r\nimport SingleNews from './SingleNews';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nexport default class News extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      news: [],\r\n      comments: [],\r\n      newNews: false,\r\n      newNewsTopic: '',\r\n      newNewsText: '',\r\n      newNewsImportance: 0,\r\n      editing: '',\r\n      singleNews: false,\r\n      singleNewsData: [],\r\n      singleNewsId: ''\r\n    }\r\n\r\n    this.countComments   = this.countComments.bind(this);\r\n    this.addLike         = this.addLike.bind(this);\r\n    this.reloadComponent = this.reloadComponent.bind(this);\r\n    this.removeLike      = this.removeLike.bind(this);\r\n    this.addNews         = this.addNews.bind(this);\r\n    this.handleChange    = this.handleChange.bind(this);\r\n    this.submitNews      = this.submitNews.bind(this);\r\n    this.removeNews      = this.removeNews.bind(this);\r\n    this.editNews        = this.editNews.bind(this);\r\n    this.prepareNews     = this.prepareNews.bind(this);\r\n    this.showNews        = this.showNews.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.reloadComponent();       \r\n  }\r\n\r\n  async reloadComponent()  {\r\n    await fetch(`http://akvatory.local/api/news/read.php`)\r\n      .then(response => response.json())\r\n      .then(news => this.setState({ news: news.records }))\r\n    await fetch(`http://akvatory.local/api/news/getcomments.php`)\r\n      .then(response => response.json())\r\n      .then(comments => this.setState({ comments: comments.records }))\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n    $(e.target).removeClass('invalid');\r\n  }\r\n\r\n  // считает кол-во комментариев\r\n  countComments = (id) => (this.state.comments.filter((comment) => comment.news_id === id)).length;\r\n \r\n  // добавляем лайк\r\n  addLike = (id, e) => {\r\n    var self = this;\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append('id', id);\r\n    formData.append('liked_by', this.props.user.id);\r\n    console.log(id);\r\n    \r\n    $.ajax({ \r\n      // DEV\r\n      url         : 'http://akvatory.local/api/news/addlike.php',\r\n      /* url         : window.location.origin + '/api/news/addlike.php', */\r\n      data        : formData,\r\n      processData : false,\r\n      contentType : false,\r\n      type: 'POST',\r\n      success: function(res) {\r\n        self.reloadComponent();\r\n      },\r\n      error: function(err) {\r\n        console.log(err);\r\n      }\r\n    });\r\n  } \r\n\r\n  // убираем лайк\r\n  removeLike = (id, e) => {\r\n    const self = this;\r\n    e.preventDefault();  \r\n\r\n    const formData = new FormData();\r\n    formData.append('id', id);\r\n    formData.append('liked_by', this.props.user.id);\r\n      \r\n    $.ajax({ \r\n      // DEV\r\n      url         : 'http://akvatory.local/api/news/removelike.php',\r\n      /* url         : window.location.origin + '/api/news/removelike.php', */\r\n      data        : formData,\r\n      processData : false,\r\n      contentType : false,\r\n      type: 'POST',\r\n      success: function(res) {\r\n        self.reloadComponent();\r\n        self.setState({ newNews: false });\r\n          /*  */\r\n      },\r\n        error: function(err) {\r\n        console.log(err);\r\n      }\r\n    });\r\n  } \r\n\r\n  submitNews = (e) => {\r\n    var self = this;\r\n    e.preventDefault();\r\n    if(self.state.newNewsTopic !== '' && self.state.newNewsText !== '') {\r\n      const formData = new FormData();\r\n    \r\n      formData.append('author', `${this.props.user.name} ${this.props.user.surname}`);\r\n      formData.append('title', this.state.newNewsTopic);\r\n      formData.append('text', this.state.newNewsText);\r\n      formData.append('date', new Date().toJSON().slice(0,10).replace(/-/g,'.'));\r\n      formData.append('created', new Date().getTime());\r\n      formData.append('importance', this.state.newNewsImportance);\r\n      formData.append('author_id', this.props.user.id);\r\n      \r\n      $.ajax({ \r\n        // DEV\r\n        url         : 'http://akvatory.local/api/news/submitnews.php',\r\n        /* url         : window.location.origin + '/api/news/submitnews.php', */\r\n        data        : formData,\r\n        processData : false,\r\n        contentType : false,\r\n        type: 'POST',\r\n        success: function(res) {\r\n          self.reloadComponent();\r\n          self.setState({ newNews: !self.state.newNews, newNewsText: '', newNewsTopic: ''});\r\n          window.scrollTo(0,0);\r\n        },\r\n        error: function(err) {\r\n          console.log(err);\r\n        }\r\n      });\r\n    } else {\r\n      \r\n      if (self.state.newNewsTopic === '') $('input[name=\"newNewsTopic\"]').addClass('invalid');\r\n      if (self.state.newNewsText === '') $('textarea').addClass('invalid');\r\n    }\r\n  } \r\n\r\n  changeImportance = () => this.state.newNewsImportance === 0 ? this.setState({newNewsImportance: 1}) : this.setState({newNewsImportance: 0});\r\n\r\n  removeNews = (e) => {\r\n    var self = this;\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append('id', $(e.target).data(\"id\"));\r\n      \r\n    $.ajax({ \r\n      // DEV\r\n      url         : 'http://akvatory.local/api/news/delete.php',\r\n      /* url         : window.location.origin + '/api/news/delete.php', */\r\n      data        : formData,\r\n      processData : false,\r\n      contentType : false,\r\n      type: 'POST',\r\n      success: function(res) {\r\n        self.reloadComponent();\r\n      },\r\n      error: function(err) {\r\n        console.log(err);\r\n      }\r\n    });\r\n  };\r\n\r\n  prepareNews = e => {\r\n    let title = this.state.news.find(news => news.id === e.target.dataset.id).title;\r\n    let text = this.state.news.find(news => news.id === e.target.dataset.id).text;\r\n    this.setState({ editing: e.target.dataset.id, newNewsTopic: title, newNewsText: text});\r\n  } \r\n\r\n  editNews = e => {\r\n    var self = this;\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append('id', $(e.target).data(\"id\"));\r\n    formData.append('title', this.state.newNewsTopic);\r\n    formData.append('text', this.state.newNewsText);\r\n      \r\n    $.ajax({ \r\n      // DEV\r\n      url         : 'http://akvatory.local/api/news/edit.php',\r\n      /* url         : window.location.origin + '/api/news/edit.php', */\r\n      data        : formData,\r\n      processData : false,\r\n      contentType : false,\r\n      type: 'POST',\r\n      success: function(res) {\r\n        self.reloadComponent();\r\n        self.setState({ editing: '' });\r\n      },\r\n      error: function(err) {\r\n        console.log(err);\r\n      }\r\n    });\r\n  }\r\n  \r\n  addNews = () => this.setState({ editing: '', newNews: !this.state.newNews, newNewsText: '', newNewsTopic: ''});\r\n\r\n  showNews = id => this.setState({ singleNews: true, singleNewsId: id });\r\n  \r\n  // закрываем новость \r\n  closeNews = () => {\r\n    this.setState({ singleNews: false, singleNewsId: '' });\r\n    this.reloadComponent();\r\n  }\r\n  \r\n\r\n  render() {\r\n    const { news, newNews, newNewsText, newNewsTopic, editing, singleNews, singleNewsId, comments } = this.state;\r\n    const { user } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        {news.map((item,i) => {  \r\n          return (\r\n            <NewsContainer key={i}>\r\n              <UserAvatar src={window.location.origin + `/img/photos/images.png`} /> \r\n              \r\n              <div onClick={editing === '' ? () => this.showNews(item.id) : null }>\r\n                <NewsInfo>\r\n                  {user.id === item.author_id ?\r\n                  <><p><strong>Вы</strong> {item.date}</p> <button onClick={this.removeNews} data-id={item.id} className=\"btn\">Удалить</button></> :\r\n                  <p><strong>{item.author}</strong> {item.date}</p> }\r\n                </NewsInfo>\r\n                {editing !== item.id ?\r\n                <><NewsTitle>{item.title}</NewsTitle>\r\n                <div dangerouslySetInnerHTML={{__html: item.text}}></div></>\r\n                : \r\n                <form id='edit-news' action=\"\" method=\"POST\" onSubmit={this.editNews}>\r\n                  <NewsTitle>\r\n                    <input name='newNewsTopic' value={newNewsTopic} \r\n                      onChange={this.handleChange} />\r\n                  </NewsTitle>\r\n                  <textarea name='newNewsText' value={newNewsText} \r\n                    onChange={this.handleChange} \r\n                  >{item.text}</textarea>\r\n                  <button onClick={this.editNews}\r\n                    data-id={item.id} type='submit' className=\"btn\" style={{'marginTop':'5px'}}>Изменить</button>\r\n                </form> }\r\n              </div>\r\n\r\n              <Actions>\r\n                <p>{this.countComments(item.id)}</p> \r\n                <FontAwesomeIcon onClick={editing === '' ? () => this.showNews(item.id) : null } icon=\"comments\" />  \r\n                <p>{item.likes}</p> \r\n\r\n                {!item.liked_by.includes(` ${user.id}`) \r\n                  ?\r\n                  <FontAwesomeIcon onClick={e => this.addLike(item.id, e)} icon=\"heart\" /> \r\n                  :\r\n                  <FontAwesomeIcon onClick={e => this.removeLike(item.id, e)} icon=\"heart\" style={{ color: 'red' }} />\r\n                }\r\n\r\n                <FontAwesomeIcon data-id={item.id} onClick={this.addLike} icon=\"envelope\" style={{ marginLeft: '25px' }} />\r\n                \r\n                {user.id === item.author_id \r\n                  ? \r\n                  <FontAwesomeIcon data-id={item.id} onClick={this.prepareNews} icon=\"edit\" style={{ marginLeft: '25px' }} />\r\n                  : \r\n                  null\r\n                }    \r\n              </Actions>\r\n\r\n            </NewsContainer> \r\n            )\r\n          }\r\n        )} \r\n        <AddNews onClick={this.addNews}>\r\n          <img src={window.location.origin + '/img/icons/add.png'} alt='Добавить новость' title='Добавить новость' />\r\n          <p>Добавить новость</p>\r\n        </AddNews> \r\n\r\n        {newNews ? (\r\n          <>\r\n          <NewNews>\r\n            <div className=\"newNews-header\">Новая новость <button className='close' onClick={() => this.setState({ newNews: !this.state.newNews })}></button></div>\r\n            <div className='newNews-content'>\r\n              <form action=\"\" method=\"POST\" onSubmit={this.submitNews}>\r\n                {user.avatar === '' \r\n                  ? <img alt='' src={window.location.origin + `/img/photos/images.png`} /> \r\n                  : <img alt='' src={`${window.location.origin}${user.avatar}`} /> \r\n                }\r\n                <input \r\n                  onChange={this.handleChange} required\r\n                  name='newNewsTopic' type='text' placeholder='Заголовок' value={newNewsTopic} />\r\n                <textarea required name='newNewsText' onChange={this.handleChange} className='nawNews-text' value={newNewsText} />\r\n                <Checkbox>\r\n                  <label className=\"checkbox-container\">Важная новость\r\n                    <input type=\"checkbox\" name='importance' />\r\n                    <span onClick={this.changeImportance.bind(this)} className=\"checkbox-checkmark\"></span>\r\n                  </label>\r\n                </Checkbox>\r\n                <button\r\n                  onClick={this.submitNews} \r\n                  className='btn'>Добавить новость</button>\r\n              </form>  \r\n            </div>\r\n          </NewNews>\r\n          <Wrapper onClick={() => this.setState({ newNews: !this.state.newNews })}></Wrapper>\r\n          </>\r\n          ) \r\n          : null}\r\n\r\n          {singleNews \r\n          ? \r\n            <SingleNews \r\n              showNews={this.showNews} \r\n              closeNews={this.closeNews.bind(this)}  \r\n              singleNewsId={singleNewsId}\r\n              comments={comments}\r\n              news={news}\r\n              user={user}\r\n              reloadComponent={this.reloadComponent} />\r\n          : \r\n            null}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst NewsContainer = styled.div`\r\n  position: relative;\r\n  padding: 20px 20px 20px 140px;\r\n  cursor: pointer;\r\n  border-bottom: 1px solid #e6ecf0;\r\n\r\n  :hover {\r\n    background: #e6f7ff;\r\n    transition: .37s ease;\r\n  }\r\n\r\n  textarea {\r\n    border-bottom: 1px solid #e6ecf0;\r\n    resize: none;\r\n    width: 100%;\r\n    border-radius: 10px;\r\n    min-height: 100px;\r\n    padding: 5px 10px;\r\n  }\r\n`;\r\n\r\nconst NewsTitle = styled.p`\r\n  font-size: 1.37rem;\r\n  input {\r\n    font-size: 16px;\r\n    padding: 5px 10px;\r\n    border-radius: 10px;\r\n    border: 1px solid #e6ecf0;\r\n  }\r\n`;\r\n\r\nconst NewsInfo = styled.div`\r\n  position: relative;\r\n  \r\n  p {\r\n    color: #657786;\r\n  }\r\n  strong {\r\n    color: #000;\r\n    :after {\r\n      content: '\\00b7';\r\n      margin-left: 5px;\r\n    }\r\n  }\r\n  .btn {\r\n    position: absolute;\r\n    left: unset;\r\n  }\r\n`;\r\n\r\nconst UserAvatar = styled.img`\r\n  position: absolute;\r\n  left: 25px;\r\n  top: 37px;\r\n  border-radius: 50%;\r\n  width: 80px;\r\n`;\r\n\r\nconst Actions = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  p {\r\n    margin-right: 5px;\r\n    color: #657786;\r\n  }\r\n`;\r\n\r\nconst AddNews = styled.div`\r\n  width: 125px;\r\n  background: #00c5fe;\r\n  position: fixed;\r\n  right: 50px;\r\n  bottom: 50px;\r\n  border-radius: 50%;\r\n  height: 125px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: white;\r\n  box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\r\n  \r\n  p, img {\r\n    margin-left: 5px;\r\n  }\r\n  \r\n  &:hover {\r\n    cursor: pointer;\r\n    background: lighten(#00c5fe, 10%);\r\n    box-shadow: 0 7px 14px rgba(0,0,0,0.25), 0 5px 5px rgba(0,0,0,0.22);\r\n    transition: all 0.3s cubic-bezier(.25,.8,.25,1);\r\n  }\r\n`;\r\n\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  background: rgba(0,0,0, .5);\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  top: 0;\r\n  z-index: 30;\r\n`;\r\n\r\nconst NewNews = styled.div`\r\n  background: #f0f8f6;\r\n  width: 600px;\r\n  position: fixed;\r\n  top: 150px;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  border-radius: 20px;\r\n  z-index: 37;\r\n  box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\r\n\r\n  .newNews-header {\r\n    border-bottom: 1px solid #e6ecf0;\r\n    text-align: center;\r\n    position: relative;\r\n    font-weight: 700;\r\n    font-size: 20px;\r\n    padding: 10px 0;\r\n  }\r\n\r\n  .newNews-content {\r\n    height: fit-content;\r\n    min-height: 150px;\r\n    padding: 10px;\r\n    background: #e6f7ff;\r\n    border-bottom-left-radius: 20px;\r\n    border-bottom-right-radius: 20px;\r\n    position: relative;\r\n    padding-bottom: 70px;\r\n\r\n    input, .nawNews-text {\r\n      margin-left: 60px;\r\n      padding: 10px 5px;\r\n      border-radius: 10px;\r\n      width: 85%;\r\n      border: 2px solid #e6ecf0\r\n    }\r\n\r\n    input {\r\n      font-weight: bold;\r\n    }\r\n\r\n    .nawNews-text {\r\n      display: block;\r\n      margin-top: 10px;\r\n      min-height: 130px;\r\n      background: #fff;\r\n      resize: none;\r\n    }\r\n\r\n    .btn {\r\n      position: absolute;\r\n      left: unset;\r\n      right: 35px;\r\n      bottom: 20px;\r\n    }\r\n\r\n    img {\r\n      position: absolute;\r\n      left: 15px;\r\n      top: 10px;\r\n      width: 40px;\r\n      border-radius: 50%;\r\n    }\r\n\r\n  }\r\n\r\n  .close {\r\n    top: -5px;\r\n  }\r\n`;\r\n\r\nconst Checkbox = styled.div`\r\n  label {\r\n    position: absolute;\r\n    left: 70px;\r\n    font-size: 16px;\r\n    bottom: 10px;\r\n    line-height: 25px;\r\n  }\r\n`;","import React, {Component} from 'react';\r\nimport './css/MainPage.css'\r\nimport Header from './Header';\r\nimport MainpageHeader from './MainpageHeader';\r\nimport Navigation from './Navigation';\r\nimport Cookie from './functions/Cookie';\r\nimport NavFriends from './NavFriends';\r\nimport PersonalInfo from './PersonalInfo';\r\nimport Tasks from './Tasks';\r\nimport News from './News';\r\n\r\nclass MainPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user_id: 0,\r\n      user_logged_id: 0,\r\n      user: [],\r\n      noAvatar: true,\r\n      section: window.location.pathname.slice(1),\r\n    }\r\n    this.handleChangeUrl      = this.handleChangeUrl.bind(this);  \r\n    this.handleChangeSection  = this.handleChangeSection.bind(this);  \r\n    this.handleChangeUserId   = this.handleChangeUserId.bind(this);\r\n    this.switchComponent      = this.switchComponent.bind(this);  \r\n  }\r\n\r\n  handleChangeUrl() { \r\n    this.setState({ user_id: this.state.user_logged_id});\r\n\r\n    fetch(`http://akvatory.local/api/user/read_one.php?id=${this.state.user_logged_id}`)\r\n      .then(response => response.json())\r\n      .then(user => this.setState({ user }))\r\n \r\n    if (this.state.user.avatar === '') this.setState({ noAvatar: true });\r\n  }\r\n\r\n  handleChangeSection(section) {\r\n    this.setState({ section })\r\n  }\r\n\r\n  handleChangeUserId(id) {\r\n    this.setState({ user_id: id, section: `id${id}`})\r\n    fetch(`http://akvatory.local/api/user/read_one.php?id=${id}`)\r\n      .then(response => response.json())\r\n      .then(user => this.setState({ user }))\r\n  }\r\n\r\n  componentWillMount() {\r\n    const cookie = new Cookie();\r\n    const cookie_id = cookie.getCookie('user_id');\r\n    this.setState({ user_id: parseInt(cookie_id), user_logged_id: parseInt(cookie_id) });\r\n    \r\n    if (window.location.pathname.includes('id')) {\r\n      const current_id = window.location.pathname.slice(3);\r\n      this.setState({ user_id: parseInt(current_id)});\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch(`http://akvatory.local/api/user/read_one.php?id=${this.state.user_id}`)\r\n      .then(response => response.json())\r\n      .then(user => this.setState({ user }))\r\n\r\n    if (this.state.user.avatar === '') this.setState({ noAvatar: !this.state.noAvatar })\r\n  }\r\n\r\n  switchComponent(){\r\n    switch(this.state.section) {\r\n      case `id${this.state.user_id}`:\r\n        return <PersonalInfo user_id={this.state.user_id} user_logged_id={this.state.user_logged_id} />\r\n      case 'messages':\r\n        return 'messages';\r\n      case 'news':\r\n        return <News user={this.state.user} />;\r\n      case 'tasks':\r\n        return <Tasks />;\r\n      case 'colleagues':\r\n        return (\r\n            <NavFriends \r\n              handleChangeUserId={this.handleChangeUserId} \r\n              user_logged_id={this.state.user_logged_id}\r\n            />\r\n        )\r\n      case 'learnings':\r\n        return 'learnings';\r\n      case 'gallery':\r\n        return 'gallery';\r\n      case 'favourites':\r\n        return 'favourites';\r\n      default: return null;\r\n    }\r\n  }\r\n  \r\n  render() {\r\n    const { user_id, user_logged_id, user, noAvatar, section } = this.state;\r\n    \r\n    if (user.error === 1) { window.location.href = '/404';}\r\n    \r\n    return (\r\n      <div className=\"container\">\r\n        <Header />\r\n        <MainpageHeader \r\n          user_id={user_id}\r\n          user_logged_id={user_logged_id} \r\n          user={user}\r\n          noAvatar={noAvatar}\r\n        />\r\n      <section className=\"main-section\">\r\n        <Navigation \r\n          user_id={user_id}\r\n          user={user}\r\n          user_logged_id={user_logged_id} \r\n          handleChangeUrl={this.handleChangeUrl} \r\n          handleChangeSection={this.handleChangeSection}\r\n          section={section}\r\n        />\r\n        <div className=\"main-page-container\">\r\n          {this.switchComponent()}\r\n        </div>\r\n      </section>  \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MainPage;","import React, { Component } from 'react';\r\nimport './css/ForgetPassword.css';\r\nimport $ from 'jquery';\r\nimport ModalWindow from './Modal';\r\n\r\nclass ForgetPassword extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modalText: '',\r\n      modal: false,\r\n    }\r\n    this.openModal         =   this.openModal.bind(this);\r\n  }\r\n  \r\n  openModal(text) {\r\n    this.setState({ modal: true, modalText: text});\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    var self = this;\r\n    self.setState({ modal: false });\r\n    e.preventDefault(); \r\n\r\n    if ($('input[name=\"forget-email\"]').val() !== '') {\r\n      const formData = new FormData();\r\n        \r\n      formData.append('credentials',    $('input[name=\"forget-email\"]').val());\r\n\r\n      $.ajax({\r\n        url         : 'http://akvatory.local/api/user/forget.php',\r\n        data        : formData,\r\n        processData : false,\r\n        contentType : false,\r\n        type: 'POST',\r\n        success: function(res) {\r\n          console.log(res);\r\n          let response = res.result;\r\n          \r\n          if (response === 1) {\r\n            self.openModal(\"На указанный вами при регистрации email - были отправлены рекомендации по восстановлению пароля.\");\r\n            $('.forget-wrapper').fadeOut();\r\n            $('.black-wrapper__this').hide();\r\n          } else {\r\n            self.openModal(\"К сожалению, такого логина или email - не существует. Проверьте правильность введенных данных.\");\r\n          }\r\n        },\r\n        error: function(err) {\r\n          self.openModal(\"Ошибка авторизации.\");\r\n        }\r\n      });\r\n\r\n    } else {\r\n      self.openModal(\"Пожалуйста, введите, логин или пароль.\");\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <div className=\"forget-wrapper\">\r\n          <a className=\"close\" onClick={this.props.forgetPassword}></a>\r\n          <div className=\"form-group\">\r\n            <p>Восстановление пароля.</p>\r\n            <label htmlFor=\"forget-email\">Введите e-mail или логин, на который был зарегистрирован аккаунт.</label>\r\n            <input type=\"text\" name=\"forget-email\" required className=\"form-control\"/>\r\n          </div>\r\n          <button className=\"btn btn-success btn-block\" onClick={this.handleSubmit}>Отправить</button> \r\n        </div>\r\n        <div className=\"black-wrapper black-wrapper__this\" onClick={this.props.forgetPassword}></div>\r\n        {this.state.modal ? <ModalWindow text={this.state.modalText} /> : null}\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ForgetPassword;\r\n","import React, { Component } from 'react';\r\nimport $ from 'jquery';\r\nimport Cookie from './functions/Cookie';\r\nimport ForgetPassword from './ForgetPassword';\r\nimport ModalWindow from './Modal';\r\n\r\nclass SignupForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      login: '',\r\n      password: '',\r\n      isForget: '',\r\n      modalText: '',\r\n      modal: false,\r\n      isPassHidden: true,\r\n    }\r\n    this.handleChange      =   this.handleChange.bind(this);\r\n    this.handleSubmit      =   this.handleSubmit.bind(this);\r\n    this.openModal         =   this.openModal.bind(this);\r\n    this.showPassword      =   this.showPassword.bind(this);\r\n  }\r\n\r\n  // динамически обрабатываем изменения полей\r\n  handleChange(event) {\r\n    // ставим стейт исходя из именя поля и вводимого значения\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    })\r\n  }\r\n\r\n  openModal(text) {\r\n    this.setState({ modal: true, modalText: text});\r\n  }\r\n\r\n  forgetPassword = () => this.setState({ isForget: !this.state.isForget });\r\n\r\n  handleSubmit(e) {\r\n    var self = this;\r\n    self.setState({ modal: false });\r\n    e.preventDefault(); \r\n\r\n    if (this.state.login !== '' && this.state.password !== '') {\r\n      const formData = new FormData();\r\n        \r\n      formData.append('login',    $('input[name=\"login\"]').val());\r\n      formData.append('password', $('input[name=\"password\"]').val());\r\n\r\n      $.ajax({\r\n        \r\n        url         : 'http://akvatory.local/api/user/signup.php',\r\n        /* url         : window.location.origin + '/api/user/signup.php', */\r\n        data        : formData,\r\n        processData : false,\r\n        contentType : false,\r\n        type: 'POST',\r\n        success: function(res) {\r\n          console.log(res);\r\n          let response = res.result;\r\n          let user_id = res.user_id;\r\n          let cookie = new Cookie();\r\n          \r\n          switch(response) {\r\n            case   0:\r\n              self.openModal('Не удалось войти. Проверьте правильность введенных данных');\r\n              break;\r\n            case 0.5:\r\n              self.openModal('К сожалению, ваша учетная запись ещё не подтверждена, попробуйте войти позже.');\r\n              break;\r\n            case   1:\r\n              cookie.setCookie('user_id', user_id, 30);\r\n              window.location.href = `/`;\r\n              break;\r\n          }\r\n        },\r\n        error: function(err) {\r\n          self.openModal('Ошибка авторизации.');\r\n        }\r\n      });\r\n\r\n    } else {\r\n      self.openModal('Пожалуйста, заполните все поля.');\r\n    }\r\n  }\r\n\r\n  showPassword() {\r\n    this.setState({ isPassHidden: !this.state.isPassHidden});\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n      {this.state.modal ? <ModalWindow text={this.state.modalText} /> : null}\r\n      <div className=\"form-container\" style={{'paddingBottom':'45px'}}>   \r\n        <form className=\"registerForm\" id=\"register\" action=\"\" method=\"POST\" onSubmit={this.handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"login\">Логин или email</label><br />\r\n            <input\r\n              className=\"form-control\"\r\n              id=\"login\"\r\n              name=\"login\"\r\n              type=\"text\"\r\n              value={this.state.username}\r\n              onChange={this.handleChange}\r\n              required\r\n            />    \r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"password\">Пароль</label><br />\r\n            <input\r\n              className=\"form-control\"\r\n              id=\"password\"\r\n              name=\"password\"\r\n              type={this.state.isPassHidden ? 'password' : 'text'}\r\n              value={this.state.password}\r\n              onChange={this.handleChange}\r\n              required\r\n            /><span className=\"password-eye\" onClick={this.showPassword}></span>\r\n             {this.state.password.length < 8 && this.state.password !== '' ? <p className=\"invalid-form-result\">Пароль должен быть не менее 8 символов</p> : ''}\r\n          </div>\r\n          <div className=\"register-buttons\">\r\n            <a onClick={this.forgetPassword} className=\"forgive-password\">Забыли пароль?</a>\r\n            <button className=\"btn\">Войти</button>\r\n          </div>\r\n          {this.state.isForget ? <ForgetPassword forgetPassword={this.forgetPassword} /> : null}\r\n        </form>  \r\n      </div> \r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default SignupForm;","import React, { Component } from 'react';\r\nimport $ from 'jquery';\r\nimport ModalWindow from './Modal';\r\n\r\nclass RegisterForm extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      email: '',\r\n      login: '',\r\n      password: '',\r\n      confirmed: '',\r\n      isEmailValid: '',\r\n      modalText: '',\r\n      modal: false,\r\n      isPassHidden: true,\r\n    };\r\n    this.openModal         =   this.openModal.bind(this);\r\n    this.handleChange      =   this.handleChange.bind(this);\r\n    this.validateEmail     =   this.validateEmail.bind(this);\r\n    this.handleSubmit      =   this.handleSubmit.bind(this);\r\n    this.showPassword      =   this.showPassword.bind(this);\r\n  }\r\n\r\n  openModal(text) {\r\n    this.setState({ modal: true, modalText: text});\r\n  }\r\n  // динамически обрабатываем изменения полей\r\n  handleChange(event) {\r\n    $('.user-exists').fadeOut();\r\n    // ставим стейт исходя из именя поля и вводимого значения\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    })\r\n    // если вводится е-мэйл то прогоняем через функцию\r\n    if ([event.target.name] === 'email') {\r\n      this.validateEmail(event.target.value);\r\n      // если вводимое значение пустое - то убираем подсказку \r\n      if (event.target.value === '') {\r\n        this.setState({ isEmailValid: '' });\r\n      }\r\n    }\r\n  }\r\n\r\n  validateEmail(email) {\r\n    const regExp = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    regExp.test(email) ? this.setState({isEmailValid: true}) : this.setState({isEmailValid: false}); \r\n  }\r\n  \r\n  handleSubmit(e) {\r\n    var self = this;\r\n    self.setState({ modal: false });\r\n    e.preventDefault(); \r\n\r\n    if (this.state.login !== '' && this.state.isEmailValid && this.state.password !== '') {\r\n      const formData = new FormData();\r\n        \r\n      formData.append('login',    $('input[name=\"login\"]').val());\r\n      formData.append('password', $('input[name=\"password\"]').val());\r\n      formData.append('email',    $('input[name=\"email\"]').val());\r\n\r\n      $.ajax({\r\n        url         : window.location.origin + '/api/user/register.php',\r\n        data        : formData,\r\n        processData : false,\r\n        contentType : false,\r\n        type: 'POST',        \r\n        success: function(res) {\r\n          const response = res.result;\r\n  \r\n          switch(response) {\r\n            case 0:\r\n              alert('fail!');\r\n              break;\r\n            case 1:\r\n              self.openModal(\"Вы успешно зарегистрировались, как только вашу учетную запись подтвердят - вы сможете начать пользоваться сервисом. Вы получите уведомление по указанной при регистрации почте.\");\r\n              document.getElementById('register').reset();\r\n              break;\r\n            case 2:\r\n              self.openModal(\"Пользователь с таким логином или email уже существует.\");\r\n              break;\r\n            default: return null; \r\n          }\r\n        },\r\n        error: function(err) {\r\n          self.openModal(\"Ошибка авторизации.\");\r\n        }\r\n      });\r\n    } else {\r\n      self.openModal(\"Пожалуйста, заполните все поля корректно.\");\r\n    }\r\n  }\r\n\r\n  showPassword() {\r\n    this.setState({ isPassHidden: !this.state.isPassHidden});\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n      <div className=\"form-container\">\r\n        <form id=\"register\" action=\"\" method=\"POST\" onSubmit={this.handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"login\">Логин</label>\r\n            <input\r\n              className=\"form-control\"\r\n              id=\"login\"\r\n              name=\"login\"\r\n              type=\"text\"\r\n              value={this.state.login}\r\n              onChange={this.handleChange}\r\n              required\r\n            />    \r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"password\">Пароль</label>\r\n            <input\r\n              className=\"form-control\"\r\n              id=\"password\"\r\n              name=\"password\"\r\n              type={this.state.isPassHidden ? 'password' : 'text'}\r\n              value={this.state.password}\r\n              onChange={this.handleChange}\r\n              required\r\n            /><span className=\"password-eye\" onClick={this.showPassword}></span>\r\n             {this.state.password.length < 8 && this.state.password !== '' ? <p className=\"invalid-form-result\">Пароль должен быть не менее 8 символов</p> : ''}\r\n          </div>\r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"confirmed\">Повторите пароль</label><br />\r\n            <input\r\n              className=\"form-control\"\r\n              id=\"confirmed\"\r\n              type=\"password\"\r\n              name=\"confirmed\"\r\n              value={this.state.confirmed}\r\n              onChange={this.handleChange}\r\n              required\r\n            />\r\n            {this.state.password !== this.state.confirmed && this.state.confirmed !== '' ? <p className=\"invalid-form-result\">Пароли должны совпадать</p> : null}\r\n          </div> \r\n\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"email\">Электронная почта</label>\r\n            <input\r\n              className=\"form-control\"\r\n              id=\"email\"\r\n              name=\"email\"\r\n              type=\"text\"\r\n              value={this.state.email}\r\n              onChange={this.handleChange}\r\n              required\r\n            />\r\n          {!this.state.isEmailValid && this.state.isEmailValid !== '' ? <p className=\"invalid-form-result\">Пожалуйста, введите настоящий email адрес</p> : ''} \r\n          </div>     \r\n          <button className=\"btn btn-success btn-block\">Зарегистрироваться</button> \r\n        </form>\r\n        \r\n      </div>\r\n      {this.state.modal ? <ModalWindow text={this.state.modalText} /> : null}\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default RegisterForm;","import React from 'react';\r\nimport './css/BgBubbles.css';\r\n\r\nconst BgBubbles = () => {\r\n  return (\r\n    <ul className=\"bg-bubbles\">\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default BgBubbles;","import React, { Component } from 'react';\nimport SignupForm from './SignupForm';\nimport RegisterForm from './RegisterForm';\nimport Header from './Header';\nimport BgBubbles from './BgBubbles';\nimport './css/LoginForms.css';\n\nclass LoginForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      whichForm: false,\n    }\n    this.changeForm = this.changeForm.bind(this);\n  }\n\n  changeForm() {\n    this.setState({whichForm: !this.state.whichForm});\n  }\n\n  render() {\n    return (\n      <div className=\"login-screen\">\n        <Header />\n        <div className=\"login-screen-container\">\n          <p className=\"login-screen-greetings\">Здравствуйте</p>  \n          <div className=\"login-button-container\">\n            <button className={this.state.whichForm ? 'login-screen-button login-screen-button-enabled' : 'login-screen-button'} onClick={this.changeForm}>Войти</button>\n            <button className={this.state.whichForm ? 'login-screen-button' : 'login-screen-button login-screen-button-enabled'} onClick={this.changeForm}>Зарегистрироваться</button>\n          </div>              \n          {this.state.whichForm ? <RegisterForm /> : <SignupForm />}                        \n        </div>\n        <BgBubbles /> \n      </div>\n    );\n  }\n}\n\nexport default LoginForm;\n","import React, { Component } from 'react';\r\nimport Header from './Header';\r\nimport BgBubbles from './BgBubbles';\r\nimport './css/LoginForms.css';\r\nimport './css/Approved.css';\r\n\r\nclass Approved extends Component {\r\n  goToMain = () => window.location.href = '/';\r\n  closeWindow = () => window.close();\r\n\r\n  render() {\r\n   return (\r\n      <div className=\"login-screen\">\r\n        <Header />\r\n        <div className=\"approved-container\">\r\n          <h1>Регистрация пользователя была подтверждена.</h1>\r\n          <button onClick={this.goToMain}>На главную</button>                   \r\n        </div>\r\n        <BgBubbles /> \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Approved;","import React, { Component } from 'react';\r\nimport Header from './Header';\r\nimport BgBubbles from './BgBubbles';\r\nimport $ from 'jquery';\r\nimport './css/LoginForms.css';\r\nimport './css/Restore.css';\r\nimport ModalWindow from './Modal';\r\n\r\nclass Restore extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      pw: '',\r\n      confirmed: '',\r\n      modalText: '',\r\n      modal: false,\r\n      isPassHidden: true,\r\n    };\r\n    this.openModal         =   this.openModal.bind(this);\r\n    this.handleSubmit      =   this.handleSubmit.bind(this);\r\n    this.showPassword      =   this.showPassword.bind(this);\r\n  }\r\n\r\n  openModal(text) {\r\n    this.setState({ modal: true, modalText: text});\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    // ставим стейт исходя из именя поля и вводимого значения\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    })\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    var self = this;\r\n    if (self.state.pw === self.state.confirmed && self.state.pw !== '' && self.state.confirmed !== '') {\r\n      self.setState({ modal: false });\r\n      e.preventDefault(); \r\n      const formData = new FormData();  \r\n      \r\n      function getUrlVars() {\r\n        let vars = {};\r\n        let parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {\r\n            vars[key] = value;\r\n        });\r\n        return vars;\r\n      }\r\n\r\n      formData.append('password',    $('input[name=\"pw\"]').val());\r\n      formData.append('auth', getUrlVars()['auth']) \r\n\r\n      $.ajax({\r\n        url         : window.location.origin + '/api/user/restore.php',\r\n        data        : formData,\r\n        processData : false,\r\n        contentType : false,\r\n        type: 'POST',\r\n        success: function(res) {\r\n          console.log(res);\r\n          let response = res.result;\r\n\r\n          switch(response) {\r\n            case   0:\r\n              self.openModal(\"Не удалось изменить пароль.\");\r\n              break;\r\n            case   1:\r\n              self.openModal(\"Поздравляем, удалось успешно сменить пароль - теперь вы можете войти в систему.\");\r\n              window.location.href = 'login';\r\n              break;\r\n            default: return null;\r\n            }\r\n          },\r\n        error: function(err) {\r\n          self.openModal(\"Ошибка авторизации.\");\r\n        }\r\n      });    \r\n    } \r\n  }\r\n\r\n  showPassword() {\r\n    this.setState({ isPassHidden: !this.state.isPassHidden});\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"login-screen\">\r\n        <Header />\r\n        <div className=\"form-container restore-container\">\r\n            <p className=\"restore-container-head\"><b>Введите новый пароль.</b></p><p className=\"restore-container-note\"> Выбор более безопасного пароля поможет обеспечить защиту вашей личной информации.</p>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"pw\">Введите пароль</label><br />\r\n                <input\r\n                  className=\"form-control\"\r\n                  id=\"pw\"\r\n                  name=\"pw\"\r\n                  type=\"password\"\r\n                  value={this.state.pw}\r\n                  onChange={this.handleChange}\r\n                  required\r\n                />\r\n                {this.state.pw.length < 8 && this.state.pw !== '' ? <p className=\"invalid-form-result\">Пароль должен быть не менее 8 символов</p> : null}    \r\n              </div>\r\n\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"confirmed\">Повторите пароль</label><br />\r\n                <input\r\n                  className=\"form-control\"\r\n                  id=\"confirmed\"\r\n                  name=\"confirmed\"\r\n                  type={this.state.isPassHidden ? 'password' : 'text'}\r\n                  value={this.state.confirmed}\r\n                  onChange={this.handleChange}\r\n                  required\r\n                /><span className=\"password-eye\" onClick={this.showPassword}></span>\r\n                {this.state.pw !== this.state.confirmed && this.state.confirmed !== '' ? <p className=\"invalid-form-result\">Пароли должны совпадать</p> : null}\r\n              </div> \r\n            <button className=\"btn\" onClick={this.handleSubmit}>Сменить пароль</button>             \r\n        </div>\r\n        <BgBubbles /> \r\n        {this.state.modal ? <ModalWindow text={this.state.modalText} /> : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Restore;","import React, { Component } from 'react';\r\nimport './css/404.css';\r\n\r\nclass Page404 extends Component {\r\n\r\n  goToMain = () => window.location.href = '/';\r\n\r\n  render() {\r\n    return (\r\n      <main>\r\n        <div className=\"loading wave\">\r\n          404\r\n        </div>\r\n        <div className=\"not-found wave\">\r\n          Страница не найдена\r\n        </div> \r\n      <button onClick={this.goToMain}>перейти на главную</button>\r\n    </main>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Page404;","import React, { Component } from 'react';\r\nimport Cookie from './functions/Cookie';\r\nimport ModalWindow from './Modal';\r\nimport $ from 'jquery';\r\nimport './css/Settings.css';\r\nimport DropZone from './DropZone';\r\n\r\nclass Settings extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user: [],\r\n      modal: false,\r\n      modalText: ''\r\n    }\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.openModal    = this.openModal.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  componentWillMount = () => {\r\n    const cookie = new Cookie();\r\n    const id = cookie.getCookie('user_id');\r\n    fetch(`http://akvatory.local/api/user/info.php?id=${id}`)\r\n      .then(response => response.json())\r\n      .then(user => this.setState({ user }))\r\n  }\r\n\r\n  openModal = text => this.setState({ modal: true, modalText: text});\r\n  \r\n  handleChange = event => {\r\n    // ставим стейт исходя из именя поля и вводимого значения\r\n    let user = {...this.state.user};\r\n    user[event.target.name] = event.target.value;                        \r\n    this.setState({ user });\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    var self = this;\r\n    self.setState({ modal: false });\r\n    e.preventDefault(); \r\n\r\n    const formData = new FormData();\r\n\r\n    formData.append('id',    self.state.user.id);\r\n    formData.append('surname',    $('input[name=\"surname\"]').val());\r\n    formData.append('name',    $('input[name=\"name\"]').val());\r\n    formData.append('birthday',    $('input[name=\"birthday\"]').val());\r\n    formData.append('sex',    $('select[name=\"sex\"]').val());\r\n    formData.append('position',    $('input[name=\"position\"]').val());\r\n\r\n    $.ajax({ \r\n      // DEV\r\n      url         : 'http://akvatory.local/api/user/settings.php',\r\n      /* url         : window.location.origin + '/api/user/settings.php', */\r\n      data        : formData,\r\n      processData : false,\r\n      contentType : false,\r\n      type: 'POST',\r\n      success: function(res) {\r\n        console.log(res);\r\n        let response = res.result;     \r\n        switch(response) {\r\n          case   0:\r\n            self.openModal('Что-то пошло не так, попробуйте обновить страницу.');\r\n            break;\r\n          case   1:\r\n            window.location.href = `id${self.state.user.id}`;\r\n            break;\r\n        }\r\n      },\r\n      error: function(err) {\r\n        self.openModal('Что-то пошло не так, попробуйте обновить страницу.');\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { user, modalText, modal } = this.state;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n\r\n        <DropZone />\r\n      \r\n        {modal ? <ModalWindow text={modalText} /> : null}\r\n        \r\n        <section className=\"settings\">\r\n        <h2>Начните заполнять персональные данные</h2>\r\n        <form id=\"personal-info\" action=\"\" method=\"POST\">\r\n\r\n\r\n        <div className='settings-container'>\r\n          <label>Имя</label>\r\n          <input \r\n              type=\"text\" \r\n              name=\"name\"\r\n              onChange={this.handleChange}\r\n              required\r\n              value={user.name} />\r\n        </div>      \r\n\r\n        <div className='settings-container'>\r\n          <label>Фамилия</label>\r\n          <input \r\n              type=\"text\" \r\n              name=\"surname\"\r\n              onChange={this.handleChange}\r\n              required\r\n              value={user.surname} />\r\n        </div>      \r\n\r\n        <div className='settings-container'>\r\n          <label htmlFor='sex'>Выберите пол</label>\r\n          <select name=\"sex\" onChange={this.handleChange} required >\r\n            {user.sex \r\n            ? <>\r\n              <option value={user.sex} default hidden>{user.sex}</option>\r\n              <option value=\"женский\">Женский</option>\r\n              <option value=\"мужской\">Мужской</option></>\r\n            : <>\r\n              <option value='' default hidden></option>\r\n              <option value=\"женский\">Женский</option>\r\n              <option value=\"мужской\">Мужской</option></>\r\n            }\r\n          </select>  \r\n        </div>          \r\n\r\n        <div className='settings-container'>\r\n          <label>Должность</label>\r\n          <input \r\n            required\r\n              type=\"text\"\r\n              name=\"position\"\r\n              onChange={this.handleChange}\r\n              value={user.position}/>\r\n        </div>\r\n\r\n        <div className='settings-container'>\r\n          <label>Дата рождения</label>\r\n          <input \r\n              required\r\n              type=\"date\"\r\n              name=\"birthday\"\r\n              onChange={this.handleChange}\r\n              value={user.birthday}/>\r\n        </div>\r\n        <p className='settings-container-note'>*Дата рождения будет видна только руководству</p>\r\n\r\n         {/*  <label>Аватар</label>\r\n          <input \r\n              type=\"file\" \r\n              name=\"avatar\"\r\n              onChange={this.handleChange}\r\n              value={user.avatar} /> */}\r\n\r\n          <button onClick={this.handleSubmit} className=\"btn\">Вперёд!</button>\r\n\r\n        </form>\r\n        </section> }\r\n      </div>     \r\n    )\r\n  }\r\n}\r\n\r\nexport default Settings;","import React, {Component} from 'react';\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport MainPage from './components/MainPage';\nimport LoginForm from './components/LoginForm';\nimport Approved from './components/Approved';\nimport Restore from './components/Restore';\nimport Page404 from './components/Page404';\nimport Settings from './components/Settings';\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { faComments, faHeart, faEnvelope, faEdit } from '@fortawesome/free-solid-svg-icons'\n\nlibrary.add(faComments, faHeart, faEnvelope, faEdit)\n\nclass App extends Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <Switch>          \n            <Route path='/id:user_id' component={MainPage}/>\n            <Route path='/friends'    component={MainPage}/>\n            <Route path='/colleagues' component={MainPage}/>\n            <Route path='/favourites' component={MainPage}/>\n            <Route path='/gallery'    component={MainPage}/>\n            <Route path='/tasks'      component={MainPage}/>\n            <Route path='/learnings'  component={MainPage}/>\n            <Route path='/messages'   component={MainPage}/>\n            <Route path='/news'       component={MainPage}/> \n\n            <Route path='/settings'   component={Settings}/>\n      \n            <Route path=\"/login\"      component={LoginForm}/>\n\n            <Route path=\"/approved\"   component={Approved}/>\n\n            <Route path=\"/restore\"    component={Restore}/>\n\n            <Route path=\"/404\"        component={Page404}/>\n            <Route path=\"/:any\"       component={Page404}/>\n\n        </Switch> \n      </BrowserRouter> \n    );\n  }\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}