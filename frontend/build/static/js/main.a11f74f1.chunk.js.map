{"version":3,"sources":["components/img/icons/baseline-search-24px.svg","components/img/photos/Water image_Dreamstime.jpg","components/img/photos/sphere.png","components/img/photos/images.png","components/Header.jsx","components/Loader/Loader.jsx","components/MainpageHeader.jsx","components/functions/API.js","components/SingleNews.jsx","components/SideNews.jsx","components/FriendsList/Friend.jsx","components/FriendsList/Search.jsx","components/FriendsList/FriendsList.jsx","components/Modal/Modal.jsx","components/DropdownActions/ConfirmStatus.jsx","components/DropdownActions/Select.jsx","components/DropdownActions/Dropdown.jsx","components/PersonalInfo.jsx","components/Fab/Fab.jsx","components/Tasks/Autocomplete.jsx","components/Tasks/Pickers.jsx","components/Tasks/TextInput.jsx","components/Tasks/Stepper.jsx","components/Tasks/NewTask.jsx","components/Tasks/Task.jsx","components/Tasks/ConfirmDelete.jsx","components/ResponsiveHeader/ResponsiveHeader.jsx","components/Tasks/Tasks.jsx","components/News/NewNews.jsx","components/News/ConfirmDelete.jsx","components/News.jsx","components/Navigation/sections.js","components/Navigation/Navigation.jsx","components/Chat/ChatItem.jsx","components/Chat/NoMessages.jsx","components/Chat/Message.jsx","components/Chat/Messages.jsx","components/Chat/SendMessageInput.jsx","components/Chat/EditMessageInput.jsx","components/Chat/DeleteModal.jsx","components/Chat/ChatRoom.jsx","components/Chat/Dialogues.jsx","components/Chat/NoChats.jsx","components/Chat/Chat.jsx","components/Feed/UserAvatar.jsx","components/Feed/Comment.jsx","components/Feed/Like.jsx","components/Feed/News.jsx","components/Feed/Task.jsx","components/Feed/Result.jsx","components/Feed/Event.jsx","components/Feed/index.jsx","components/Media/Media.jsx","components/Learnings/cards.js","components/Learnings/Container.jsx","components/Learnings/Materials.jsx","components/Effects/fetches.jsx","components/List/NotFound.jsx","components/List/List.jsx","components/Learnings/NoTests.jsx","components/Learnings/Search.jsx","components/Learnings/Steps/SelectUser.jsx","components/Learnings/Steps/SelectTime.jsx","components/Learnings/Steps/QuestionItem.jsx","components/Learnings/Steps/CategoryItem.jsx","components/Learnings/Steps/SelectQuestions.jsx","components/Learnings/Steps/Stepper.jsx","components/Learnings/Steps/GenerateTest.jsx","components/Learnings/AdminPanel.jsx","components/Learnings/UserPanel.jsx","components/Learnings/Tests.jsx","components/Learnings/Learnings.jsx","components/MainPage.jsx","components/ForgetPassword.jsx","components/functions/Cookie.js","components/SignupForm.jsx","components/RegisterForm.jsx","components/BgBubbles.jsx","components/LoginForm.jsx","components/Approved.jsx","components/Restore.jsx","components/Page404.jsx","components/Settings.jsx","components/Learnings/TestPage/Timer.jsx","components/Learnings/TestPage/Question.jsx","components/Learnings/TestPage/Circles.jsx","components/Learnings/TestPage/Legend.jsx","components/Effects/requests.jsx","components/Learnings/TestPage/ResultsList.jsx","components/Learnings/TestPage/NotAnswered.jsx","components/Learnings/TestPage/Results.jsx","components/Learnings/TestPage/Finish.jsx","components/Learnings/TestPage/Test.jsx","components/Learnings/TestPage/StartTestTemplate.jsx","components/Learnings/TestPage/Continue.jsx","components/Learnings/TestPage/TestContainer.jsx","components/Learnings/TestPage/index.jsx","components/Calendar/Picker.jsx","components/Calendar/NewEvent.jsx","components/Calendar/Modal.jsx","components/Calendar/CalendarContainer.jsx","components/Calendar/index.jsx","routes.js","App.jsx","reducers/index.js","reducers/user.js","reducers/news.js","reducers/tasks.js","reducers/chats.js","reducers/room.js","reducers/messages.js","reducers/friends.js","reducers/tests.js","reducers/categories.js","reducers/events.js","reducers/feed.js","MaterialTheme.js","index.js"],"names":["module","exports","__webpack_require__","p","Header","date","Date","react_default","a","createElement","className","dist_default","element","format","id","toLocaleString","weekday","Component","StyledLoader","styled","div","_templateObject","Loader","props","style","minHeight","CircularProgress_default","color","Wrapper","MainpageHeader_templateObject","defaultBackground","MainpageHeader","user","defaultAvatar","backgroundImage","concat","image","uploadedAvatar","window","location","host","includes","avatar","slice","innerWidth","pathname","loading","background","components_Loader_Loader","react","name","surname","position","Button_default","variant","href","Settings_default","API","origin","SingleNews","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getAvatars","likedBy","state","currentNews","liked_by","split","formData","FormData","self","assertThisInitialized","append","$","ajax","url","data","processData","contentType","type","success","res","setState","error","err","console","log","handleChange","e","commentText","target","value","addLike","actions","document","getElementById","pointerEvents","preventDefault","getTime","fetch","singleNewsId","then","response","json","setTimeout","removeLike","stopPropagation","submitComment","commentsLoading","toJSON","replace","toLocaleTimeString","fetchComments","enqueueSnackbar","commentsContainer","scrollTop","scrollHeight","deleteComment","news_id","thisComments","loadedComments","_this2","_this3","_this4","_this$props","closeNews","_this$state","userAvatar","Single","core_index_es","placement","title","Icon","Clear_default","onClick","PostHeader","Avatar","DefaultAvatar","author","importance","createImportantBar","PostContent","text","PostLikes","likes","getNoun","map","i","key","PostActions","length","getCommentsNoun","react_fontawesome_index_es","icon","marginLeft","_","some","Fragment","NewComment","TextArea","label","multiline","onChange","required","disabled","comment","Comments","marginTop","who","author_id","DelIcon","Delete_default","SingleNews_Wrapper","SingleNews_templateObject","_templateObject2","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_templateObject10","_templateObject11","_templateObject12","withSnackbar","SideNews","goToSingleNews","singleNews","reloadComponent","changeImportance","number","Math","abs","margin","Important","SideNews_templateObject","Warning_default","news","singleNewsData","comments","bind","getNews","records","NEWS_COUNTER","store","SideNews_Wrapper","SideNews_News","NewsSwitch","item","NoNews","handleChangeSection","scrollTo","components_SingleNews","SideNews_templateObject2","SideNews_templateObject3","News","SideNews_templateObject4","SideNews_templateObject5","connect","dispatch","payload","Friend","friend","ListItem_default","button","TouchRippleProps","classes","child","ListItemAvatar_default","Avatar_default","height","width","alt","src","ListItemText_default","inset","primary","secondary","last_activity","SearchWrapper","Search_templateObject","Search","TextField_default","searchValue","handleSearch","InputProps","endAdornment","InputAdornment_default","IconButton_default","aria-label","SearchIcon","opacity","FriendList","friends","documentTitle","sortFriends","sorted","online","offline","not_used","forEach","setOnline","push","toLowerCase","filter","filterFriends","time","lastActivity","moment","Number","fromNow","parseInt","componentWillUnmount","user_id","toString","onFetchFriends","Paper_default","FriendWrapper","FriendsList_Search","List_default","Link","to","handleChangeUserId","FriendsList_Friend","FriendsList_templateObject","ModalWindow","Modal_default","open","onClose","handleClose","component","ConfirmDelete","ConfirmStatus_Wrapper","ConfirmStatus_Icon","message","ButtonContainer","setAdministrator","Backdrop","ConfirmStatus_templateObject","ConfirmStatus_templateObject2","ConfirmStatus_templateObject3","ConfirmStatus_templateObject4","LongMenu","anchorEl","preparedId","handleClick","event","currentTarget","fetchUserInfo","Boolean","userInfo","user_logged_id","aria-owns","undefined","aria-haspopup","MoreVert_default","Menu_default","admin","MenuItem_default","prepareToUpdate","React","Dropdown","Dropdown_Wrapper","Select","u","ser_logged_id","Dropdown_templateObject","autoSaveTimer","PersonalInfo","handleDateChange","selectedDate","removeInput","newChildInput","createInput","fullWidth","InputLabelProps","shrink","Naked","InputBase_default","htmlFor","closeSelectOnScroll","listenSelect","closeSelect","isSelectOpened","nameError","yearError","childName","childBirthyear","loadingChild","lastUser","handleSubmit","deleteChild","prepareChild","handleChild","addChild","action","birthday","catch","clearTimeout","objectSpread","updateUser","_this$setState","defineProperty","modal","dontShow","val","status","sex","result","_this$props2","childrens","childs","JSON","parse","Form","method","onSubmit","react_input_mask_default","mask","phone","padding","material_ui_pickers_esm","aria-describedby","cancelLabel","vazriant","onOpen","input","labelWidth","Childrens","keys","Children","child_name","child_birthyear","NewChild","Done_default","ChildBtns","city","disctrict","adress","district","vuz","fakultet","army_country","army_type","Btn","form","PersonalInfo_templateObject","PersonalInfo_templateObject2","PersonalInfo_templateObject3","PersonalInfo_templateObject4","PersonalInfo_templateObject5","PersonalInfo_templateObject6","PersonalInfo_templateObject7","field","withStyles","theme","fixed","bottom","spacing","unit","right","Tooltip_default","Add_default","inputComponent","_ref","inputRef","objectWithoutProperties","assign","ref","components","Control","inputProps","selectProps","innerRef","children","innerProps","textFieldProps","Menu","square","paper","MultiValue","tabIndex","classNames","chip","chipFocused","isFocused","onDelete","removeProps","deleteIcon","Cancel_default","NoOptionsMessage","noOptionsMessage","Option","buttonRef","selected","fontWeight","isSelected","Placeholder","placeholder","SingleValue","singleValue","ValueContainer","valueContainer","IntegrationReactSelect","users","selectStyles","base","palette","& input","font","root","react_select_esm","styles","options","multi","isMulti","control","flexGrow","display","flexDirection","justifyContent","flexWrap","flex","alignItems","overflow","backgroundColor","emphasize","grey","fontSize","left","zIndex","withTheme","MaterialUIPickers","Grid_default","container","justify","paddingBottom","minDate","emptyLabel","ampm","selectedTime","locale","minutesStep","handleTimeChange","TextInput","TextInput_TextArea","handleTextChange","TextInput_templateObject","VerticalLinearStepper","activeStep","handleNext","handleBack","handleReset","checkDisabled","step","steps","Stepper_default","orientation","index","Step_default","StepLabel_default","StepContent_default","Typography_default","getStepContent","actionsContainer","Autocomplete","Pickers","elevation","resetContainer","resetAll","marginRight","marginBottom","NewTask","componentDidMount","forWho","toLocaleDateString","join","getHours","getMinutes","tasks","onAddNewTask","_this$state2","NewTask_Wrapper","Close_default","Tasks_Stepper","NewTask_Backdrop","NewTask_templateObject","NewTask_templateObject2","task","Task","getUserNames","usersId","find","getAdresant","initial","from","readed","markTask","now","end","until_date","difference","duration","diff","_milliseconds","openTask","expandIcon","ExpandMore_default","Task_Icon","TaskStatus","task-completed","task-doing","task-late","DeleteIcon","handleConfirm","details","Footer","for","reverse","until_time","leaveDelay","handleCompleted","Task_templateObject","span","Task_templateObject2","Task_templateObject3","Task_templateObject4","ConfirmDelete_Wrapper","ConfirmDelete_Icon","ConfirmDelete_ButtonContainer","handleDelete","ConfirmDelete_Backdrop","ConfirmDelete_templateObject","ConfirmDelete_templateObject2","ConfirmDelete_templateObject3","ConfirmDelete_templateObject4","ResponsiveHeader","ResponsiveHeader_Wrapper","ResponsiveHeader_templateObject","Tasks","confirm","preparedToDelete","disabledButton","getTasks","handleOpen","done_date","done_time","markAsCompleted","handleFilter","filtered","onFilter","onDeleteTask","Tasks_Wrapper","Filters","Tasks_Task","Fab_Fab","Tasks_NewTask","ConfirmDelete_ConfirmDelete","Tasks_templateObject","Tasks_templateObject2","NewNews","Container","NewNews_Header","NewNews_Icon","Body","submitNews","Topic","newNewsTopic","invalidTopic","NewNews_TextArea","invalidText","newNewsText","NewNews_Footer","checked","newNewsImportance","NewNews_Wrapper","NewNews_templateObject","NewNews_templateObject2","NewNews_templateObject3","NewNews_templateObject4","NewNews_templateObject5","NewNews_templateObject6","NewNews_templateObject7","NewNews_templateObject8","News_ConfirmDelete_Wrapper","News_ConfirmDelete_Icon","News_ConfirmDelete_ButtonContainer","removeNews","Dialogue","News_ConfirmDelete_templateObject","section","News_ConfirmDelete_templateObject2","News_ConfirmDelete_templateObject3","News_ConfirmDelete_templateObject4","newNews","editing","preparedNewsId","confirmDelete","prepareNews","editNews","addNews","News_templateObject","prepareDelete","handleAvatarRoute","showNews","onAddNews","NewsContainer","UserAvatar","NewsInfo","News_Icon","News_Body","News_TextArea","Actions","News_NoNews","News_ConfirmDelete_ConfirmDelete","News_templateObject2","News_templateObject3","News_templateObject4","News_templateObject5","News_templateObject6","News_templateObject7","News_templateObject8","News_templateObject9","sections","img","Person_default","Message_default","NewReleases_default","ListAlt_default","People_default","RssFeed_default","Navigation","countFeed","counter","Navigation_Wrapper","AppBar_default","Tabs_default","indicatorColor","centered","Tab_default","BadgeWrapper","Badge_default","badgeContent","Navigation_templateObject","Navigation_templateObject2","Time","ChatItem_templateObject","MessageHeader","ChatItem_templateObject2","string","openRoom","hasOwnProperty","chat","fromDayStart","startOf","dateFromNow","isSame","calendar","body","substring","NoMessages","NoMessages_Container","NoMessages_templateObject","Message_templateObject","Message_templateObject2","Message_templateObject3","_props$store","room","Message_Container","Message_Avatar","Message_Body","Edit_default","editMessage","isToday","edited","Messages_templateObject","messages","messageContainer","Messages_Container","Chat_Message","SendMessageInput","SendMessageInput_Container","sendMessage","autoFocus","handleNewMessage","Send_default","SendMessageInput_templateObject","EditMessageInput","EditMessageInput_Container","submitEdit","handleEdit","startAdornment","closeEditing","EditMessageInput_templateObject","DeleteModal","DeleteModal_Container","closeDelete","submitDelete","Overlay","DeleteModal_templateObject","DeleteModal_templateObject2","ChatRoom","editText","deleting","newMessage","deleteID","editID","interval","getMessages","setInterval","clearInterval","chat_id","_this$props$store","localStorage","setItem","message_id","getItem","created_at","chats","createChat","addMessage","getMessageId","user1","user2","messageId","assignChat","deleteMessage","deleteChat","_success","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","stop","apply","arguments","Room","RoomHeader","ChatRoom_Icon","ArrowBack_default","Chat_Messages","ChatRoom_templateObject","ChatRoom_templateObject2","ChatRoom_templateObject3","messageID","messageBody","rebuildList","withMessages","withoutMessages","completed","initialAnimation","openChat","closeChat","direction","pages","renderprops","Chat_ChatRoom","ChatItem","getDirection","Dialogues_FriendWrapper","reset","unique","native","items","transform","enter","leave","Dialogues_templateObject","NoChats","NoChats_Container","NoChats_templateObject","Chat","trim","getChats","userStore","fetchChats","Dialogues","UserAvatar_Wrapper","UserAvatar_templateObject","Comment","CommentWrapper","UserAvatar_UserAvatar","CommentContent","Comment_templateObject","Comment_templateObject2","LikeWrapper","LikeContent","Like_templateObject","Like_templateObject2","NewsWrapper","NewsContent","Feed_News_templateObject","Feed_News_templateObject2","Feed_News_templateObject3","Task_NewsWrapper","Task_NewsContent","Feed_Task_templateObject","Feed_Task_templateObject2","Feed_Task_templateObject3","Result","parseFloat","questions","ResultWrapper","ResultContent","estimated_time","textDecoration","Result_templateObject","Result_templateObject2","EventWrapper","EventContent","startDate","endDate","max","signed","maxUsers","signedUsers","remaining","getRemainingPlaces","Event_templateObject","Event_templateObject2","onFetchFeed","feed","_useState","useState","_useState2","slicedToArray","setLoading","useEffect","Feed_News_News","fake_id","Task_News","Event_Result","Like_Comment","renderFeedItem","card","maxWidth","media","Card_default","CardActionArea_default","changeSection","CardMedia_default","CardContent_default","gutterBottom","description","CardActions_default","size","cards","class","Media","Materials","closeSection","fetchTests","_fetchTests","_callee2","_context2","abrupt","sent","fetchTestsById","_fetchTestsById","_callee3","_context3","fetchQuestions","_fetchQuestions","_callee4","_context4","fetchCategories","_fetchCategories","_callee5","_context5","fetchTestLastId","_fetchTestLastId","_callee6","_context6","fetchSingleTest","_x","_fetchSingleTest","_callee7","_context7","fetchSingleQuestion","_x2","_fetchSingleQuestion","_callee8","_context8","NotFound","NotFound_Wrapper","NotFound_templateObject","ListItemLink","List_templateObject","inline","user_name","toFixed","List_DeleteIcon","Divider_default","NoTests","NoTests_Container","NoTests_templateObject","Learnings_Search_templateObject","Search_SearchWrapper","selectedUser","times","TimePicker","select","textField","SelectProps","MenuProps","menu","helperText","option","QuestionItem","category","setHeadSubCategory","handleMarkQuestion","question","dense","Checkbox_default","disableRipple","getCategories","categories","resetCategories","heading","typography","pxToRem","fontWeightRegular","setChecked","_useState3","_useState4","categoryFiltered","setCategoryFiltered","_useState5","_useState6","checkedSubs","setCheckedSubs","current","indexOf","cat","q","subcategory","findUniqSubcategories","ExpansionPanel_default","ExpansionPanelSummary_default","paddingLeft","allCategories","markAll","var","ExpansionPanelDetails_default","markSub","Steps_QuestionItem","SelectQuestions","Steps_CategoryItem","setOverlay","overlay","SelectUser","SelectTime","GenerateTest","sub","questionToMark","selectedQuestions","selectedQuestionsIds","last_id","onAddNewTest","GenerateTest_Wrapper","Steps_Stepper","GenerateTest_Backdrop","GenerateTest_templateObject","GenerateTest_templateObject2","test","TabContainer","dir","AdminPanel","handleChangeIndex","onFilterTests","openModal","closeModal","onDeleteTest","tests","textColor","Learnings_Search","lib_default","axis","onChangeIndex","maxHeight","List_List","Steps_GenerateTest","test_id","UserPanel","Buttons","Tests_templateObject","isAdmin","t0","fetchData","Learnings_AdminPanel","KeyboardBackspace_default","Learnings_templateObject","Learnings","opened","setOpened","Learnings_Wrapper","Learnings_Tests","Container_Container","MainPage","initialUser","handleChangeUrl","switchComponent","_this5","current_id","_this6","getUser","components_PersonalInfo","components_Chat_Chat","components_News","components_Tasks_Tasks","Learnings_Learnings","FriendsList","Feed","components_MainpageHeader","components_Header","components_Navigation_Navigation","MainSection","components_SideNews","MainPage_templateObject","ForgetPassword","credentials","forgetPassword","ForgetPassword_Wrapper","ForgetPassword_Icon","credential","username","ForgetPassword_templateObject","ForgetPassword_templateObject2","Cookie","cname","cvalue","exdays","d","setTime","expires","toUTCString","cookie","ca","c","charAt","getCookie","alert","prompt","setCookie","SignupForm","isForget","handleClickShowPassword","isPassHidden","login","password","invalidPass","jwt","VisibilityOff_default","Visibility_default","FormHelperText_default","SignupForm_Buttons","components_ForgetPassword","SignupForm_templateObject","global","RegisterForm","email","confirmed","isEmailValid","entered","validateEmail","showPassword","lentgh","BtnWrapper","RegisterForm_templateObject","BgBubbles","cssClass","LoginForm","whichForm","changeForm","components_RegisterForm","components_SignupForm","components_BgBubbles","Approved","goToMain","closeWindow","close","Restore","pw","vars","m","getUrlVars","InputWrapper","BtnContainer","Restore_templateObject","Restore_templateObject2","Page404","css","default","upload","cursor","hiddenInput","top","borderRadius","header","textAlign","genders","Settings","fileSelect","files","selectedFile","uploadAvatar","file","fd","encType","Icon_default","accept","Completionist","Timer","h","s","hours","minutes","seconds","api","Timer_Container","Timer_Time","Timer_Completionist","AlarmOn_default","Controls","start","PlayArrow_default","isPaused","pause","Pause_default","Timer_templateObject","Timer_templateObject2","Timer_templateObject3","_ref2","pauseTest","resumeTest","finish","dist_index_es","controlled","autoStart","renderer","onPause","onStart","onComplete","Question","allQuestionsId","paused","findTimer","answered","variants","questionNumber","skipQuestion","nextQuestion","prevQuestion","images","setImages","lightboxOpen","setLightboxOpen","openLightbox","entries","image_file","original","getImages","Question_Container","QuestionHeader","Spheric","Sphere","audio","audio_file","controls","Question_Buttons","getPrevBtnStatus","Lightbox_default","toConsumableArray","isOpen","showImageCount","Question_templateObject","Question_templateObject2","Question_templateObject3","Question_templateObject4","Circles","skipped","getStatus","isAnswered","isSkipped","Circles_Container","Circles_templateObject","Legend","Legend_Container","Legend_templateObject","updateResult","question_id","finishTest","createEvent","Effects_requests_createEvent","Answers","ResultsList_templateObject","object","isCorrect","question_data","answers","Results","results","setResults","not_answered","Results_Container","getPercent","ResultsList","NotAnswered","Results_Buttons","Results_templateObject","Results_templateObject2","Finish","isShowResult","setShowResult","Finish_Container","Finish_Buttons","Finish_templateObject","Finish_templateObject2","Test_templateObject","QuestionWrapper","Test_templateObject2","updateState","setVariants","setQuestionNumber","_useState7","_useState8","setAllQuestionsId","_useState9","_useState10","setQuestion","_useState11","_useState12","_useState13","_useState14","setSkipped","_useState15","_useState16","setAnswered","_useState17","_useState18","finished","setFinished","_useState19","_useState20","setTest","_useState21","_useState22","setPaused","getVariants","splitted","getNextStep","_finish","testData","innerHTML","_updateTestResult","checkedVariants","Array","isArray","_fetchData","save","idArray","j","loadSave","Test_Container","TestPage_Timer","newState","updateTestResult","newVariants","random","StartTestTemplate","StartTestTemplate_Container","StartTestTemplate_Buttons","StartTestTemplate_templateObject","StartTestTemplate_templateObject2","Continue","setObject","isContinue","setContinue","Continue_Container","TestPage_Test","Continue_Buttons","Continue_templateObject","Continue_templateObject2","minWidth","TestContainer_templateObject","setStart","started","setStarted","TestContainer_Container","startTestRequest","setupResult","fetchTest","TestPage_TestContainer","CustomDateTimePicker","setDate","callback","showTabs","autoSubmit","allowKeyboardControl","AddAlarm_default","PureComponent","ranges","intervals","Infinity","NewEvent_templateObject","NewEvent_templateObject2","NewEvent_templateObject3","NewEvent_templateObject4","onAddEvent","setTitle","_startDate","_setStartDate","_endDate","_setEndDate","setStartDate","setEndDate","isSignAllowed","setSignAllowed","setMaxUsers","isSplitted","setSplitted","emptyTitle","setEmptyTitle","emptyStartDate","setEmptyStartDate","_useState23","_useState24","emptyEndDate","setEmptyEndDate","_createEvent","creator","requestEvent","reload","NewEvent_Wrapper","NewEvent_Icon","Picker","dateString","_d","ey","em","ed","sy","sm","sd","isSameDay","NewEvent_ButtonContainer","NewEvent_Dialogue","ConfirmModal","deleteAppointment","Modal_Wrapper","Modal_Icon","Modal_ButtonContainer","Modal_Dialogue","Modal_templateObject","Modal_templateObject2","Modal_templateObject3","Modal_templateObject4","todayCell","fade","main","&:hover","&:focus","weekendCell","disabledBackground","today","weekend","Appointment","restProps","dx_react_scheduler_material_ui_es","onDoubleClick","AppointmentContent","onSignup","onUnSignup","appointmentData","userName","unSignUp","unSignUpOnEvent","querySelector","click","isSigned","signUpOnEvent","AppointmentsTooltip","onDeleteEvent","_ref3","setOpen","isUserAppointment","appointmentMeta","Layout","contentComponent","showDeleteButton","onDeleteButtonClick","deleteEvent","onHide","TimeTableCell","_ref4","getDate","getDay","DayScaleCell","_ref5","CreateEvent","CalendarContainer_templateObject","onFetchEvents","events","onFetchUser","_ref6","dx_react_scheduler_es","defaultCurrentViewName","startDayHour","endDayHour","firstDayOfWeek","timeTableCellComponent","dayScaleCellComponent","appointmentComponent","showOpenButton","layoutComponent","showCloseButton","allDayLabel","titleLabel","startDateLabel","endDateLabel","commitCommand","cancelCommand","readOnly","Calendar_NewEvent","routes","path","setUser","isLoading","CalendarContainer","TestPage","library","add","faComments","faHeart","faEnvelope","faEdit","App","BrowserRouter","Switch","route","Route","combineReducers","updated","nextState","currentChat","editedState","editedMessage","findIndex","obj","updatedState","thisEvent","createMuiTheme","useNextVariants","overrides","MuiSnackbar","MuiModal","MuiBackdrop","MuiFab","MuiList","MuiGrid","MuiTableCell","VerticalAppointment","content","textContainer","lineHeight","createStore","reducer","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","core_styles","es","utils","MomentUtils","build","maxSnack","preventDuplicate","src_App"],"mappings":"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","file":"static/js/main.a11f74f1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/baseline-search-24px.a87eca9e.svg\";","module.exports = __webpack_public_path__ + \"static/media/Water image_Dreamstime.2355a944.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sphere.b669c4e0.png\";","module.exports = \"data:image/png;base64,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\"","import React, { Component } from 'react';\r\nimport Moment from 'react-moment';\r\nimport './css/Header.css';\r\n\r\nclass Header extends Component {\r\n  render() {\r\n    const date = new Date();\r\n    return (\r\n      <div className=\"absolute-header\">\r\n        <div className=\"header-team\">#ЕдинаяКоманда</div>\r\n        <div className=\"header-date\">\r\n          <span>сегодня</span>\r\n          <Moment element=\"span\" format=\"DD.MM.YYYY\">{date}</Moment>\r\n          <span id=\"header-date-day\">{date.toLocaleString('ru', {weekday: 'long'})}</span>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport styled from 'styled-components';\r\n\r\nconst Loader = props => (\r\n  <StyledLoader style={{ minHeight: props.minHeight }}>\r\n    <CircularProgress color={props.color} />\r\n  </StyledLoader>\r\n)\r\n\r\nconst StyledLoader = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nexport default Loader;","import React, { Fragment } from 'react';\r\nimport './css/MainpageHeader.css';\r\nimport image from './img/photos/images.png';\r\nimport Button from '@material-ui/core/Button';\r\nimport styled from 'styled-components';\r\nimport defaultBackground from './img/photos/Water image_Dreamstime.jpg';\r\nimport Loader from './Loader/Loader';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\n\r\nfunction MainpageHeader(props) {\r\n  const { user } = props;\r\n  const defaultAvatar = { backgroundImage: `url(${image})` };\r\n  let uploadedAvatar = '';\r\n\r\n  if (window.location.host.includes('localhost') && user.avatar) {\r\n    uploadedAvatar = { backgroundImage: `url(${user.avatar.slice(16)})` };\r\n  } else {\r\n    uploadedAvatar = { backgroundImage: `url(${user.avatar})` };\r\n  }\r\n\r\n  return (\r\n    \r\n    <Wrapper>\r\n      {window.innerWidth < 600 && !window.location.pathname.includes('id') ? null :\r\n      <header className=\"header\">\r\n        <div className=\"person\">\r\n          {props.loading\r\n            ?\r\n            <div className=\"person-image\" style={{ background: 'rgba(255,255,255,0.5)' }}>\r\n              <Loader minHeight={125} color='primary' />\r\n            </div>\r\n            :\r\n            <div className=\"person-image\" style={user.avatar === '' ? defaultAvatar : uploadedAvatar}></div>\r\n          }\r\n          <div className=\"person-info\">\r\n            <div className=\"person-info__container\">\r\n              {!props.loading\r\n                ?\r\n                (<Fragment>\r\n                  <p className=\"person-info__name\">{`${user.name} ${user.surname}`}</p>\r\n                  <p className=\"person-info__position\">{user.position}</p>\r\n                </Fragment>)\r\n                :\r\n                <Loader minHeight={70} color='primary' />}\r\n            </div>\r\n            <Button variant=\"contained\" href=\"logout.php\" color=\"primary\">Выйти</Button>\r\n          </div>\r\n        </div>\r\n        <Button variant=\"contained\" href=\"/settings\" color=\"primary\">{window.innerWidth > 600 ? 'Персональные данные' : <SettingsIcon />}</Button>\r\n      </header>}\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  background: url('${defaultBackground}') no-repeat center/cover;\r\n  background-attachment: fixed;\r\n`;\r\n\r\nexport default MainpageHeader;","let API = '';\r\n\r\nif (window.location.host.includes('localhost')) {\r\n  API = 'http://akvatory.local';\r\n} else {\r\n  API = window.location.origin;\r\n}\r\n\r\nexport const getJwt = () => {\r\n  let jwt = localStorage.getItem('akv_jwt_token');\r\n  return jwt;\r\n}\r\n\r\nexport default API;","import React, { Component, Fragment } from 'react';\r\nimport styled from 'styled-components';\r\nimport $ from 'jquery';\r\nimport DefaultAvatar from './img/photos/images.png';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Typography, Button, TextField, Tooltip } from '@material-ui/core';\r\nimport API from './functions/API';\r\nimport _ from 'lodash';\r\nimport Loader from './Loader/Loader';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { withSnackbar } from 'notistack';\r\n\r\nclass SingleNews extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      thisComments: [],\r\n      loadedComments: false,\r\n      commentText: '',\r\n      currentNews: [],\r\n      likedBy: [],\r\n      loading: true,\r\n      commentsLoading: false\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await fetch(`${API}/api/news/read_one.php?id=${this.props.singleNewsId}`)\r\n      .then(response => response.json())\r\n      .then(currentNews => this.setState({ currentNews }))\r\n    await this.fetchComments(this.props.singleNewsId);\r\n    await this.getAvatars(this.props.singleNewsId);\r\n    await this.setState({ loading: false })\r\n  }\r\n\r\n  fetchComments(id) {\r\n    fetch(`${API}/api/news/single_comments.php?id=${id}`)\r\n      .then(response => response.json())\r\n      .then(thisComments => this.setState({ thisComments, loadedComments: !this.state.loadedComments }))\r\n  }\r\n\r\n  // получаем аватарки лайкнувших пост\r\n  getAvatars = () => {\r\n    const likedBy = this.state.currentNews.liked_by.split(', ').slice(1);\r\n    const formData = new FormData();\r\n    const self = this;\r\n    formData.append('likedBy', likedBy);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/user/getAvatars.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: res => self.setState({ likedBy: res }),\r\n      error: err => console.log(err)\r\n    });\r\n  }\r\n  handleChange = e => this.setState({ commentText: e.target.value });\r\n\r\n  // добавляем лайк\r\n  addLike = (id, e) => {\r\n    const actions = document.getElementById('actions-news');\r\n    actions.style.pointerEvents = 'none';\r\n    var self = this;\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append('id', id);\r\n    formData.append('liked_by', this.props.user.id);\r\n    formData.append('created_at', new Date().getTime());\r\n    \r\n    $.ajax({\r\n      url: `${API}/api/news/addlike.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function (res) {\r\n        fetch(`${API}/api/news/read_one.php?id=${self.props.singleNewsId}`)\r\n          .then(response => response.json())\r\n          .then(currentNews => self.setState({ currentNews }))\r\n          .then(() => self.getAvatars(self.props.singleNewsId))\r\n\r\n        setTimeout(() => actions.style.pointerEvents = 'all', 1000)  \r\n      },\r\n      error: function (err) {\r\n        console.log(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  // убираем лайк\r\n  removeLike = (id, e) => {\r\n    const actions = document.getElementById('actions-news');\r\n    actions.style.pointerEvents = 'none';\r\n    const self = this;\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const formData = new FormData();\r\n    formData.append('id', id);\r\n    formData.append('liked_by', this.props.user.id);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/news/removelike.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function (res) {\r\n        fetch(`${API}/api/news/read_one.php?id=${self.props.singleNewsId}`)\r\n          .then(response => response.json())\r\n          .then(currentNews => self.setState({ currentNews }))\r\n          .then(() => self.getAvatars(self.props.singleNewsId))\r\n\r\n        setTimeout(() => actions.style.pointerEvents = 'all', 1000)\r\n      },\r\n      error: function (err) {\r\n        console.log(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  submitComment = e => {\r\n    this.setState({ commentsLoading: true });\r\n    var self = this;\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append('news_id', this.props.singleNewsId);\r\n    formData.append('who', `${this.props.user.name} ${this.props.user.surname}`);\r\n    formData.append('date', new Date().toJSON().slice(0, 10).replace(/-/g, '.'));\r\n    formData.append('visible', 1);\r\n    formData.append('time', new Date().toLocaleTimeString().slice(0, -3));\r\n    formData.append('text', this.state.commentText);\r\n    formData.append('author_id', this.props.user.id);\r\n    formData.append('created_at', new Date().getTime());\r\n\r\n    $.ajax({\r\n      url: `${API}/api/news/addcomment.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function() {\r\n        self.setState({ commentText: '' });\r\n        self.fetchComments(self.props.singleNewsId);\r\n        self.props.enqueueSnackbar('Комментарий был добавлен', { variant: 'success' });\r\n        setTimeout(() => {\r\n          self.setState({ commentsLoading: false });\r\n          const commentsContainer = document.getElementById(\"single-news\");\r\n          commentsContainer.scrollTop = commentsContainer.scrollHeight; \r\n        }, 250);    \r\n      },\r\n      error: function (err) {\r\n        console.log(err);\r\n        self.props.enqueueSnackbar('Не удалось оставить комментарий', { variant: 'error' });\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | Удаление комментария \r\n  | arguments: @id \r\n  | type: @int\r\n  |--------------------------------------------------\r\n  */\r\n  deleteComment = (e, id, news_id) => {\r\n    this.setState({ commentsLoading: true });\r\n    var self = this;\r\n    e.preventDefault();\r\n\r\n    $.ajax({\r\n      url: `${API}/api/news/deletecomment.php`,\r\n      data: { id, news_id },\r\n      type: 'POST',\r\n      success: function() {\r\n        self.props.enqueueSnackbar('Комментарий был удален', { variant: 'info' });\r\n        self.fetchComments(self.props.singleNewsId);\r\n        setTimeout(() => self.setState({ commentsLoading: false }), 250);\r\n      },\r\n      error: function() {\r\n        self.props.enqueueSnackbar('Не удалось удалить комментарий', { variant: 'error' });\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n    const { closeNews, user } = this.props;\r\n    const { thisComments, commentText, currentNews, likedBy, loading, commentsLoading } = this.state;\r\n    const userAvatar = currentNews.avatar;\r\n\r\n    return (\r\n      <Fragment>\r\n\r\n        <Single  id='single-news'>\r\n          {loading ? <Loader minHeight={500} color='primary' /> :\r\n            <Fragment>\r\n              <Tooltip placement='left' title='Закрыть'>\r\n                <Icon><CloseIcon onClick={closeNews} /></Icon>\r\n              </Tooltip>\r\n\r\n              <PostHeader>\r\n                <Avatar style={{ background: `url(${currentNews.avatar ? userAvatar : DefaultAvatar}) no-repeat center/cover` }}></Avatar>\r\n                <Typography variant='subtitle2'>{currentNews.author}</Typography>            \r\n              </PostHeader>\r\n\r\n              {currentNews.importance === '1' ? this.props.createImportantBar(10) : null}\r\n\r\n              <Typography variant='h5'>{currentNews.title.replace(/&quot;/g, `\"`)}</Typography>\r\n\r\n              <PostContent>\r\n                <Typography variant='body1'>{currentNews.text.replace(/&quot;/g, `\"`)}</Typography>\r\n                <Typography variant='caption'>{currentNews.date}</Typography>\r\n              </PostContent>\r\n\r\n              <PostLikes>\r\n                <Typography variant='subtitle2'>{currentNews.likes} {this.props.getNoun(currentNews.likes)} \"Нравится\"</Typography>\r\n                {/* eslint-disable-next-line*/}\r\n                {likedBy.map((user, i) => {\r\n\r\n                  while (i < 7) {\r\n                    return (\r\n                      <Tooltip key={i} title={`${user.name} ${user.surname}`} placement=\"top\">\r\n                        <Avatar style={{ background: `url(${user.avatar ? user.avatar : DefaultAvatar}) no-repeat center/cover` }}></Avatar>\r\n                      </Tooltip>\r\n                    )\r\n                  }\r\n                })}\r\n              </PostLikes>\r\n\r\n              <PostActions id='actions-news'>\r\n                {thisComments.length}\r\n                <Tooltip placement='top' title={`${thisComments.length} ${this.props.getCommentsNoun(thisComments.length)}`}>\r\n                  <FontAwesomeIcon icon='comments' style={{ marginLeft: 10 }} />\r\n                </Tooltip>\r\n\r\n                {!_.some(likedBy, ['id', user.id])\r\n                  ?\r\n                  <React.Fragment>\r\n                    <span>{currentNews.likes}</span>\r\n                    <Tooltip placement='top' title={`${currentNews.likes} ${this.props.getNoun(currentNews.likes)} \"Нравится\"`}>\r\n                      <FontAwesomeIcon onClick={e => this.addLike(currentNews.id, e)} icon='heart' style={{ marginLeft: 10 }} />\r\n                    </Tooltip>\r\n                  </React.Fragment>\r\n                  :\r\n                  <React.Fragment>\r\n                    <span>{currentNews.likes}</span>\r\n                    <Tooltip placement='top' title={`${currentNews.likes} ${this.props.getNoun(currentNews.likes)} \"Нравится\"`}>\r\n                      <FontAwesomeIcon onClick={e => this.removeLike(currentNews.id, e)} icon='heart' style={{ color: '#1976d2', marginLeft: 10 }} />\r\n                    </Tooltip>  \r\n                  </React.Fragment>\r\n                }\r\n            {/*     <Tooltip placement='top' title='Написать сообщение'>\r\n                  <FontAwesomeIcon icon='envelope' style={{ marginLeft: '25px' }} />\r\n                </Tooltip> */}\r\n                \r\n              </PostActions>\r\n\r\n              <NewComment>\r\n                <p className='newcomment-reply'>В ответ <a href={`${window.location.origin}/id${currentNews.id}`}>{currentNews.author}</a></p>\r\n                <div className='newcomment-input'>\r\n                  <Avatar style={{ background: `url(${user.avatar ? user.avatar : DefaultAvatar}) no-repeat center/cover` }}></Avatar>\r\n                  <TextArea>\r\n                    <TextField\r\n                      label='Комментарий'\r\n                      multiline\r\n                      variant='outlined'\r\n                      name='commentText'\r\n                      value={commentText}\r\n                      onChange={this.handleChange}\r\n                      required\r\n                    />\r\n                  </TextArea>\r\n                </div>\r\n                <Button variant='contained' color='primary' onClick={this.submitComment} disabled={!commentText}>Отправить</Button>\r\n              </NewComment>\r\n\r\n              {commentsLoading ? <Loader minHeight={280} color='primary' /> :\r\n                thisComments.map((comment, i) => {\r\n                  return (\r\n                    <Comments key={i}>\r\n                      <div className='comment-header'>\r\n                        <Avatar style={{ background: `url(${comment.avatar ? comment.avatar : DefaultAvatar}) no-repeat center/cover`, marginTop: 20 }}></Avatar>\r\n                        <Typography variant='subtitle2'>{comment.who}</Typography>\r\n                        <Typography variant='caption' className='comment-date'>{comment.date}</Typography>\r\n                      </div>\r\n                      <div className='comment-text'>{comment.text}</div>\r\n\r\n                      {comment.author_id === user.id ?\r\n                      <DelIcon>\r\n                        <Tooltip placement='left' title=\"Удалить\">\r\n                          <DeleteIcon onClick={(e) => this.deleteComment(e, comment.id, comment.news_id)} />\r\n                        </Tooltip>\r\n                      </DelIcon>\r\n                      : null}\r\n                    </Comments>\r\n                  )\r\n                })}\r\n\r\n            </Fragment>}\r\n        </Single>\r\n        <Wrapper onClick={closeNews}></Wrapper>\r\n\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst Single = styled.div`\r\n  width: 600px;\r\n  min-height: 300px;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  position: fixed;\r\n  z-index: 50;\r\n  background: #fff;\r\n  top: 100px;\r\n  border-radius: 10px;\r\n  box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\r\n  padding: 15px 30px;\r\n  overflow-y: scroll;\r\n  overflow-x: hidden;\r\n  max-height: 80%;\r\n\r\n  .close {\r\n    top: 5px;\r\n  }\r\n  ::-webkit-scrollbar { \r\n    display: none; \r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    width: 100%;\r\n    height: calc(100vh - 50px);\r\n    top: 0;\r\n    max-height: unset;\r\n    border-radius: 0;\r\n    padding: 30px 15px 15px;\r\n  }\r\n`;\r\n\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  background: rgba(0,0,0,.5);\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  top: 0;\r\n  z-index: 49;\r\n`;\r\n\r\nconst PostHeader = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 25px;\r\n\r\n  img {\r\n    border-radius: 50%;\r\n    width: 60px;\r\n  }\r\n  p {\r\n    font-size: 18px;\r\n    font-weight: 700;\r\n  }\r\n`;\r\n\r\nconst PostContent = styled.div`\r\n  p {\r\n    margin: 15px 0 5px;\r\n    font-size: 20px;\r\n  }\r\n  span {\r\n    color: #657786;\r\n    font-size: 14px;\r\n  }\r\n`;\r\n\r\nconst PostLikes = styled.div`\r\n  border-top: 1px solid #e6ecf0;\r\n  border-bottom: 1px solid #e6ecf0;\r\n  margin-top: 20px;\r\n  1px solid #e6ecf0;\r\n  align-items: center;\r\n  display: flex;\r\n\r\n  div {\r\n    margin: 0 5px;\r\n  }\r\n\r\n  h6:first-child {\r\n    width: 50%;\r\n    padding: 15px 10px;\r\n    border-right: 1px solid #e6ecf0;\r\n  }\r\n\r\n  span {\r\n    width: 50%;\r\n    padding: 15px 10px 15px;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    h6:first-child {\r\n      font-size: 12px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst PostActions = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-top: 20px;\r\n\r\n  img {\r\n    width: 15px;\r\n    margin-right: 40px;\r\n    margin-left: 10px;\r\n    opacity: .7;\r\n    cursor: pointer;\r\n  }\r\n\r\n  img:hover {\r\n    opacity: 1;\r\n    transition: .37s ease;\r\n  }\r\n`;\r\n\r\nconst Comments = styled.div`\r\n  margin-left: -30px;\r\n  width: 600px;\r\n  border-bottom: 1px solid #e6ecf0;\r\n  cursor: pointer;\r\n  padding: 15px 30px;\r\n  position: relative;\r\n\r\n  :last-child {\r\n    border-bottom: none;\r\n  }\r\n\r\n  :hover {\r\n    background: #f5f8fa;\r\n    transition: .37s ease;\r\n  }\r\n\r\n  .comment-header {\r\n    display: flex;\r\n    align-items: center;\r\n    \r\n    div {\r\n      border-radius: 50%;\r\n      width: 30px;\r\n      height: 30px;\r\n    }\r\n  }\r\n\r\n  .comment-text {\r\n    padding-left: 45px;\r\n  }\r\n\r\n  .comment-date {\r\n    margin-left: 10px;\r\n    color: #657786;\r\n    :before {\r\n      content: '\\00b7';\r\n      margin-right: 10px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst NewComment = styled.div`\r\n  padding: 15px 30px;\r\n  background: #f5f8fa;\r\n  width: calc(100% + 60px);\r\n  margin-top: 20px;\r\n  margin-left: -30px;\r\n  border-bottom: 1px solid #e6ecf0;\r\n  border-top: 1px solid #e6ecf0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  .close {\r\n    top: 5px;\r\n  }\r\n  button {\r\n    width: 150px;\r\n    align-self: flex-end;\r\n    margin-top: 15px;\r\n  }\r\n  \r\n  .newcomment-reply {\r\n    margin: 0 40px;\r\n    color: #657786;\r\n    a {\r\n      color: #0084B4;\r\n      text-decoration: none;\r\n      margin-left: 5px;\r\n      :hover {\r\n        text-decoration: underline;\r\n      }\r\n    }\r\n  }\r\n\r\n  .newcomment-input {\r\n    display: flex;\r\n    align-items: flex-start;\r\n    margin-top: 20px;\r\n    div {\r\n      margin-right: 0;\r\n    }\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    margin-left: -15px;\r\n    padding: 15px;\r\n    width: calc(100% + 30px);\r\n  }\r\n`;\r\nconst Avatar = styled.div`\r\n  min-width: 30px;\r\n  border-radius: 50%;\r\n  min-height: 30px;\r\n  margin-right: 15px;\r\n`;\r\nconst TextArea = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-left: 10px;\r\n  background: #fff;\r\n  height: 110px;\r\n  width: 100%;\r\n\r\n  textarea {\r\n    max-height: 90px;\r\n    background: #fff;\r\n    &::-webkit-scrollbar {\r\n      width: 10px;\r\n    }\r\n   \r\n    &::-webkit-scrollbar-track {\r\n      background-color: #ebebeb;\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n    }\r\n  \r\n    &::-webkit-scrollbar-thumb {\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n      background: #1976d2; \r\n    }\r\n  }\r\n\r\n  & > div {\r\n    width: 100%;\r\n    & > div {\r\n      height: 100%;\r\n    }\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  position: absolute;\r\n  right: 25px;\r\n  top: 10px;\r\n  cursor: pointer;\r\n  svg {\r\n    color: #1976d2;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    right: 15px;\r\n    top: 25px;\r\n    svg {\r\n      font-size: 32px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst DelIcon = styled.div`\r\n  cursor: pointer;\r\n  right: 25px;\r\n  top: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n  position: absolute;\r\n  height: fit-content;\r\n  svg {\r\n    color: rgba(0,0,0,.54);\r\n  }\r\n`;\r\n\r\nexport default withSnackbar(SingleNews);","import React, { Component } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport './css/SideNews.css';\r\nimport SingleNews from './SingleNews';\r\nimport styled from 'styled-components';\r\nimport { Typography, Paper, Switch, Button, Tooltip } from '@material-ui/core';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport { connect } from 'react-redux';\r\nimport Loader from './Loader/Loader';\r\nimport API from './functions/API';\r\n\r\nclass SideNews extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      news: [],\r\n      importance: false,\r\n      singleNews: false,\r\n      singleNewsData: [],\r\n      singleNewsId: '',\r\n      comments: [],\r\n      loading: true\r\n    }\r\n    this.reloadComponent = this.reloadComponent.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.reloadComponent();\r\n  }\r\n\r\n  async reloadComponent() {\r\n    await this.setState({ loading: true })\r\n    await fetch(`${API}/api/news/read.php`)\r\n      .then(response => response.json())\r\n      .then(news => this.props.getNews(news.records || []))\r\n    await fetch(`${API}/api/news/getcomments.php`)\r\n      .then(response => response.json())\r\n      .then(comments => this.setState({ comments: comments.records }))\r\n    await this.setState({ loading: false })\r\n  }\r\n\r\n  // переходим к конкретной новости\r\n  goToSingleNews = id => this.setState({ singleNews: true, singleNewsId: id });\r\n\r\n  // закрываем новость \r\n  closeNews = () => {\r\n    this.setState({ singleNews: false, singleNewsId: '' });\r\n    this.reloadComponent();\r\n  }\r\n\r\n  changeImportance = () => this.setState({ importance: !this.state.importance });\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | Находим правильную форму склонения комментариев\r\n  |--------------------------------------------------\r\n  */\r\n  getNoun = number => {\r\n    number = Math.abs(number);\r\n    number %= 100;\r\n    if (number >= 5 && number <= 20) return 'отметок';\r\n    number %= 10;\r\n    if (number === 1) return 'отметка';\r\n    if (number >= 2 && number <= 4) return 'отметки';\r\n    return 'отметок';\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | Находим правильную форму склонения комментариев\r\n  |--------------------------------------------------\r\n  */\r\n  getCommentsNoun = number => {\r\n    number = Math.abs(number);\r\n    number %= 100;\r\n    if (number >= 5 && number <= 20) return 'комментариев';\r\n    number %= 10;\r\n    if (number === 1) return 'комментарий';\r\n    if (number >= 2 && number <= 4) return 'комментария';\r\n    return 'комментариев';\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | создаёт надпись \"Помечено как важное\"\r\n  |--------------------------------------------------\r\n  */\r\n  createImportantBar = (margin) => {\r\n    const Important = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 0;\r\n    margin-top: ${margin}px;\r\n    svg {\r\n      color: rgba(0,0,0,.15);\r\n      margin-right: 5px;  \r\n    }\r\n  `;\r\n    return (\r\n      <Important>\r\n        <WarningIcon />\r\n        <Typography variant='caption'>Отмечено как \"Важное\"</Typography>\r\n      </Important>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { news, importance, singleNews, singleNewsId, comments, loading } = this.state;\r\n    var NEWS_COUNTER = 0;\r\n\r\n    if (this.state.news.length === 0) {\r\n      setTimeout(() => this.setState({ news: this.props.store.news }), 0);\r\n    }\r\n\r\n    return (\r\n      <Wrapper>\r\n        <Paper>\r\n          {loading ? <Loader minHeight={250} color='primary' /> :\r\n            <News>\r\n              <NewsSwitch>\r\n                <Typography variant='subtitle2'>Только важное </Typography>\r\n                <Switch color='primary' onClick={this.changeImportance.bind(this)} />\r\n              </NewsSwitch>\r\n              {/* eslint-disable-next-line */}\r\n              {news.length > 0 ? this.props.store.news.map((item, i) => {\r\n\r\n                if (importance) {\r\n                  if (item.importance === '1' && NEWS_COUNTER < 3) {\r\n                    NEWS_COUNTER++;\r\n                    return (\r\n                      <div key={i} className=\"news-item\">\r\n                        <div className=\"news-item-header\">\r\n                          <Typography variant='subtitle2'>{item.author}</Typography>\r\n                          <Typography variant='caption'>{item.date}</Typography>\r\n                        </div>\r\n                        <Typography variant='button' className='news-caption' onClick={() => this.goToSingleNews(item.id)}>\r\n                          {item.importance === '1' ? <Tooltip title='Важное!' placement=\"left\"><WarningIcon /></Tooltip> : null}\r\n                          {item.title}\r\n                        </Typography>\r\n                        <div className=\"news-item-text\">\r\n                          <Typography variant='body2'>{item.text}</Typography>\r\n                        </div>\r\n                        <Tooltip title=\"Перейти к комментариям\" placement=\"top-start\">\r\n                          <div\r\n                            onClick={() => this.goToSingleNews(item.id)}\r\n                            className=\"news-item-comment\"\r\n                          >\r\n                            <FontAwesomeIcon icon='comments' />\r\n                            {item.comments} {this.getCommentsNoun(item.comments)}\r\n                          </div>\r\n                        </Tooltip>\r\n                      </div>\r\n                    )\r\n                  }\r\n                } else {\r\n                  while (i < 3) {\r\n                    return (\r\n                      <div key={i} className=\"news-item\">\r\n                        <div className=\"news-item-header\">\r\n                          <Typography variant='subtitle2'>{item.author}</Typography>\r\n                          <Typography variant='caption'>{item.date}</Typography>\r\n                        </div>\r\n                        <Typography variant='button' className='news-caption' onClick={() => this.goToSingleNews(item.id)}>\r\n                          {item.importance === '1' ? <Tooltip title='Важное!' placement=\"top-start\"><WarningIcon /></Tooltip> : null}\r\n                          {item.title.replace(/&quot;/g, `\"`)}\r\n                        </Typography>\r\n                        <div className=\"news-item-text\">\r\n                          <Typography variant='body2'>{item.text.replace(/&quot;/g, `\"`)}</Typography>\r\n                        </div>\r\n                        <Tooltip title=\"Перейти к комментариям\" placement=\"top-start\">\r\n                          <div\r\n                            onClick={() => this.goToSingleNews(item.id)}\r\n                            className=\"news-item-comment\"\r\n                          >\r\n                            <FontAwesomeIcon icon='comments' />\r\n                            {item.comments} {this.getCommentsNoun(item.comments)}\r\n                          </div>\r\n                        </Tooltip>\r\n                      </div>\r\n                    )\r\n                  }\r\n                }\r\n              }) :\r\n                <NoNews><Typography variant='h6'>нет новостей</Typography></NoNews>\r\n              }\r\n              <Button\r\n                variant='contained'\r\n                color='primary'\r\n                onClick={() => { this.props.handleChangeSection('news'); window.scrollTo(0, 0) }}\r\n              >\r\n                КО ВСЕМ НОВОСТЯМ\r\n            </Button>\r\n\r\n              {singleNews\r\n                ?\r\n                <SingleNews\r\n                  closeNews={this.closeNews.bind(this)}\r\n                  singleNewsId={singleNewsId}\r\n                  news={news}\r\n                  user={this.props.user}\r\n                  comments={comments}\r\n                  getNoun={this.getNoun}\r\n                  getCommentsNoun={this.getCommentsNoun}\r\n                  reloadComponent={this.reloadComponent}\r\n                  createImportantBar={this.createImportantBar.bind(this)}\r\n                />\r\n                : null}\r\n\r\n            </News>}\r\n        </Paper>\r\n      </Wrapper>\r\n    )\r\n  }\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  width: 30%;\r\n  @media all and (max-width: 600px) {\r\n    display: none;\r\n  }\r\n`;\r\nconst NewsSwitch = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\nconst News = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n\r\n  .news-item {\r\n    width: 100%;\r\n    padding-bottom: 0;\r\n  }\r\n  svg {\r\n    margin-left: 0;\r\n  }\r\n  .news-caption {\r\n    display: flex;\r\n    align-items: flex-start;\r\n    width: 111%;\r\n    cursor: pointer;\r\n    margin-left: -15px;\r\n    padding: 10px 15px 8px;\r\n    &:hover {\r\n      background: #1976d2;\r\n      color: #ffffff;\r\n      transition: .37s ease;\r\n    }\r\n    svg {\r\n      color: rgba(0,0,0,.15) !important;\r\n      margin-right: 8px;\r\n      font-size: 22px;\r\n    }\r\n  }\r\n\r\n  .news-item-comment {\r\n    width: 111%;\r\n    cursor: pointer;\r\n    margin-left: -15px;\r\n    padding: 12px 15px;\r\n    &:hover {\r\n      background: rgba(0,0,0,0.015);\r\n    }\r\n  }\r\n`;\r\nconst NoNews = styled.div`\r\n  height: 150px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  opacity: .37;\r\n  margin-bottom: 20px;\r\n`;\r\nexport default connect(\r\n  state => ({\r\n    store: state,\r\n  }),\r\n  dispatch => ({\r\n    getNews: (news) => {\r\n      dispatch({ type: 'FETCH_NEWS', payload: news })\r\n    }\r\n  })\r\n)(SideNews);","import React from 'react';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport defaultAvatar from '../img/photos/images.png';\r\n\r\nfunction Friend(props) {\r\n  let avatar = props.friend.avatar;\r\n \r\n  return (\r\n    <ListItem button TouchRippleProps={{ classes: { child: 'touch-ripple' }}} >\r\n      <ListItemAvatar>\r\n        <Avatar\r\n          style={{ height: 50, width: 50 }}\r\n          alt={`${props.friend.name} ${props.friend.surname}`}\r\n          src={props.friend.avatar !== '' ? avatar : defaultAvatar}\r\n        />\r\n      </ListItemAvatar>\r\n      <ListItemText\r\n        inset\r\n        primary={`${props.friend.name} ${props.friend.surname}, ${props.friend.position}`}\r\n        secondary={props.friend.last_activity}\r\n      />\r\n    </ListItem>\r\n  );\r\n}\r\n\r\nexport default Friend;","import React from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport SearchIcon from '../img/icons/baseline-search-24px.svg';\r\nimport styled from 'styled-components';\r\n\r\nfunction Search(props) {\r\n  return (\r\n    <SearchWrapper>\r\n      <TextField\r\n        id=\"outlined-adornment-password\"\r\n        variant=\"outlined\"\r\n        type='text'\r\n        label=\"Поиск\"\r\n        margin='dense'\r\n        value={props.searchValue}\r\n        onChange={props.handleSearch}\r\n        InputProps={{\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <IconButton\r\n                aria-label=\"Искать в списке коллег\"\r\n              >\r\n                <img alt='Поиск' src={SearchIcon} style={{ opacity: '.37' }} />\r\n              </IconButton>\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n      />\r\n    </SearchWrapper>\r\n  )\r\n}\r\n\r\nconst SearchWrapper = styled.div`\r\n  padding: 20px\r\n  & > div {\r\n    width: 100%;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\r\n    padding: 10px 20px 12px;\r\n    height: 80px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: flex-end;\r\n    label {\r\n      line-height: .5;\r\n    }\r\n    input {\r\n      padding: 9px 18.5px;\r\n    }\r\n    input::placeholder {\r\n      color: red;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default Search;","import React, { Component } from 'react';\r\nimport List from '@material-ui/core/List';\r\nimport Friend from './Friend';\r\nimport API from '../functions/API';\r\nimport styled from 'styled-components';\r\nimport Search from './Search';\r\nimport { Link } from 'react-router-dom';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Loader from '../Loader/Loader';\r\nimport { connect } from 'react-redux';\r\nimport moment from 'moment';\r\n\r\nclass FriendList extends Component {\r\n  state = { \r\n    friends: [], \r\n    searchValue: '',\r\n    loading: true,\r\n    documentTitle: document.title\r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch(`${API}/api/user/read.php`)\r\n      .then(response => response.json())\r\n      .then(friends => this.setState({ \r\n        friends: friends.data.filter(friend => friend.id !== this.props.user_id.toString())\r\n      })) \r\n      .then(() => this.props.onFetchFriends(this.state.friends))\r\n      .then(() => this.sortFriends())\r\n      .then(() => this.setState({ loading: false }))   \r\n  }\r\n\r\n  sortFriends = () => {\r\n    let sorted = this.state.friends;\r\n    let online = [],\r\n        offline = [],\r\n        not_used = [];\r\n    sorted.forEach(friend => {\r\n      friend.last_activity = this.setOnline(friend.last_activity);\r\n      friend.last_activity === 'Online' \r\n        ? online.push(friend) \r\n        : friend.last_activity \r\n          ? offline.push(friend)\r\n          : not_used.push(friend)\r\n    }); \r\n    sorted = online.concat(offline.concat(not_used));\r\n    this.props.setOnline(sorted);\r\n  }\r\n\r\n  handleSearch = (e) => {\r\n    this.setState({ searchValue: e.target.value });\r\n    const searchValue = e.target.value.toLowerCase();\r\n\r\n    document.title = e.target.value || this.state.documentTitle;\r\n\r\n    let friends = this.state.friends;\r\n    friends = friends.filter(friend => \r\n      friend.name.toLowerCase().includes(searchValue) || \r\n      friend.surname.toLowerCase().includes(searchValue) ||\r\n      friend.position.toLowerCase().includes(searchValue)\r\n    );\r\n    this.props.filterFriends(friends);\r\n  }\r\n\r\n  setOnline = time => {\r\n    if (!time) return '';\r\n\r\n    const lastActivity = moment(Number(time)).fromNow();\r\n    if ((lastActivity.includes('секунд') || lastActivity.includes('минут')) && (parseInt(lastActivity) < 15 || !parseInt(lastActivity))) {\r\n      return `Online`;\r\n    } else {\r\n      return `Последний визит: ${lastActivity}`;\r\n    }\r\n  }\r\n\r\n  componentWillUnmount = () => {\r\n    document.title = this.state.documentTitle;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Paper>\r\n        {\r\n          this.state.loading ? \r\n            <Loader minHeight={370} color='primary' /> \r\n          :\r\n          <FriendWrapper>\r\n            <Search \r\n              handleSearch={this.handleSearch} \r\n              searchValue={this.searchValue}\r\n            />\r\n            <List>\r\n              {this.props.store.friends.map(friend  => \r\n                <Link \r\n                  key={friend.id} \r\n                  to={`id${friend.id}`}\r\n                  onClick={() => this.props.handleChangeUserId(friend.id)}\r\n                >\r\n                  <Friend\r\n                    friend={friend} \r\n                  />\r\n                </Link>\r\n              )} \r\n            </List>\r\n          </FriendWrapper>\r\n        }\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nconst FriendWrapper = styled.div`\r\n  a {\r\n    text-decoration: none;\r\n  }\r\n  ul {\r\n    padding: 0;\r\n    padding-bottom: 50px;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    ul {\r\n      padding-top: 15px;\r\n      padding-bottom: 15px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({\r\n    store: state\r\n  }),\r\n  dispatch => ({\r\n    onFetchFriends: (friends) => {\r\n      dispatch({ type: 'FETCH_FRIENDS', payload: friends })\r\n    },\r\n    filterFriends: (friends) => {\r\n      dispatch({ type: 'FILTER_FRIENDS', payload: friends })\r\n    },\r\n    setOnline: (friends) => {\r\n      dispatch({ type: 'SET_FRIENDS', payload: friends })\r\n    }\r\n  })\r\n)(FriendList);","import React from 'react';\r\nimport Modal from '@material-ui/core/Modal';\r\n\r\nexport default function ModalWindow(props) {\r\n  return (\r\n    <Modal\r\n      open={props.open}\r\n      onClose={props.handleClose}\r\n    >\r\n      {props.component}\r\n    </Modal>\r\n  )\r\n}\r\n","import React, { Fragment } from 'react';\r\nimport { Paper, Typography, Button } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\nimport styled from 'styled-components';\r\n\r\nexport default function ConfirmDelete(props) {\r\n  return (\r\n    <Fragment>\r\n      <Wrapper>\r\n        <Paper>\r\n          <Icon onClick={props.handleClose}>\r\n            <CloseIcon />\r\n          </Icon>\r\n          <Typography variant='body1'>{`Вы уверены, что хотите ${props.message}?`}</Typography>\r\n          <ButtonContainer>\r\n            <Button variant='contained' color='secondary' onClick={props.setAdministrator}>Да</Button>\r\n            <Button variant='text' color='default' onClick={props.handleClose}>Отмена</Button>\r\n          </ButtonContainer>\r\n        </Paper>\r\n        \r\n      </Wrapper>\r\n      <Backdrop onClick={props.handleClose} />\r\n    </Fragment>\r\n  )\r\n}\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  height: 200px;\r\n  width: 400px;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n  outline: none;\r\n  z-index: 1000;\r\n  & > div {\r\n    height: 100%;\r\n    position: relative;\r\n    display: flex;\r\n    padding: 30px;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: 95%;\r\n  }\r\n`;\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  margin-top: 30px;\r\n  button {\r\n    margin-right: 25px;\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  svg {\r\n    cursor: pointer;\r\n    color: rgba(0,0,0,.54);\r\n    position: absolute;\r\n    right: 16px;\r\n    top: 16px;\r\n  }\r\n`\r\nconst Backdrop = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  top: 0;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  background: rgba(0,0,0,.37);\r\n`;","import React from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport { connect } from 'react-redux';\r\nimport { withSnackbar } from 'notistack';\r\nimport Modal from '../Modal/Modal';\r\nimport $ from 'jquery';\r\nimport API from '../functions/API';\r\nimport ConfirmStatus from './ConfirmStatus';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass LongMenu extends React.Component {\r\n  state = {\r\n    anchorEl: null,\r\n    preparedId: null,\r\n    open: false\r\n  };\r\n\r\n  handleClick = event => {\r\n    event.stopPropagation();\r\n    this.setState({ anchorEl: event.currentTarget });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ anchorEl: null });\r\n  };\r\n\r\n  prepareToUpdate(id) {\r\n    this.setState({ preparedId: id, open: true });\r\n  }\r\n\r\n  setAdministrator = () => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    formData.append('id', this.state.preparedId);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/user/setAdministrator.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () => {\r\n        self.handleClose();\r\n        self.props.enqueueSnackbar('Статус пользователя был успешно сменён', { variant: 'success' })\r\n        self.props.fetchUserInfo();\r\n      },\r\n      error: err => {\r\n        console.log(err);\r\n        self.props.enqueueSnackbar('Что-то пошло не так, попробуйте снова', { variant: 'error' })\r\n      }\r\n    });\r\n  }\r\n\r\n  handleClose = () => this.setState({ open: false, preparedId: null });\r\n\r\n  render() {\r\n    const { anchorEl } = this.state;\r\n    const open = Boolean(anchorEl);\r\n    const { userInfo, user_logged_id } = this.props;\r\n\r\n    return (\r\n      <div onClick={() => this.setState({ anchorEl: null })}>\r\n        <IconButton\r\n          aria-label=\"More\"\r\n          aria-owns={anchorEl ? 'simple-menu' : undefined}\r\n          aria-haspopup=\"true\"\r\n          onClick={this.handleClick}\r\n        >\r\n          <MoreVertIcon />\r\n        </IconButton>\r\n        <Menu\r\n          id=\"long-menu\"\r\n          anchorEl={anchorEl}\r\n          open={open}\r\n          onClose={this.handleClose}\r\n        >\r\n        {Number(userInfo.id) !== Number(user_logged_id) && this.props.store.user.length > 0 && this.props.store.user[0].admin === '1' ?\r\n          <MenuItem onClick={() => this.prepareToUpdate(userInfo.id)}>\r\n            {userInfo.admin === '1' ? \"Разжаловать администратора\" : \"Сделать администратором\"}\r\n          </MenuItem>\r\n        : null}\r\n          <MenuItem component={Link} to='/calendar'>Календарь</MenuItem>\r\n          <MenuItem component={Link} to='/learnings'>Обучение</MenuItem> \r\n        </Menu>\r\n\r\n        {/* Confirm promote modal */}\r\n        <Modal\r\n          open={this.state.open}\r\n          handleClose={this.handleClose.bind(this)}\r\n          component={<ConfirmStatus\r\n            setAdministrator={this.setAdministrator}\r\n            handleClose={this.handleClose.bind(this)}\r\n            message={userInfo.admin === '1' ? \"разжаловать администратора\" : `назначить ${userInfo.name} ${userInfo.surname} администратором`}\r\n          />}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => ({\r\n    store: state,\r\n  })\r\n)(withSnackbar(LongMenu));","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Select from './Select';\r\n\r\nexport default function Dropdown(props) {\r\n  return (\r\n    <Wrapper>\r\n      <Select \r\n        userInfo={props.userInfo} u\r\n        ser_logged_id={props.user_logged_id} \r\n        fetchUserInfo={props.fetchUserInfo} \r\n      />\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  position: absolute;\r\n  right: 10px;\r\n  top: 10px;\r\n`;","import React, { Component, Fragment } from 'react';\r\nimport $ from 'jquery';\r\nimport API from './functions/API';\r\nimport InputMask from 'react-input-mask';\r\nimport './css/PersonalInfo.css';\r\nimport defaultAvatar from './img/photos/images.png';\r\nimport { Typography, OutlinedInput, Select, TextField, Tooltip, Paper, FormControl, FormHelperText, Button, MenuItem, InputLabel } from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Done';\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport styled from 'styled-components';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport Loader from './Loader/Loader';\r\nimport { DatePicker } from 'material-ui-pickers';\r\nimport { withSnackbar } from 'notistack';\r\nimport { connect } from 'react-redux';\r\nimport DropdownActions from './DropdownActions/Dropdown';\r\n\r\nvar autoSaveTimer = null;\r\n\r\nclass PersonalInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      userInfo: {},\r\n      newChildInput: false,\r\n      nameError: true,\r\n      yearError: true,\r\n      childName: '',\r\n      childBirthyear: '',\r\n      loading: true,\r\n      selectedDate: '',\r\n      loadingChild: false,\r\n      isSelectOpened: false,\r\n      lastUser: null\r\n    }\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.fetchUserInfo = this.fetchUserInfo.bind(this);\r\n    this.deleteChild = this.deleteChild.bind(this);\r\n    this.prepareChild = this.prepareChild.bind(this);\r\n    this.handleChild = this.handleChild.bind(this);\r\n    this.addChild = this.addChild.bind(this);\r\n    this.removeInput = this.removeInput.bind(this);\r\n  }\r\n\r\n  fetchUserInfo(action) {\r\n    const id = window.location.pathname.slice(3);\r\n    if (!action) this.setState({ loading: true });\r\n      \r\n    if (action === 'child') this.setState({ loadingChild: true });\r\n\r\n    fetch(`${API}/api/user/info.php?id=${id}`)\r\n      .then(response => response.json())\r\n      .then(userInfo => this.setState({ userInfo, selectedDate: userInfo.birthday, lastUser: userInfo }))\r\n      .then(() => this.setState({ loading: false, loadingChild: false }))\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  // делаем запрос перед рендером\r\n  componentDidMount() {\r\n    this.fetchUserInfo();\r\n  }\r\n\r\n  handleDateChange = date => this.setState({ selectedDate: date.format() });\r\n\r\n  // динамически обрабатываем изменения полей\r\n  handleChange(event) {\r\n    window.clearTimeout(autoSaveTimer);\r\n    // ставим стейт исходя из именя поля и вводимого значения\r\n    let userInfo = { ...this.state.userInfo };\r\n    userInfo[event.target.name] = event.target.value;\r\n    this.setState({ userInfo });\r\n    this.props.updateUser(event.target.name, event.target.value);\r\n    autoSaveTimer = setTimeout(() => {\r\n      this.handleSubmit(event, true);\r\n    }, 2000)\r\n  }\r\n\r\n  prepareChild() {\r\n    this.setState({ newChildInput: true })\r\n  }\r\n\r\n  handleChild(event) {\r\n    this.setState({\r\n      [event.target.name]: event.target.value,\r\n      nameError: true,\r\n      yearError: true\r\n    })\r\n  }\r\n\r\n  addChild(e) {\r\n    e.preventDefault();\r\n    if (this.state.childName && this.state.childBirthyear) {\r\n      var self = this;\r\n      const formData = new FormData();\r\n      formData.append('name', this.state.childName);\r\n      formData.append('year', this.state.childBirthyear);\r\n      formData.append('parent', self.props.user_logged_id);\r\n\r\n      $.ajax({\r\n        url: `${API}/api/child/add.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: function (res) {\r\n          self.fetchUserInfo('child');\r\n          self.setState({ newChildInput: false, childBirthyear: '', childName: '' });\r\n          self.props.enqueueSnackbar('Персональные данные были обновлены', { variant: 'success' });\r\n          console.log(res);\r\n        },\r\n        error: function() {\r\n          self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' });\r\n        }\r\n      });\r\n    } else {\r\n      if (this.state.newChildInput) {\r\n        this.props.enqueueSnackbar('Нужно заполнить все поля', { variant: 'warning' });\r\n        if (!this.state.childBirthyear) this.setState({ yearError: false })\r\n        if (!this.state.childName) this.setState({ nameError: false })\r\n      }\r\n    }\r\n  }\r\n\r\n  deleteChild(id) {\r\n    var self = this;\r\n    self.setState({ modal: false });\r\n    const formData = new FormData();\r\n    formData.append('id', id);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/child/delete.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function (res) {\r\n        self.fetchUserInfo('child');\r\n        self.props.enqueueSnackbar('Персональные данные были обновлены', { variant: 'success' });\r\n        console.log(res);\r\n      },\r\n      error: function() {\r\n        self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' });\r\n      }\r\n    });\r\n  }\r\n\r\n  removeInput = () => this.setState({ newChildInput: false });\r\n\r\n  handleSubmit(e, dontShow) {\r\n    var self = this;\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n\r\n    formData.append('id', this.props.user_logged_id);\r\n    formData.append('adress', $('input[name=\"adress\"]').val());\r\n    formData.append('army_country', $('input[name=\"army_country\"]').val());\r\n    formData.append('army_type', $('input[name=\"army_type\"]').val());\r\n    formData.append('birthday', this.state.selectedDate.slice(0, 10));\r\n    formData.append('district', $('input[name=\"district\"]').val());\r\n    formData.append('fakultet', $('input[name=\"fakultet\"]').val());\r\n    formData.append('name', $('input[name=\"name\"]').val());\r\n    formData.append('phone', $('input[name=\"phone\"]').val());\r\n    formData.append('position', $('input[name=\"position\"]').val());\r\n    formData.append('status', this.state.userInfo.status);\r\n    formData.append('surname', $('input[name=\"surname\"]').val());\r\n    formData.append('vuz', $('input[name=\"vuz\"]').val());\r\n    formData.append('city', $('input[name=\"city\"]').val());\r\n    formData.append('sex', this.state.userInfo.sex);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/user/update.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function (res) {\r\n        let response = res.result;\r\n        switch (response) {\r\n          case 0:\r\n            self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' });\r\n            break;\r\n          case 1: \r\n            if (!dontShow) {\r\n              self.fetchUserInfo('update');\r\n              self.props.enqueueSnackbar('Персональные данные были обновлены', { variant: 'success' });\r\n              self.addChild(e);\r\n            }\r\n            break;\r\n          default: break;\r\n        }\r\n      },\r\n      error: function() {\r\n        self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' });\r\n      }\r\n    });\r\n  }\r\n\r\n  createInput = (label, value, name) => {\r\n    const { user_id, user_logged_id } = this.props;\r\n\r\n    if (user_id === user_logged_id) {\r\n      return (\r\n        <TextField\r\n          label={label}\r\n          value={value}\r\n          fullWidth={true}\r\n          name={name}\r\n          margin='dense'\r\n          InputLabelProps={{ shrink: true }}\r\n          onChange={this.handleChange}\r\n          variant=\"outlined\"\r\n        />\r\n      )\r\n    } else {\r\n      return (\r\n        <Naked>\r\n          {name === 'name' || name === 'surname' || name === 'position' ? (\r\n            <FormControl>\r\n              <InputBase value={value} />\r\n            </FormControl>\r\n          ) : (\r\n              <FormControl>\r\n                <InputLabel htmlFor={name}>{label}</InputLabel>\r\n                <InputBase id={name} value={value} />\r\n              </FormControl>\r\n            )}\r\n        </Naked>\r\n      )\r\n    }\r\n  }\r\n\r\n  closeSelectOnScroll = () => true;\r\n  listenSelect = () => true;\r\n  closeSelect = () => this.setState({ isSelectOpened: false });\r\n\r\n  render() {\r\n    const { loading, newChildInput, childName, childBirthyear, nameError, yearError } = this.state;\r\n    const { user_id, user_logged_id, user } = this.props;\r\n    let childrens = {};\r\n    let avatar = user.avatar;\r\n    let userInfo = this.state.userInfo;\r\n\r\n    if (userInfo.childs) childrens = JSON.parse(userInfo.childs.replace(/\\//g, ''));\r\n\r\n    if (this.props.store.user.length > 0) {\r\n      if (window.location.pathname.slice(3) === this.props.store.user[0].id) {\r\n        userInfo = this.props.store.user[0];\r\n      } else {\r\n        userInfo = this.state.userInfo;\r\n      }\r\n    }\r\n\r\n    return (\r\n      <Paper className=\"personal\">\r\n\r\n        {!loading ? <Form id=\"personal-info\" action=\"\" method=\"POST\" onSubmit={this.handleSubmit}>\r\n\r\n          <DropdownActions userInfo={userInfo} user_logged_id={user_logged_id} fetchUserInfo={this.fetchUserInfo}/>\r\n\r\n          <div className=\"personal-header\">\r\n            <div className=\"personal-header__photo\">\r\n              <div style={{ background: `url(${avatar ? avatar : defaultAvatar}) no-repeat center/cover` }}></div>\r\n            </div>\r\n            <div className={user_logged_id === user_id ? 'personal-header__info' : null}>\r\n              {user_logged_id === user_id ? (\r\n                <Fragment>\r\n                  {this.createInput('Имя', userInfo.name, 'name')}\r\n                  {this.createInput('Фамилия', userInfo.surname, 'surname')}\r\n                  {this.createInput('Должность', userInfo.position, 'position')}\r\n                </Fragment>\r\n              ) : (\r\n                  <Fragment>\r\n                    <InputBase className='user-header' value={userInfo.name + ' ' + userInfo.surname} />\r\n                    <span className='user-position'>{this.createInput('Должность', userInfo.position, 'position')}</span>\r\n                  </Fragment>\r\n                )}\r\n\r\n              {user_logged_id === user_id ? (\r\n                <InputMask\r\n                  mask=\"+7 (999) 99-99-999\"\r\n                  value={userInfo.phone}\r\n                  onChange={this.handleChange}\r\n                >\r\n                  {() => <TextField\r\n                    label='Номер телефона'\r\n                    name='phone'\r\n                    fullWidth={true}\r\n                    margin='dense'\r\n                    InputLabelProps={{ shrink: true }}\r\n                    variant=\"outlined\"\r\n                  />}\r\n                </InputMask>) : (\r\n                  <Naked>\r\n                    <InputBase id='phone' style={{ pointerEvents: 'none', padding: 0 }} value={userInfo.phone} />\r\n                  </Naked>\r\n                )}\r\n\r\n              {user_logged_id === user_id ? (\r\n                <FormControl >\r\n                  <DatePicker\r\n                    variant='outlined'\r\n                    name=\"birthday\"\r\n                    margin='dense'\r\n                    label='Дата рождения'\r\n                    format={userInfo.admin === '1' ? 'Do MMMM YYYY' : 'Do MMMM'}\r\n                    value={this.state.selectedDate ? this.state.selectedDate : userInfo.birthday}\r\n                    fullWidth={true}\r\n                    InputLabelProps={{ shrink: true }}\r\n                    onChange={this.handleDateChange}\r\n                    aria-describedby=\"component-helper-text\"\r\n                    cancelLabel='Отмена'\r\n                  />\r\n                  <FormHelperText id=\"component-helper-text\">*Год рождения будет виден только руководству</FormHelperText>\r\n                </FormControl>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n          <div className=\"personal-section\">\r\n\r\n            {user_logged_id !== user_id && !userInfo.status && childrens.length === 0 ?\r\n            null :\r\n            <div className=\"personal-section__header\">\r\n              <Typography vazriant='h6' color='primary'>Семья</Typography>\r\n              <hr />\r\n            </div>\r\n            }\r\n\r\n            {user_logged_id === user_id ? (\r\n              <FormControl style={{ width: '100%' }}>\r\n                <InputLabel htmlFor=\"status\">Семейное положение</InputLabel>\r\n                <Select   \r\n                  value={userInfo.status || ''}\r\n                  onOpen={this.listenSelect}\r\n                  onClose={this.closeSelectOnScroll}\r\n                  open={this.state.isSelectOpened}\r\n                  onChange={this.handleChange}\r\n                  onClick={() => this.setState({ isSelectOpened: !this.state.isSelectOpened })}\r\n                  input={\r\n                    <OutlinedInput\r\n                      labelWidth={500}\r\n                      name=\"status\"\r\n                      id=\"status\"\r\n                    />\r\n                  }         \r\n                >\r\n                  {userInfo.sex === 'женский' ?\r\n                    <MenuItem value=\"Не замужем\">Не замужем</MenuItem> :\r\n                    <MenuItem value=\"Не женат\">Не женат</MenuItem>\r\n                  }\r\n                  {userInfo.sex === 'женский' ?\r\n                    <MenuItem value=\"Замужем\">Замужем</MenuItem> :\r\n                    <MenuItem value=\"Женат\">Женат</MenuItem>\r\n                  }\r\n                  <MenuItem value=\"В гражданском браке\">В гражданском браке</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            ) : (\r\n\r\n              userInfo.status ?\r\n                <Naked>\r\n                  <FormControl>\r\n                    <InputLabel htmlFor='status'>Семейное положение</InputLabel>\r\n                    <InputBase id='status' value={userInfo.status} />\r\n                  </FormControl>\r\n                </Naked>\r\n              : null\r\n              )}\r\n          </div>\r\n          <div className=\"personal-section\">\r\n          \r\n              {user_logged_id !== user_id && childrens.length === 0 \r\n              ? null \r\n              :\r\n              <Fragment>\r\n                <div className=\"personal-section__header\">\r\n                  <Typography variant='h6' color='primary'>Дети</Typography>\r\n                  <hr />\r\n                </div>\r\n                {this.state.loadingChild ? <Loader minHeight={120} color='primary' /> :\r\n                <Childrens>\r\n                  {Object.keys(childrens).map(child =>\r\n                    <Children key={childrens[child].id}>\r\n                      <Typography variant='subtitle2'>Имя: {childrens[child].child_name} </Typography>\r\n                      <Typography variant='caption'>{childrens[child].child_birthyear} г.р.</Typography>\r\n                      {user_logged_id === user_id ?\r\n                        <Tooltip title=\"Удалить\" placement=\"right\"><Clear onClick={() => this.deleteChild(childrens[child].id)} /></Tooltip>\r\n                      : null}\r\n                    </Children>\r\n                  )}\r\n                </Childrens>}\r\n              </Fragment>\r\n              }\r\n\r\n            {newChildInput ? (<NewChild>\r\n              <div>\r\n                <TextField\r\n                  label='Имя'\r\n                  value={childName}\r\n                  fullWidth={true}\r\n                  name='childName'\r\n                  margin='dense'\r\n                  error={!nameError}\r\n                  InputLabelProps={{ shrink: true }}\r\n                  onChange={this.handleChild}\r\n                  variant=\"outlined\"\r\n                />\r\n                <TextField\r\n                  label='Год рождения'\r\n                  value={childBirthyear}\r\n                  fullWidth={true}\r\n                  name='childBirthyear'\r\n                  margin='dense'\r\n                  type='date'\r\n                  error={!yearError}\r\n                  InputLabelProps={{ shrink: true }}\r\n                  onChange={this.handleChild}\r\n                  variant=\"outlined\"\r\n                />\r\n              </div>\r\n              <span>\r\n                <Tooltip title=\"Добавить\" placement=\"right\">\r\n                  <AddIcon onClick={this.addChild} />\r\n                </Tooltip>\r\n                <Tooltip title=\"Отменить\" placement=\"right\">\r\n                  <Clear onClick={() => this.setState({ newChildInput: false, childBirthyear: '', childName: '', nameError: true, yearError: true })} />\r\n                </Tooltip>\r\n              </span>\r\n            </NewChild>) : null}\r\n\r\n            {user_logged_id === user_id ? (\r\n              <ChildBtns>\r\n                <Button variant='contained' color='primary' onClick={newChildInput ? this.addChild : this.prepareChild}>Добавить</Button>\r\n              </ChildBtns>) : null}\r\n          </div>\r\n          <div className=\"personal-section\">\r\n            {user_logged_id !== user_id && !userInfo.city && !userInfo.disctrict && !userInfo.adress \r\n            ? null :\r\n            <div className=\"personal-section__header\">\r\n              <Typography variant='h6' color='primary'>Контакты</Typography>\r\n              <hr />\r\n            </div>\r\n            }\r\n\r\n            {user_logged_id !== user_id && !userInfo.city && !userInfo.disctrict && !userInfo.adress \r\n            ? null :      \r\n              <Fragment>\r\n                {this.createInput('Родной город', userInfo.city, 'city')}\r\n                {this.createInput('Области/края', userInfo.district, 'district')}\r\n                {this.createInput('Актуальный адрес', userInfo.adress, 'adress')}\r\n              </Fragment>\r\n            }\r\n\r\n          </div>\r\n          <div className=\"personal-section\">\r\n            {user_logged_id !== user_id && !userInfo.vuz && !userInfo.fakultet \r\n            ? null :\r\n            <div className=\"personal-section__header\">\r\n              <Typography variant='h6' color='primary'>Образование</Typography>\r\n              <hr />\r\n            </div>\r\n            }\r\n\r\n            {user_logged_id !== user_id && !userInfo.vuz && !userInfo.fakultet\r\n            ? null :\r\n              <Fragment>\r\n                {this.createInput('ВУЗ', userInfo.vuz, 'vuz')}\r\n                {this.createInput('Факультет', userInfo.fakultet, 'fakultet')}\r\n              </Fragment>\r\n            }\r\n\r\n          </div>\r\n          {userInfo.sex === 'мужской' ?\r\n            <div className=\"personal-section\">\r\n              {user_logged_id !== user_id && !userInfo.army_country && !userInfo.army_type \r\n              ? null :\r\n              <div className=\"personal-section__header\">\r\n                <Typography variant='h6' color='primary'>Служба</Typography>\r\n                <hr />\r\n              </div>\r\n              }\r\n\r\n              {user_logged_id !== user_id && !userInfo.army_country && !userInfo.army_type \r\n              ? null :\r\n                <Fragment>\r\n                  {this.createInput('Страна', userInfo.army_country, 'army_country')}\r\n                  {this.createInput('Род войск', userInfo.army_type, 'army_type')}\r\n                </Fragment>\r\n              }\r\n            </div> : null}\r\n\r\n          {user_logged_id === user_id ? <Btn><Button type='submit' variant='contained' color='primary' onClick={this.handleSubmit}>Обновить данные</Button></Btn> : null}\r\n        </Form> : <Loader minHeight={400} color='primary' />}\r\n      </Paper >\r\n    )\r\n  }\r\n}\r\nconst Form = styled.form`\r\n  padding-bottom: 30px;\r\n  position: relative;\r\n  label {\r\n    text-transform: lowercase;\r\n  }\r\n  .user-header {\r\n    color: #1976d2;\r\n    font-size: 20px;\r\n  }\r\n  .user-position {\r\n    display: block;\r\n    margin-top: -10px;\r\n    & > div > div {\r\n      margin: 0;\r\n      padding: 0;\r\n      & > div > input {\r\n        color: rgba(0,0,0,.54);\r\n        font-size: 14px;\r\n      }\r\n    }\r\n  }\r\n  fieldset {\r\n    border: none;\r\n  }\r\n`;\r\nconst Btn = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\nconst Children = styled.div`\r\n  width: 30%;\r\n  position: relative;\r\n  margin-bottom: 15px;\r\n  margin-right: 3%;\r\n\r\n  &:hover > svg {\r\n    display: block;\r\n  } \r\n\r\n  svg {\r\n    display: none;\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    opacity: .5;\r\n    cursor: pointer;\r\n    font-size: 20px;\r\n    &:hover {\r\n      opacity: .8;\r\n    }\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: 100%;\r\n    svg {\r\n      display: block;\r\n      font-size: 28px;\r\n    }\r\n  }\r\n`;\r\nconst Childrens = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin: 20px 0 5px;\r\n  padding-left: 15px;\r\n`;\r\nconst NewChild = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  & > div {\r\n    width: 90%;\r\n  }\r\n\r\n  svg {\r\n    opacity: .5;\r\n    cursor: pointer;\r\n    font-size: 24px;\r\n    &:hover {\r\n      opacity: .8;\r\n    }\r\n  }\r\n`;\r\nconst ChildBtns = styled.div`\r\n  margin-top: 15px;\r\n  button {\r\n    margin-right: 15px;\r\n  }\r\n  padding-left: 15px;\r\n`;\r\nconst Naked = styled.div`\r\n  width: 100%;\r\n  display: inline-block;\r\n  & > div {\r\n    display: block;\r\n    margin-bottom: 10px;\r\n    padding-left: 37px;\r\n  }\r\n  & > div > div {\r\n    display: block;\r\n    pointer-events: none;\r\n    margin-top: -5px;\r\n  }\r\n  label {\r\n    font-size: 12px;\r\n    position: relative;\r\n    text-transform: lowercase;\r\n  }\r\n  .inline-input {\r\n    display: inline-flex;\r\n    margin-left: 10px;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    & > div {\r\n      padding-left: 15px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    updateUser: (field, value) => {\r\n      dispatch({ type: 'UPDATE_USER', payload: value, field: field })\r\n    }\r\n  })\r\n)(withSnackbar(PersonalInfo));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { Fab as Fabulous } from '@material-ui/core';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nconst styles = theme => ({\r\n  fixed: {\r\n    position: 'fixed',\r\n    bottom: window.innerWidth > 600 ? theme.spacing.unit * 2 : 74,\r\n    right: theme.spacing.unit * 3,\r\n  },\r\n});\r\n\r\nfunction Fab(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <div>\r\n      <Tooltip title={props.title} aria-label={props.title}>\r\n        <Fabulous color={props.secondary ? 'secondary' : 'primary'} className={classes.fixed}>\r\n          <AddIcon />\r\n        </Fabulous>\r\n      </Tooltip>\r\n    </div>\r\n  );\r\n}\r\n\r\nFab.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(Fab);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport Select from 'react-select';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Typography, FormControlLabel, Checkbox, NoSsr, TextField, Paper, Chip, MenuItem } from '@material-ui/core';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport { emphasize } from '@material-ui/core/styles/colorManipulator';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    height: 120,\r\n    marginTop: 20,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between'\r\n  },\r\n  input: {\r\n    display: 'flex',\r\n    padding: 0,\r\n  },\r\n  valueContainer: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  chip: {\r\n    margin: `${theme.spacing.unit / 2}px ${theme.spacing.unit / 4}px`,\r\n  },\r\n  chipFocused: {\r\n    backgroundColor: emphasize(\r\n      theme.palette.type === 'light' ? theme.palette.grey[300] : theme.palette.grey[700],\r\n      0.08,\r\n    ),\r\n  },\r\n  noOptionsMessage: {\r\n    padding: `${theme.spacing.unit}px ${theme.spacing.unit * 2}px`,\r\n  },\r\n  singleValue: {\r\n    fontSize: 16,\r\n  },\r\n  placeholder: {\r\n    position: 'absolute',\r\n    left: 2,\r\n    fontSize: 16,\r\n  },\r\n  paper: {\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    marginTop: theme.spacing.unit,\r\n    left: 0,\r\n    right: 0,\r\n  }\r\n});\r\n\r\nfunction NoOptionsMessage(props) {\r\n  return (\r\n    <Typography\r\n      color=\"textSecondary\"\r\n      className={props.selectProps.classes.noOptionsMessage}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction inputComponent({ inputRef, ...props }) {\r\n  return <div ref={inputRef} {...props} />;\r\n}\r\n\r\nfunction Control(props) {\r\n  return (\r\n    <TextField\r\n      fullWidth\r\n      InputProps={{\r\n        inputComponent,\r\n        inputProps: {\r\n          className: props.selectProps.classes.input,\r\n          inputRef: props.innerRef,\r\n          children: props.children,\r\n          ...props.innerProps,\r\n        },\r\n      }}\r\n      {...props.selectProps.textFieldProps}\r\n    />\r\n  );\r\n}\r\n\r\nfunction Option(props) {\r\n  return (\r\n    <MenuItem\r\n      buttonRef={props.innerRef}\r\n      selected={props.isFocused}\r\n      component=\"div\"\r\n      style={{\r\n        fontWeight: props.isSelected ? 500 : 400,\r\n      }}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </MenuItem>\r\n  );\r\n}\r\n\r\nfunction Placeholder(props) {\r\n  return (\r\n    <Typography\r\n      color=\"textSecondary\"\r\n      className={props.selectProps.classes.placeholder}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction SingleValue(props) {\r\n  return (\r\n    <Typography className={props.selectProps.classes.singleValue} {...props.innerProps}>\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction ValueContainer(props) {\r\n  return <div className={props.selectProps.classes.valueContainer}>{props.children}</div>;\r\n}\r\n\r\nfunction MultiValue(props) {\r\n  return (\r\n    <Chip\r\n      tabIndex={-1}\r\n      label={props.children}\r\n      className={classNames(props.selectProps.classes.chip, {\r\n        [props.selectProps.classes.chipFocused]: props.isFocused,\r\n      })}\r\n      onDelete={props.removeProps.onClick}\r\n      deleteIcon={<CancelIcon {...props.removeProps} />}\r\n    />\r\n  );\r\n}\r\n\r\nfunction Menu(props) {\r\n  return (\r\n    <Paper square className={props.selectProps.classes.paper} {...props.innerProps}>\r\n      {props.children}\r\n    </Paper>\r\n  );\r\n}\r\n\r\nconst components = {\r\n  Control,\r\n  Menu,\r\n  MultiValue,\r\n  NoOptionsMessage,\r\n  Option,\r\n  Placeholder,\r\n  SingleValue,\r\n  ValueContainer,\r\n};\r\n\r\nclass IntegrationReactSelect extends React.Component {\r\n\r\n  render() {\r\n    const { classes, theme } = this.props;\r\n    \r\n    const users = this.props.users.map(user => ({\r\n      value: user.id,\r\n      label: `${user.name} ${user.surname}`,\r\n    }));\r\n\r\n    const selectStyles = {\r\n      input: base => ({\r\n        ...base,\r\n        color: theme.palette.text.primary,\r\n        '& input': {\r\n          font: 'inherit',\r\n        },\r\n      }),\r\n    };\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <NoSsr>\r\n          <Select\r\n            classes={classes}\r\n            styles={selectStyles}\r\n            textFieldProps={{\r\n              label: 'Сотрудники',\r\n              InputLabelProps: {\r\n                shrink: true,\r\n              },\r\n            }}\r\n            options={users}\r\n            components={components}\r\n            value={this.props.multi}\r\n            onChange={this.props.handleChange('multi')}\r\n            placeholder=\"Выберите сотрудников\"\r\n            isMulti\r\n          />\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox\r\n                onChange={this.props.changeImportance}\r\n                color=\"primary\"\r\n              />\r\n            }\r\n            label=\"Отметить как важную\"\r\n          />\r\n        </NoSsr>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nIntegrationReactSelect.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  theme: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(IntegrationReactSelect);","import React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { TimePicker, DatePicker } from 'material-ui-pickers';\r\n\r\nclass MaterialUIPickers extends React.Component {\r\n  render() {\r\n    return (\r\n      <Grid container justify=\"space-around\" style={{ paddingBottom: 30 }}>\r\n        <DatePicker\r\n          margin=\"normal\"\r\n          label=\"Выберите дату\"\r\n          value={this.props.selectedDate}\r\n          minDate={new Date(new Date().getTime() + 24 * 60 * 60 * 1000)}\r\n          fullWidth={true}\r\n          onChange={this.props.handleDateChange}\r\n          cancelLabel='Отмена'\r\n          emptyLabel='не выбрана дата'\r\n        />\r\n        <TimePicker\r\n          ampm={false}\r\n          margin=\"normal\"\r\n          label=\"Выберите время\"\r\n          value={this.props.selectedTime}\r\n          locale='ru'\r\n          fullWidth={true}\r\n          minutesStep={5}\r\n          onChange={this.props.handleTimeChange}\r\n          cancelLabel='Отмена'\r\n          emptyLabel='не выбрано время'\r\n        />\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MaterialUIPickers;","import React from 'react';\r\nimport { TextField } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nexport default function TextInput(props) {\r\n  return (\r\n    <TextArea>\r\n      <TextField\r\n        label=\"Поставленная задача\"\r\n        multiline\r\n        variant=\"outlined\"\r\n        name='text'\r\n        onChange={props.handleTextChange}\r\n        value={props.text}\r\n        required\r\n      />\r\n    </TextArea>\r\n  )\r\n}\r\n\r\nconst TextArea = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-top: 10px;\r\n  height: 150px;\r\n\r\n  textarea {\r\n    max-height: 130px;\r\n    &::-webkit-scrollbar {\r\n      width: 10px;\r\n    }\r\n   \r\n    &::-webkit-scrollbar-track {\r\n      background-color: #ebebeb;\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n    }\r\n  \r\n    &::-webkit-scrollbar-thumb {\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n      background: #1976d2; \r\n    }\r\n  }\r\n\r\n  & > div {\r\n    width: 100%;\r\n    & > div {\r\n      height: 100%;\r\n    }\r\n  }\r\n`;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport StepContent from '@material-ui/core/StepContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Autocomplete from './Autocomplete';\r\nimport Pickers from './Pickers';\r\nimport TextInput from './TextInput';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n  },\r\n  actionsContainer: {\r\n    marginBottom: theme.spacing.unit * 2,\r\n  },\r\n  resetContainer: {\r\n    padding: theme.spacing.unit * 3,\r\n  },\r\n});\r\n\r\nfunction getSteps() {\r\n  return ['Выберите сотрудника и важность', 'Назначьте дату и время', 'Поставьте задачу'];\r\n}\r\n\r\nfunction getStepContent(step) {\r\n  switch (step) {\r\n    case 0:\r\n      return `Вы можете выбрать одного или более сотрудников. К тому же можете установить повышенную важность задачи.`;\r\n    case 1:\r\n      return 'Выберите дату и время в соответствующих полях.';\r\n    case 2:\r\n      return `Сотрудник сможет найти поставленные ему задачи в уведомлениях.`;\r\n    default:\r\n      return 'Unknown step';\r\n  }\r\n}\r\n\r\nclass VerticalLinearStepper extends React.Component {\r\n  state = {\r\n    activeStep: 0,\r\n  };\r\n\r\n  handleNext = () => {\r\n    this.setState(state => ({\r\n      activeStep: state.activeStep + 1,\r\n    }));\r\n  };\r\n\r\n  handleBack = () => {\r\n    this.setState(state => ({\r\n      activeStep: state.activeStep - 1,\r\n    }));\r\n  };\r\n\r\n  handleReset = () => {\r\n    this.setState({\r\n      activeStep: 0,\r\n    });\r\n  };\r\n\r\n  checkDisabled = (step, multi, date, time, text) => {\r\n    if (step === 0 && multi.length !== 0) return false;\r\n    if (step === 1 && date && time) return false;\r\n    if (step === 2 && text.length > 0) return false;\r\n    \r\n    return true;\r\n  }\r\n\r\n  render() {\r\n    const { classes, users, multi, selectedTime, selectedDate, text } = this.props;\r\n    const steps = getSteps();\r\n    const { activeStep } = this.state;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <Stepper activeStep={activeStep} orientation=\"vertical\">\r\n          {steps.map((label, index) => (\r\n            <Step key={label}>\r\n              <StepLabel>{label}</StepLabel>\r\n              <StepContent>\r\n                <Typography>{getStepContent(index)}</Typography>\r\n                <div className={classes.actionsContainer}>\r\n                  <div>\r\n                    <Button\r\n                      disabled={activeStep === 0}\r\n                      onClick={this.handleBack}\r\n                      className={classes.button}\r\n                    >\r\n                      Назад\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      onClick={activeStep === steps.length - 1 ? () => {this.props.handleSubmit(); this.handleNext()} : this.handleNext}\r\n                      className={classes.button}\r\n                      disabled={this.checkDisabled(activeStep, multi, selectedDate, selectedTime, text)} \r\n                    >\r\n                      {activeStep === steps.length - 1 ? 'Финиш' : 'Дальше'}\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </StepContent>\r\n            </Step>\r\n          ))}\r\n                        \r\n        </Stepper>\r\n\r\n        {/* Контент */}\r\n        {activeStep === 0 \r\n          ? <Autocomplete \r\n              users={users} \r\n              multi={multi}\r\n              handleChange={this.props.handleChange}\r\n              changeImportance={this.props.changeImportance}\r\n            />\r\n          : activeStep === 1\r\n          ? <Pickers \r\n              selectedTime={selectedTime} \r\n              selectedDate={selectedDate}\r\n              handleDateChange={this.props.handleDateChange}\r\n              handleTimeChange={this.props.handleTimeChange}\r\n            />\r\n          : activeStep === 2\r\n          ? <TextInput\r\n              text={text}\r\n              handleTextChange={this.props.handleTextChange}\r\n            />\r\n          : null } \r\n\r\n        {activeStep === steps.length && (\r\n          <Paper square elevation={0} className={classes.resetContainer}>\r\n            <Typography>Задача успешно поставлена.</Typography>\r\n            <Button \r\n              onClick={() => {this.handleReset(); this.props.resetAll()}}\r\n              variant=\"contained\"               \r\n              color=\"primary\"\r\n              className={classes.button}\r\n            >\r\n              Поставить ещё задачу\r\n            </Button>\r\n            <Button \r\n              onClick={this.props.handleClose} \r\n              className={classes.button}\r\n            >\r\n              Закрыть\r\n            </Button>\r\n          </Paper>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nVerticalLinearStepper.propTypes = {\r\n  classes: PropTypes.object,\r\n};\r\n\r\nexport default withStyles(styles)(VerticalLinearStepper);","import React, { Component, Fragment } from 'react';\r\nimport { Paper, Typography, Tooltip } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport API from '../functions/API';\r\nimport Stepper from './Stepper';\r\nimport $ from 'jquery';\r\nimport { connect } from 'react-redux';\r\nimport { withSnackbar } from 'notistack';\r\n\r\nclass NewTask extends Component {\r\n  state = {\r\n    selectedDate: null,\r\n    selectedTime: null,\r\n    users: [],\r\n    multi: [],\r\n    text: '',\r\n    importance: 0\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    fetch(`${API}/api/user/read.php`)\r\n      .then(response => response.json())\r\n      .then(users => this.setState({ users: users.data.filter(user => Number(user.id) !== this.props.user_logged_id) }))\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  handleChange = name => value => this.setState({ [name]: value });\r\n  handleDateChange = date => this.setState({ selectedDate: date.format() });\r\n  handleTimeChange = time => this.setState({ selectedTime: time.format() });\r\n  handleTextChange = e => this.setState({ text: e.target.value })\r\n  changeImportance = () => this.setState({ importance: !this.state.importance });\r\n  resetAll = () => {\r\n    this.setState({\r\n      selectedDate: new Date(),\r\n      selectedTime: new Date(),\r\n      multi: [],\r\n      text: '',\r\n      importance: 0\r\n    });\r\n  }\r\n\r\n  handleSubmit = () => {\r\n    const { multi, selectedTime, selectedDate, text, importance } = this.state;\r\n    const formData = new FormData();\r\n    const self = this;\r\n    let forWho = [];\r\n    let date = new Date();\r\n    multi.forEach(user => forWho.push(`for${user.value}`));\r\n\r\n    formData.append('from', this.props.user_logged_id);\r\n    formData.append('date', date.toLocaleDateString());\r\n    formData.append('for', forWho.join(','));\r\n    formData.append('time', `${date.getHours() < 10 ? '0' + date.getHours() : date.getHours()}:${date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()}`);\r\n    formData.append('until_date', selectedDate.slice(0, 10));\r\n    formData.append('text', text);\r\n    formData.append('until_time', selectedTime.slice(11, 16));\r\n    formData.append('importance', importance ? '1' : '0');\r\n    formData.append('created_at', new Date().getTime());\r\n    \r\n    $.ajax({\r\n      url: `${API}/api/tasks/add.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: res => {\r\n        console.log(res);\r\n        fetch(`${API}/api/tasks/read.php?id=${this.props.user_logged_id}`)\r\n          .then(response => response.json())\r\n          .then(tasks => self.props.onAddNewTask(tasks.data))\r\n          .then(() => self.props.enqueueSnackbar('Задача была поставлена', { variant: 'success' }))\r\n          .catch(err => console.log(err))\r\n      },\r\n      error: err => {\r\n        console.log(err);\r\n        self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' })\r\n      }\r\n    });\r\n  }\r\n  \r\n  render() {\r\n    const { users, multi, selectedTime, selectedDate, text } = this.state;\r\n\r\n    return (\r\n      <Fragment>\r\n        <Wrapper>\r\n          <Paper>\r\n            <span className='closeNewTask' onClick={this.props.handleClose}>\r\n              <Tooltip title=\"Закрыть\" placement=\"left\"><CloseIcon /></Tooltip>\r\n            </span>\r\n            <Typography variant='h5'>Новая Задача</Typography>\r\n            <Stepper\r\n              users={users}\r\n              multi={multi}\r\n              text={text}\r\n              selectedTime={selectedTime}\r\n              selectedDate={selectedDate}\r\n              handleChange={this.handleChange}\r\n              handleTextChange={this.handleTextChange}\r\n              handleDateChange={this.handleDateChange}\r\n              handleTimeChange={this.handleTimeChange}\r\n              changeImportance={this.changeImportance}\r\n              resetAll={this.resetAll}\r\n              handleClose={this.props.handleClose}\r\n              handleSubmit={this.handleSubmit}\r\n            />\r\n          </Paper>\r\n        </Wrapper>\r\n        {window.innerWidth >= 600 ? <Backdrop onClick={this.props.handleClose} /> : null}\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  max-width: 600px;\r\n  min-height: 300px;\r\n  height: fit-content;\r\n  margin: auto;\r\n  background: #ffffff;\r\n  border-radius: 10px;\r\n  outline: none;\r\n  z-index: 10;\r\n\r\n  .listFor {\r\n    max-height: 220px;\r\n    margin-top: 20px;\r\n    overflow: auto;\r\n  }\r\n  .listFor::-webkit-scrollbar {\r\n    width: 10px;\r\n  }\r\n  .listFor::-webkit-scrollbar-track {\r\n    background-color: #ebebeb;\r\n    -webkit-border-radius: 10px;\r\n    border-radius: 10px;\r\n  }\r\n  .listFor::-webkit-scrollbar-thumb {\r\n    -webkit-border-radius: 10px;\r\n    border-radius: 10px;\r\n    background: #1976d2; \r\n  }\r\n\r\n  & > div {\r\n    height: fit-content;\r\n    padding: 20px 30px;\r\n  }\r\n   \r\n  .closeNewTask svg {\r\n    font-size: 30px;\r\n    color: #1976d2;\r\n    opacity: .8;\r\n    cursor: pointer;\r\n    position: absolute;\r\n    right: 20px;\r\n    top: 20px;\r\n\r\n    :hover {\r\n      opacity: .8;\r\n      transition: .37s ease;\r\n    }\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    top: 0;\r\n    max-width: 100%;\r\n    border-radius: unset;\r\n    height: calc(100vh - 55px);\r\n    margin: unset;\r\n    box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\r\n    & > div {\r\n      padding: 20px 15px;\r\n      box-shadow: unset;\r\n      & > div {\r\n        > div:first-child {\r\n          padding: 20px 5px;\r\n        }\r\n      }\r\n    }\r\n    .closeNewTask svg {\r\n      font-size: 32px;\r\n      right: 15px;\r\n    } \r\n  }\r\n`;\r\n\r\nconst Backdrop = styled.div`\r\n  position: absolute;\r\n  top: 0; bottom: 0;\r\n  left: 0; right: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 5;\r\n  background: rgba(0,0,0,.17);\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    onAddNewTask: (task) => {\r\n      dispatch({ type: 'ADD_TASK', payload: task })\r\n    }\r\n  })\r\n)(withSnackbar(NewTask));","import React from 'react';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Delete from '@material-ui/icons/Delete';\r\nimport { Typography, ExpansionPanelDetails, ExpansionPanelSummary, ExpansionPanel, Tooltip, Button } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport classNames from 'classnames';\r\nimport moment from 'moment';\r\nimport $ from 'jquery';\r\nimport API from '../functions/API';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Task extends React.Component {\r\n\r\n  getUserNames = (users) => {\r\n    let usersId = users.split(',');\r\n    let result = 'Для: ';  \r\n\r\n    usersId.forEach(id => {\r\n      if (Number(id.slice(3)) === this.props.user_logged_id) return result += \"Вас  \";\r\n      result += `${this.props.users.find(user => user.id === id.slice(3)).name} `;\r\n      result += `${this.props.users.find(user => user.id === id.slice(3)).surname}, `;\r\n    })\r\n    return result;\r\n  }\r\n\r\n  getAdresant = (id) => {\r\n    let initial = \"От: \";\r\n    // eslint-disable-next-line\r\n    if (Number(id) === this.props.user_logged_id) return initial += 'Вас';\r\n\r\n    if (this.props.users.length > 0) {\r\n      initial += this.props.users.find(user => user.id === this.props.task.from).name;\r\n      initial += ` ${this.props.users.find(user => user.id === this.props.task.from).surname}`;\r\n      return initial;\r\n    }\r\n  }\r\n\r\n  openTask(e, id, readed) {\r\n    const self = this;\r\n    if (!readed) {\r\n      e.stopPropagation();\r\n      const formData = new FormData();\r\n      formData.append('id', id);\r\n      $.ajax({\r\n        url: `${API}/api/tasks/mark_as_read.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: res => {\r\n          console.log(res);\r\n          self.props.markTask(id);\r\n        }\r\n      }); \r\n    }\r\n  }\r\n\r\n  render() {\r\n    const now = moment(new Date()); //todays date\r\n    const end = moment(this.props.task.until_date); // another date\r\n    const difference = moment.duration(end.diff(now))._milliseconds;\r\n\r\n    return (\r\n      <ExpansionPanel onClick={e => this.openTask(e, this.props.task.id, this.props.task.readed)}>\r\n        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n          <Typography variant='caption'>\r\n            <Typography variant='subtitle2' style={styles.flex}>\r\n            {this.props.task.from === this.props.user_logged_id.toString() ? 'Поставлено: ' : 'Получено: ' }\r\n            {this.props.task.date} в {`${this.props.task.time} `}\r\n              {this.props.task.importance === '1' ? <Tooltip title=\"Отмечено как 'Важное'\" placement=\"top-start\"><Icon><WarningIcon /></Icon></Tooltip> : null}\r\n            </Typography>\r\n            {this.getAdresant(this.props.task.from)}\r\n            <TaskStatus>\r\n              <Typography variant='caption' className={classNames({\r\n                'task-completed': this.props.task.status === '1',\r\n                'task-doing': this.props.task.status === '0',\r\n                'task-late': difference < 0\r\n              })}>\r\n                {this.props.task.status === '1' && difference > 0 ? \"Выполнена\" :\r\n                  this.props.task.status === '0' && difference > 0 ? \"Выполняется\" :\r\n                    \"Просрочена\"}\r\n              </Typography>\r\n            </TaskStatus>\r\n          </Typography>\r\n\r\n          {this.props.task.from === this.props.user_logged_id.toString() ?     \r\n            <DeleteIcon onClick={(e) => this.props.handleConfirm(e, this.props.task.id)}>\r\n              <Tooltip title=\"Удалить\" placement=\"left\">\r\n                <Delete />\r\n              </Tooltip>\r\n            </DeleteIcon>\r\n          : null }\r\n\r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails style={styles.details}>\r\n          <Typography variant='h6'> {this.props.task.text}  </Typography>\r\n          <Footer>\r\n            <div>\r\n              <Typography variant='caption'>{this.props.users.length > 0 ? this.getUserNames(this.props.task.for).slice(0, -2) : null}</Typography>\r\n              <Typography variant='subtitle2'>Выполнить до: {this.props.task.until_date.split('-').reverse().join('.')}, {this.props.task.until_time}</Typography>\r\n            </div>\r\n    \r\n            {this.props.task.status === '0' && this.props.task.for.includes(`for${this.props.user_logged_id}`) ?\r\n              difference < 0 ?\r\n                <Tooltip title=\"Нельзя выполнить просроченную задачу\" placement=\"top-start\" leaveDelay={200}>\r\n                  <span><Button disabled={true} variant='contained' color='primary'>Выполнить</Button></span>\r\n                </Tooltip> :\r\n                <Button\r\n                  onClick={() => this.props.handleCompleted(this.props.task.id)}\r\n                  variant='contained'\r\n                  color='primary'\r\n                >\r\n                  Выполнить</Button>\r\n              : null}\r\n          </Footer>\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n    )\r\n  }\r\n}\r\nconst styles = {\r\n  flex: {\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  },\r\n  details: {\r\n    flexDirection: 'column'\r\n  }\r\n}\r\nconst Icon = styled.div`\r\n  svg {\r\n    color: rgba(0,0,0,.15) !important;\r\n    margin-left: 8px;\r\n    font-size: 22px;\r\n  }\r\n`;\r\nconst DeleteIcon = styled.span`\r\n  svg {\r\n    font-size: 32px;\r\n    color: rgba(0,0,0,0.54);\r\n    right: 55px;\r\n    padding: 5px;\r\n    top: 0;\r\n    bottom: 0;\r\n    margin: auto;\r\n    position: absolute;\r\n  }\r\n`;\r\nconst Footer = styled.div`\r\n  margin-top: 30px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\nconst TaskStatus = styled.span`\r\n  .task-completed {\r\n    color: darkgreen;\r\n  }\r\n  .task-doing {\r\n    color: darkblue;\r\n  }\r\n  .task-late {\r\n    color: darkred;\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({\r\n    store: state\r\n  }),\r\n  dispatch => ({\r\n    markTask: (task) => {\r\n      dispatch({ type: 'READED_TASK', payload: task})\r\n    }     \r\n  })\r\n)(Task);","import React, { Fragment } from 'react';\r\nimport { Paper, Typography, Button } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\nimport styled from 'styled-components';\r\n\r\nexport default function ConfirmDelete(props) {\r\n  return (\r\n    <Fragment>\r\n      <Wrapper>\r\n        <Paper>\r\n          <Icon onClick={props.handleClose}>\r\n            <CloseIcon />\r\n          </Icon>\r\n          <Typography variant='body1'>{`Вы уверены, что хотите удалить ${props.name}?`}</Typography>\r\n          <Typography variant='caption'>Вся информация будет удалена безвозвратно.</Typography>\r\n          <ButtonContainer>\r\n            <Button variant='contained' color='secondary' onClick={props.handleDelete}>Удалить</Button>\r\n            <Button variant='text' color='default' onClick={props.handleClose}>Отмена</Button>\r\n          </ButtonContainer>\r\n        </Paper>\r\n        \r\n      </Wrapper>\r\n      <Backdrop onClick={props.handleClose} />\r\n    </Fragment>\r\n  )\r\n}\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  height: 200px;\r\n  width: 400px;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n  outline: none;\r\n  z-index: 1000;\r\n  & > div {\r\n    height: 100%;\r\n    position: relative;\r\n    display: flex;\r\n    padding: 30px;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: 95%;\r\n  }\r\n`;\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  margin-top: 30px;\r\n  button {\r\n    margin-right: 25px;\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  svg {\r\n    cursor: pointer;\r\n    color: rgba(0,0,0,.54);\r\n    position: absolute;\r\n    right: 16px;\r\n    top: 16px;\r\n  }\r\n`\r\nconst Backdrop = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  top: 0;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  background: rgba(0,0,0,.37);\r\n`;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nexport default function ResponsiveHeader(props) {\r\n  return (\r\n    <Wrapper>\r\n      <Typography variant='h6'>{props.title}</Typography>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24); \r\n  height: 80px;\r\n  padding: 36px 20px 15px;\r\n  font-size: 24px;\r\n  background: #fff;\r\n`;","import React, { Component, Fragment } from 'react';\r\nimport { Paper, Typography, Button } from '@material-ui/core';\r\nimport Fab from '../Fab/Fab';\r\nimport Modal from '../Modal/Modal';\r\nimport NewTask from './NewTask';\r\nimport styled from 'styled-components';\r\nimport API from '../functions/API';\r\nimport Task from './Task';\r\nimport $ from 'jquery';\r\nimport { connect } from 'react-redux';\r\nimport ConfirmDelete from './ConfirmDelete';\r\nimport Loader from '../Loader/Loader';\r\nimport { withSnackbar } from 'notistack';\r\nimport ResponsiveHeader from '../ResponsiveHeader/ResponsiveHeader';\r\n\r\nclass Tasks extends Component {\r\n  state = {\r\n    open: false,\r\n    confirm: false,\r\n    preparedToDelete: null,\r\n    tasks: [],\r\n    initial: [],\r\n    users: [],\r\n    disabledButton: 1,\r\n    loading: true\r\n  }\r\n  componentDidMount = () => {\r\n    fetch(`${API}/api/tasks/read.php?id=${this.props.user_logged_id}`)\r\n      .then(response => response.json())\r\n      .then(tasks => this.props.getTasks(tasks.data))\r\n      .catch(err => console.log(err))\r\n\r\n    fetch(`${API}/api/user/read.php`)\r\n      .then(response => response.json())\r\n      .then(users => this.setState({ users: users.data }))\r\n      .then(() => this.setState({ loading: false }))\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  handleOpen = (e) => this.setState({ open: true });\r\n  handleConfirm = (e,id) => {\r\n    e.stopPropagation();\r\n    this.setState({ confirm: true, preparedToDelete: id });\r\n  }\r\n  handleClose = () => this.setState({ open: false, confirm: false, preparedToDelete: null });\r\n\r\n  handleCompleted = (id) => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    let date = new Date();\r\n    this.setState({ loading: true })\r\n    const done_date = date.toLocaleDateString();\r\n    const done_time = `${date.getHours() < 10 ? '0' + date.getHours() : date.getHours()}:${date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()}`;\r\n\r\n    formData.append('id', id);\r\n    formData.append('done_date', done_date);\r\n    formData.append('done_time', done_time);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/tasks/complete.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: res => {\r\n        console.log(res);\r\n        fetch(`${API}/api/tasks/read.php?id=${self.props.user_logged_id}`)\r\n          .then(response => response.json())\r\n          .then(tasks => self.setState({ tasks: tasks.data, initial: tasks.data }))\r\n          .then(() => self.props.enqueueSnackbar('Задача отмечена как \"Выполненная\"', { variant: 'success' }))\r\n          .then(() => self.props.markAsCompleted(self.state.tasks))\r\n          .then(() => this.setState({ loading: false }))\r\n          .catch(err => console.log(err))\r\n      },\r\n      error: err => {\r\n        console.log(err);\r\n        self.props.enqueueSnackbar('Что-то пошло не так, попробуйте снова', { variant: 'error' })\r\n      }\r\n    });\r\n  }\r\n\r\n  handleFilter = (id, filter) => {\r\n    this.setState({ disabledButton: id });\r\n    let filtered = this.state.initial;\r\n\r\n    if (filter === 'initial') this.props.onFilter(this.state.initial);\r\n    if (filter === 'transfered') {\r\n      filtered = filtered.filter(item => Number(item.from) === this.props.user_logged_id);\r\n      this.props.onFilter(filtered);\r\n    }\r\n    if (filter === 'completed') {\r\n      filtered = filtered.filter(item => item.status === '1');\r\n      this.props.onFilter(filtered);\r\n    }\r\n  }\r\n\r\n  handleDelete = () => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    this.setState({ loading: true })\r\n    formData.append('id', this.state.preparedToDelete);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/tasks/delete.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: res => {\r\n        console.log(res);\r\n        fetch(`${API}/api/tasks/read.php?id=${self.props.user_logged_id}`)\r\n          .then(response => response.json())\r\n          .then(tasks => self.setState({ tasks: tasks.data || [], initial: tasks.data || [] }))\r\n          .then(() => self.props.enqueueSnackbar('Задача успешно была удалена', { variant: 'info' }))\r\n          .then(() => self.props.onDeleteTask(self.state.preparedToDelete))\r\n          .then(() => self.handleClose())\r\n          .then(() => this.setState({ loading: false }))\r\n          .catch(err => console.log(err))\r\n      },\r\n      error: err => {\r\n        console.log(err);\r\n        self.props.enqueueSnackbar('Что-то пошло не так, попробуйте снова', { variant: 'error' })\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { open, users, disabledButton } = this.state;\r\n\r\n    if (this.state.initial.length === 0) {\r\n      setTimeout(() => this.setState({ initial: this.props.store.tasks, tasks: this.props.store.tasks }), 0);\r\n    }\r\n\r\n    return (\r\n      <Wrapper> \r\n        <Paper>\r\n          {window.innerWidth < 600 ? <ResponsiveHeader title='Задачи' /> : null}\r\n          {!this.state.loading ?\r\n            <Fragment>\r\n              <Filters>\r\n                <Button\r\n                  onClick={() => this.handleFilter(1, 'initial')}\r\n                  variant={disabledButton !== 1 ? 'contained' : 'text'}\r\n                  disabled={disabledButton === 1 ? true : false}>Все задачи</Button>\r\n                <Button\r\n                  onClick={() => this.handleFilter(2, 'transfered')}\r\n                  variant={disabledButton !== 2 ? 'contained' : 'text'}\r\n                  disabled={disabledButton === 2 ? true : false}\r\n                >\r\n                  Поставленные\r\n            </Button>\r\n                <Button\r\n                  onClick={() => this.handleFilter(3, 'completed')}\r\n                  variant={disabledButton !== 3 ? 'contained' : 'text'}\r\n                  disabled={disabledButton === 3 ? true : false}\r\n                >\r\n                  Выполненные\r\n            </Button>\r\n              </Filters>\r\n              {this.props.store.tasks.length > 0\r\n                ?\r\n                this.props.store.tasks.map(task =>\r\n                  <Task\r\n                    key={task.id}\r\n                    task={task}\r\n                    users={users}\r\n                    user_logged_id={this.props.user_logged_id}\r\n                    handleCompleted={this.handleCompleted}\r\n                    handleConfirm={this.handleConfirm.bind(this)}\r\n                  />)\r\n                :\r\n                <Typography className='no-tasks' variant='caption'>нет задач</Typography>}\r\n            </Fragment>\r\n            : <Loader minHeight={300} color='primary' />}\r\n        </Paper>\r\n\r\n\r\n        {/* Button to add task */}\r\n        {this.props.store.user.length > 0 && this.props.store.user[0].admin === '1' ?\r\n        <span onClick={this.handleOpen}><Fab title='Добавить задачу' /></span> : null}\r\n\r\n        {/* Add new task modal */}\r\n        <Modal\r\n          open={open}\r\n          handleClose={this.handleClose.bind(this)}\r\n          component={\r\n            <NewTask\r\n              handleClose={this.handleClose.bind(this)}\r\n              user_logged_id={this.props.user_logged_id}\r\n            />}\r\n        />\r\n\r\n        {/* Confirm delete modal */}\r\n        <Modal\r\n          open={this.state.confirm}\r\n          handleClose={this.handleClose.bind(this)}\r\n          component={<ConfirmDelete\r\n            handleDelete={this.handleDelete}\r\n            handleClose={this.handleClose.bind(this)}\r\n            name='задачу'\r\n          />}\r\n        />\r\n      </Wrapper>\r\n    )\r\n  }\r\n}\r\nconst Wrapper = styled.div`\r\n  .no-tasks {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    opacity: .37;\r\n    height: 300px;\r\n    font-size: 20px;\r\n  }\r\n`;\r\nconst Filters = styled.div`\r\n  height: 60px;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  button {\r\n    width: 33.3%;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    height: 45px;\r\n      \r\n    button {\r\n      > span {\r\n        font-size: 10px;\r\n        color: #757575;\r\n      }\r\n    }\r\n    button:disabled {\r\n      > span {\r\n        font-size: 12px;\r\n        color: #232323;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({\r\n    store: state\r\n  }),\r\n  dispatch => ({\r\n    markAsCompleted: (tasks) => {\r\n      dispatch({ type: 'MARK_COMPLETED', payload: tasks })\r\n    },\r\n    onDeleteTask: (task) => {\r\n      dispatch({ type: 'DELETE_TASK', payload: task })\r\n    },\r\n    onFilter: (tasks) => {\r\n      dispatch({ type: 'FILTER_TASKS', payload: tasks })\r\n    },\r\n    getTasks: (tasks) => {\r\n      dispatch({ type: 'FETCH_TASKS', payload: tasks })\r\n    }\r\n  })\r\n)(withSnackbar(Tasks));","import React, { Fragment } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Checkbox, Button, FormControlLabel, Typography, TextField, Tooltip } from '@material-ui/core';\r\nimport defaultAvatar from '../img/photos/images.png';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\nexport default function NewNews(props) {\r\n  let avatar = props.user.avatar;\r\n  return (\r\n    <Fragment>\r\n      <Container>\r\n        <Header>\r\n          <Typography variant='button'>Новая новость</Typography> \r\n\r\n          <Tooltip placement='left' title='Закрыть'>\r\n            <Icon><CloseIcon onClick={props.closeNews} /></Icon>\r\n          </Tooltip>\r\n\r\n        </Header>\r\n        <Body>\r\n          <form action=\"\" method=\"POST\" onSubmit={props.submitNews}>\r\n            <Topic>\r\n              {props.user.avatar === ''\r\n                ? <div className='image' alt={`${props.user.name} ${props.user.surname}`} style={{ background: `url(${defaultAvatar}) no-repeat center/cover` }} />\r\n                : <div className='image' alt={`${props.user.name} ${props.user.surname}`} style={{ background: `url(${avatar}) no-repeat center/cover` }} />\r\n              }\r\n              <TextField\r\n                label=\"Заголовок\"\r\n                value={props.newNewsTopic}\r\n                onChange={props.handleChange}\r\n                error={props.invalidTopic}\r\n                variant=\"outlined\"\r\n                name='newNewsTopic'\r\n                type='text'\r\n                required\r\n              />\r\n            </Topic>\r\n            <TextArea>\r\n              <TextField\r\n                label=\"Текст новости\"\r\n                multiline\r\n                variant=\"outlined\"\r\n                name='newNewsText'\r\n                error={props.invalidText}\r\n                onChange={props.handleChange}\r\n                value={props.newNewsText}\r\n                required\r\n              />\r\n            </TextArea>\r\n            <Footer>\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    checked={props.newNewsImportance}\r\n                    onChange={props.changeImportance}\r\n                    color=\"primary\"\r\n                  />\r\n                }\r\n                label=\"Отметить как важное\"\r\n              />\r\n              <Button onClick={props.submitNews} variant='contained' color='primary'>{window.innerWidth > 600 ? 'Добавить новость' : <AddIcon />}</Button>\r\n            </Footer>\r\n          </form>\r\n        </Body>\r\n      </Container>\r\n      <Wrapper onClick={props.closeNews}></Wrapper>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  background: rgba(0,0,0, .5);\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  top: 0;\r\n  z-index: 30;\r\n`;\r\nconst Container = styled.div`\r\n  background: #ffffff;\r\n  width: 600px;\r\n  position: fixed;\r\n  top: 150px;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  border-radius: 10px;\r\n  z-index: 37;\r\n  box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\r\n\r\n  .close {\r\n    top: -5px;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: 100%;\r\n    top: 0;\r\n    bottom: 0;\r\n    box-shadow: unset;\r\n    border-radius: 0;\r\n    padding-top: 10px;\r\n  }\r\n`;\r\nconst Header = styled.div`\r\n  display: flex;\r\n  height: 50px;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\nconst Body = styled.div`\r\n  .image {\r\n    width: 56px;\r\n    height: 56px;\r\n    border-radius: 50%;\r\n    display: inline-block;\r\n  }\r\n  padding: 0 25px;\r\n  @media all and (max-width: 600px) {\r\n    .image {\r\n      display: none;\r\n    }\r\n    padding: 0 15px;\r\n  }\r\n`;\r\nconst Footer = styled.div`\r\n  display: flex;\r\n  height: 90px;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 85%;\r\n  margin-left: 15%;\r\n  @media all and (max-width: 600px) {\r\n    width: 100%;\r\n    margin-left: 0;\r\n  }\r\n`;\r\nconst Topic = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-top: 5px;\r\n\r\n  & > div {\r\n    width: 85%;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    & > div {\r\n      width: 100%;\r\n    }\r\n  }\r\n`;\r\nconst TextArea = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-top: 10px;\r\n  height: 150px;\r\n\r\n  textarea {\r\n    max-height: 130px;\r\n    &::-webkit-scrollbar {\r\n      width: 10px;\r\n    }\r\n   \r\n    &::-webkit-scrollbar-track {\r\n      background-color: #ebebeb;\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n    }\r\n  \r\n    &::-webkit-scrollbar-thumb {\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n      background: #1976d2; \r\n    }\r\n  }\r\n\r\n  & > div {\r\n    width: 85%;\r\n    & > div {\r\n      height: 100%;\r\n    }\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    & > div {\r\n      width: 100%;\r\n    }\r\n    height: 250px;\r\n    textarea {\r\n      max-height: 230px;\r\n    }\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  cursor: pointer;\r\n  position: absolute;\r\n  top: 15px;\r\n  right: 20px;\r\n  svg {\r\n    font-size: 32px;\r\n    color: #1976d2;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    right: 15px;\r\n  }\r\n`;","import React from 'react';\r\nimport { Paper, Typography, Button } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\nimport styled from 'styled-components';\r\n\r\nexport default function ConfirmDelete(props) {\r\n  return (\r\n    <Wrapper>\r\n      <Paper>\r\n        <Icon onClick={props.closeNews}>\r\n          <CloseIcon />\r\n        </Icon>\r\n        <Typography variant='body1'>Вы уверены, что хотите удалить новость?</Typography>\r\n        <Typography variant='caption'>Вся информация по новости будет удалена безвозвратно.</Typography>\r\n        <ButtonContainer>\r\n          <Button variant='contained' color='secondary' onClick={props.removeNews}>Удалить</Button>\r\n          <Button variant='text' color='default' onClick={props.closeNews}>Отмена</Button>\r\n        </ButtonContainer>\r\n      </Paper>\r\n      <Dialogue />\r\n    </Wrapper>\r\n  )\r\n}\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  height: 200px;\r\n  width: 400px;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n  outline: none;\r\n  & > div {\r\n    height: 100%;\r\n    position: relative;\r\n    display: flex;\r\n    padding: 30px;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    z-index: 10;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: 100%;\r\n  }\r\n`;\r\nconst Dialogue = styled.section`\r\n  position: fixed !important;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  background: rgba(0,0,0,0.54);\r\n  width: 100vw;\r\n  height: 100vh !important;\r\n  z-index: 5;\r\n`;\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  margin-top: 30px;\r\n  button {\r\n    margin-right: 25px;\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  svg {\r\n    cursor: pointer;\r\n    color: rgba(0,0,0,.54);\r\n    position: absolute;\r\n    right: 16px;\r\n    top: 16px;\r\n  }\r\n`","import React, { Component, Fragment } from 'react';\r\nimport styled from 'styled-components';\r\nimport $ from 'jquery';\r\nimport SingleNews from './SingleNews';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport Fab from './Fab/Fab';\r\nimport NewNews from './News/NewNews';\r\nimport API from './functions/API';\r\nimport { Paper, Button, Typography, TextField, Tooltip } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\nimport defaultAvatar from './img/photos/images.png';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Loader from './Loader/Loader';\r\nimport ConfirmDelete from './News/ConfirmDelete';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport { withSnackbar } from 'notistack';\r\nimport ResponsiveHeader from './ResponsiveHeader/ResponsiveHeader';\r\n\r\nclass News extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      news: [],\r\n      newNews: false,\r\n      newNewsTopic: '',\r\n      newNewsText: '',\r\n      newNewsImportance: false,\r\n      editing: '',\r\n      singleNews: false,\r\n      singleNewsData: [],\r\n      singleNewsId: '',\r\n      invalidText: false,\r\n      invalidTopic: false,\r\n      loading: true,\r\n      confirmDelete: false,\r\n      preparedNewsId: ''\r\n    }\r\n\r\n    this.addLike = this.addLike.bind(this);\r\n    this.reloadComponent = this.reloadComponent.bind(this);\r\n    this.removeLike = this.removeLike.bind(this);\r\n    this.addNews = this.addNews.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.submitNews = this.submitNews.bind(this);\r\n    this.removeNews = this.removeNews.bind(this);\r\n    this.editNews = this.editNews.bind(this);\r\n    this.prepareNews = this.prepareNews.bind(this);\r\n    this.showNews = this.showNews.bind(this);\r\n    this.changeImportance = this.changeImportance.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.reloadComponent();\r\n  }\r\n\r\n  async reloadComponent(action) {\r\n    if (!action) await this.setState({ loading: true })\r\n    await fetch(`${API}/api/news/read.php`)\r\n      .then(response => response.json())\r\n      .then(news => this.props.onAddNews(news.records || []))\r\n    await this.setState({ loading: false })\r\n  }\r\n\r\n  handleChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n    this.setState({ invalidText: false, invalidTopic: false });\r\n  }\r\n\r\n  // добавляем лайк\r\n  addLike = (id, e) => {\r\n    var self = this;\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const formData = new FormData();\r\n    formData.append('id', id);\r\n    formData.append('liked_by', this.props.user.id);\r\n    formData.append('created_at', new Date().getTime());\r\n    const actions = document.getElementById('actions');\r\n    actions.style.pointerEvents = 'none';\r\n\r\n    $.ajax({\r\n      url: `${API}/api/news/addlike.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function () {\r\n        self.reloadComponent('like');\r\n        setTimeout(() => actions.style.pointerEvents = 'all', 500)\r\n      },\r\n      error: function (err) {\r\n        console.log(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  // убираем лайк\r\n  removeLike = (id, e) => {\r\n    const self = this;\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const actions = document.getElementById('actions');\r\n    actions.style.pointerEvents = 'none';\r\n\r\n    const formData = new FormData();\r\n    formData.append('id', id);\r\n    formData.append('liked_by', this.props.user.id);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/news/removelike.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function (res) {\r\n        self.reloadComponent('like');\r\n        self.setState({ newNews: false });\r\n        setTimeout(() => actions.style.pointerEvents = 'all', 500)\r\n      },\r\n      error: function (err) {\r\n        console.log(err);\r\n      }\r\n    });\r\n  }\r\n\r\n  submitNews = (e) => {\r\n    var self = this;\r\n    e.preventDefault();\r\n    if (this.state.newNewsTopic !== '' && this.state.newNewsText !== '') {\r\n      const formData = new FormData();\r\n\r\n      formData.append('author', `${this.props.user.name} ${this.props.user.surname}`);\r\n      formData.append('title', this.state.newNewsTopic);\r\n      formData.append('text', this.state.newNewsText);\r\n      formData.append('date', new Date().toJSON().slice(0, 10).replace(/-/g, '.'));\r\n      formData.append('created_at', new Date().getTime());\r\n      formData.append('importance', this.state.newNewsImportance ? 1 : 0);\r\n      formData.append('author_id', this.props.user.id);\r\n\r\n      $.ajax({\r\n        url: `${API}/api/news/submitnews.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: function (res) {\r\n          console.log(res);\r\n          self.reloadComponent();\r\n          self.setState({ \r\n            newNews: !self.state.newNews, \r\n            newNewsText: '', \r\n            newNewsTopic: ''\r\n          });\r\n          self.props.enqueueSnackbar('Добавлена новая новость', { variant: 'success' })\r\n        },\r\n        error: function (err) {\r\n          console.log(err);\r\n          self.props.enqueueSnackbar('Не удалось добавить новость', { variant: 'error' })\r\n        }\r\n      });\r\n\r\n    } else {\r\n      self.props.enqueueSnackbar('Необходимо заполнить все поля', { variant: 'warning' })\r\n      if (self.state.newNewsTopic === '') this.setState({ invalidTopic: true });\r\n      if (self.state.newNewsText === '') this.setState({ invalidText: true });\r\n    }\r\n  }\r\n\r\n  changeImportance = () => this.setState({ newNewsImportance: !this.state.newNewsImportance });\r\n\r\n  removeNews = () => {\r\n    this.setState({ editing: true });\r\n    var self = this;\r\n    const formData = new FormData();\r\n    formData.append('id', this.state.preparedNewsId);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/news/delete.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function() {\r\n        self.reloadComponent();\r\n        self.setState({ editing: '', preparedNewsId: '', confirmDelete: false  });\r\n        self.props.enqueueSnackbar('Новость была удалена', { variant: 'info' });\r\n      },\r\n      error: function(err) {\r\n        console.log(err);\r\n        self.props.enqueueSnackbar('Не удалось удалить новость', { variant: 'error' });\r\n      }\r\n    });\r\n  };\r\n\r\n  prepareNews = id => {\r\n    let title = this.props.store.news.find(news => news.id === id).title;\r\n    let text = this.props.store.news.find(news => news.id === id).text;\r\n    this.setState({ editing: id, newNewsTopic: title, newNewsText: text });\r\n  }\r\n\r\n  editNews = (e, id) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    var self = this;\r\n\r\n    if (this.state.newNewsTopic !== '' && this.state.newNewsText !== '') {\r\n      const formData = new FormData();\r\n      formData.append('id', id);\r\n      formData.append('title', this.state.newNewsTopic);\r\n      formData.append('text', this.state.newNewsText);\r\n\r\n      $.ajax({\r\n        url: `${API}/api/news/edit.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: function() {\r\n          self.reloadComponent();\r\n          setTimeout(() => self.setState({ editing: '' }), 200);\r\n          self.props.enqueueSnackbar('Новость была изменена', { variant: 'info' });\r\n        },\r\n        error: function (err) {\r\n          console.log(err);\r\n          self.props.enqueueSnackbar('Не удалось изменить новость', { variant: 'error' });\r\n        }\r\n      });\r\n    } else {\r\n      self.props.enqueueSnackbar('Нужно заполнить всё поля', { variant: 'warning' });\r\n      if (self.state.newNewsTopic === '') this.setState({ invalidTopic: true });\r\n      if (self.state.newNewsText === '') this.setState({ invalidText: true });\r\n    }\r\n  }\r\n\r\n  addNews = () => this.setState({ editing: '', newNews: !this.state.newNews, newNewsText: '', newNewsTopic: '' });\r\n\r\n  showNews(id) {\r\n    setTimeout(() => {\r\n      if (this.state.editing === '') this.setState({ singleNews: true, singleNewsId: id });\r\n    }, 100)\r\n  }\r\n\r\n  // закрываем новость \r\n  closeNews = () => {\r\n    this.setState({ \r\n      singleNews: false, \r\n      singleNewsId: '', \r\n      newNews: false, \r\n      likedBy: [], \r\n      preparedNewsId: '',\r\n      confirmDelete: false\r\n    });\r\n    this.reloadComponent('close');\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | находим правильную форму склонения лайков \r\n  |--------------------------------------------------\r\n  */\r\n getNoun = number => {\r\n    number = Math.abs(number);\r\n    number %= 100;\r\n    if (number >= 5 && number <= 20) return 'отметок';\r\n    number %= 10;\r\n    if (number === 1) return 'отметка';\r\n    if (number >= 2 && number <= 4) return 'отметки';\r\n    return 'отметок';\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | Находим правильную форму склонения комментариев\r\n  |--------------------------------------------------\r\n  */\r\n  getCommentsNoun = number => {\r\n    number = Math.abs(number);\r\n    number %= 100;\r\n    if (number >= 5 && number <= 20) return 'комментариев';\r\n    number %= 10;\r\n    if (number === 1) return 'комментарий';\r\n    if (number >= 2 && number <= 4) return 'комментария';\r\n    return 'комментариев';\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | создаёт надпись \"Помечено как важное\"\r\n  |--------------------------------------------------\r\n  */\r\n  createImportantBar = (margin) => {\r\n    const Important = styled.div`\r\n      display: flex;\r\n      align-items: center;\r\n      margin-bottom: 0;\r\n      margin-top: ${margin}px;\r\n      svg {\r\n        color: rgba(0,0,0,.15);\r\n        margin-right: 5px;  \r\n      }\r\n    `;\r\n    return (\r\n      <Important>\r\n        <WarningIcon />\r\n        <Typography variant='caption'>Отмечено как \"Важное\"</Typography>            \r\n      </Important>\r\n    )\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | Спрашиваем об удалении новости\r\n  |--------------------------------------------------\r\n  */\r\n  prepareDelete = (e, id) => {\r\n    this.setState({ confirmDelete: true, preparedNewsId: id });\r\n    e.stopPropagation();\r\n  }\r\n\r\n  handleAvatarRoute = avatar => {\r\n    return window.location.host.includes('localhost') ? avatar.slice(16) : avatar;\r\n  }\r\n\r\n  render() {\r\n    const { news, invalidText, invalidTopic, newNews, loading, newNewsText, newNewsTopic, editing, singleNews, singleNewsId, newNewsImportance } = this.state;\r\n    const { user } = this.props;\r\n    // eslint-disable-next-line\r\n    let avatar = user.avatar;\r\n    \r\n    if (this.state.news.length === 0) {\r\n      setTimeout(() => this.setState({ news: this.props.store.news }), 0);\r\n    }\r\n\r\n    return (\r\n      <Paper>\r\n        {window.innerWidth < 600 ? <ResponsiveHeader title='Новости компании' /> : null}\r\n        {loading ? <Loader minHeight={300} color='primary' /> :\r\n          this.props.store.news.length > 0 && this.props.store.news ? this.props.store.news.map((item, i) => {\r\n            return (  \r\n              <NewsContainer key={i} onClick={() => this.showNews(item.id)}>\r\n                <UserAvatar style={{ background: `url(${item.avatar === '' ? defaultAvatar : item.avatar}) no-repeat center/cover` }} />\r\n                <div>\r\n                  <NewsInfo>\r\n                    {user.id === item.author_id\r\n                      ?\r\n                      <Fragment>\r\n                        <Typography variant='caption'>\r\n                          <Typography variant='subtitle2'>Вы</Typography>\r\n                          {item.date}\r\n                        </Typography>\r\n                        <Icon>\r\n                          <Tooltip placement='left' title=\"Удалить\">\r\n                            <DeleteIcon onClick={(e) => this.prepareDelete(e, item.id)} />\r\n                          </Tooltip>\r\n                        </Icon>\r\n                      </Fragment>\r\n                      :\r\n                      <Typography variant='caption'>\r\n                        <Typography variant='subtitle2'>{item.author}</Typography>\r\n                        {item.date}\r\n                      </Typography>}\r\n                  </NewsInfo>\r\n\r\n                  {item.importance === '1' ? this.createImportantBar(0) : null}\r\n\r\n                  {editing !== item.id ?\r\n                    <Fragment>\r\n                      <Typography variant='button'>{item.title.replace(/&quot;/g, `\"`)}</Typography>\r\n                      <Body><Typography variant='body2'>{item.text.replace(/&quot;/g, `\"`)}</Typography></Body>\r\n                    </Fragment>\r\n                    :\r\n                    <form id='edit-news' action={`${API}/api/news/edit.php`} method=\"POST\" onSubmit={(e) => this.editNews(e, item.id)} >\r\n                      <TextField\r\n                        label=\"Заголовок\"\r\n                        value={newNewsTopic}\r\n                        onChange={this.handleChange}\r\n                        variant=\"outlined\"\r\n                        name='newNewsTopic'\r\n                        type='text'\r\n                        error={this.state.invalidTopic}\r\n                      />\r\n                      <TextArea>\r\n                        <TextField\r\n                          label=\"Текст новости\"\r\n                          multiline\r\n                          variant=\"outlined\"\r\n                          name='newNewsText'\r\n                          onChange={this.handleChange}\r\n                          value={newNewsText}\r\n                          error={this.state.invalidText}\r\n                        />\r\n                      </TextArea>\r\n                      <Button onClick={(e) => this.editNews(e, item.id)} variant='contained' color='primary'>Изменить</Button>\r\n                    </form>}\r\n                </div>\r\n\r\n                <Actions id='actions'>\r\n                  <p>{item.comments}</p>\r\n                  <Tooltip title={`${item.comments} ${this.getCommentsNoun(item.comments)}`} placement='top'>\r\n                    <FontAwesomeIcon onClick={editing === '' ? () => this.showNews(item.id) : null} icon=\"comments\" />\r\n                  </Tooltip>\r\n                  \r\n                    <p>{item.likes}</p>\r\n\r\n                  {!item.liked_by.includes(` ${user.id}`)\r\n                    ?\r\n                    <Tooltip title={`${item.likes} ${this.getNoun(item.likes)} \"Нравится\"`} placement='top'>\r\n                      <FontAwesomeIcon onClick={e => this.addLike(item.id, e)} icon=\"heart\" />\r\n                    </Tooltip>  \r\n                    :\r\n                    <Tooltip title={`${item.likes} ${this.getNoun(item.likes)} \"Нравится\"`} placement='top'>\r\n                      <FontAwesomeIcon onClick={e => this.removeLike(item.id, e)} icon=\"heart\" style={{ color: '#1976d2' }} />\r\n                    </Tooltip>  \r\n                  }\r\n                 {/*  <Tooltip title='Отправить сообщение' placement='top'>\r\n                    <FontAwesomeIcon data-id={item.id} onClick={this.addLike} icon=\"envelope\" style={{ marginLeft: '25px' }} />\r\n                  </Tooltip> */}\r\n\r\n                  {user.id === item.author_id\r\n                    ?\r\n                    <Tooltip title='Редактировать' placement='top'>\r\n                    <FontAwesomeIcon onClick={() => this.prepareNews(item.id)} icon=\"edit\" style={{ marginLeft: '25px' }} />\r\n                    </Tooltip>\r\n                    :\r\n                    null\r\n                  }\r\n                  {window.innerWidth >= 600 ? \r\n                    <Button onClick={() => this.showNews(item.id)} variant='contained' color='primary' style={{ position: 'absolute', right: window.innerWidth > 600 ? 40 : 20 }}>Читать</Button>\r\n                  : null }\r\n                </Actions>\r\n\r\n              </NewsContainer>\r\n            )\r\n          }\r\n          ) : <NoNews><Typography variant='h6'>нет новостей</Typography></NoNews>}\r\n\r\n        <div onClick={this.addNews}><Fab title='Добавить новость' /></div>\r\n\r\n        {newNews ?\r\n          <NewNews\r\n            user={user}\r\n            newNewsTopic={newNewsTopic}\r\n            newNewsText={newNewsText}\r\n            invalidText={invalidText}\r\n            invalidTopic={invalidTopic}\r\n            submitNews={this.submitNews}\r\n            handleChange={this.handleChange}\r\n            changeImportance={this.changeImportance}\r\n            newNewsImportance={newNewsImportance}\r\n            closeNews={this.closeNews.bind(this)}\r\n          /> : null}\r\n\r\n        {singleNews\r\n          ?\r\n          <SingleNews\r\n            showNews={this.showNews}\r\n            closeNews={this.closeNews.bind(this)}\r\n            singleNewsId={singleNewsId}\r\n            news={news}\r\n            user={user}\r\n            getNoun={this.getNoun}\r\n            getCommentsNoun={this.getCommentsNoun}\r\n            reloadComponent={this.reloadComponent}\r\n            createImportantBar={this.createImportantBar} />\r\n          :\r\n          null}\r\n\r\n        {/* Подтверить удаление новости */}\r\n        {this.state.confirmDelete ?\r\n        <ConfirmDelete\r\n          closeNews={this.closeNews.bind(this)}\r\n          removeNews={this.removeNews.bind(this)}\r\n        /> : null}\r\n\r\n      </Paper>\r\n    )\r\n  }\r\n}\r\n\r\nconst NewsContainer = styled.div`\r\n  position: relative;\r\n  padding: 20px 40px 20px 120px;\r\n  border-bottom: 1px solid #e6ecf0;\r\n  cursor: pointer;\r\n\r\n  input {\r\n    padding: 10px 15px;\r\n  }\r\n  :hover {\r\n    background: rgba(0,0,0,0.037);\r\n    transition: .37s ease;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    padding: 10px 20px 10px 80px;\r\n  }\r\n`;\r\nconst Body = styled.div`\r\n  padding: 10px 15px;\r\n  margin-top: 10px;\r\n  background: rgba(0,0,0,0.015);\r\n`;\r\nconst NewsInfo = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: 5px;\r\n\r\n  span {\r\n    display: flex;\r\n    align-items: baseline;\r\n    h6 {\r\n      margin-right: 10px;\r\n      :after {\r\n        content: '\\00b7';\r\n        margin-left: 10px;\r\n      }\r\n    }\r\n  }\r\n`;\r\nconst UserAvatar = styled.div`\r\n  position: absolute;\r\n  left: 20px;\r\n  top: 30px;\r\n  border-radius: 50%;\r\n  width: 80px;\r\n  height: 80px;\r\n  @media all and (max-width: 600px) {\r\n    width: 45px;\r\n    height: 45px;\r\n  }\r\n`;\r\n\r\nconst Actions = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  p {\r\n    margin-right: 5px;\r\n    color: #657786;\r\n  }\r\n`;\r\n\r\nconst TextArea = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin: 15px 0 10px;\r\n  height: 120px;\r\n\r\n  textarea {\r\n    max-height: 100px;\r\n    &::-webkit-scrollbar {\r\n      width: 10px;\r\n    }\r\n   \r\n    &::-webkit-scrollbar-track {\r\n      background-color: #ebebeb;\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n    }\r\n  \r\n    &::-webkit-scrollbar-thumb {\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n      background: #1976d2; \r\n    }\r\n  }\r\n\r\n  & > div {\r\n    width: 100%;\r\n    & > div {\r\n      height: 100%;\r\n    }\r\n  }\r\n`;\r\nconst NoNews = styled.div`\r\n  height: 254px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  opacity: .37;\r\n  margin-bottom: 20px;\r\n`;\r\nconst Icon = styled.div`\r\n  cursor: pointer;\r\n  svg {\r\n    color: rgba(0,0,0,0.54);\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({\r\n    store: state,\r\n  }),\r\n  dispatch => ({\r\n    onAddNews: (news) => {\r\n      dispatch({ type: 'ADD_NEWS', payload: news })\r\n    }\r\n  })\r\n)(withSnackbar(News));","import React from 'react';\r\nimport Person from '@material-ui/icons/Person';\r\nimport Message from '@material-ui/icons/Message';\r\nimport Task from '@material-ui/icons/ListAlt';\r\nimport News from '@material-ui/icons/NewReleases';\r\nimport People from '@material-ui/icons/People';\r\nimport RssFeed from '@material-ui/icons/RssFeed';\r\n\r\nconst sections = [\r\n  {\r\n    value: 0,\r\n    section: 'id',\r\n    label: 'Профиль',\r\n    img: <Person />,\r\n  },\r\n  { \r\n    value: 1,\r\n    section: 'messages',\r\n    label: 'Сообщения',\r\n    img: <Message />,\r\n  },\r\n  {\r\n    value: 2,\r\n    section: 'news',\r\n    label: 'Новости',\r\n    img: <News />,\r\n  },\r\n  {\r\n    value: 3,\r\n    section: 'tasks',\r\n    label: 'Задачи',\r\n    img: <Task />,\r\n  },\r\n  {\r\n    value: 4,\r\n    section: 'colleagues',\r\n    label: 'Коллеги',\r\n    img: <People />,\r\n  }\r\n  /*\r\n  {\r\n    section: 'gallery',\r\n    label: 'Галерея',\r\n    img: 'gallery.png',\r\n  },\r\n  {\r\n    section: 'favourites',\r\n    label: 'Избранное',\r\n    img: 'favourites.png',\r\n  }, */\r\n];\r\n\r\nif (window.innerWidth >= 600) {\r\n  sections.push({\r\n    value: 5,\r\n    section: 'feed',\r\n    label: 'Оповещения',\r\n    img: <RssFeed />\r\n  })\r\n}\r\n\r\nexport default sections;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport sections from './sections';\r\nimport styled from 'styled-components';\r\nimport API from '../functions/API';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Navigation extends React.Component {\r\n  state = {\r\n    value: 0\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    fetch(`${API}/api/tasks/read.php?id=${this.props.user_logged_id}`)\r\n      .then(response => response.json())\r\n      .then(tasks => this.props.getTasks(tasks.data))\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  handleChange = (event, value) => this.setState({ value });\r\n\r\n  countFeed = () => {\r\n    let counter = 0;\r\n    const filtered = this.props.store.tasks.filter(task => Number(task.from) !== this.props.user_logged_id);\r\n    filtered.forEach(task => {\r\n      if(!task.readed) counter++; \r\n    });\r\n    return counter;\r\n  }\r\n  \r\n  render() {\r\n    const { value } = this.state;\r\n    const user = this.props;\r\n\r\n    return (\r\n      <Wrapper>\r\n        <AppBar position=\"static\" color=\"default\">\r\n          <Tabs\r\n            value={value}\r\n            onChange={this.handleChange}\r\n            indicatorColor=\"primary\"\r\n            centered\r\n          >\r\n            {sections.map((section, i) =>\r\n              <Tab\r\n                key={i}\r\n                label={section.section === 'feed' && this.countFeed() > 0 ?\r\n                  <BadgeWrapper><Badge color=\"secondary\" badgeContent={this.countFeed()}>\r\n                    {section.label}\r\n                  </Badge></BadgeWrapper>\r\n                  : section.label\r\n                }\r\n                onClick={() => user.handleChangeSection(section.section !== 'id' ? section.section : `id${user.user_logged_id}`)}\r\n                component={Link}\r\n                to={section.section !== 'id' ? section.section : `id${user.user_logged_id}`}\r\n                icon={section.img}\r\n              />\r\n            )}\r\n          </Tabs>\r\n        </AppBar>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\nconst Wrapper = styled.div`\r\n  flex-grow: 1;\r\n  width: 100%;\r\n  background-color: #ffffff;\r\n  margin-bottom: 4px;\r\n\r\n  a {\r\n    width: ${100 / sections.length}%\r\n  }\r\n  svg {\r\n    color: #1976d2;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    position: fixed;\r\n    bottom: 0;\r\n    z-index: 1000;\r\n    opacity: 1;\r\n    margin-bottom: 0;\r\n    width: ${window.innerWidth}px;\r\n    a {\r\n      padding-top: 5px;\r\n      min-height: 50px;\r\n    }\r\n    a > span > span {\r\n      display: block;\r\n      font-size: 8px;\r\n    }\r\n  }\r\n`;\r\nconst BadgeWrapper = styled.div`\r\n  & > span > span {\r\n    top: -19px;\r\n    right: -5px;\r\n  }\r\n`;\r\nexport default connect(\r\n  state => ({\r\n    store: state\r\n  }),\r\n  dispatch => ({\r\n    getTasks: (tasks) => {\r\n      dispatch({ type: 'FETCH_TASKS', payload: tasks})\r\n    }     \r\n  })\r\n)(Navigation);","import React, { Fragment } from 'react';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport defaultAvatar from '../img/photos/images.png';\r\nimport styled from 'styled-components';\r\nimport moment from 'moment';\r\n/* import NotReaded from '@material-ui/icons/Done';\r\nimport Readed from '@material-ui/icons/DoneAll'; */\r\n\r\nfunction Friend(props) {\r\n  let avatar = '';\r\n\r\n  if (window.location.host.includes('localhost') && props.friend.avatar) {\r\n    avatar = props.friend.avatar.slice(16);\r\n  } else {\r\n    avatar = props.friend.avatar;\r\n  }\r\n\r\n  const cropString = string => {\r\n    if (string.length < 137) return string;\r\n    return `${string.substring(0,137)}...`;\r\n  }\r\n\r\n  const getTime = (time, date, readed) => {\r\n    const fromDayStart = moment().startOf('day').format();\r\n    const dateFromNow = moment(date, \"DD.MM.YYYY\").format();\r\n   /*  let icon = null;\r\n\r\n    readed === '1' ? icon = <Readed /> : icon = <NotReaded />;   */ \r\n    \r\n    /**\r\n    |--------------------------------------------------\r\n    | здесь проблема с моментом, считает почему с ошибкой на день\r\n    | внизу заккоментирован правильный ретурн по логике\r\n    |--------------------------------------------------\r\n    */\r\n    if (!moment(fromDayStart).isSame(dateFromNow, 'day')) {\r\n      return <Time>{/* props.friend.id === props.friend.message.user ? icon : null */}<Typography variant=\"subtitle2\" color='primary'>{moment(date, \"DD.MM.YYYY\").calendar().slice(0,-4)} {time}</Typography></Time>\r\n      /* return <Time>{icon}<Typography variant=\"subtitle2\" color='primary'>{moment(date).fromNow()}</Typography></Time> */\r\n    }\r\n\r\n    return (\r\n      <Time>{/* props.friend.id === props.friend.message.user ? icon : null */}<Typography variant=\"subtitle2\" color='primary'>{props.friend.message.time}</Typography></Time>\r\n    )\r\n  }\r\n  \r\n  return (\r\n    <ListItem \r\n      onClick={() => props.openRoom(props.friend.hasOwnProperty('message') && props.friend.message ? props.friend.message.chat : 0, props.friend)}\r\n      button \r\n      TouchRippleProps={{ classes: { child: 'touch-ripple' }}} \r\n    >\r\n      <ListItemAvatar>\r\n        <Avatar\r\n          style={{ height: 50, width: 50 }}\r\n          alt={`${props.friend.name} ${props.friend.surname}`}\r\n          src={props.friend.avatar !== '' ? avatar : defaultAvatar}\r\n        />\r\n      </ListItemAvatar>\r\n      <ListItemText\r\n        inset\r\n        primary={<MessageHeader>\r\n          <Typography variant=\"subtitle1\">{`${props.friend.name} ${props.friend.surname}`}</Typography>\r\n          {props.friend.message ? \r\n            getTime(props.friend.message.time, props.friend.message.date, props.friend.message.readed)     \r\n          : null}\r\n        </MessageHeader>}\r\n        secondary={props.friend.message ?\r\n          <Fragment>\r\n            <Typography component=\"span\" style={{ display: 'inline' }} color=\"primary\">\r\n              {props.friend.id === props.friend.message.user ? `${props.friend.name} ${props.friend.surname}:` : 'Вы:'}\r\n            </Typography>\r\n            {` — ${cropString(props.friend.message.body)} `} \r\n          </Fragment>\r\n        : null}    \r\n      />\r\n    </ListItem>\r\n  );\r\n}\r\nconst Time = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  opacity: .87;\r\n  svg {\r\n    margin-right: 6px;\r\n    font-size: 17px;\r\n    color: #1976d2;\r\n  }\r\n`;\r\nconst MessageHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\nexport default Friend;","import React from 'react';\r\nimport { Typography } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nexport default function NoMessages() {\r\n  return (\r\n    <Container>\r\n      <Typography variant='body1' style={{ marginBottom: 12 }}>\r\n        Будьте первым, кто отправит сообщение в этом диалоге.\r\n      </Typography>\r\n      <Typography variant='body2'>\r\n        Чтобы написать коллеге, просто введите текст сообщения в строке снизу и нажмите клавишу \"Enter\".\r\n      </Typography>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  padding: 30px 80px;\r\n  height: 250px;\r\n  display: flex;\r\n  opacity: .75;\r\n  text-align: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n\r\n  @media all and (max-width: 600px) {\r\n    padding: 30px 40px;\r\n    height: 160px;\r\n  }\r\n`;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport defaultAvatar from '../img/photos/images.png';\r\nimport { Typography, Tooltip } from '@material-ui/core';\r\n/* import NotReaded from '@material-ui/icons/Done';\r\nimport Readed from '@material-ui/icons/DoneAll'; */\r\nimport moment from 'moment';\r\nimport Delete from '@material-ui/icons/Delete';\r\nimport Edit from '@material-ui/icons/Edit';\r\n\r\nfunction Message(props) { \r\n  let prodUrl = '';\r\n  /* if (!window.location.host.includes('localhost')) {\r\n    prodUrl = `frontend/public/`;\r\n  }  */\r\n\r\n  function isToday(date) {\r\n    const fromDayStart = moment().startOf('day').format();\r\n    const dateFromNow = moment(date, \"DD.MM.YYYY\").format();\r\n\r\n    if (!moment(fromDayStart).isSame(dateFromNow, 'day')) {\r\n      return moment(date, \"DD.MM.YYYY\").calendar().slice(0,-4);\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  const { room, user } = props.store;\r\n\r\n  return (\r\n    <Container style={ room.user.id !== props.message.user ? { flexDirection: 'row-reverse'} : {}}>\r\n      <Avatar \r\n        style={ room.user.id !== props.message.user \r\n          ? { background: `url(${prodUrl}${user[0].avatar ? user[0].avatar : defaultAvatar}) no-repeat center/cover` } \r\n          : { background: `url(${prodUrl}${room.user.avatar? room.user.avatar : defaultAvatar}) no-repeat center/cover` } \r\n        }>\r\n      </Avatar>  \r\n      <Body>\r\n        <Typography className='message-name' variant='subtitle2' color='secondary'>      \r\n          {room.user.id !== props.message.user \r\n            ? `Вы` \r\n            : `${room.user.name} ${room.user.surname}` }\r\n          \r\n          {room.user.id !== props.message.user \r\n            ? <span>\r\n                <Tooltip title='редактировать' placement='top'><Edit onClick={() => props.editMessage(props.message.body, props.message.id)} /></Tooltip>\r\n                <Tooltip title='удалить' placement='top'><Delete onClick={props.handleDelete} /></Tooltip>\r\n              </span> \r\n            : null}\r\n        </Typography>\r\n        <Typography variant='body2'>{props.message.body}</Typography>\r\n        <Typography className='message-time' variant='subtitle2' color='primary'>    \r\n          {isToday(props.message.date)} {props.message.time}\r\n          {props.message.edited === '1' ? ' отредактировано' : null}\r\n          {/* room.user.id !== props.message.user ? props.message.readed === '1' ? <Readed /> : <NotReaded /> : null */}\r\n        </Typography>\r\n      </Body>  \r\n    </Container>\r\n  )\r\n}\r\nconst Container = styled.div`\r\n  display: flex;\r\n  align-items: flex-end;\r\n`;\r\nconst Avatar = styled.div`\r\n  min-width: 35px;\r\n  min-height: 35px;\r\n  border-radius: 50%;\r\n  margin: 0 15px;\r\n`;\r\nconst Body = styled.div`\r\n  max-width: 70%;\r\n  background: #fafafa;\r\n  padding: 10px 15px;\r\n  border-radius: 7px;\r\n  margin: 15px 0 0;\r\n  .message-time {\r\n    font-size: .7rem;\r\n    display: flex;\r\n    align-items: center;\r\n    svg {\r\n      font-size: 18px;\r\n      margin-left: 5px; \r\n    }\r\n  }\r\n  .message-name {\r\n    display: flex;\r\n    align-items: center;\r\n    min-width: 100px;\r\n    justify-content: space-between;\r\n    svg {\r\n      font-size: 16px;\r\n      margin-left: 5px; \r\n      color: rgba(0,0,0,.34);\r\n      cursor: pointer;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({\r\n    store: state\r\n  })\r\n)(Message);","import React from 'react';\r\nimport NoMessages from './NoMessages';\r\nimport { connect } from 'react-redux';\r\nimport Message from './Message';\r\nimport styled from 'styled-components';\r\n\r\nfunction Messages(props) {\r\n  const { messages } = props.store;\r\n  \r\n  setTimeout(() => {\r\n    const messageContainer = document.getElementById(\"messages\");\r\n    if (messages.length !== 0 && messageContainer) messageContainer.scrollTop = messageContainer.scrollHeight; \r\n  }, 0);\r\n\r\n  return (\r\n    <Container id='messages'>\r\n      {messages.length !== 0 ? \r\n        messages.map(message => \r\n          <Message \r\n            key={message.id} \r\n            message={message} \r\n            editMessage={props.editMessage}\r\n            handleDelete={() => props.handleDelete(message.id)}\r\n          />\r\n        )\r\n      : <NoMessages />}\r\n    </Container>\r\n  )\r\n}\r\n\r\n\r\n\r\nconst Container = styled.div`\r\n  overflow: auto;\r\n  margin-top: 5px;\r\n  max-height: 310px;\r\n  &::-webkit-scrollbar {\r\n    width: 2px;\r\n  } \r\n  &::-webkit-scrollbar-track {\r\n    background-color: #fafafa;\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    background: #1976d2; \r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    max-height: calc(100vh - 100px);\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({\r\n    store: state\r\n  })\r\n)(Messages);","import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport styled from 'styled-components';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Send from '@material-ui/icons/Send';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nexport default function SendMessageInput(props) {\r\n  return (\r\n    <Container onSubmit={props.sendMessage}>\r\n      <TextField\r\n        placeholder=\"Напишите сообщение...\"\r\n        fullWidth\r\n        autoFocus\r\n        margin='dense'\r\n        variant=\"filled\"\r\n        onChange={props.handleNewMessage}\r\n        value={props.message}\r\n        InputProps={{\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <Tooltip title='Отправить сообщение' position='top'>\r\n                <IconButton\r\n                  aria-label=\"Отправить сообщение\"\r\n                  onClick={props.sendMessage}\r\n                >\r\n                  <Send />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n      />\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.form`\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  overflow: hidden;\r\n  background: #fafafa;\r\n  & > div {\r\n    margin: 0;\r\n  }\r\n  & > div > div {\r\n    background: #fafafa !important;\r\n    :hover {\r\n      background: #fafafa;\r\n    }\r\n  }\r\n  input {\r\n    background: #fafafa;\r\n    padding: 13px 25px;\r\n    font-size: 14px;\r\n  }\r\n`;","import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport styled from 'styled-components';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Edit from '@material-ui/icons/Edit';\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nexport default function EditMessageInput(props) {\r\n  return (\r\n    <Container onSubmit={props.submitEdit}>\r\n      <TextField\r\n        placeholder=\"Отредактируйте сообщение...\"\r\n        fullWidth\r\n        autoFocus\r\n        margin='dense'\r\n        variant=\"filled\"\r\n        onChange={props.handleEdit}\r\n        value={props.message}\r\n        InputProps={{\r\n          startAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <Tooltip title='Редактировать' position='top'>\r\n                <IconButton\r\n                  aria-label=\"Редактировать\"\r\n                  onClick={props.submitEdit}\r\n                >\r\n                  <Edit />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </InputAdornment>\r\n          ),\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <Tooltip title='Закрыть' position='top'>\r\n                <IconButton\r\n                  aria-label=\"Закрыть\"\r\n                  onClick={props.closeEditing}\r\n                >\r\n                  <Clear />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n      />\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.form`\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  overflow: hidden;\r\n  background: #fafafa;\r\n  z-index: 10;\r\n  & > div {\r\n    margin: 0;\r\n  }\r\n  & > div > div {\r\n    background: #fafafa !important;\r\n    :hover {\r\n      background: #fafafa;\r\n    }\r\n  }\r\n  input {\r\n    background: #fafafa;\r\n    padding: 13px 25px;\r\n    font-size: 14px;\r\n  }\r\n`;","import React, { Fragment } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Typography, Button } from '@material-ui/core';\r\n\r\nexport default function DeleteModal(props) {\r\n  return (\r\n    <Fragment>\r\n      <Container>\r\n        <Typography variant='body2'>Вы уверены, что хотите удалить сообщение?</Typography>\r\n        <Typography variant='body2'>Это действие удалит его для всех участников чата.</Typography>    \r\n        <div>\r\n          <Button variant='text' color='primary' onClick={props.closeDelete} >Отмена</Button>\r\n          <Button variant='text' color='primary' onClick={props.submitDelete}>Удалить</Button>\r\n        </div>       \r\n      </Container>\r\n      <Overlay onClick={props.closeDelete} />\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  padding: 30px 20px 10px;\r\n  width: 320px;\r\n  height: 200px;\r\n  margin: auto;\r\n  z-index: 10;\r\n  background: #fafafa;\r\n  box-shadow: rgba(0,0,0,0.2) 0px 1px 3px 0px, rgba(0,0,0,0.14) 0px 1px 1px 0px, rgba(0,0,0,0.12) 0px 2px 1px -1px;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  & > div {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n  }\r\n`;\r\n\r\nconst Overlay = styled.div`\r\n  position: absolute;\r\n  top: 0; bottom: 0;\r\n  left: 0; right: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 5;\r\n  background: rgba(0,0,0,.17);\r\n`;","import React, { Component } from 'react';\r\nimport API from '../functions/API';\r\nimport $ from 'jquery';\r\nimport styled from 'styled-components';\r\nimport { connect } from 'react-redux';\r\nimport Back from '@material-ui/icons/ArrowBack';\r\nimport { Typography } from '@material-ui/core';\r\nimport defaultAvatar from '../img/photos/images.png';\r\nimport Messages from './Messages';\r\nimport Loader from '../Loader/Loader';\r\nimport SendMessageInput from './SendMessageInput';\r\nimport EditMessageInput from './EditMessageInput';\r\nimport DeleteModal from './DeleteModal';\r\nimport moment from 'moment';\r\n\r\nclass ChatRoom extends Component {\r\n  state = {\r\n    loading: true,\r\n    editing: false,\r\n    editText: '',\r\n    deleting: false,\r\n    newMessage: '',\r\n    deleteID: null,\r\n    editID: null\r\n  }\r\n  interval = null;\r\n\r\n  componentDidMount = () => {\r\n    this.getMessages();\r\n    this.interval = setInterval(() => this.getMessages(), 5000);\r\n  }\r\n\r\n  componentWillUnmount = () => {\r\n    clearInterval(this.interval);\r\n  }\r\n  \r\n  getMessages = () => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    formData.append('chat', this.props.store.room.chat_id); \r\n\r\n    $.ajax({\r\n      url: `${API}/api/message/read.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function (res) {\r\n        self.setState({ loading: false });\r\n        if (res.messages) self.props.getMessages(res.messages);      \r\n      },\r\n      error: err => console.log(err)\r\n    });\r\n\r\n  }\r\n\r\n  handleEdit = (e) => this.setState({ editText: e.target.value });\r\n  editMessage = (message, id) => { if(!this.state.editing) this.setState({ editing: !this.state.editing, editText: message, editID: id })};\r\n  closeEditing = () =>  this.setState({ editing: false, editText: '', editID: null });\r\n\r\n  handleDelete = id => this.setState({ deleting: true, deleteID: id });\r\n  closeDelete = () =>  this.setState({ deleting: false, deleteID: null });\r\n\r\n  handleNewMessage = (e) => this.setState({ newMessage: e.target.value });\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | Отправляет сообщение\r\n  |--------------------------------------------------\r\n  */\r\n  sendMessage = (e) => {\r\n    if (e) e.preventDefault();\r\n\r\n    const { room, user } = this.props.store;  \r\n\r\n    // если в комнате нет чат-id то создадим чат\r\n    if (!room.hasOwnProperty('chat_id')) {\r\n      this.getMessageId(user[0].id, room.user.id);\r\n      return;\r\n    } else {\r\n      fetch(`${API}/api/message/get_id.php`)\r\n        .then(response => response.json())\r\n        .then(message => localStorage.setItem('message_id', message.message_id))\r\n        .catch(err => console.log(err))\r\n    }\r\n\r\n    const formData = new FormData();\r\n    const self = this; \r\n    const message = {\r\n      user: user[0].id,\r\n      chat: room.hasOwnProperty('chat_id') ? room.chat_id : localStorage.getItem('chat_id'),\r\n      body: this.state.newMessage,\r\n      date: moment().format('L'),\r\n      time: moment().format('LT'),\r\n      created_at: new Date().getTime()\r\n    };\r\n\r\n    formData.append('chat', message.chat); \r\n    formData.append('user', message.user);\r\n    formData.append('body', message.body); \r\n    formData.append('date', message.date); \r\n    formData.append('time', message.time); \r\n    formData.append('created_at', message.created_at); \r\n\r\n    $.ajax({\r\n      url: `${API}/api/message/send.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function(res) {\r\n        if (!self.props.store.chats.find(chat => chat.id === message.chat)) {\r\n          self.props.createChat(localStorage.getItem('users'), message.chat, message); \r\n        }  \r\n        self.props.addMessage(message);\r\n        self.setState({ newMessage: '' })\r\n        self.getMessages();\r\n      },\r\n      error: err => console.log(err)\r\n    });\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | получаем @ID последнего сообщение в базе\r\n  |--------------------------------------------------\r\n  */\r\n  getMessageId = (user1, user2) => {\r\n    fetch(`${API}/api/message/get_id.php`)\r\n      .then(response => response.json())\r\n      .then(message => this.createChat(user1, user2, message.message_id))\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | Создаем чат\r\n  |--------------------------------------------------\r\n  */\r\n  createChat = (user1, user2, message_id) => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    const users = `id${user1}, id${user2}`;\r\n    const messageId = (Number(message_id) + 1).toString();\r\n    formData.append('users', users); \r\n    formData.append('last_msg', messageId); \r\n\r\n    $.ajax({\r\n      url: `${API}/api/chat/create.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function (res) {\r\n        self.props.assignChat(res.chat_id);\r\n        localStorage.setItem('message_id', messageId);\r\n        localStorage.setItem('chat_id', res.chat_id);\r\n        localStorage.setItem('users', `id${user1}, id${user2}`);\r\n        self.sendMessage(false);    \r\n      },\r\n      error: err => console.log(err)\r\n    });\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | удаляем сообщение\r\n  |--------------------------------------------------\r\n  */\r\n  submitDelete = () => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    formData.append('id', this.state.deleteID); \r\n\r\n    $.ajax({\r\n      url: `${API}/api/message/delete.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function(res) {\r\n        self.props.deleteMessage(self.state.deleteID);\r\n        if (self.props.store.messages.length === 0) self.props.deleteChat(self.props.store.room.chat_id);\r\n        self.closeDelete();\r\n        self.getMessages();\r\n      },\r\n      error: err => console.log(err)\r\n    });\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | редактируем сообщение\r\n  |--------------------------------------------------\r\n  */\r\n  submitEdit = (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    const self = this;\r\n    formData.append('id', this.state.editID); \r\n    formData.append('body', this.state.editText); \r\n\r\n    $.ajax({\r\n      url: `${API}/api/message/edit.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: async () => {  \r\n        self.closeEditing();  \r\n        await self.getMessages();   \r\n        await self.props.editMessage(self.state.editID, self.state.editText); \r\n      },\r\n      error: err => console.log(err)\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { loading, editing, deleting } = this.state;\r\n    const { room } = this.props.store;\r\n\r\n    let avatar = null;\r\n    if (room.hasOwnProperty('user') && window.location.host.includes('localhost')) {\r\n      avatar = room.user.avatar.slice(16);\r\n    } else if (room.hasOwnProperty('user')) {\r\n      avatar = room.user.avatar;\r\n    }\r\n\r\n    return (\r\n      <Room>\r\n        <RoomHeader>\r\n          <Icon onClick={() => this.props.openRoom(0, room.user)}>\r\n            <Back />\r\n          </Icon>\r\n          {room.hasOwnProperty('user') ?\r\n          <div className='room-header__user'>\r\n            <div className='room-header__avatar' style={{ background: `url(${room.user.avatar !== '' ? avatar : defaultAvatar}) no-repeat center/cover`}}></div>\r\n            <div className='room-header__info'>\r\n              <Typography variant='subtitle2'>{room.user.name} {room.user.surname}</Typography>\r\n              <Typography variant='caption'>{room.user.position}</Typography>\r\n            </div>\r\n          </div> : null}\r\n        </RoomHeader>\r\n\r\n        {loading ? <Loader minHeight={250} color='primary' /> : <Messages \r\n          editMessage={this.editMessage.bind(this)} \r\n          handleDelete={this.handleDelete.bind(this)}\r\n        />}\r\n\r\n        {editing ? <EditMessageInput \r\n          closeEditing={this.closeEditing.bind(this)} \r\n          message={this.state.editText} \r\n          handleEdit={this.handleEdit.bind(this)}\r\n          submitEdit={this.submitEdit.bind(this)}\r\n        /> : null}\r\n\r\n        <SendMessageInput \r\n          message={this.state.newMessage}\r\n          sendMessage={this.sendMessage} \r\n          handleNewMessage={this.handleNewMessage}\r\n        />\r\n\r\n        {deleting ? <DeleteModal \r\n          closeDelete={this.closeDelete.bind(this)}\r\n          submitDelete={this.submitDelete.bind(this)}\r\n        /> : null}\r\n      </Room>\r\n    )\r\n  }\r\n}\r\nconst Room = styled.div`\r\n  overflow: hidden;\r\n  height: 432px;\r\n\r\n  @media all and (max-width: 600px) {\r\n    height: calc(100vh - 55px);\r\n  }\r\n`;\r\nconst RoomHeader = styled.div`\r\n  background: #1976d2;\r\n  height: 60px;\r\n  color: rgba(255,255,255,.5);\r\n  display: flex;\r\n  align-items: center;\r\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 1px 3px 0px, rgba(0, 0, 0, 0.14) 0px 1px 1px 0px, rgba(0, 0, 0, 0.12) 0px 2px 1px -1px;\r\n\r\n  .room-header__user {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 100%;\r\n  }\r\n  .room-header__avatar {\r\n    height: 45px;\r\n    width: 45px;\r\n    border-radius: 50%;\r\n    margin-right: 15px;\r\n  }\r\n  h6 {\r\n    color: #fff;\r\n    opacity: .85;\r\n  }\r\n  span {\r\n    color: rgba(255,255,255,.5);\r\n  }\r\n  :hover {\r\n    color: #fff;\r\n    transition: .37s ease;\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  width: 60px;\r\n  height: 60px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n`;\r\nexport default connect(\r\n  state => ({\r\n    store: state\r\n  }),\r\n  dispatch => ({\r\n    getMessages: (messages) => {\r\n      dispatch({ type: 'FETCH_MESSAGES', payload: messages })\r\n    },\r\n    createChat: (users, chat_id, message) => {\r\n      dispatch({ type: 'CREATE_CHAT', payload: { users: users, id: chat_id, message: message }})\r\n    },\r\n    assignChat: (chat_id) => {\r\n      dispatch({ type: 'ASSIGN_CHAT', payload: chat_id })\r\n    },\r\n    addMessage: (message) => {\r\n      dispatch({ type: 'ADD_MESSAGE', payload: message })\r\n    },\r\n    deleteMessage: (messageID) => {\r\n      dispatch({ type: 'DELETE_MESSAGE', payload: messageID })\r\n    },\r\n    editMessage: (messageID, messageBody) => {\r\n      dispatch({ type: 'EDIT_MESSAGE', payload: [messageID, messageBody] })\r\n    },\r\n    deleteChat: (chat_id) => {\r\n      dispatch({ type: 'DELETE_CHAT', payload: chat_id })\r\n    },\r\n  })\r\n)(ChatRoom);","import React, { Component } from 'react';\r\nimport List from '@material-ui/core/List';\r\nimport ChatItem from './ChatItem';\r\nimport API from '../functions/API';\r\nimport styled from 'styled-components';\r\nimport Search from '../FriendsList/Search';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Loader from '../Loader/Loader';\r\nimport { connect } from 'react-redux';\r\nimport { Transition, animated } from 'react-spring/renderprops';\r\nimport ChatRoom from './ChatRoom';\r\n\r\nclass FriendList extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      friends: [],\r\n      initial: [],\r\n      searchValue: '',\r\n      loading: true,\r\n      documentTitle: document.title,\r\n      completed: false,\r\n      openRoom: false,\r\n      index: 1,\r\n      initialAnimation: false,\r\n      direction: true\r\n    }\r\n\r\n    this.rebuildList = this.rebuildList.bind(this);\r\n  }\r\n    \r\n  componentDidMount() {\r\n    fetch(`${API}/api/user/read.php`)\r\n      .then(response => response.json())\r\n      .then(friends => {\r\n        const data = friends.data.filter(friend => friend.id !== this.props.user_id);\r\n        this.setState({ friends: data, initial: data, loading: false })\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  handleSearch = (e) => {\r\n    this.setState({ searchValue: e.target.value });\r\n    const searchValue = e.target.value.toLowerCase();\r\n\r\n    document.title = e.target.value || this.state.documentTitle;\r\n\r\n    let friends = this.state.initial;\r\n    friends = friends.filter(friend =>\r\n      friend.name.toLowerCase().includes(searchValue) ||\r\n      friend.surname.toLowerCase().includes(searchValue) ||\r\n      friend.position.toLowerCase().includes(searchValue)\r\n    );\r\n    this.setState({ friends });\r\n  }\r\n\r\n  componentWillUnmount = () => {\r\n    document.title = this.state.documentTitle;\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | переделываем массив списка друзей исходя из полученных сообщений\r\n  |--------------------------------------------------\r\n  */\r\n  rebuildList = (chats) => {\r\n    let friends = this.state.friends;\r\n    chats.forEach(chat => {\r\n      friends.find(friend => chat.users.includes(`id${friend.id}`)).message = chat.message;\r\n    })\r\n    let withMessages = friends.filter(friend => friend.hasOwnProperty('message'));\r\n    let withoutMessages = friends.filter(friend => !friend.hasOwnProperty('message'));\r\n    let sorted = withMessages.concat(withoutMessages);\r\n    this.setState({ completed: true, friends: sorted });\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | переключаем и анимируем комнату чата и список\r\n  |--------------------------------------------------\r\n  */\r\n  openRoom = (chat, friend) => {\r\n    if (!this.state.initialAnimation) this.setState({ initialAnimation: true });\r\n\r\n    if (chat) {\r\n      this.props.openChat(chat, friend);\r\n    } else {\r\n      this.rebuildList(this.props.store.chats);\r\n      setTimeout(() => this.props.closeChat(friend), 570);\r\n    }\r\n\r\n    this.setState({ direction: !this.state.direction });\r\n\r\n    setTimeout(() => this.setState(state => ({\r\n      index: state.index === 1 ? 0 : 1,\r\n    })), 300)\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | массив того, что анимируем\r\n  |--------------------------------------------------\r\n  */\r\n  pages = [\r\n    style => (\r\n      <animated.div style={{ ...style, position: 'absolute', width: '100%' }}>\r\n        <ChatRoom\r\n          openRoom={this.openRoom.bind(this)}\r\n        />\r\n      </animated.div>\r\n    ),\r\n    style => (\r\n      <animated.div style={{ ...style, position: 'absolute', width: '100%' }}>\r\n        <Search\r\n          handleSearch={this.handleSearch}\r\n          searchValue={this.searchValue}\r\n        />\r\n        <List>\r\n          {this.state.friends.map(friend =>\r\n            <ChatItem\r\n              openRoom={this.openRoom.bind(this)}\r\n              key={friend.id}\r\n              friend={friend}\r\n            />\r\n          )}\r\n        </List>\r\n      </animated.div>\r\n    )\r\n  ]\r\n\r\n  getDirection = direction => {\r\n    if (direction) {\r\n      return 'translateX(100%)';\r\n    } else {\r\n      return 'translateX(-100%)';\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { chats } = this.props.store;\r\n    const { completed, friends, index, direction } = this.state;\r\n\r\n    if (chats.length > 0 && friends.length > 0 && !completed) {\r\n      this.rebuildList(chats);\r\n    }\r\n\r\n    return (\r\n      <Paper>\r\n        {this.state.loading ?\r\n          <Loader minHeight={370} color='primary' />\r\n          :\r\n          <FriendWrapper>\r\n            <Transition\r\n              reset\r\n              unique\r\n              native\r\n              items={index}\r\n              from={this.state.initialAnimation ? { transform: this.getDirection(direction) } : { zIndex: 1 }}\r\n              enter={{ transform: 'translateX(0%)' }}\r\n              leave={{ transform: this.getDirection(!direction) }}\r\n            >\r\n              {index => this.pages[index]}\r\n            </Transition>\r\n          </FriendWrapper>\r\n        }\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nconst FriendWrapper = styled.div`\r\n  height: 432px;\r\n  overflow: auto;\r\n  overflow-x: hidden;\r\n  position: relative;\r\n\r\n  &::-webkit-scrollbar {\r\n    width: 5px;\r\n  } \r\n  &::-webkit-scrollbar-track {\r\n    background-color: #fafafa;\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    background: #1976d2; \r\n  }\r\n  a {\r\n    text-decoration: none;\r\n  }\r\n  ul {\r\n    padding: 0;\r\n    padding-bottom: 50px;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    height: calc(100vh - 55px);\r\n    ul {\r\n      padding: unset;\r\n      padding-top: 10px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    openChat: (chat, friend) => {\r\n      dispatch({ type: 'OPEN_CHAT', payload: [chat, friend] })\r\n    },\r\n    closeChat: (friend) => {\r\n      dispatch({ type: 'CLOSE_CHAT', payload: [null, friend] })\r\n    },\r\n  })\r\n)(FriendList);","import React from 'react';\r\nimport { Typography } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nexport default function NoChats() {\r\n  return (\r\n    <Container>\r\n      <Typography variant='body1'>\r\n        Пока у вас нет ни одного диалога.\r\n      </Typography>\r\n      <Typography variant='body2'>\r\n        Выберите коллегу из списка ниже или введите в строке поиска имя, фамилию или занимающую должность коллеги, которому хотите отправить сообщение.\r\n      </Typography>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  padding: 30px 40px;\r\n  height: 150px;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  flex-direction: column;\r\n`;","import React, { Component } from 'react';\r\nimport Dialogues from './Dialogues';\r\nimport API from '../functions/API';\r\nimport $ from 'jquery';\r\nimport Loader from '../Loader/Loader';\r\nimport { connect } from 'react-redux';\r\nimport { Paper } from '@material-ui/core';\r\nimport NoChats from './NoChats';\r\n\r\nclass Chat extends Component {\r\n  state = {\r\n    loading: true,\r\n    user: []\r\n  }\r\n\r\n  fetchChats(id) {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    formData.append('id', id); \r\n\r\n    $.ajax({\r\n      url: `${API}/api/chat/read.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function (res) {\r\n        self.setState({ loading: false });\r\n\r\n        if (res.chats) {\r\n          let result = res.chats;\r\n          result.forEach(item => {\r\n            item.users = item.users.replace(id, '').replace(',', '').trim();\r\n          }) \r\n          self.props.getChats(res.chats);\r\n        }\r\n      },\r\n      error: err => console.log(err)\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { loading, user } = this.state;\r\n    const chats = this.props.store.chats;\r\n    const userStore = this.props.store.user;\r\n\r\n    if (userStore.length > 0 && user.length === 0) {\r\n      this.setState({ user: userStore });\r\n      this.fetchChats(`id${userStore[0].id}`);\r\n    }\r\n    \r\n    return (\r\n      <Paper>\r\n\r\n        {chats.length === 0 ? <NoChats /> : null}\r\n\r\n        {!loading ?\r\n          <Dialogues\r\n            user_id={this.props.user.id}\r\n          />\r\n          : <Loader minHeight={300} color='primary' />}\r\n\r\n      </Paper>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => ({\r\n    store: state\r\n  }),\r\n  dispatch => ({\r\n    getChats: (chats) => {\r\n      dispatch({ type: 'FETCH_CHATS', payload: chats })\r\n    }\r\n  })\r\n)(Chat);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport defaultAvatar from '../img/photos/images.png';\r\n\r\nexport default function UserAvatar({ avatar }) {\r\n  return (\r\n    <Wrapper\r\n      style={{ background: `url(\"${avatar ? avatar : defaultAvatar}\") center center / cover no-repeat` }}\r\n    />\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  border-radius: 50%;\r\n  min-width: 80px;\r\n  margin: 15px 25px;\r\n  min-height: 80px;\r\n`;","import React from 'react';\r\nimport moment from 'moment';\r\nimport UserAvatar from './UserAvatar';\r\nimport styled from 'styled-components';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nexport default function Comment({ item }) {\r\n  return (\r\n    <CommentWrapper>\r\n      <UserAvatar avatar={item.avatar} />\r\n      <CommentContent>\r\n        <Typography variant='subtitle2' color='primary'>{`${item.name} ${item.surname}`}</Typography>\r\n        <Typography variant='body1' style={{ padding: '5px 0' }}>{item.text}</Typography>\r\n        <Typography variant='caption'>\r\n          <b style={{ fontWeight: 500}}>{moment(Number(item.created_at)).calendar()}</b> — комментарий к вашей новости&nbsp;\r\n          <b style={{ fontWeight: 500}}>{item.title}</b>\r\n        </Typography>\r\n      </CommentContent>\r\n    </CommentWrapper>\r\n  )\r\n}\r\n\r\nconst CommentWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px 0;\r\n  border-bottom: 1px solid #f5f5f5;\r\n`;\r\n\r\nconst CommentContent = styled.div`\r\n  width: 100%;\r\n  padding-right: 25px;\r\n`;\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport UserAvatar from './UserAvatar';\r\nimport styled from 'styled-components';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nexport default function Comment({ item }) {\r\n  return (\r\n    <LikeWrapper>\r\n      <UserAvatar avatar={item.avatar} />\r\n      <LikeContent>\r\n        <Typography variant='subtitle2' color='primary'>{`${item.name} ${item.surname}`}</Typography>\r\n        <Typography variant='caption'>\r\n          <b style={{ fontWeight: 500}}>{moment(Number(item.created_at)).calendar()}</b> — понравилась ваша запись&nbsp;\r\n          <b style={{ fontWeight: 500}}>{item.title}</b>\r\n        </Typography>\r\n      </LikeContent>\r\n    </LikeWrapper>\r\n  )\r\n}\r\n\r\nconst LikeWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px 0;\r\n  border-bottom: 1px solid #f5f5f5;\r\n`;\r\n\r\nconst LikeContent = styled.div`\r\n  width: 100%;\r\n  padding-right: 25px;\r\n`;","import React from 'react';\r\nimport moment from 'moment';\r\nimport UserAvatar from './UserAvatar';\r\nimport styled from 'styled-components';\r\nimport { Typography, Tooltip } from '@material-ui/core';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\n\r\nexport default function News({ item }) {\r\n  function createImportantBar() {\r\n    const Important = styled.div`\r\n      display: flex;\r\n      align-items: center;\r\n      margin: 0;\r\n      svg {\r\n        color: rgba(0,0,0,.15);\r\n        margin-right: 5px;  \r\n      }\r\n    `;\r\n    return (\r\n      <Tooltip title='Отмечено как важно' placement='top'>\r\n        <Important>\r\n          <WarningIcon />       \r\n        </Important>\r\n      </Tooltip>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <NewsWrapper>\r\n      <UserAvatar avatar={item.avatar} />\r\n      <NewsContent>\r\n        <Typography variant='subtitle2' color='primary' style={{ display: 'flex', alignItems: 'center' }}>\r\n          {item.importance === '1' ? createImportantBar() : null}\r\n          {`${item.name} ${item.surname} — ${item.title}`}\r\n        </Typography>\r\n        <Typography variant='body1' style={{ padding: '5px 0' }}>{item.text}</Typography>\r\n        <Typography variant='caption'>\r\n          <b style={{ fontWeight: 500}}>{moment(Number(item.created_at)).calendar()}</b>\r\n        </Typography>\r\n      </NewsContent>\r\n    </NewsWrapper>\r\n  )\r\n}\r\n\r\nconst NewsWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px 0;\r\n  border-bottom: 1px solid #f5f5f5;\r\n`;\r\n\r\nconst NewsContent = styled.div`\r\n  width: 100%;\r\n  padding-right: 25px;\r\n`;\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport UserAvatar from './UserAvatar';\r\nimport styled from 'styled-components';\r\nimport { Typography, Tooltip } from '@material-ui/core';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\n\r\nexport default function News({ item }) {\r\n  function createImportantBar() {\r\n    const Important = styled.div`\r\n      display: flex;\r\n      align-items: center;\r\n      margin: 0;\r\n      svg {\r\n        color: rgba(0,0,0,.15);\r\n        margin-right: 5px;  \r\n      }\r\n    `;\r\n    return (\r\n      <Tooltip title='Отмечено как важно' placement='top'>\r\n        <Important>\r\n          <WarningIcon />       \r\n        </Important>\r\n      </Tooltip>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <NewsWrapper>\r\n      <UserAvatar avatar={item.avatar} />\r\n      <NewsContent>\r\n        <Typography variant='subtitle2' color='primary' style={{ display: 'flex', alignItems: 'center' }}>\r\n          {item.importance === '1' ? createImportantBar() : null}\r\n          {`${item.name} ${item.surname} — Поставил вам задачу`}\r\n        </Typography>\r\n        <Typography variant='body1' style={{ padding: '5px 0' }}>{item.text}</Typography>\r\n        <Typography variant='caption'>\r\n          <b style={{ fontWeight: 500}}>{moment(Number(item.created_at)).calendar()}</b> — выполнить до:&nbsp;\r\n          <b style={{ fontWeight: 500}}>{`${item.until_date} — ${item.until_time}`}</b>\r\n        </Typography>\r\n      </NewsContent>\r\n    </NewsWrapper>\r\n  )\r\n}\r\n\r\nconst NewsWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px 0;\r\n  border-bottom: 1px solid #f5f5f5;\r\n`;\r\n\r\nconst NewsContent = styled.div`\r\n  width: 100%;\r\n  padding-right: 25px;\r\n`;\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport UserAvatar from './UserAvatar';\r\nimport styled from 'styled-components';\r\nimport { Typography } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Result({ item }) {\r\n  const result = `${parseFloat(item.result.replace(',','.')) / item.questions.split(',').length * 100}%`;\r\n\r\n  return (\r\n    <ResultWrapper>\r\n      <UserAvatar avatar={item.avatar} />\r\n      <ResultContent>\r\n        <Typography variant='subtitle2' color='primary'>Вы прошли тестирование</Typography>\r\n        <Typography variant='h3' color='primary' style={{ marginTop: 5 }}>{result}</Typography>\r\n        <Typography variant='body1' style={{ padding: '5px 0' }}>Оставшееся время: {item.estimated_time}</Typography>\r\n        <Typography variant='caption'>\r\n          <b style={{ fontWeight: 500}}>{moment(Number(item.created_at)).calendar()}</b>&nbsp;\r\n          — &nbsp;\r\n          <Link to={`/test/${item.id}`} style={{  \r\n            color: '#1976d2', \r\n            textDecoration: 'none'\r\n          }}\r\n          >посмотреть детальные результаты</Link>\r\n        </Typography>\r\n      </ResultContent>\r\n    </ResultWrapper>\r\n  )\r\n}\r\n\r\nconst ResultWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px 0;\r\n  border-bottom: 1px solid #f5f5f5;\r\n`;\r\n\r\nconst ResultContent = styled.div`\r\n  width: 100%;\r\n  padding-right: 25px;\r\n`;\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport UserAvatar from './UserAvatar';\r\nimport styled from 'styled-components';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nexport default function Result({ item }) {\r\n  function getRemainingPlaces(max, signed) {\r\n    let maxUsers = Number(max);\r\n    let signedUsers = signed.split(',').length;\r\n    if (signed === '') signedUsers = 0;\r\n    let remaining = maxUsers - signedUsers;\r\n\r\n    if (remaining === 0) {\r\n      return 'Свободных мест нет.'\r\n    } else if (remaining === 1) {\r\n      return 'Можно записаться, осталось одно место.'\r\n    } else if (remaining > 5) {\r\n      return `Можно записаться, осталось ${remaining} мест.`\r\n    } else if (remaining > 1) {\r\n      return `Можно записаться, осталось ${remaining} места.`\r\n    }\r\n  }\r\n\r\n  return (\r\n    <EventWrapper>\r\n      <UserAvatar avatar={item.avatar} />\r\n      <EventContent>\r\n        <Typography variant='subtitle2' color='primary' style={{ marginBottom: 5 }}>{`Новое событие в календаре — ${item.title}`}</Typography>\r\n        <Typography variant='h6'>{`${moment(item.startDate).calendar()} — ${item.endDate.slice(-5)}`}</Typography>\r\n\r\n        {item.max !== '0' ? <Typography variant='body2'>{getRemainingPlaces(item.max, item.signed)}</Typography> : null}\r\n        <Typography variant='caption' style={{ marginTop: 5 }}>\r\n          <b style={{ fontWeight: 500}}>{moment(Number(item.created_at)).calendar()}</b>\r\n        </Typography>\r\n      </EventContent>\r\n    </EventWrapper>\r\n  )\r\n}\r\n\r\nconst EventWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px 0;\r\n  border-bottom: 1px solid #f5f5f5;\r\n`;\r\n\r\nconst EventContent = styled.div`\r\n  width: 100%;\r\n  padding-right: 25px;\r\n`;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Paper } from '@material-ui/core';\r\nimport API from '../functions/API';\r\nimport { connect } from 'react-redux';\r\nimport Loader from '../Loader/Loader';\r\nimport Comment from './Comment';\r\nimport Like from './Like';\r\nimport News from './News';\r\nimport Task from './Task';\r\nimport Result from './Result';\r\nimport Event from './Event';\r\n\r\nfunction index({ onFetchFeed, store: { feed } }) {\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (feed.length === 0) {\r\n      setLoading(true);\r\n      fetch(`${API}/api/getFeed.php`)\r\n        .then(response => response.json())\r\n        .then(feed => {\r\n          onFetchFeed(feed);\r\n          setLoading(false);  \r\n      })\r\n    } \r\n  }, []);\r\n\r\n\r\n  function renderFeedItem(item) {\r\n    switch(item.type) {\r\n      case 'news':\r\n        return <News key={item.fake_id} item={item} />\r\n      case 'tasks':\r\n        return <Task key={item.fake_id} item={item} />\r\n      case 'results':\r\n        return <Result key={item.fake_id} item={item} />\r\n      case 'events':\r\n        return <Event key={item.fake_id} item={item} />\r\n      case 'likes':\r\n        return <Like key={item.fake_id} item={item} />\r\n      case 'comments':\r\n        return <Comment key={item.fake_id} item={item} />\r\n      default: return 'notfound'\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Paper>\r\n      {loading ? \r\n        <Loader minHeight={370} /> \r\n        :\r\n        feed.map(item => renderFeedItem(item))\r\n      }   \r\n    </Paper>\r\n  )\r\n}\r\n\r\nexport default connect(state => ({ store: state }),\r\ndispatch => ({\r\n  onFetchFeed: (feed) => {\r\n    dispatch({ type: 'FETCH_FEED', payload: feed })\r\n  }\r\n}))(index);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst styles = {\r\n  card: {\r\n    width: '100%',\r\n    maxWidth: 345,\r\n  },\r\n  media: {\r\n    height: 170,\r\n  },\r\n  text: {\r\n    height: 140,\r\n  }\r\n};\r\n\r\nfunction MediaCard(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <Card className={classes.card} style={ props.section === 'materials' ? { pointerEvents: 'none', filter: 'grayscale(100%)' } : {}}>\r\n      <CardActionArea onClick={() => props.changeSection(props.section)}>\r\n        <CardMedia\r\n          className={classes.media}\r\n          image={props.image}\r\n          title={props.title}\r\n        />\r\n        <CardContent\r\n          className={classes.text}\r\n        >\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {props.title}\r\n          </Typography>\r\n          <Typography component=\"p\">\r\n            {props.description}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions>\r\n        <Button size=\"small\" color=\"primary\" onClick={() => props.changeSection(props.section)}>\r\n          {props.button || \"Перейти\"}\r\n        </Button>\r\n\r\n{/*     <Button size=\"small\" color=\"primary\">\r\n          Learn More\r\n        </Button> */}\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n}\r\n\r\nMediaCard.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(MediaCard);","const cards = [\r\n  {\r\n    id: 0,\r\n    image: 'https://coda.newjobs.com/api/imagesproxy/ms/niche/images/can/ml.jpg',\r\n    title: 'Тесты',\r\n    description: \"Здесь вы можете пройти тесты. По прохождению - вы сможете узнать результаты.\",\r\n    section: 'tests'\r\n  },\r\n  { \r\n    id: 1,\r\n    image: 'https://wpdocs.co/wp-content/uploads/2016/04/documentation.png',\r\n    title: 'Материалы',\r\n    description: \"Здесь вы можете посмотреть и изучить учебные материалы, которые помогу вам при прохождении тестов.\",\r\n    section: 'materials',\r\n    button: 'в разработке...'\r\n  },\r\n];\r\n\r\nexport default cards;","import React from 'react';\r\nimport { Paper } from '@material-ui/core';\r\nimport Card from '../Media/Media';\r\nimport cards from './cards';\r\n\r\nexport default function Container(props) {\r\n  return (\r\n    <Paper className={props.class}>\r\n      {cards.map(card => \r\n        <Card \r\n          key={card.id} \r\n          title={card.title} \r\n          image={card.image} \r\n          description={card.description} \r\n          section={card.section}\r\n          changeSection={props.changeSection}\r\n          button={card.button}\r\n        />\r\n      )}\r\n    </Paper>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nexport default function Materials(props) {\r\n  return (\r\n    <div>\r\n      materials\r\n\r\n      <Button variant='contained' onClick={props.closeSection}>Назад</Button>\r\n    </div>\r\n  )\r\n}\r\n","import API from '../functions/API';\r\n\r\nexport async function fetchMistakes() {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/mistake/read.php`)\r\n    .then(response => response.json())\r\n    .then(mistakes => result = mistakes.data)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchTests() {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/test/read.php`)\r\n    .then(response => response.json())\r\n    .then(res => result = res.data)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchTestsById() {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/test/read.php?byid=true`)\r\n    .then(response => response.json())\r\n    .then(res => result = res.data)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchQuestions() {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/question/read.php`)\r\n    .then(response => response.json())\r\n    .then(res => result = res.data)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchCategories() {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/getCategories.php`)\r\n    .then(response => response.json())\r\n    .then(res => result = res)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchTestLastId() {\r\n  let result = '';\r\n\r\n  await fetch(`${API}/api/test/getLastId.php`)\r\n    .then(response => response.json())\r\n    .then(res => result = res)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchSingleTest(id) {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/test/getSingleTest.php?id=${id}`)\r\n    .then(response => response.json())\r\n    .then(res => result = res.data)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchSingleQuestion(id) {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/question/getSingleQuestion.php?id=${id}`)\r\n    .then(response => response.json())\r\n    .then(res => result = res.data)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchTestStatus(id) {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/test/getStatus.php?id=${id}`)\r\n    .then(response => response.json())\r\n    .then(res => result = res.data)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport default [];","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport styled from 'styled-components';\r\n\r\nexport default function NotFound() {\r\n  return (\r\n    <Wrapper>\r\n      <Typography variant='h6'>ничего не найдено</Typography>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  min-height: 220px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  opacity: .35;\r\n`;","import React, { Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Delete from '@material-ui/icons/Delete';\r\nimport styled from 'styled-components';\r\nimport NotFound from './NotFound';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n    backgroundColor: theme.palette.background.paper,\r\n    paddingBottom: 40\r\n  },\r\n  inline: {\r\n    display: 'inline',\r\n  },\r\n});\r\n\r\nfunction ListItemLink(props) {\r\n  return <ListItem button component=\"a\" {...props} />;\r\n}\r\n\r\nfunction TestList(props) {\r\n  const { classes } = props;\r\n  let items = props.items;\r\n\r\n  if (props.completed) {\r\n    items = items.filter(item => {\r\n      return props.completed ? item.completed : !item.completed;\r\n    })\r\n  }\r\n\r\n  function getCorrectTime(time) {\r\n    return time === 'false' || !time  ? 'не ограничено' : `${time} минут`;\r\n  }\r\n\r\n  function getPercent(value) {\r\n    return parseFloat(value.replace(',','.')).toFixed(2) * 100 + '%';\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <List component=\"nav\">\r\n        {items && items.length > 0 ? items.map((item) => \r\n          <Fragment key={item.id}>\r\n            <ListItemLink href={`test/${item.id}`}>\r\n              <ListItemText \r\n                primary={`${item.user_name}, ${item.position} ${item.completed === '1' ? '(завершён)' : item.completed === '0.5' ? '(начат)' : '(ожидает прохождения)'}`} \r\n                secondary={\r\n                  <React.Fragment>\r\n                    <Typography component=\"span\" className={classes.inline} color=\"textPrimary\">\r\n                      {item.date}\r\n                    </Typography>\r\n                    {item.completed === '1' ? ` — Результат: ${getPercent(item.result)}.` : ` — Вопросов в тестировании: ${item.questions.length}, время на прохождение: ${getCorrectTime(item.time)}` }\r\n                  </React.Fragment>\r\n                }\r\n              />\r\n              {!props.completed ?     \r\n                <DeleteIcon onClick={e => props.handleConfirm(e, item.id)}>\r\n                  <Tooltip title=\"Удалить тестирование\" placement=\"top\">\r\n                    <Delete />\r\n                  </Tooltip>\r\n                </DeleteIcon>\r\n              : null }\r\n            </ListItemLink>\r\n            <Divider />\r\n          </Fragment>\r\n        ) : <NotFound /> }\r\n      </List>\r\n    </div>\r\n  );\r\n}\r\n\r\nTestList.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nconst DeleteIcon = styled.span`\r\n  svg {\r\n    font-size: 32px;\r\n    color: rgba(0,0,0,0.54);\r\n    right: 25px;\r\n    padding: 5px;\r\n    top: 0;\r\n    bottom: 0;\r\n    margin: auto;\r\n    position: absolute;\r\n  }\r\n`;\r\n\r\nexport default withStyles(styles)(TestList);","import React from 'react';\r\nimport { Typography } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nexport default function NoTests() {\r\n  return (\r\n    <Container>\r\n      <Typography variant='body1'>\r\n        Пока вы ещё не проходили ниодного тестирования.\r\n      </Typography>\r\n      <Typography variant='body2' style={{ marginTop: 20 }}>\r\n        Как только у вас будет пройдено тестирование - здесь вы сможете просмотреть результаты его выполения.\r\n      </Typography>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  padding: 30px 40px;\r\n  height: 350px;\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n`;","import React from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport SearchIcon from '../img/icons/baseline-search-24px.svg';\r\nimport styled from 'styled-components';\r\n\r\nfunction Search(props) {\r\n  return (\r\n    <SearchWrapper>\r\n      <TextField\r\n        id=\"outlined-adornment-password\"\r\n        variant=\"outlined\"\r\n        type='text'\r\n        label=\"Начните вводить имя, фамилию или должность...\"\r\n        margin='dense'\r\n        value={props.searchValue}\r\n        onChange={props.handleSearch}\r\n        InputProps={{\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <IconButton\r\n                aria-label=\"Начните вводить имя, фамилию или должность...\"\r\n              >\r\n                <img alt='Поиск' src={SearchIcon} style={{ opacity: '.37' }} />\r\n              </IconButton>\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n      />\r\n    </SearchWrapper>\r\n  )\r\n}\r\n\r\nconst SearchWrapper = styled.div`\r\n  padding: 20px;\r\n  & > div {\r\n    width: 100%;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\r\n    padding: 10px 20px 12px;\r\n    height: 80px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: flex-end;\r\n    label {\r\n      line-height: .5;\r\n    }\r\n    input {\r\n      padding: 9px 18.5px;\r\n    }\r\n    input::placeholder {\r\n      color: red;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default Search;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport Select from 'react-select';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Typography, NoSsr, TextField, Paper, Chip, MenuItem } from '@material-ui/core';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport { emphasize } from '@material-ui/core/styles/colorManipulator';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    height: 120,\r\n    marginTop: 20,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between',\r\n    zIndex: 1000,\r\n  },\r\n  input: {\r\n    display: 'flex',\r\n    padding: 0,\r\n  },\r\n  valueContainer: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    zIndex: 1000,\r\n  },\r\n  chip: {\r\n    margin: `${theme.spacing.unit / 2}px ${theme.spacing.unit / 4}px`,\r\n  },\r\n  chipFocused: {\r\n    backgroundColor: emphasize(\r\n      theme.palette.type === 'light' ? theme.palette.grey[300] : theme.palette.grey[700],\r\n      0.08,\r\n    ),\r\n  },\r\n  noOptionsMessage: {\r\n    padding: `${theme.spacing.unit}px ${theme.spacing.unit * 2}px`,\r\n  },\r\n  singleValue: {\r\n    fontSize: 16,\r\n  },\r\n  placeholder: {\r\n    position: 'absolute',\r\n    left: 2,\r\n    fontSize: 16,\r\n  },\r\n  paper: {\r\n    position: 'absolute',\r\n    zIndex: 1000,\r\n    marginTop: theme.spacing.unit,\r\n    left: 0,\r\n    right: 0,\r\n  }\r\n});\r\n\r\nfunction NoOptionsMessage(props) {\r\n  return (\r\n    <Typography\r\n      color=\"textSecondary\"\r\n      className={props.selectProps.classes.noOptionsMessage}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction inputComponent({ inputRef, ...props }) {\r\n  return <div ref={inputRef} {...props} />;\r\n}\r\n\r\nfunction Control(props) {\r\n  return (\r\n    <TextField\r\n      fullWidth\r\n      InputProps={{\r\n        inputComponent,\r\n        inputProps: {\r\n          className: props.selectProps.classes.input,\r\n          inputRef: props.innerRef,\r\n          children: props.children,\r\n          ...props.innerProps,\r\n        },\r\n      }}\r\n      {...props.selectProps.textFieldProps}\r\n    />\r\n  );\r\n}\r\n\r\nfunction Option(props) {\r\n  return (\r\n    <MenuItem\r\n      buttonRef={props.innerRef}\r\n      selected={props.isFocused}\r\n      component=\"div\"\r\n      style={{\r\n        fontWeight: props.isSelected ? 500 : 400,\r\n      }}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </MenuItem>\r\n  );\r\n}\r\n\r\nfunction Placeholder(props) {\r\n  return (\r\n    <Typography\r\n      color=\"textSecondary\"\r\n      className={props.selectProps.classes.placeholder}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction SingleValue(props) {\r\n  return (\r\n    <Typography className={props.selectProps.classes.singleValue} {...props.innerProps}>\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction ValueContainer(props) {\r\n  return <div className={props.selectProps.classes.valueContainer}>{props.children}</div>;\r\n}\r\n\r\nfunction MultiValue(props) {\r\n  return (\r\n    <Chip\r\n      tabIndex={-1}\r\n      label={props.children}\r\n      className={classNames(props.selectProps.classes.chip, {\r\n        [props.selectProps.classes.chipFocused]: props.isFocused,\r\n      })}\r\n      onDelete={props.removeProps.onClick}\r\n      deleteIcon={<CancelIcon {...props.removeProps} />}\r\n    />\r\n  );\r\n}\r\n\r\nfunction Menu(props) {\r\n  return (\r\n    <Paper square className={props.selectProps.classes.paper} {...props.innerProps}>\r\n      {props.children}\r\n    </Paper>\r\n  );\r\n}\r\n\r\nconst components = {\r\n  Control,\r\n  Menu,\r\n  MultiValue,\r\n  NoOptionsMessage,\r\n  Option,\r\n  Placeholder,\r\n  SingleValue,\r\n  ValueContainer,\r\n};\r\n\r\nclass IntegrationReactSelect extends React.Component {\r\n\r\n  render() {\r\n    const { classes, theme } = this.props;\r\n    \r\n    const users = this.props.users.map(user => ({\r\n      value: user.id,\r\n      label: `${user.name} ${user.surname}`,\r\n      position: user.position\r\n    }));\r\n\r\n    const selectStyles = {\r\n      input: base => ({\r\n        ...base,\r\n        color: theme.palette.text.primary,\r\n        '& input': {\r\n          font: 'inherit',\r\n        },\r\n      }),\r\n    };\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <NoSsr>\r\n          <Select\r\n            classes={classes}\r\n            styles={selectStyles}\r\n            textFieldProps={{\r\n              label: 'Сотрудник',\r\n              InputLabelProps: {\r\n                shrink: true,\r\n              },\r\n            }}\r\n            options={users}\r\n            components={components}\r\n            value={this.props.selectedUser}\r\n            onChange={this.props.handleChange('selectedUser')}\r\n            placeholder=\"Выберите тестируемого сотрудника\"\r\n            isMulti={false}\r\n          />\r\n        </NoSsr>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nIntegrationReactSelect.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  theme: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(IntegrationReactSelect);","import React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nlet times = [\r\n  {\r\n    value: false,\r\n    label: 'без времени'\r\n  }\r\n];\r\n\r\nfor (let i = 10; i <= 120; i += 10) {\r\n  let item = {};\r\n  item.value = i;\r\n  item.label = `${i} минут`;\r\n  times.push(item);\r\n}\r\n\r\nconst styles = theme => ({\r\n  textField: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    width: '100%',\r\n  },\r\n  menu: {\r\n    width: 200,\r\n  },\r\n});\r\n\r\nclass TimePicker extends React.Component {\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <Grid container justify=\"space-around\" style={{ paddingBottom: 30 }}>\r\n        <TextField\r\n          select\r\n          label=\"Минуты\"\r\n          className={classes.textField}\r\n          value={this.props.selectedTime}\r\n          onChange={this.props.handleTimeChange}\r\n          SelectProps={{\r\n            MenuProps: {\r\n              className: classes.menu,\r\n            },\r\n          }}\r\n          helperText=\"Пожалуйста, назначьте время прохождения теста\"\r\n          margin=\"dense\"\r\n        >\r\n          {times.map(option => (\r\n            <MenuItem key={option.value} value={option.value}>\r\n              {option.label}\r\n            </MenuItem>\r\n          ))}\r\n        </TextField>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(TimePicker);","import React from 'react';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\n\r\nclass QuestionItem extends React.Component {\r\n\r\n  mark(category, id) {\r\n    this.props.setHeadSubCategory(category);\r\n    this.props.handleMarkQuestion(id, '')\r\n  }\r\n\r\n  render() {\r\n    const { question } = this.props;\r\n    return (\r\n      <ListItem dense button onClick={() => this.mark(this.props.category, question.id)}>\r\n        <Checkbox\r\n          checked={question.checked}\r\n          tabIndex={-1}\r\n          disableRipple\r\n          color='primary'\r\n        />\r\n        <ListItemText primary={question.question} />\r\n      </ListItem>\r\n    );\r\n  }\r\n}\r\n\r\nexport default QuestionItem;","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport QuestionItem from './QuestionItem';\r\nimport List from '@material-ui/core/List';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport { connect } from 'react-redux';\r\n\r\nconst styles = theme => ({\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightRegular,\r\n  },\r\n});\r\n\r\nfunction CategoryItem(props) {\r\n  const [checked, setChecked] = useState(false);\r\n  const [categoryFiltered, setCategoryFiltered] = useState([]);\r\n  const { classes } = props;\r\n  const [checkedSubs, setCheckedSubs] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const categoryFiltered = props.questions.filter(q => q.category === props.value);\r\n    setCategoryFiltered(categoryFiltered);\r\n    findUniqSubcategories(categoryFiltered);\r\n  }, []);\r\n\r\n  function markAll(e) {\r\n    e.stopPropagation();\r\n    let allCategories = props.store.categories;\r\n    setChecked(checked ? false : true);\r\n    !checked ? setCheckedSubs(allCategories) : setCheckedSubs([]);\r\n  }\r\n\r\n  function setHeadSubCategory(category) {\r\n    let current = checkedSubs;\r\n\r\n    if (current.indexOf(category) === -1) {\r\n      current.push(category);\r\n      setChecked(true);\r\n    } else {\r\n      current = current.filter(cat => cat !== category);\r\n      if (current.length === 0) setChecked(false);\r\n    }\r\n    setCheckedSubs(current);\r\n  }\r\n\r\n  function markSub(e, category) {\r\n    e.stopPropagation();\r\n    props.handleMarkQuestion(undefined, props.value, checkedSubs.indexOf(category) !== -1, category)\r\n    let current = checkedSubs;\r\n\r\n    if (current.indexOf(category) === -1) {\r\n      current.push(category);\r\n      setChecked(true);\r\n    } else {\r\n      current = current.filter(cat => cat !== category);\r\n      if (current.length === 0) setChecked(false);\r\n    }\r\n\r\n    setCheckedSubs(current);\r\n  }\r\n\r\n  function findUniqSubcategories(questions) {\r\n    let result = props.store.categories;\r\n    questions.forEach(question => {\r\n      if (result.indexOf(question.subcategory) === -1) result.push(question.subcategory);\r\n    })\r\n    props.getCategories(result);\r\n  }\r\n\r\n  return (\r\n    <ExpansionPanel>\r\n      <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />} className='align-center expansion-panel-top' style={{ paddingLeft: 12 }}>\r\n        <Checkbox\r\n          onClick={e => markAll(e)}\r\n          checked={checked}\r\n          onChange={() => props.handleMarkQuestion('', props.value, checked)}\r\n        />\r\n        <Typography className={classes.heading}>{props.var}</Typography>\r\n      </ExpansionPanelSummary>\r\n      <ExpansionPanelDetails style={{ flexDirection: 'column', padding: 0 }}>\r\n        {/*eslint-disable-next-line */}\r\n        {props.store.categories.map(category => {\r\n          if (categoryFiltered.find(q => q.subcategory === category)) {\r\n            return (\r\n              <ExpansionPanel key={category}>\r\n                <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />} className='align-center' style={{ paddingLeft: 12 }}>\r\n                  <Checkbox\r\n                    color='primary'\r\n                    onClick={e => markSub(e, category)}\r\n                    checked={checkedSubs.indexOf(category) !== -1}\r\n                  />\r\n                  <Typography className={classes.heading}>{category}</Typography>\r\n                </ExpansionPanelSummary>\r\n                <ExpansionPanelDetails style={{ flexDirection: 'column', padding: 0 }}>\r\n                  <List>\r\n                    {/*eslint-disable-next-line */}\r\n                    {categoryFiltered.map(question => {\r\n                      if (question.subcategory === category) {\r\n                        return (\r\n                          <QuestionItem\r\n                            key={question.id}\r\n                            category={category}\r\n                            setHeadSubCategory={setHeadSubCategory}\r\n                            question={question}\r\n                            handleMarkQuestion={props.handleMarkQuestion}\r\n                          />\r\n                        )\r\n                      }\r\n                    })}\r\n                  </List>\r\n                </ExpansionPanelDetails>\r\n              </ExpansionPanel>\r\n            )\r\n          }\r\n        }\r\n        )}\r\n      </ExpansionPanelDetails>\r\n    </ExpansionPanel>\r\n  );\r\n}\r\n\r\nCategoryItem.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    getCategories: categories => {\r\n      dispatch({ type: 'GET_CATEGORIES', payload: categories })\r\n    },\r\n    resetCategories: categories => {\r\n      dispatch({ type: 'RESET_CATEGORIES', payload: categories })\r\n    }\r\n  })\r\n)(withStyles(styles)(CategoryItem));\r\n","import React, { Fragment } from 'react';\r\nimport CategoryItem from './CategoryItem';\r\n\r\nexport default function SelectQuestions(props) {\r\n  return (\r\n    <Fragment>\r\n      {props.categories.map(category => \r\n        <CategoryItem \r\n          key={category.id} \r\n          var={category.var} \r\n          value={category.value} \r\n          questions={props.questions} \r\n          handleMarkQuestion={props.handleMarkQuestion}\r\n        />\r\n      )}\r\n    </Fragment>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport StepContent from '@material-ui/core/StepContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport SelectUser from './SelectUser';\r\nimport SelectTime from './SelectTime';\r\nimport SelectQuestions from './SelectQuestions';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n  },\r\n  actionsContainer: {\r\n    marginBottom: theme.spacing.unit * 2,\r\n  },\r\n  resetContainer: {\r\n    padding: theme.spacing.unit * 3,\r\n  },\r\n});\r\n\r\nfunction getSteps() {\r\n  return ['Выберите сотрудника', 'Назначьте время прохождения', 'Выберите вопросы'];\r\n}\r\n\r\nfunction getStepContent(step) {\r\n  switch (step) {\r\n    case 0:\r\n      return `Выберите сотрудника из выпадающего списка, так же можете начать вводить имя или фамилию сотрудника в строке поиска. Вы можете выбрать только одного сотрудника.`;\r\n    case 1:\r\n      return 'Выберите длительность тестирования из выпадающего списка.';\r\n    case 2:\r\n      return `Отметьте категории или подкатегории вопросов, которые будут в тестировании. Вы можете добавлять в тестирование вопросы из разных категорий.`;\r\n    default:\r\n      return 'Unknown step';\r\n  }\r\n}\r\n\r\nclass VerticalLinearStepper extends React.Component {\r\n  state = {\r\n    activeStep: 0,\r\n  };\r\n\r\n  handleNext = () => {\r\n    this.setState(state => ({\r\n      activeStep: state.activeStep + 1,\r\n    }));\r\n    this.setOverlay(this.state.activeStep + 1);\r\n  };\r\n\r\n  handleBack = () => {\r\n    this.setState(state => ({\r\n      activeStep: state.activeStep - 1,\r\n    }));\r\n    this.setOverlay(this.state.activeStep - 1);\r\n  };\r\n\r\n  handleReset = () => {\r\n    this.setState({\r\n      activeStep: 0,\r\n    });\r\n    this.setOverlay(0)\r\n  };\r\n\r\n  setOverlay(step) {\r\n    const overlay = document.getElementById('overlay-modal');\r\n    if (step === 2) {\r\n      overlay.style.overflow = 'overlay';\r\n    } else {\r\n      overlay.style.overflow = 'visible';\r\n    }\r\n  }\r\n\r\n  checkDisabled = (step, selectedUser, time, questions) => {\r\n    if (step === 0 && selectedUser.length !== 0) return false;\r\n    if (step === 1 && (typeof time === 'boolean' || time)) return false;\r\n    if (step === 2 && questions) {\r\n      const selectedQuestions = questions.filter(question => question.checked);\r\n      if (selectedQuestions.length > 0 ) return false;\r\n    } \r\n    return true;\r\n  }\r\n\r\n  render() {\r\n    const { classes, users, selectedUser, selectedTime, questions, categories } = this.props;\r\n    const steps = getSteps();\r\n    const { activeStep } = this.state;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <Stepper activeStep={activeStep} orientation=\"vertical\">\r\n          {steps.map((label, index) => (\r\n            <Step key={label}>\r\n              <StepLabel>{label}</StepLabel>\r\n              <StepContent>\r\n                <Typography>{getStepContent(index)}</Typography>\r\n                <div className={classes.actionsContainer}>\r\n                  <div>\r\n                    <Button\r\n                      disabled={activeStep === 0}\r\n                      onClick={this.handleBack}\r\n                      className={classes.button}\r\n                    >\r\n                      Назад\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      color={activeStep === steps.length - 1 ? 'secondary' : 'primary'}\r\n                      onClick={activeStep === steps.length - 1 ? () => {this.props.handleSubmit(); this.handleNext()} : this.handleNext}\r\n                      className={classes.button}\r\n                      disabled={this.checkDisabled(activeStep, selectedUser, selectedTime, questions)} \r\n                    >\r\n                      {activeStep === steps.length - 1 ? 'Создать тестирование' : 'Дальше'}\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </StepContent>\r\n            </Step>\r\n          ))}\r\n                        \r\n        </Stepper>\r\n\r\n        {/* Контент */}\r\n        {activeStep === 0 \r\n          ? <SelectUser \r\n              users={users} \r\n              selectedUser={selectedUser}\r\n              handleChange={this.props.handleChange}\r\n            />\r\n          : activeStep === 1\r\n          ? <SelectTime \r\n              selectedTime={selectedTime} \r\n              handleTimeChange={this.props.handleTimeChange}\r\n            />\r\n          : activeStep === 2\r\n          ? <SelectQuestions\r\n              questions={questions}\r\n              categories={categories}\r\n              handleMarkQuestion={this.props.handleMarkQuestion}\r\n            />\r\n          : null } \r\n\r\n        {activeStep === steps.length && (\r\n          <Paper square elevation={0} className={classes.resetContainer}>\r\n            <Typography>Вы можете запустить тестирование в любое время на вкладке \"созданные\" в разделе тесты.</Typography>\r\n            <Button \r\n              onClick={() => {this.handleReset(); this.props.resetAll()}}\r\n              variant=\"contained\"               \r\n              color=\"secondary\"\r\n              className={classes.button}\r\n            >\r\n              Создать ещё одно тестирование\r\n            </Button>\r\n            <Button \r\n              onClick={this.props.handleClose} \r\n              className={classes.button}\r\n            >\r\n              Закрыть\r\n            </Button>\r\n          </Paper>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nVerticalLinearStepper.propTypes = {\r\n  classes: PropTypes.object,\r\n};\r\n\r\nexport default withStyles(styles)(VerticalLinearStepper);","import React, { Component, Fragment } from 'react';\r\nimport { Paper, Typography, Tooltip } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport API from '../../functions/API';\r\nimport Stepper from './Stepper';\r\nimport $ from 'jquery';\r\nimport { connect } from 'react-redux';\r\nimport { withSnackbar } from 'notistack';\r\nimport { fetchQuestions, fetchCategories } from '../../Effects/fetches';\r\nimport moment from 'moment';\r\nimport { fetchTestLastId } from '../../Effects/fetches';\r\n\r\nclass GenerateTest extends Component {\r\n  state = {\r\n    selectedTime: '',\r\n    users: [],\r\n    selectedUser: [],\r\n    questions: [],\r\n    categories: []\r\n  }\r\n\r\n  async componentDidMount() {\r\n    fetch(`${API}/api/user/read.php`)\r\n      .then(response => response.json())\r\n      .then(users => this.setState({ users: users.data }))\r\n      .catch(err => console.log(err))\r\n\r\n    const categories = await fetchCategories();\r\n    const questions = await fetchQuestions();\r\n    \r\n    await this.setState({ questions, categories });\r\n  }\r\n\r\n  handleChange = name => value => this.setState({ [name]: value });\r\n  handleTimeChange = e => this.setState({ selectedTime: e.target.value });\r\n\r\n  handleMarkQuestion = (id, category, checked, sub) => {\r\n    let questions = this.state.questions;\r\n    if (id) {\r\n      let questionToMark = questions.find(question => question.id === id);\r\n      questionToMark.checked = !questionToMark.checked;\r\n    } else {\r\n      if (sub) {\r\n        let questionsToMark = questions.filter(question => question.category === category && question.subcategory === sub);\r\n        questionsToMark.forEach(question => {\r\n          question.checked = !checked;\r\n        });\r\n      } else {\r\n        let questionsToMark = questions.filter(question => question.category === category);\r\n        questionsToMark.forEach(question => {\r\n          question.checked = !checked;\r\n        });\r\n      }\r\n    }\r\n    this.setState({ questions });    \r\n  }\r\n\r\n  handleSubmit = () => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    const { selectedUser, questions, selectedTime } = this.state;\r\n    const selectedQuestions = questions.filter(question => question.checked);\r\n    const selectedQuestionsIds = [];\r\n\r\n    selectedQuestions.map(q => selectedQuestionsIds.push(q.id));\r\n\r\n    formData.append('questions', selectedQuestionsIds);\r\n    formData.append('user_name', selectedUser.label);\r\n    formData.append('user_id', selectedUser.value);\r\n    formData.append('date', moment().format('L'));\r\n    formData.append('time', selectedTime);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/test/create.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: async () => {\r\n        let last_id = await fetchTestLastId();\r\n        await self.props.onAddNewTest({\r\n          questions: selectedQuestionsIds,\r\n          user_name: selectedUser.label,\r\n          user_id: selectedUser.value,\r\n          date: moment().format('L'),\r\n          time: selectedTime,\r\n          completed: false,\r\n          position: selectedUser.position,\r\n          id: Number(last_id)\r\n        })\r\n        await self.props.enqueueSnackbar('Тест успешно был создан', { variant: 'success' });\r\n      },\r\n      error: () => {\r\n        self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' });\r\n      }\r\n    });\r\n  }\r\n  \r\n  resetAll() {\r\n    const questions = [];\r\n    this.state.questions.forEach(question => {\r\n      question.checked = false;\r\n      questions.push(question);\r\n    });\r\n    this.setState({\r\n      selectedTime: '',\r\n      selectedUser: [],\r\n      questions,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { users, selectedUser, selectedTime } = this.state;\r\n\r\n    return (\r\n      <Fragment>\r\n        <Wrapper id='overlay-modal'>\r\n          <Paper>\r\n            <span className='closeNewTask' onClick={this.props.handleClose}>\r\n              <Tooltip title=\"Закрыть\" placement=\"left\"><CloseIcon /></Tooltip>\r\n            </span>\r\n            <Typography variant='h5'>Создать тестирование</Typography>\r\n            <Stepper\r\n              users={users}\r\n              selectedUser={selectedUser}\r\n              selectedTime={selectedTime}\r\n              handleChange={this.handleChange}\r\n              handleTimeChange={this.handleTimeChange}\r\n              handleClose={this.props.handleClose}\r\n              handleSubmit={this.handleSubmit}\r\n              questions={this.state.questions}\r\n              categories={this.state.categories}\r\n              handleMarkQuestion={this.handleMarkQuestion.bind(this)}\r\n              resetAll={this.resetAll.bind(this)}\r\n            />\r\n          </Paper>\r\n        </Wrapper>\r\n        {window.innerWidth >= 600 ? <Backdrop onClick={this.props.handleClose} /> : null}\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  max-width: 850px;\r\n  height: fit-content;\r\n  max-height: 75vh;\r\n  overflow: visible;\r\n  margin: auto;\r\n  background: #ffffff;\r\n  border-radius: 10px;\r\n  outline: none;\r\n  z-index: 10;\r\n\r\n  .listFor {\r\n    max-height: 220px;\r\n    margin-top: 20px;\r\n    overflow: auto;\r\n  }\r\n  ::-webkit-scrollbar {\r\n    width: 5px;\r\n  }\r\n  ::-webkit-scrollbar-track {\r\n    background-color: #ebebeb;\r\n    -webkit-border-radius: 10px;\r\n    border-radius: 10px;\r\n  }\r\n  ::-webkit-scrollbar-thumb {\r\n    -webkit-border-radius: 10px;\r\n    border-radius: 10px;\r\n    background: #1976d2; \r\n  }\r\n\r\n  & > div {\r\n    height: fit-content;\r\n    padding: 20px 30px;\r\n  }\r\n   \r\n  .closeNewTask svg {\r\n    font-size: 30px;\r\n    color: #1976d2;\r\n    opacity: .8;\r\n    cursor: pointer;\r\n    position: absolute;\r\n    right: 20px;\r\n    top: 20px;\r\n\r\n    :hover {\r\n      opacity: .8;\r\n      transition: .37s ease;\r\n    }\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    top: 0;\r\n    max-width: 100%;\r\n    border-radius: unset;\r\n    height: calc(100vh - 55px);\r\n    margin: unset;\r\n    box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\r\n    & > div {\r\n      padding: 20px 15px;\r\n      box-shadow: unset;\r\n      & > div {\r\n        > div:first-child {\r\n          padding: 20px 5px;\r\n        }\r\n      }\r\n    }\r\n    .closeNewTask svg {\r\n      font-size: 32px;\r\n      right: 15px;\r\n    } \r\n  }\r\n`;\r\n\r\nconst Backdrop = styled.div`\r\n  position: absolute;\r\n  top: 0; bottom: 0;\r\n  left: 0; right: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 5;\r\n  background: rgba(0,0,0,.17);\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    onAddNewTest: test => {\r\n      dispatch({ type: 'ADD_TEST', payload: test })\r\n    }\r\n  })\r\n)(withSnackbar(GenerateTest));","import React, { Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TestList from '../List/List';\r\nimport Search from './Search';\r\nimport Fab from '../Fab/Fab';\r\nimport Modal from '../Modal/Modal';\r\nimport GenerateTest from './Steps/GenerateTest';\r\nimport { connect } from 'react-redux';\r\nimport ConfirmDelete from '../Tasks/ConfirmDelete';\r\nimport Loader from '../Loader/Loader';\r\nimport API from '../functions/API';\r\nimport { withSnackbar } from 'notistack';\r\nimport $ from 'jquery';\r\n\r\nfunction TabContainer({ children, dir }) {\r\n  return (\r\n    <Typography component=\"div\" dir={dir}>\r\n      {children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nTabContainer.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n  dir: PropTypes.string.isRequired,\r\n};\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    width: '100%',\r\n  },\r\n});\r\n\r\nclass AdminPanel extends React.Component {\r\n  state = {\r\n    value: 0,\r\n    searchValue: '',\r\n    items: [],\r\n    documentTitle: document.title,\r\n    open: false,\r\n    confirm: false,\r\n    loading: false\r\n  };\r\n\r\n  handleChange = (event, value) => {\r\n    this.setState({ value });\r\n  };\r\n\r\n  handleChangeIndex = index => {\r\n    this.setState({ value: index });\r\n  };\r\n\r\n  handleSearch = (e) => {\r\n    this.setState({ searchValue: e.target.value });\r\n    const searchValue = e.target.value.toLowerCase();\r\n    document.title = e.target.value || this.state.documentTitle;\r\n    let items = this.state.items;\r\n    items = items.filter(item => \r\n      item.user_name.toLowerCase().includes(searchValue) || \r\n      item.position.toLowerCase().includes(searchValue)\r\n    );\r\n    this.props.onFilterTests(items);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ items: this.props.store.tests });\r\n  }\r\n\r\n  componentWillUnmount = () => {\r\n    document.title = this.state.documentTitle;\r\n  }\r\n\r\n  openModal = () => this.setState({ open: true });\r\n  closeModal = () => this.setState({ open: false });\r\n  handleClose = () => this.setState({ open: false, confirm: false, preparedToDelete: null });\r\n  handleConfirm = (e,id) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.setState({ confirm: true, preparedToDelete: id });\r\n  }\r\n\r\n  handleDelete = () => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    this.setState({ loading: true, confirm: false })\r\n    formData.append('id', this.state.preparedToDelete);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/test/delete.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: res => {\r\n        console.log(res);\r\n        self.props.onDeleteTest(self.state.preparedToDelete);\r\n        self.setState({ loading: false, preparedToDelete: null });\r\n        self.props.enqueueSnackbar('Тестирование успешно было удалено', { variant: 'info' });\r\n      },\r\n      error: err => {\r\n        console.log(err);\r\n        self.props.enqueueSnackbar('Что-то пошло не так, попробуйте снова', { variant: 'error' });\r\n      }\r\n    }); \r\n  }\r\n\r\n  render() {\r\n    const { classes, theme } = this.props;\r\n    const { tests } = this.props.store;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <AppBar position=\"static\" color=\"default\">\r\n          <Tabs\r\n            value={this.state.value}\r\n            onChange={this.handleChange}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            variant=\"fullWidth\"\r\n          >\r\n            <Tab label=\"Завершенные\" />\r\n            <Tab label=\"Созданные\" />\r\n          </Tabs>\r\n        </AppBar>\r\n\r\n        {this.state.loading \r\n        ? <Loader minHeight={300} color='primary' />\r\n        : \r\n        <Fragment>\r\n          <Search \r\n            handleSearch={this.handleSearch}\r\n            searchValue={this.state.searchValue}\r\n          />\r\n\r\n          <SwipeableViews\r\n            axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\r\n            index={this.state.value}\r\n            onChangeIndex={this.handleChangeIndex}\r\n            style={{ maxHeight: 350, paddingBottom: 50 }}\r\n            className='swipeable'\r\n          >\r\n            <TabContainer dir={theme.direction}>\r\n              <TestList items={tests.length > 0 ? tests : []} completed={true} handleConfirm={this.handleConfirm} />\r\n            </TabContainer>\r\n            <TabContainer dir={theme.direction}>\r\n              <TestList items={tests.length > 0 ? tests : []} completed={false} handleConfirm={this.handleConfirm} />\r\n            </TabContainer>\r\n          </SwipeableViews>\r\n        </Fragment>\r\n        }\r\n\r\n        {/* Add new task modal */}\r\n        <Modal\r\n          open={this.state.open}\r\n          handleClose={this.closeModal}\r\n          component={\r\n            <GenerateTest\r\n              handleClose={this.closeModal}\r\n            />}\r\n        />\r\n\r\n        {/* Confirm delete modal */}\r\n        <Modal\r\n          open={this.state.confirm}\r\n          handleClose={this.handleClose.bind(this)}\r\n          component={<ConfirmDelete\r\n            handleDelete={this.handleDelete}\r\n            handleClose={this.handleClose.bind(this)}\r\n            name='тестирование'\r\n          />}\r\n        />\r\n\r\n        <span onClick={this.openModal}>\r\n          <Fab title=\"Создать тестирование\" />\r\n        </span>\r\n  \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nAdminPanel.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  theme: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    onFilterTests: tests => {\r\n      dispatch({ type: \"FILTER_TESTS\", payload: tests })\r\n    },\r\n    onDeleteTest: test_id => {\r\n      dispatch({ type: \"DELETE_TEST\", payload: test_id })\r\n    }\r\n  })\r\n)(withSnackbar(withStyles(styles, { withTheme: true })(AdminPanel)));\r\n\r\n","import React from 'react';\r\nimport { Typography, Paper } from '@material-ui/core';\r\n\r\nexport default function UserPanel() {\r\n  return (\r\n    <Paper style={styles}>\r\n      <Typography variant='h5'>Тестирования</Typography>\r\n      <Typography variant='body2'>Здесь вы можете просмотреть результаты пройденных вами тестов.</Typography>\r\n    </Paper>\r\n  )\r\n}\r\n\r\nconst styles = {\r\n  marginBottom: 10,\r\n  padding: '35px 15px 15px'\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { Button, Paper } from '@material-ui/core/';\r\nimport { fetchTests, fetchTestsById } from '../Effects/fetches';\r\nimport Loader from '../Loader/Loader';\r\nimport TestList from '../List/List';\r\nimport KeyboardBackspace from '@material-ui/icons/KeyboardBackspace';\r\nimport styled from 'styled-components';\r\nimport NoTests from './NoTests';\r\nimport AdminPanel from './AdminPanel';\r\nimport { connect } from 'react-redux';\r\nimport UserPanel from './UserPanel';\r\n\r\nfunction Tests(props) {\r\n  const { tests } = props.store;\r\n  const isAdmin = props.store.user[0].admin;\r\n  const [loading, setLoading] = useState(tests.length === 0 ? true : false);\r\n\r\n  useEffect(() => {\r\n    if (tests.length === 0) {\r\n        async function fetchData() {\r\n        const response = isAdmin === '1' ? await fetchTests() : await fetchTestsById();\r\n        props.fetchTests(response);\r\n        setLoading(false);\r\n      }\r\n      fetchData(); \r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Paper style={{ minHeight: 300, position: 'relative' }}>\r\n\r\n      {!loading && isAdmin === '1' ? <AdminPanel items={tests} /> : null}\r\n\r\n      {!loading && isAdmin === '0' ? <UserPanel /> : null}\r\n\r\n      {loading \r\n        ? <Loader minHeight={350} color='primary' /> \r\n        : tests && tests.length > 0 && isAdmin === '0'\r\n          ? <TestList items={tests}/>\r\n          : isAdmin === '0' ? <NoTests /> : null}\r\n\r\n      <Buttons>\r\n        <Button  \r\n          color='primary' \r\n          onClick={props.closeSection}\r\n        >\r\n          <KeyboardBackspace />\r\n          Назад \r\n        </Button>\r\n      </Buttons>\r\n    </Paper>\r\n  )\r\n}\r\n\r\nconst Buttons = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  position: absolute;\r\n  bottom: 0;\r\n  button {\r\n    width: 100%;\r\n    height: 50px;\r\n    margin: 20px auto 0;\r\n    background: #fff;\r\n    span > svg {\r\n      margin-right: 10px;\r\n    }\r\n    :hover {\r\n      background: #1976d2;\r\n      color: white;\r\n      svg {\r\n        color: white;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    fetchTests: tests => {\r\n      dispatch({ type: 'FETCH_TESTS', payload: tests })\r\n    }\r\n  })\r\n)(Tests);","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport ResponsiveHeader from '../ResponsiveHeader/ResponsiveHeader';\r\nimport Cards from './Container';\r\nimport Materials from './Materials';\r\nimport Tests from './Tests';\r\n\r\nfunction Learnings() {\r\n  const [opened, setOpened] = useState(false);\r\n\r\n  function changeSection(section) {\r\n    setOpened(section);\r\n  }\r\n\r\n  function closeSection() {\r\n    setOpened(false);\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      {window.innerWidth < 600 ? <ResponsiveHeader title='Обучение' /> : null}\r\n\r\n      {!opened \r\n        ? <Cards \r\n            class='learnings-container' \r\n            changeSection={changeSection} \r\n          />\r\n        : opened === 'tests' \r\n          ? <Tests closeSection={closeSection} />\r\n          : <Materials closeSection={closeSection} />\r\n      }\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  .learnings-container {\r\n    display: flex;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    .learnings-container {\r\n      flex-direction: column;\r\n      padding-bottom: 50px;\r\n      & > div {\r\n        margin: 0 auto 25px;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default Learnings;","import React, { Component, Fragment } from 'react';\r\nimport './css/MainPage.css'\r\nimport Header from './Header';\r\nimport MainpageHeader from './MainpageHeader';\r\nimport SideNews from './SideNews';\r\nimport FriendsList from './FriendsList/FriendsList';\r\nimport PersonalInfo from './PersonalInfo';\r\nimport Tasks from './Tasks/Tasks';\r\nimport News from './News';\r\nimport Nav from './Navigation/Navigation';\r\nimport styled from 'styled-components';\r\nimport Chat from './Chat/Chat';\r\nimport { connect } from 'react-redux';\r\nimport API from './functions/API';\r\nimport Feed from './Feed/index';\r\nimport Learnings from './Learnings/Learnings';\r\n\r\nclass MainPage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user_id: 0,\r\n      user_logged_id: 0,\r\n      user: [],\r\n      initialUser: [],\r\n      section: window.location.pathname.slice(1),\r\n      loading: true\r\n    }\r\n    this.handleChangeUrl      = this.handleChangeUrl.bind(this);  \r\n    this.handleChangeSection  = this.handleChangeSection.bind(this);  \r\n    this.handleChangeUserId   = this.handleChangeUserId.bind(this);\r\n    this.switchComponent      = this.switchComponent.bind(this);  \r\n  }\r\n\r\n  handleChangeUrl() { \r\n    let url = `${API}/api/user/read_one.php`;\r\n\r\n    if (this.state.user_logged_id) {\r\n      url += `?id=${this.state.user_logged_id}`;\r\n    }\r\n\r\n    fetch(url)\r\n      .then(response => response.json())\r\n      .then(user => this.setState({ user }))\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  handleChangeSection(section) {\r\n    this.setState({ section });\r\n    this.handleChangeUrl();\r\n\r\n    if (section.includes('id')) {\r\n      fetch(`${API}/api/user/info.php`)\r\n        .then(response => response.json())\r\n        .then(user => this.setState({ user: user, user_id: parseInt(user.id) }))\r\n    }\r\n  }\r\n\r\n  handleChangeUserId(id) {\r\n    this.setState({ user_id: id, section: `id${id}`})\r\n    fetch(`${API}/api/user/read_one.php`)\r\n      .then(response => response.json())\r\n      .then(user => this.setState({ user, user_id: parseInt(user.id) }))\r\n  }\r\n\r\n  componentWillMount() {\r\n    fetch(`${API}/api/user/info.php`)\r\n      .then(response => response.json())\r\n      .then(user => this.setState({ initialUser: user, user_logged_id: parseInt(user.id) }))\r\n    \r\n    if (window.location.pathname.includes('id')) {\r\n      const current_id = window.location.pathname.slice(3);\r\n      this.setState({ user_id: parseInt(current_id)});\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    fetch(`${API}/api/user/read_one.php`)\r\n      .then(response => response.json())\r\n      .then(user => this.setState({ user: user, loading: false }))\r\n      .then(() => this.props.getUser(this.state.initialUser))\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  switchComponent(){\r\n    switch(this.state.section) {\r\n      case `id${this.state.user_id}`:\r\n        return <PersonalInfo user_id={this.state.user_id} user_logged_id={this.state.user_logged_id} user={this.state.user} />\r\n      case 'messages':\r\n        return <Chat user={this.state.user} />;\r\n      case 'news':\r\n        return <News user={this.state.user} />;\r\n      case 'tasks':\r\n        return <Tasks user_logged_id={this.state.user_logged_id} />;\r\n      case 'learnings':\r\n        return <Learnings />;\r\n      case 'colleagues':\r\n        return (\r\n            <FriendsList \r\n              handleChangeUserId={this.handleChangeUserId} \r\n              user_id={this.state.user_logged_id}\r\n            />\r\n        )\r\n      case 'feed':\r\n        return <Feed />;\r\n      /*case 'gallery':\r\n        return 'gallery';\r\n      case 'favourites':\r\n        return 'favourites'; */\r\n      default: return null;\r\n    }\r\n  }\r\n  \r\n  render() {\r\n    const { user_id, user_logged_id, user, initialUser, loading } = this.state;\r\n    \r\n    if (user.error === 1) { window.location.href = '/404';}\r\n    \r\n    return (\r\n      <Fragment>\r\n        <MainpageHeader \r\n          user={initialUser} loading={loading}\r\n        />\r\n        <div className=\"container\">\r\n          <Header />\r\n          <Nav \r\n            user_id={user_id}\r\n            user_logged_id={user_logged_id} \r\n            handleChangeUrl={this.handleChangeUrl} \r\n            handleChangeSection={this.handleChangeSection}\r\n          />\r\n          <MainSection>\r\n            <SideNews \r\n              handleChangeSection={this.handleChangeSection} \r\n              user={user} \r\n            />\r\n            <div className=\"main-page-container\">\r\n              {this.switchComponent()}\r\n            </div>\r\n          </MainSection>  \r\n        </div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst MainSection = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport default connect(\r\n  state => ({\r\n    store: state,\r\n  }),\r\n  dispatch => ({\r\n    getUser: user => {\r\n      dispatch({ type: 'LOGGED_IN', payload: user })\r\n    }\r\n  })\r\n)(MainPage);","import React, { Component, Fragment } from 'react';\r\nimport $ from 'jquery';\r\nimport { withSnackbar } from 'notistack';\r\nimport API from './functions/API';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\nimport { Button, Typography, TextField } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nclass ForgetPassword extends Component {\r\n  state = {\r\n    credentials: ''\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    var self = this;\r\n    e.preventDefault();\r\n\r\n    if (this.state.credentials) {\r\n      const formData = new FormData();\r\n      formData.append('credentials', this.state.credentials);\r\n\r\n      $.ajax({\r\n        url: `${API}/api/user/forget.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: function (res) {\r\n          console.log(res);\r\n          let response = res.result;\r\n\r\n          if (response === 1) {\r\n            self.props.enqueueSnackbar('На указанный вами при регистрации email - были отправлены рекомендации по восстановлению пароля', { variant: 'info' });\r\n            self.props.forgetPassword();\r\n          } else {\r\n            self.props.enqueueSnackbar('К сожалению, такого логина или email - не существует. Проверьте правильность введенных данных', { variant: 'info' });\r\n          }\r\n        },\r\n        error: function () {\r\n          self.props.enqueueSnackbar('Ошибка авторизации', { variant: 'error' });\r\n        }\r\n      });\r\n\r\n    } else {\r\n      self.props.enqueueSnackbar('Пожалуйста, введите, логин или пароль', { variant: 'warning' });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <Wrapper>\r\n          <Icon>\r\n            <CloseIcon onClick={this.props.forgetPassword} />\r\n          </Icon>\r\n          <Typography variant='subtitle2'>Восстановление пароля.</Typography>\r\n          <TextField\r\n            label=\"E-mail или логин\"\r\n            variant=\"outlined\"\r\n            name='login'\r\n            fullWidth\r\n            margin='dense'\r\n            error={this.state.credential}\r\n            onChange={e => this.setState({ credentials: e.target.value })}\r\n            value={this.state.username}\r\n          />\r\n          <Button variant='contained' color='primary' onClick={this.handleSubmit}>Отправить</Button>\r\n        </Wrapper>\r\n        <div className=\"black-wrapper black-wrapper__this\" onClick={this.props.forgetPassword}></div>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\nconst Wrapper = styled.div`\r\n  background: #fff;\r\n  z-index: 100;\r\n  width: 500px;\r\n  height: 258px;\r\n  left: 0;\r\n  right: 0;\r\n  position: fixed;\r\n  top: 25%;\r\n  margin: auto;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  justify-content: space-evenly;\r\n  padding: 30px;\r\n`;\r\nconst Icon = styled.div`\r\n  position: absolute;\r\n  right: 25px;\r\n  top: 15px;  \r\n  cursor: pointer;\r\n  svg {\r\n    color: #1976d2;\r\n  }\r\n`;\r\nexport default withSnackbar(ForgetPassword);\r\n","class Cookie {\r\n  setCookie(cname, cvalue, exdays) {\r\n    var d = new Date();\r\n    d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\r\n    var expires = \"expires=\"+d.toUTCString();\r\n    document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\r\n  }\r\n\r\n  getCookie(cname) {\r\n    var name = cname + \"=\";\r\n    var ca = document.cookie.split(';');\r\n    for(var i = 0; i < ca.length; i++) {\r\n      var c = ca[i];\r\n      while (c.charAt(0) === ' ') {\r\n        c = c.substring(1);\r\n      }\r\n      if (c.indexOf(name) === 0) {\r\n        return c.substring(name.length, c.length);\r\n      }\r\n    }\r\n    return \"\";\r\n  }\r\n\r\n  checkCookie() {\r\n    var user = this.getCookie(\"username\");\r\n    if (user !== \"\") {\r\n      alert(\"Welcome again \" + user);\r\n    } else {\r\n      user = prompt(\"Please enter your name:\", \"\");\r\n      if (user !== \"\" && user !== null) {\r\n        this.setCookie(\"username\", user, 365);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default Cookie;","import React, { Component, Fragment } from 'react';\r\nimport $ from 'jquery';\r\nimport ForgetPassword from './ForgetPassword';\r\nimport { connect } from 'react-redux';\r\nimport API from './functions/API';\r\nimport { Button } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport { withSnackbar } from 'notistack';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Cookie from './functions/Cookie';\r\n\r\nclass SignupForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      login: '',\r\n      password: '',\r\n      isForget: '',\r\n      isPassHidden: false,\r\n      invalidText: false,\r\n      invalidPass: false\r\n    }\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  // динамически обрабатываем изменения полей\r\n  handleChange(event) {\r\n    this.setState({ invalidText: false, invalidPass: false })\r\n    // ставим стейт исходя из именя поля и вводимого значения\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    })\r\n  }\r\n\r\n  forgetPassword = () => this.setState({ isForget: !this.state.isForget });\r\n\r\n  handleSubmit(e) {\r\n    var self = this;\r\n    e.preventDefault();\r\n\r\n    if (this.state.login !== '' && this.state.password.length >= 8) {\r\n      const formData = new FormData();\r\n\r\n      formData.append('login', this.state.login);\r\n      formData.append('password', this.state.password);\r\n\r\n      $.ajax({\r\n        url: `${API}/api/user/signup.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: function (res) {\r\n          let jwt = res.jwt;\r\n          let response = res.result;\r\n          let user_id = res.user_id;\r\n          let cookie = new Cookie();\r\n\r\n          switch (response) {\r\n            case 0:\r\n              self.props.enqueueSnackbar('Не удалось войти. Проверьте правильность введенных данных', { variant: 'warning' });\r\n              break;\r\n            case 0.5:\r\n              self.props.enqueueSnackbar('К сожалению, ваша учетная запись ещё не подтверждена, попробуйте войти позже', { variant: 'info' });\r\n              break;\r\n            case 'error':\r\n              self.props.enqueueSnackbar('Не удалось войти. Проверьте правильность введенных данных', { variant: 'error' });\r\n              break;\r\n            case 1:\r\n              localStorage.setItem('akv_jwt_token', jwt);\r\n              cookie.setCookie('akv_jwt_token', jwt, 30);\r\n              cookie.setCookie('user_id', user_id, 30);\r\n              window.location.href = `/`;  \r\n              break;\r\n            default: break;\r\n          }\r\n        },\r\n        error: function () {\r\n          self.props.enqueueSnackbar('Ошибка авторизации', { variant: 'error' });\r\n        }\r\n      });\r\n\r\n    } else {\r\n      self.props.enqueueSnackbar('Пожалуйста, заполните все поля', { variant: 'warning' });\r\n      if (this.state.password.length < 8) this.setState({ invalidPass: true })\r\n      if (!this.state.login) this.setState({ invalidText: true })\r\n    }\r\n  }\r\n\r\n  handleClickShowPassword = () => {\r\n    this.setState({ isPassHidden: !this.state.isPassHidden });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <div className=\"form-container\" style={{ 'paddingBottom': '45px' }}>\r\n          <form className=\"registerForm\" id=\"register\" action=\"\" method=\"POST\" onSubmit={this.handleSubmit}>\r\n\r\n            <TextField\r\n              label=\"Логин или email\"\r\n              variant=\"outlined\"\r\n              name='login'\r\n              fullWidth\r\n              margin='dense'\r\n              onChange={this.handleChange}\r\n              value={this.state.username}\r\n              error={this.state.invalidText}\r\n            />\r\n\r\n            <TextField\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              type={this.state.isPassHidden ? 'text' : 'password'}\r\n              label=\"Пароль\"\r\n              margin='dense'\r\n              name='password'\r\n              error={this.state.invalidPass}\r\n              value={this.state.password}\r\n              onChange={this.handleChange}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      aria-label=\"Toggle password visibility\"\r\n                      onClick={this.handleClickShowPassword}\r\n                    >\r\n                      {this.state.isPassHidden ? <VisibilityOff /> : <Visibility />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n            {this.state.invalidPass ? <FormHelperText style={{ color: '#f44336' }}>Пароль должен быть не менее 8 символов</FormHelperText> : ''}\r\n\r\n            <Buttons>\r\n              <Button variant='text' color='default' onClick={this.forgetPassword}>Забыли пароль?</Button>\r\n              <Button variant='contained' color='primary' type='submit'>Войти</Button>\r\n            </Buttons>\r\n            {this.state.isForget ? <ForgetPassword forgetPassword={this.forgetPassword} /> : null}\r\n          </form>\r\n        </div>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst Buttons = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 35px;\r\n`;\r\n\r\nexport default connect(\r\n  state => ({\r\n    global: state\r\n  }),\r\n  dispatch => ({\r\n    login: (user) => {\r\n      dispatch({ type: 'LOGGED_IN', payload: user })\r\n    }\r\n  })\r\n)(withSnackbar(SignupForm));","import React, { Component, Fragment } from 'react';\r\nimport $ from 'jquery';\r\nimport { withSnackbar } from 'notistack';\r\nimport API from './functions/API';\r\nimport { Button } from '@material-ui/core';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport styled from 'styled-components';\r\nimport Loader from './Loader/Loader';\r\n\r\nclass RegisterForm extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      email: '',\r\n      login: '',\r\n      password: '',\r\n      confirmed: '',\r\n      isEmailValid: '',\r\n      isPassHidden: false, \r\n      entered: false,\r\n      name: '',\r\n      surname: '',\r\n      loading: false\r\n    }\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.validateEmail = this.validateEmail.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.showPassword = this.showPassword.bind(this);\r\n  }\r\n\r\n  // динамически обрабатываем изменения полей\r\n  handleChange(event) {\r\n    // ставим стейт исходя из именя поля и вводимого значения\r\n    this.setState({\r\n      [event.target.name]: event.target.value,\r\n      entered: false\r\n    })\r\n    // если вводится е-мэйл то прогоняем через функцию\r\n    if (event.target.name === 'email') {\r\n      this.validateEmail(event.target.value);\r\n      // если вводимое значение пустое - то убираем подсказку \r\n      if (event.target.value === '') {\r\n        this.setState({ isEmailValid: '' });\r\n      }\r\n    }\r\n  }\r\n\r\n  validateEmail(email) {\r\n    // eslint-disable-next-line\r\n    const regExp = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    regExp.test(email) ? this.setState({ isEmailValid: true }) : this.setState({ isEmailValid: false });\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    var self = this;\r\n    e.preventDefault();\r\n    this.setState({ entered: true, loading: true });\r\n\r\n    if (this.state.login &&  this.state.surname && this.state.name && this.state.isEmailValid && this.state.password) {\r\n      const formData = new FormData();\r\n\r\n      formData.append('login', this.state.login);\r\n      formData.append('email', this.state.email);\r\n      formData.append('password', this.state.password);\r\n      formData.append('name', this.state.name);\r\n      formData.append('surname', this.state.surname);\r\n\r\n      $.ajax({\r\n        url: `${API}/api/user/register.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: function (res) {\r\n          const response = res.result;\r\n\r\n          switch (response) {\r\n            case 0:\r\n              self.props.enqueueSnackbar('Не удалось зарегистрироватьcя.', { variant: 'error' });\r\n              break;\r\n            case 1:\r\n              self.props.enqueueSnackbar('Вы успешно зарегистрировались, как только вашу учетную запись подтвердят - вы сможете начать пользоваться сервисом. Вы получите уведомление по указанной при регистрации почте.', { variant: 'success' });\r\n              self.setState({ \r\n                email: '',\r\n                login: '',\r\n                name: '',\r\n                surname: '',\r\n                password: '',\r\n                confirmed: '',\r\n                isEmailValid: '',\r\n                isPassHidden: false, \r\n                entered: false,\r\n                loading: false\r\n              })\r\n              break;\r\n            case 2:\r\n              self.props.enqueueSnackbar('Пользователь с таким логином или email уже существует', { variant: 'warning' });\r\n              break;\r\n            default: return null;\r\n          }\r\n        },\r\n        error: function () {\r\n          self.props.enqueueSnackbar('Ошибка регистрации', { variant: 'error' });\r\n        }\r\n      });\r\n    } else {\r\n      self.props.enqueueSnackbar('Пожалуйста, заполните все поля', { variant: 'warning' });\r\n    }\r\n  }\r\n\r\n  showPassword() {\r\n    this.setState({ isPassHidden: !this.state.isPassHidden });\r\n  }\r\n\r\n  handleClickShowPassword = () => {\r\n    this.setState({ isPassHidden: !this.state.isPassHidden });\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <div className=\"form-container\">\r\n          <form id=\"register\" action=\"\" method=\"POST\" onSubmit={this.handleSubmit}>\r\n            <TextField\r\n              label=\"Имя\"\r\n              variant=\"outlined\"\r\n              name='name'\r\n              fullWidth\r\n              error={this.state.entered && !this.state.name}\r\n              margin='dense'\r\n              onChange={this.handleChange}\r\n              value={this.state.name}\r\n            />\r\n            <TextField\r\n              label=\"Фамилия\"\r\n              variant=\"outlined\"\r\n              name='surname'\r\n              fullWidth\r\n              error={this.state.entered && !this.state.surname}\r\n              margin='dense'\r\n              onChange={this.handleChange}\r\n              value={this.state.surname}\r\n            />\r\n            <TextField\r\n              label=\"Логин или email\"\r\n              variant=\"outlined\"\r\n              name='login'\r\n              fullWidth\r\n              error={this.state.entered && !this.state.login}\r\n              margin='dense'\r\n              onChange={this.handleChange}\r\n              value={this.state.login}\r\n            />\r\n\r\n            <TextField\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              type={this.state.isPassHidden ? 'text' : 'password'}\r\n              label=\"Пароль\"\r\n              margin='dense'\r\n              name='password'\r\n              value={this.state.password}\r\n              onChange={this.handleChange}\r\n              error={this.state.entered && this.state.password.length < 8}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      aria-label=\"Toggle password visibility\"\r\n                      onClick={this.handleClickShowPassword}\r\n                    >\r\n                      {this.state.isPassHidden ? <VisibilityOff /> : <Visibility />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n            {this.state.password.length > 0 && this.state.password.length < 8 ? <FormHelperText style={{ color: '#f44336' }}>Пароль должен быть не менее 8 символов</FormHelperText> : ''}\r\n\r\n            <TextField\r\n              label=\"Повторите пароль\"\r\n              variant=\"outlined\"\r\n              name='confirmed'\r\n              fullWidth\r\n              margin='dense'\r\n              type='password'\r\n              error={this.state.entered && this.state.confirmed.length < 8}\r\n              onChange={this.handleChange}\r\n              value={this.state.confirmed}\r\n            />\r\n\r\n            {this.state.password !== this.state.confirmed && this.state.confirmed !== '' ? <FormHelperText style={{ color: '#f44336' }}>Пароль должны совпадать</FormHelperText> : null}\r\n\r\n            <TextField\r\n              label=\"Электронная почта\"\r\n              variant=\"outlined\"\r\n              name='email'\r\n              fullWidth\r\n              error={this.state.entered && !this.state.isEmailValid && !this.state.email.lentgh}\r\n              margin='dense'\r\n              onChange={this.handleChange}\r\n              value={this.state.email}\r\n            />\r\n            {!this.state.isEmailValid && this.state.email ? <FormHelperText style={{ color: '#f44336' }}>Пожалуйста, введите настоящий email адрес</FormHelperText> : ''}\r\n\r\n            <BtnWrapper>\r\n              <Button variant='contained' color='primary' type='submit' disabled={this.state.loading}> \r\n                {this.state.loading ? <Loader minHeight={30} color='secondary' /> : 'Зарегистрироваться'}  \r\n              </Button>\r\n            </BtnWrapper>\r\n          </form>\r\n\r\n        </div>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\nconst BtnWrapper = styled.div`\r\n  button {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 30px;\r\n    margin: auto;\r\n    width: fit-content;\r\n    min-width: 199px;\r\n    background: #1976d2 !important;\r\n    & > span > div > div {\r\n      height: 25px !important;\r\n      width: 25px !important;\r\n    }\r\n  }\r\n`;\r\nexport default withSnackbar(RegisterForm);","import React from 'react';\r\nimport './css/BgBubbles.css';\r\n\r\nconst BgBubbles = ({ cssClass }) => {\r\n  return (\r\n    <ul className={cssClass ? `${cssClass} bg-bubbles` : 'bg-bubbles'}>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default BgBubbles;","import React, { Component } from 'react';\nimport SignupForm from './SignupForm';\nimport RegisterForm from './RegisterForm';\nimport Header from './Header';\nimport Typography from '@material-ui/core/Typography';\nimport BgBubbles from './BgBubbles';\nimport './css/LoginForms.css';\n\nclass LoginForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      whichForm: false,\n    }\n    this.changeForm = this.changeForm.bind(this);\n  }\n\n  changeForm() {\n    this.setState({whichForm: !this.state.whichForm});\n  }\n\n  render() {\n    return (\n      <div className=\"login-screen\">\n        <Header />\n        <div className=\"login-screen-container\">\n          <p className=\"login-screen-greetings\">Здравствуйте</p>  \n          <div className=\"login-button-container\">\n            <button className={this.state.whichForm ? 'login-screen-button login-screen-button-enabled' : 'login-screen-button'} onClick={this.changeForm}>\n              <Typography variant='button'>Войти</Typography>\n            </button>\n            <button className={this.state.whichForm ? 'login-screen-button' : 'login-screen-button login-screen-button-enabled'} onClick={this.changeForm}>\n              <Typography variant='button'>Зарегистрироваться</Typography>\n            </button>\n          </div>              \n          {this.state.whichForm ? <RegisterForm /> : <SignupForm />}                        \n        </div>\n        <BgBubbles /> \n      </div>\n    );\n  }\n}\n\nexport default LoginForm;\n","import React, { Component } from 'react';\r\nimport Header from './Header';\r\nimport BgBubbles from './BgBubbles';\r\nimport './css/LoginForms.css';\r\nimport './css/Approved.css';\r\n\r\nclass Approved extends Component {\r\n  goToMain = () => window.location.href = '/';\r\n  closeWindow = () => window.close();\r\n\r\n  render() {\r\n   return (\r\n      <div className=\"login-screen\">\r\n        <Header />\r\n        <div className=\"approved-container\">\r\n          <h1>Регистрация пользователя была подтверждена.</h1>\r\n          <button onClick={this.goToMain}>На главную</button>                   \r\n        </div>\r\n        <BgBubbles /> \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Approved;","import React, { Component } from 'react';\r\nimport Header from './Header';\r\nimport BgBubbles from './BgBubbles';\r\nimport $ from 'jquery';\r\nimport './css/LoginForms.css';\r\nimport './css/Restore.css';\r\nimport { withSnackbar } from 'notistack';\r\nimport { Button, Typography } from '@material-ui/core';\r\nimport API from './functions/API';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport styled from 'styled-components';\r\n\r\nclass Restore extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      pw: '',\r\n      confirmed: '',\r\n      isPassHidden: false,\r\n      entered: false\r\n    }\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    // ставим стейт исходя из именя поля и вводимого значения\r\n    this.setState({\r\n      [event.target.name]: event.target.value,\r\n      entered: false\r\n    })\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    var self = this;\r\n    this.setState({ entered: true });\r\n\r\n    if (self.state.pw === self.state.confirmed && self.state.pw && self.state.confirmed) {\r\n      self.setState({ modal: false });\r\n      e.preventDefault();\r\n      const formData = new FormData();\r\n\r\n      function getUrlVars() {\r\n        let vars = {};\r\n        // eslint-disable-next-line\r\n        let parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {\r\n          vars[key] = value;\r\n        });\r\n        return vars;\r\n      }\r\n\r\n      formData.append('password', $('input[name=\"pw\"]').val());\r\n      formData.append('auth', getUrlVars()['auth'])\r\n\r\n      $.ajax({\r\n        url: `${API}/api/user/restore.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: function (res) {\r\n          console.log(res);\r\n          let response = res.result;\r\n\r\n          switch (response) {\r\n            case 0:\r\n              self.props.enqueueSnackbar('Не удалось изменить пароль', { variant: 'error' });\r\n              break;\r\n            case 1:\r\n              self.props.enqueueSnackbar('Поздравляем, успешно удалось сменить пароль - теперь вы можете войти в систему', { variant: 'success' });\r\n              setTimeout(() => window.location.href = 'login', 237);\r\n              break;\r\n            default: return null;\r\n          }\r\n        },\r\n        error: function () {\r\n          self.props.enqueueSnackbar('Ошибка авторизации', { variant: 'error' });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  handleClickShowPassword = () => {\r\n    this.setState({ isPassHidden: !this.state.isPassHidden });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"login-screen\">\r\n        <Header />\r\n        <div className=\"form-container restore-container\">\r\n          <Typography variant='h6'>Введите новый пароль.</Typography>\r\n          <Typography variant='caption'> Выбор более безопасного пароля поможет обеспечить защиту вашей личной информации.</Typography>\r\n\r\n          <InputWrapper>\r\n            <TextField\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              type={this.state.isPassHidden ? 'text' : 'password'}\r\n              label=\"Пароль\"\r\n              margin='dense'\r\n              name='pw'\r\n              value={this.state.pw}\r\n              onChange={this.handleChange}\r\n              error={this.state.pw.length > 0 && this.state.pw.length < 8}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      aria-label=\"Toggle password visibility\"\r\n                      onClick={this.handleClickShowPassword}\r\n                    >\r\n                      {this.state.isPassHidden ? <VisibilityOff /> : <Visibility />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n            {this.state.pw.length > 0 && this.state.pw.length < 8 ? <FormHelperText style={{ color: '#f44336' }}>Пароль должен быть не менее 8 символов</FormHelperText> : ''}\r\n\r\n            <TextField\r\n              label=\"Повторите пароль\"\r\n              variant=\"outlined\"\r\n              name='confirmed'\r\n              fullWidth\r\n              margin='dense'\r\n              type='password'\r\n              error={this.state.entered && this.state.confirmed.length < 8 && this.state.confirmed.length > 0}\r\n              onChange={this.handleChange}\r\n              value={this.state.confirmed}\r\n            />\r\n            {this.state.pw !== this.state.confirmed && this.state.confirmed ? <FormHelperText style={{ color: '#f44336' }}>Пароль должны совпадать</FormHelperText> : null}\r\n          </InputWrapper>\r\n\r\n          <BtnContainer>\r\n            <Button variant='contained' color='primary' onClick={this.handleSubmit}>Сменить пароль</Button>\r\n          </BtnContainer>\r\n        </div>\r\n        <BgBubbles />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst BtnContainer = styled.div`\r\n  button {\r\n    position: absolute;\r\n    bottom: 35px;\r\n    left: 0;\r\n    right: 0;\r\n    margin: auto;\r\n    width: fit-content;\r\n  }\r\n`;\r\nconst InputWrapper = styled.div`\r\n  margin-top: 15px;\r\n`;\r\nexport default withSnackbar(Restore);","import React, { Component } from 'react';\r\nimport './css/404.css';\r\n\r\nclass Page404 extends Component {\r\n\r\n  goToMain = () => window.location.href = '/';\r\n\r\n  render() {\r\n    return (\r\n      <main>\r\n        <div className=\"loading wave\">\r\n          404\r\n        </div>\r\n        <div className=\"not-found wave\">\r\n          Страница не найдена\r\n        </div> \r\n      <button onClick={this.goToMain}>перейти на главную</button>\r\n    </main>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Page404;","import React, { Component } from 'react';\r\nimport $ from 'jquery';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport BgBubbles from './BgBubbles';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport DefaultAvatar from './img/photos/images.png';\r\nimport API from './functions/API';\r\nimport { withSnackbar } from 'notistack';\r\nimport { DatePicker } from 'material-ui-pickers';\r\n\r\nif (window.location.pathname === '/settings') {\r\n  $(document.body).css({\r\n    background: 'linear-gradient(to bottom right,#00c5fe,#9de3dc,#0d11b4)'\r\n  })\r\n}\r\n\r\nconst styles = {\r\n  default: {\r\n    width: window.innerWidth < 600 ? '95%' : 600,\r\n    margin: '10px auto',\r\n    position: 'relative',\r\n    padding: window.innerWidth < 600 ? '20px 15px 80px' : '20px 40px 80px',\r\n    zIndex: 37\r\n  },\r\n  input: {\r\n    width: '100%',\r\n  },\r\n  button: {\r\n    position: 'absolute',\r\n    left: 0,\r\n    right: 0,\r\n    width: 120,\r\n    bottom: 25,\r\n    margin: 'auto'\r\n  },\r\n  upload: {\r\n    background: '#ef6c00',\r\n    color: 'white',\r\n    margin: 'auto',\r\n    cursor: 'pointer',\r\n    position: 'relative'\r\n  },\r\n  hiddenInput: {\r\n    opacity: 0,\r\n    position: 'absolute',\r\n    cursor: 'pointer',\r\n    left: 0, right: 0, bottom: 0, top: 0\r\n  },\r\n  avatar: {\r\n    width: 100,\r\n    height: 100,\r\n    marginBottom: 15,\r\n    borderRadius: '50%'\r\n  },\r\n  header: {\r\n    marginTop: 100,\r\n    marginBottom: 12,\r\n    color: '#fff',\r\n    textAlign: 'center',\r\n    fontWeight: 500,\r\n    display: window.innerWidth < 600 ? 'none' : 'block'\r\n  }\r\n};\r\n\r\nconst genders = [\r\n  {\r\n    value: 'мужской',\r\n    label: 'мужской'\r\n  },\r\n  {\r\n    value: 'женский',\r\n    label: 'женский',\r\n  }\r\n];\r\n\r\nclass Settings extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user: [],\r\n      selectedFile: null,\r\n      user_id: '',\r\n      uploadedAvatar: '',\r\n      selectedDate: ''\r\n    }\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  fileSelect = event => {\r\n    if (event.target.files[0].size < 2 * 1024 * 1024) {\r\n      this.setState({ selectedFile: event.target.files[0] })\r\n      this.uploadAvatar(event.target.files[0]);\r\n    } else {\r\n      this.props.enqueueSnackbar('Файл слишком большой, размер должен не превышать 2МБ', { variant: 'warning' });\r\n    }\r\n  }\r\n\r\n  uploadAvatar = (file) => {\r\n    let fd = new FormData();\r\n    let files = file;\r\n    let self = this;\r\n    fd.append('file', files);\r\n    fd.append('id', this.state.user_id);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/user/upload.php`,\r\n      type: 'post',\r\n      data: fd,\r\n      contentType: false,\r\n      processData: false,\r\n      success: function (res) {\r\n        if (window.location.host.includes('localhost')) {\r\n          self.setState({ uploadedAvatar: res.location.slice(22) })\r\n        } else {\r\n          self.setState({ uploadedAvatar: res.location.slice(6) })\r\n        }\r\n        console.log(res);\r\n      },\r\n    });\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    fetch(`${API}/api/user/info.php`)\r\n      .then(response => response.json())\r\n      .then(user => this.setState({ user, user_id: user.id }))\r\n  }\r\n\r\n  handleChange = event => {\r\n    // ставим стейт исходя из именя поля и вводимого значения\r\n    let user = { ...this.state.user };\r\n    user[event.target.name] = event.target.value;\r\n    this.setState({ user });\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    var self = this;\r\n    self.setState({ modal: false });\r\n    e.preventDefault();\r\n\r\n    if ($('input[name=\"surname\"]').val() && $('input[name=\"name\"]').val() && $('input[name=\"sex\"]').val() && $('input[name=\"position\"]').val() && (this.state.selectedDate || this.state.user.birthday)) {\r\n      const formData = new FormData();\r\n      formData.append('id', self.state.user.id);\r\n      formData.append('surname', $('input[name=\"surname\"]').val());\r\n      formData.append('name', $('input[name=\"name\"]').val());\r\n      formData.append('birthday', self.state.selectedDate.slice(0, 10) || this.state.user.birthday);\r\n      formData.append('sex', $('input[name=\"sex\"]').val());\r\n      formData.append('position', $('input[name=\"position\"]').val());\r\n      formData.append('avatar', self.state.uploadedAvatar);\r\n\r\n      $.ajax({\r\n        url: `${API}/api/user/settings.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: function (res) {\r\n          console.log(res);\r\n          let response = res.result;\r\n          switch (response) {\r\n            case 0:\r\n              self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' });\r\n              break;\r\n            case 1:\r\n              self.props.enqueueSnackbar('Персональные данные изменены', { variant: 'success' });\r\n              window.location.href = `id${self.state.user.id}`;\r\n              break;\r\n            default: break;\r\n          }\r\n        },\r\n        error: function () {\r\n          self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' });\r\n        }\r\n      });\r\n    } else {\r\n      self.props.enqueueSnackbar('Пожалуйста заполните все поля', { variant: 'warning' });\r\n    }  \r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | устанавливаем дату из пикера в нужном формате\r\n  |--------------------------------------------------\r\n  */\r\n  handleDateChange = date => this.setState({ selectedDate: date.format() });\r\n\r\n  render() {\r\n    const { user, uploadedAvatar } = this.state;\r\n\r\n    let avatar = user.avatar;\r\n\r\n    return (\r\n      <React.Fragment>\r\n\r\n        <Typography variant=\"h5\" style={{ ...styles.header }}>Начните заполнять персональные данные</Typography>\r\n\r\n        <Paper style={{ ...styles.default }} elevation={1}>\r\n\r\n          <form id=\"personal-info\" action=\"\" method=\"POST\" encType=\"multipart/form-data\">\r\n            {uploadedAvatar ?\r\n              <div style={{ ...styles.avatar, background: `url(${uploadedAvatar}) no-repeat center/cover` }}></div> :\r\n              <div style={{ ...styles.avatar, background: `url(${avatar ? avatar : DefaultAvatar}) no-repeat center/cover` }}></div>}\r\n            <Button variant=\"contained\" style={{ ...styles.upload }}>\r\n              Загрузить фото профиля\r\n            <Icon style={{ marginLeft: 10 }}>cloud_upload</Icon>\r\n              <input\r\n                id='avatar'\r\n                accept=\"image/*\"\r\n                style={{ ...styles.hiddenInput }}\r\n                type=\"file\"\r\n                name='avatar'\r\n                onChange={this.fileSelect}\r\n              />\r\n            </Button>\r\n\r\n            <TextField\r\n              required\r\n              label=\"Ваше имя\"\r\n              name='name'\r\n              InputLabelProps={{ shrink: true }}\r\n              margin=\"normal\"\r\n              onChange={this.handleChange}\r\n              value={user.name}\r\n              style={{ ...styles.input }}\r\n            />\r\n\r\n            <TextField\r\n              required\r\n              label=\"Фамилия\"\r\n              name='surname'\r\n              InputLabelProps={{ shrink: true }}\r\n              margin=\"normal\"\r\n              onChange={this.handleChange}\r\n              value={user.surname}\r\n              style={{ ...styles.input }}\r\n            />\r\n\r\n            <TextField\r\n              select\r\n              required\r\n              label=\"Пол\"\r\n              InputLabelProps={{ shrink: true }}\r\n              value={user.sex}\r\n              onChange={this.handleChange}\r\n              helperText=\"Пожалуйста, выберите пол\"\r\n              margin=\"normal\"\r\n              name='sex'\r\n              style={{ ...styles.input }}\r\n            >\r\n              {genders.map(option => (\r\n                <MenuItem name='sex' key={option.value} value={option.value}>\r\n                  {option.label}\r\n                </MenuItem>\r\n              ))}\r\n            </TextField>\r\n\r\n            <TextField\r\n              required\r\n              label=\"Должность\"\r\n              name=\"position\"\r\n              InputLabelProps={{ shrink: true }}\r\n              margin=\"normal\"\r\n              onChange={this.handleChange}\r\n              value={user.position}\r\n              style={{ ...styles.input }}\r\n            />\r\n\r\n            <DatePicker\r\n              name=\"birthday\"\r\n              margin=\"normal\"\r\n              label='Дата рождения'\r\n              format={'Do MMMM YYYY'}\r\n              value={this.state.selectedDate ? this.state.selectedDate : user.birthday || null}\r\n              fullWidth={true}\r\n              InputLabelProps={{ shrink: true }}\r\n              onChange={this.handleDateChange}\r\n              aria-describedby=\"component-helper-text\"\r\n              style={{ ...styles.input }}\r\n              cancelLabel='Отмена'\r\n              emptyLabel='Не выбрана дата рождения'\r\n              required\r\n            />\r\n\r\n            <Typography variant=\"caption\" gutterBottom>\r\n              *Дата рождения будет видна только руководству\r\n            </Typography>\r\n\r\n            <Button variant=\"contained\" color='primary' style={{ ...styles.button }} onClick={this.handleSubmit}>\r\n              Вперёд!\r\n           </Button>\r\n\r\n          </form>\r\n        </Paper>\r\n\r\n        <BgBubbles />\r\n\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withSnackbar(Settings);","import React, { useState } from 'react';\r\nimport Countdown from 'react-countdown-now';\r\nimport { connect } from 'react-redux';\r\nimport { Typography, Tooltip } from '@material-ui/core/';\r\nimport styled from 'styled-components';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\nimport PlayIcon from '@material-ui/icons/PlayArrow';\r\nimport AlarmIcon from '@material-ui/icons/AlarmOn'\r\n\r\nconst Completionist = () => <Typography variant='h3' id='timer' className='completed'>Время вышло</Typography>;\r\n\r\nconst Timer = ({ hours, minutes, seconds, completed, api }) => {\r\n  function getTime(h, m, s) {\r\n    if (h < 10) h = '0' + h;\r\n    if (m < 10) m = '0' + m;\r\n    if (s < 10) s = '0' + s;\r\n\r\n    if (h === '00') {\r\n      return `${m}:${s}`;\r\n    } else {\r\n      return `${h}:${m}:${s}`;\r\n    }\r\n  }\r\n\r\n  if (completed) {\r\n    return <Container><Time><Completionist /></Time></Container>;\r\n  } else {\r\n    return (\r\n      <Container>\r\n        <Time> \r\n          <AlarmIcon className='time-icon' />\r\n          <Typography variant='h3' id='timer'>{getTime(hours, minutes, seconds)}</Typography>\r\n        </Time>\r\n        <Controls>\r\n          <Tooltip title='старт' onClick={api.start}><PlayIcon style={api.isPaused() ? { pointerEvents: 'all' } : { pointerEvents: 'none', opacity: 1 }} /></Tooltip>\r\n          <Tooltip title='пауза' onClick={api.pause}><PauseIcon style={api.isPaused() ? { pointerEvents: 'none', opacity: 1 } : { pointerEvents: 'all'}} /></Tooltip>   \r\n        </Controls>\r\n      </Container>\r\n    )\r\n  }\r\n};\r\n\r\nconst CountdownTimer = ({ store, pauseTest, resumeTest, finish }) => {\r\n  // eslint-disable-next-line\r\n  const [time, setTime] = useState(store.tests[0] && store.tests[0].hasOwnProperty('time') ? Date.now() + Number(store.tests[0].time) * 60 * 1000 : 0);\r\n\r\n  return (\r\n    <Countdown\r\n      controlled={false}\r\n      autoStart={true}\r\n      date={time}\r\n      renderer={Timer}\r\n      onPause={pauseTest}\r\n      onStart={resumeTest}\r\n      onComplete={finish}\r\n    />\r\n  )\r\n}\r\n\r\nconst Controls = styled.div`\r\n  svg {\r\n    font-size: 40px;\r\n    opacity: .15;\r\n    transition: .57s ease;\r\n    cursor: pointer;\r\n    :hover {\r\n      opacity: .9;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n`;\r\n\r\nconst Time = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 25%;\r\n  align-items: center;\r\n  h3 {\r\n    opacity: .15;\r\n  }\r\n  .time-icon {\r\n    font-size: 42px;\r\n    opacity: .15;\r\n  }\r\n  .completed {\r\n    font-size: 32px;\r\n    margin-top: 64px;\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n)(CountdownTimer);","import React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Button, Typography, Checkbox, FormGroup, FormControlLabel } from '@material-ui/core';\r\nimport Sphere from '../../img/photos/sphere.png';\r\nimport Lightbox from 'react-images';\r\n\r\nexport default function Question({ allQuestionsId, paused, findTimer, answered, variants, setChecked, question, questionNumber, skipQuestion, nextQuestion, prevQuestion }) {\r\n  const [images, setImages] = useState([]);\r\n  const [lightboxOpen, setLightboxOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    getImages();\r\n  }, [])\r\n\r\n  function getPrevBtnStatus(index) {\r\n    if (!index) return true;\r\n    let status = false;\r\n    if (answered.includes(index - 1)) status = true;\r\n    return status;\r\n  }\r\n\r\n  function getImages() {\r\n    if (question.image) {\r\n      const images = [];\r\n      Object.entries(question.image_file).map(item => {\r\n        return images.push({\r\n          src: `http://akvatory.local/${item[1].original.file}`\r\n        })\r\n      })\r\n      setImages(images);\r\n    }   \r\n  }\r\n\r\n  function openLightbox() {\r\n    setLightboxOpen(true);\r\n  }\r\n\r\n  function closeLightbox() {\r\n    setLightboxOpen(false);\r\n  }\r\n\r\n  let checked = variants.length > 0 ? variants.find(variant => variant.checked) : 0;  \r\n \r\n  return (\r\n    <Container style={findTimer() ? { marginTop: '-93px' } : { marginTop: 40 }}>\r\n      <QuestionHeader>\r\n        <Spheric>\r\n          <Typography variant='h1'>{questionNumber + 1}</Typography>\r\n          <img src={Sphere} alt='' />\r\n        </Spheric>  \r\n        <div className='question-header-text'>\r\n          <Typography variant='h6'>{question.question}</Typography>\r\n          <Typography variant='caption' style={{ marginBottom: 10 }}>{question.category} - {question.subcategory}</Typography>\r\n          {question.audio ?\r\n              question.audio_file.map(item => \r\n                <audio controls className='question-audio' key={item.id}>\r\n                  <source src={`http://akvatory.local/${item.file}`} />\r\n                </audio> \r\n              )\r\n          : null}\r\n          {question.image ?\r\n              Object.entries(question.image_file).map((item, i) => \r\n                <img \r\n                  onClick={openLightbox}\r\n                  key={item[0]} \r\n                  style={{ maxWidth: '100%', maxHeight: 300, marginTop: 10, cursor: 'pointer' }} \r\n                  src={`http://akvatory.local/${item[1].original.file}`} \r\n                  alt=''\r\n                /> \r\n              ) \r\n          : null}\r\n        </div>\r\n      </QuestionHeader>\r\n      <FormGroup className='checkboxes' style={paused ? { pointerEvents: 'none' } : { pointerEvents: 'all' } }>\r\n        {variants.map(variant =>\r\n          <FormControlLabel\r\n            key={variant.id}\r\n            control={\r\n              <Checkbox\r\n                checked={variant.checked}\r\n                onClick={() => setChecked(variant.id)}\r\n              />\r\n            }\r\n            label={variant.item}\r\n          />\r\n        )}\r\n      </FormGroup>\r\n      {!paused ?\r\n      <Buttons>\r\n        <Button onClick={nextQuestion} disabled={checked ? false : true} variant='contained' color='primary'>Далее</Button>\r\n        <Button onClick={prevQuestion} disabled={getPrevBtnStatus(questionNumber)} variant='outlined' color='primary'>Назад</Button>\r\n        <Button onClick={skipQuestion} disabled={allQuestionsId.length - 1 === answered.length} variant='contained' color='secondary'>Пропустить</Button>\r\n      </Buttons>\r\n      : null }\r\n\r\n      {question.image ?\r\n        <Lightbox\r\n          images={[...images]}\r\n          isOpen={lightboxOpen}\r\n          onClose={closeLightbox}\r\n          width={1920}\r\n          showImageCount={false}\r\n        />\r\n      : null}\r\n\r\n\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  width: 75%;\r\n  margin-top: 40px;\r\n  .checkboxes {\r\n    margin: 25px 0;\r\n  }\r\n`;\r\nconst Buttons = styled.div`\r\n  button {\r\n    margin-right: 30px;\r\n    min-width: 125px;\r\n  }\r\n`;\r\nconst QuestionHeader = styled.div`\r\n  display: flex;\r\n  align-items: flex-start;\r\n  .question-header-text {\r\n    width: 525px;\r\n    padding-left: 25px;\r\n    margin-bottom: 20px;\r\n  }\r\n  .question-audio {\r\n    width: 100%;\r\n    :focus, :active {\r\n      outline: 0;\r\n    }\r\n  }\r\n`;\r\nconst Spheric = styled.div`\r\n  height: 100px;\r\n  width: 100px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: relative;\r\n  img {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  h1 {\r\n    font-size: 48px;\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    margin: auto;\r\n    color: white;\r\n    width: fit-content;\r\n    height: fit-content;\r\n    font-weight: 600;\r\n  }\r\n`;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Badge from '@material-ui/core/Badge';\r\n\r\nexport default function Circles({ questions, answered, skipped }) {\r\n  function getStatus(index, type) {\r\n    let isAnswered = answered.includes(index);\r\n    let isSkipped = skipped.includes(index);\r\n    \r\n    if (type === 'class' && !isAnswered && !isSkipped) {\r\n      return 'default-badge';\r\n    } else if (type === 'class') {\r\n      return '';\r\n    }\r\n\r\n    if (type === 'color' && isAnswered) {\r\n      return 'primary';\r\n    } else {\r\n      return 'secondary'\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {questions.map((_, i ) => \r\n        <Badge \r\n          key={i}\r\n          badgeContent={i + 1} \r\n          color={getStatus(i, 'color')} \r\n          className={getStatus(i, 'class')}\r\n        >{''}</Badge>\r\n      )}\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  flex-wrap: wrap;\r\n  > span {\r\n    width: 45px;\r\n    height: 30px;\r\n    margin: 10px 0 0;\r\n    > span {\r\n      width: 30px;\r\n      height: 30px;\r\n      transform: unset;\r\n      left: 0;\r\n      margin: auto;\r\n    }\r\n  }\r\n  .default-badge span {\r\n    background: #F9A825;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nexport default function Legend() {\r\n  return (\r\n    <Container>\r\n      <div>\r\n        <Badge children={true} color='primary'className='default-badge'>{''}</Badge>\r\n        <Typography variant='caption' className='caption'>Вопрос ожидает ответа</Typography>\r\n      </div>\r\n      <div>\r\n        <Badge children={true}  color='primary'>{''}</Badge>\r\n        <Typography variant='caption' className='caption'>Вы ответили на этот вопрос</Typography>\r\n      </div>\r\n      <div>\r\n        <Badge color='secondary'>{''}</Badge>\r\n        <Typography variant='caption' className='caption'>Вы пропустили этот вопрос</Typography>\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  margin: 35px 0;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  flex-direction: column;\r\n  flex-wrap: wrap;\r\n  > div > span {\r\n    width: 45px;\r\n    height: 30px;\r\n    margin: 10px 0 0;\r\n    > span {\r\n      width: 30px;\r\n      height: 30px;\r\n      transform: unset;\r\n      left: 0;\r\n      margin: auto;\r\n    }\r\n  }\r\n  > div {\r\n    align-items: center;\r\n    display: flex;\r\n    .caption {\r\n      width: unset;\r\n      height: unset;\r\n      margin-top: 10px;\r\n      margin-left: 10px;\r\n    }\r\n  }\r\n  .default-badge span {\r\n    background: #F9A825;\r\n  }\r\n`;","import $ from 'jquery';\r\nimport API from '../functions/API';\r\n\r\nexport function startTest(id) {\r\n  const formData = new FormData();\r\n  formData.append('id', id);\r\n  $.ajax({\r\n    url: `${API}/api/test/start.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST',\r\n    success: res => {\r\n      console.log(res)\r\n    },\r\n    error: err => console.log(err)\r\n  });\r\n}\r\n\r\nexport function setupResult(data) {\r\n  const formData = new FormData();\r\n  formData.append('test_id', data.test_id);\r\n  formData.append('user_id', data.user_id);\r\n  formData.append('user_name', data.user_name);\r\n  formData.append('date', data.date);\r\n  formData.append('estimated_time', data.estimated_time);\r\n\r\n  $.ajax({\r\n    url: `${API}/api/result/init.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST',\r\n    success: res => {\r\n      console.log(res)\r\n    },\r\n    error: err => console.log(err)\r\n  });\r\n}\r\n\r\nexport function updateResult(data) {\r\n  const formData = new FormData();\r\n  formData.append('test_id', data.test_id);\r\n  formData.append('variants', data.variants);\r\n  formData.append('estimated_time', data.estimated_time);\r\n  formData.append('question_id', data.question_id);\r\n\r\n  $.ajax({\r\n    url: `${API}/api/result/update.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST',\r\n    error: err => console.log(err)\r\n  });\r\n}\r\n\r\nexport function finishTest(data) {\r\n  const formData = new FormData();\r\n  formData.append('id', data.id);\r\n  formData.append('estimated_time', data.estimated_time);\r\n  formData.append('created_at', new Date().getTime());\r\n\r\n  $.ajax({\r\n    url: `${API}/api/test/finish.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST',\r\n    success: res => console.log(res),\r\n    error: err => console.log(err)\r\n  });\r\n}\r\n\r\nexport async function createEvent(data) {\r\n  const formData = new FormData();\r\n  \r\n  for (let key in data) {\r\n    formData.append(key, data[key]);    \r\n  }\r\n  let result;\r\n  \r\n  await $.ajax({\r\n    url: `${API}/api/calendar/addEvent.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST',\r\n    success: async (res) => {\r\n      result = await res;\r\n    }\r\n  }); \r\n\r\n  return await result;\r\n}\r\n\r\nexport function deleteEvent(id) {\r\n  const formData = new FormData();\r\n  formData.append('id', id);\r\n  \r\n  $.ajax({\r\n    url: `${API}/api/calendar/deleteEvent.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST',\r\n    success: res => console.log(res),\r\n    error: err => console.log(err)\r\n  });\r\n}\r\n\r\nexport function signUpOnEvent(data) {\r\n  const formData = new FormData();\r\n  formData.append('id', data.id);\r\n  formData.append('username', `${data.name} ${data.surname}`);\r\n\r\n  $.ajax({\r\n    url: `${API}/api/calendar/signUp.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST',\r\n    success: res => console.log(res),\r\n    error: err => console.log(err)\r\n  });\r\n}\r\n\r\nexport function unSignUpOnEvent(data) {\r\n  const formData = new FormData();\r\n  formData.append('id', data.id);\r\n  formData.append('username', `${data.name} ${data.surname}`);\r\n\r\n  $.ajax({\r\n    url: `${API}/api/calendar/unSignUp.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST',\r\n    success: res => console.log(res),\r\n    error: err => console.log(err)\r\n  });\r\n}\r\n\r\nexport default [];","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport styled from 'styled-components';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n  }\r\n});\r\n\r\nfunction SimpleExpansionPanel(props) {\r\n  const { classes, object } = props;\r\n\r\n  function isCorrect(question) {\r\n    if (object.question_data.answers.includes(question)) {\r\n      return 'primary';\r\n    } else {\r\n      return 'secondary';\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ExpansionPanel>\r\n        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />} className='align-center' style={{ background: '#fafafa' }}>\r\n          <Typography variant='h6'>{object.result >= 1 ? object.result + ' балл' : object.result + ' баллов'}\r\n            <Typography className={classes.heading}>Вопрос: {object.question_data.question}</Typography>\r\n          </Typography>    \r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails>\r\n          <Answers>\r\n            <Typography variant='subtitle2' gutterBottom={true}>вы ответили:</Typography>\r\n            {object.answered.map(question => <Typography color={isCorrect(question)}>{question}</Typography>)}\r\n            <hr />\r\n            <Typography variant='subtitle2' gutterBottom={true}>{object.question_data.answers.length > 0 ? 'ответы:' : 'ответ:'}</Typography>\r\n            {object.question_data.answers.map(question => <Typography>{question}</Typography>)}\r\n          </Answers>\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Answers = styled.div`\r\n  width: 100%;\r\n  hr {\r\n    border: none;\r\n    height: 3px;\r\n    background: #fafafa;\r\n  }\r\n`;\r\n\r\nSimpleExpansionPanel.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(SimpleExpansionPanel);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n  }\r\n});\r\n\r\nfunction SimpleExpansionPanel(props) {\r\n  const { classes, object } = props;\r\n  return (\r\n    <div className={classes.root}>\r\n      <ExpansionPanel disabled>\r\n        <ExpansionPanelSummary className='align-center' style={{ background: '#fafafa' }}>\r\n          <Typography variant='h6'>0 баллов\r\n            <Typography className={classes.heading}>Вопрос: {object}</Typography>\r\n          </Typography>    \r\n        </ExpansionPanelSummary>\r\n      </ExpansionPanel>\r\n    </div>\r\n  );\r\n}\r\n\r\nSimpleExpansionPanel.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(SimpleExpansionPanel);","import React, { useEffect, useState, Fragment } from 'react';\r\nimport styled from 'styled-components';\r\nimport Loader from '../../Loader/Loader';\r\nimport API from '../../functions/API';\r\nimport { Typography, Button } from '@material-ui/core'; \r\nimport ResultsList from './ResultsList';\r\nimport NotAnswered from './NotAnswered';\r\n\r\nexport default function Results() {\r\n  const [results, setResults] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const id = window.location.pathname.replace('/test/', \"\");\r\n    fetch(`${API}/api/result/getResults.php?test_id=${id}`)\r\n      .then(response => response.json())\r\n      .then(results => {\r\n        results.data.not_answered = JSON.parse(results.data.not_answered);\r\n        results.data.object = JSON.parse(results.data.object);\r\n        results.data.object.forEach(result => {\r\n          result.question_data = JSON.parse(result.question_data);\r\n          result.question_data.variants = result.question_data.variants.split(\"\\n\");\r\n          result.question_data.answers = result.question_data.answers.split(\"\\n\");\r\n        });\r\n        setResults(results.data)\r\n      })\r\n      .then(() => setLoading(false))\r\n      .catch(err => console.log(err))\r\n  }, []);\r\n\r\n  function getPercent(value) {\r\n    return parseFloat(value.replace(',','.')).toFixed(2) * 100 + '%';\r\n  }\r\n\r\n  function getColor(value) {\r\n    return parseFloat(value.replace(',','.')).toFixed(2) >= 0.5 ? 'primary' : 'secondary';\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {loading\r\n        ? <Loader minHeight='300px' color='primary' />\r\n        : (\r\n          <Fragment>\r\n            <Typography variant='h1' style={{ marginBottom: 20 }} color={getColor(results.result)}>{getPercent(results.result)}</Typography>\r\n            <Typography variant='h6'>{results.user_name}</Typography>\r\n            <Typography variant='caption'>Дата прохождения тестирования: {results.date}</Typography>\r\n            {results.estimated_time ? <Typography variant='caption'>Оставшееся время: {results.estimated_time}</Typography> : null}\r\n\r\n            <br />\r\n            <br />\r\n            <br />\r\n            {results.object.map(result => \r\n                <ResultsList object={result} />\r\n            )}  \r\n\r\n            {results.not_answered.map(result => \r\n                <NotAnswered object={result} />\r\n            )}        \r\n\r\n            <Buttons>\r\n              <Button variant='contained' component='a' href='/' color='primary'>на главную</Button>\r\n              <Button variant='outlined' component='a' href='/learnings' color='primary'>обучение</Button>\r\n            </Buttons>\r\n          </Fragment>\r\n      )}\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n`;\r\nconst Buttons = styled.div`\r\n  margin-top: 40px;\r\n  a {\r\n    margin-right: 10px;\r\n  }\r\n`;","import React, { useState, Fragment } from 'react';\r\nimport { Typography, Button } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport Results from './Results';\r\n\r\nexport default function Finish() {\r\n  const [isShowResult, setShowResult] = useState(false);\r\n\r\n  return (\r\n    <Container>\r\n      {isShowResult \r\n        ? <Results /> \r\n        :\r\n        <Fragment>\r\n          <Typography variant='h5' style={{ marginBottom: 10 }}>Тест завершён.</Typography>\r\n          <Typography variant='body2'>Вы можете посмотреть результаты тестирования, нажав на кнопку ниже.</Typography>\r\n          <Buttons>\r\n            <Button variant='contained' color='primary' onClick={() => setShowResult(true)}>результаты</Button>\r\n            <Button variant='outlined' color='primary' component='a' href='/'>на главную</Button>\r\n          </Buttons>\r\n        </Fragment>\r\n      }  \r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  height: fit-content;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 60px 30px;\r\n`;\r\nconst Buttons = styled.div`\r\n  margin-top: 30px;\r\n  button {\r\n    margin: 0 10px;\r\n  }\r\n`;","import React, { useState, useEffect } from 'react';\r\nimport Timer from './Timer';\r\nimport styled from 'styled-components';\r\nimport { fetchSingleQuestion } from '../../Effects/fetches';\r\nimport Loader from '../../Loader/Loader';\r\nimport { connect } from 'react-redux';\r\nimport Question from './Question';\r\nimport Circles from './Circles';\r\nimport Legend from './Legend';\r\nimport { updateResult, finishTest } from '../../Effects/requests';\r\nimport Finish from './Finish';\r\n\r\nfunction Test({ store, object }) {\r\n  // eslint-disable-next-line\r\n  const [_, updateState] = useState(0);\r\n  const [variants, setVariants] = useState([]);\r\n  const [questionNumber, setQuestionNumber] = useState(0);\r\n  const [allQuestionsId, setAllQuestionsId] = useState([]);\r\n  const [question, setQuestion] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [skipped, setSkipped] = useState([]);\r\n  const [answered, setAnswered] = useState([]);\r\n  const [finished, setFinished] = useState(false);\r\n  const [test, setTest] = useState([]);\r\n  const [paused, setPaused] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const allQuestionsId = store.tests[0].questions.split(',');\r\n    setTest(store.tests[0]);\r\n    setAllQuestionsId(allQuestionsId);\r\n    async function fetchData() {\r\n      const response = await fetchSingleQuestion(allQuestionsId[questionNumber]);\r\n      await setQuestion(response);\r\n      await getVariants(response); \r\n      if (loading) await setLoading(false);\r\n    }\r\n    fetchData();\r\n  }, [questionNumber]);\r\n\r\n  useEffect(() => {\r\n    const allQuestionsId = store.tests[0].questions.split(',');\r\n    if (object && object.length > 1) loadSave(object, allQuestionsId);\r\n  }, []);\r\n\r\n  function pauseTest() {\r\n    setPaused(true);\r\n  }\r\n\r\n  function resumeTest() {\r\n    setPaused(false);\r\n  }\r\n\r\n  function loadSave(save, allQuestionsId) {\r\n    let idArray = save[1].answered;\r\n    let result = [];\r\n\r\n    for (let i = 0; i < idArray.length; i++) {\r\n      for (let j = 0; j < allQuestionsId.length; j++) {\r\n        if (idArray[i] === allQuestionsId[j]) {\r\n          result.push(j);\r\n          continue;\r\n        }\r\n      }\r\n    }\r\n\r\n    setAnswered(result);\r\n\r\n    let next = 0;\r\n\r\n    for (let i = 0; i < result.length; i++) {\r\n      if (!allQuestionsId.includes(i)) {\r\n        next = i;\r\n      } else {\r\n        next = i + 1;\r\n      }\r\n    }\r\n    setQuestionNumber(next);\r\n  }\r\n\r\n  function getVariants(question) {\r\n    const splitted = question[0].variants.split(\"\\n\");\r\n    let variants = [];\r\n    splitted.forEach((item, i) => {\r\n      variants.push({\r\n        id: i,\r\n        item: item,\r\n        checked: false\r\n      })\r\n    })\r\n    setVariants(variants);\r\n  }\r\n\r\n  function setChecked(id) {\r\n    let newVariants = variants;\r\n\r\n    if (!question[0].answers) {\r\n      newVariants.forEach(variant => {\r\n        variant.checked = false;\r\n      });\r\n    }\r\n\r\n    newVariants[id].checked = !newVariants[id].checked;\r\n    setVariants(newVariants);\r\n    updateState(Math.random());\r\n  }\r\n\r\n  function nextQuestion() {\r\n    let newState = answered;\r\n    if (!answered.includes(questionNumber)) {\r\n      newState.push(questionNumber);\r\n      setAnswered(newState);\r\n    }\r\n    updateTestResult();\r\n    getNextStep(questionNumber);\r\n  }\r\n\r\n  function prevQuestion() {\r\n    setQuestionNumber(questionNumber - 1);\r\n  }\r\n\r\n  function skipQuestion() {\r\n    let newState = skipped;\r\n    if (!skipped.includes(questionNumber)) {\r\n      newState.push(questionNumber);\r\n      setSkipped(newState);\r\n    }\r\n    getNextStep(questionNumber);\r\n  }\r\n\r\n  function getNextStep() {\r\n    if (allQuestionsId.length === answered.length) {\r\n      finish();\r\n      return;\r\n    }\r\n\r\n    let next = questionNumber;\r\n\r\n    if (answered.includes(next)) {\r\n      next = Math.max(...answered);\r\n    }\r\n\r\n    if (next + 1 === allQuestionsId.length) {\r\n      for (let i = 0; i < allQuestionsId.length; i++) {\r\n        if (!answered.includes(i)) {\r\n          next = i;\r\n          break;\r\n        }\r\n      }\r\n      setQuestionNumber(next);\r\n    } else {\r\n      setQuestionNumber(next + 1);\r\n    }\r\n  }\r\n\r\n  async function finish() {\r\n    const test = await store.tests[0];\r\n    const testData = {\r\n      id: test.id,\r\n      estimated_time: document.getElementById('timer') ? document.getElementById('timer').innerHTML : 0\r\n    }\r\n\r\n    await finishTest(testData);\r\n    await setFinished(true);\r\n  }\r\n\r\n  async function updateTestResult() {\r\n    const test = await store.tests[0];\r\n    const checkedVariants = variants.filter(variant => variant.checked);\r\n    const checked = [];\r\n\r\n    checkedVariants.forEach(variant => {\r\n      checked.push(variant.item);\r\n    })\r\n\r\n    const testData = {\r\n      question_id: allQuestionsId[questionNumber],\r\n      test_id: test.id,\r\n      variants: checked,\r\n      estimated_time: document.getElementById('timer') ? document.getElementById('timer').innerHTML : 0\r\n    }\r\n\r\n    updateResult(testData);\r\n  }\r\n\r\n  function findTimer() {\r\n    return !Array.isArray(test) && !test.estimated_time.includes('false');\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {!finished && findTimer()\r\n        ? <Timer style={`${loading ? { opacity: 0 } : { opacity: 1 }}`} pauseTest={pauseTest} resumeTest={resumeTest} finish={finish} />\r\n        : null}\r\n\r\n      {loading\r\n        ? <Loader minHeight='45vh' />\r\n        : (\r\n          !finished ?\r\n            <QuestionWrapper>\r\n              <Question\r\n                question={question[0]}\r\n                questionNumber={questionNumber}\r\n                nextQuestion={nextQuestion}\r\n                prevQuestion={prevQuestion}\r\n                skipQuestion={skipQuestion}\r\n                setChecked={setChecked}\r\n                variants={variants}\r\n                answered={answered}\r\n                allQuestionsId={allQuestionsId}\r\n                findTimer={findTimer}\r\n                paused={paused}\r\n              />\r\n              <div style={{ width: '25%' }}>\r\n                <Legend />\r\n                <hr></hr>\r\n                <Circles\r\n                  skipped={skipped}\r\n                  answered={answered}\r\n                  questions={allQuestionsId}\r\n                />\r\n              </div>\r\n            </QuestionWrapper>\r\n            : <Finish />\r\n        )}\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  width: 1000px;\r\n  margin-top: -50px;\r\n  min-height: 75vh;\r\n  padding: 30px 35px;\r\n`;\r\nconst QuestionWrapper = styled.div`\r\n  display: flex;\r\n\r\n  hr {\r\n    background: #f5f5f5;\r\n    border: none;\r\n    height: 2px;\r\n    margin-bottom: 30px;\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state })\r\n)(Test);","import React from 'react';\r\nimport { Typography, Button } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nexport default function StartTestTemplate({ start }) {\r\n  return (\r\n    <Container>\r\n      <Typography variant='h5'>Добро пожаловать в тестирование.</Typography>\r\n      <div>\r\n        <Typography variant='body2'>Для того, чтобы начать - нажмите кнопку \"Начать тест\".</Typography>\r\n        <Typography variant='body2'>Как только, тестирование начнётся - запустится таймер.</Typography>\r\n      </div>\r\n      <Buttons>\r\n        <Button variant='contained' color='primary' onClick={start}>Начать тест</Button>\r\n        <Button color='primary' component='a' href='/learnings'>назад</Button>\r\n      </Buttons>   \r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  padding: 60px 40px;\r\n  min-height: 30vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst Buttons = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  button, a {\r\n    min-width: 150px;\r\n  }\r\n`;\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Typography, Button } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport Test from './Test';\r\nimport API from '../../functions/API';\r\n\r\nexport default function Continue() {\r\n  const [object, setObject] = useState([]);\r\n  const [isContinue, setContinue] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const id = window.location.pathname.replace('/test/', \"\");\r\n    fetch(`${API}/api/result/getResults.php?test_id=${id}`)\r\n      .then(response => response.json())\r\n      .then(results => {\r\n        let testData = [];\r\n        testData.push(results.data.estimated_time);\r\n        testData.push({\r\n          answered: [],\r\n        });\r\n\r\n        results.data.object = JSON.parse(results.data.object);\r\n        results.data.object.forEach(result => {\r\n          result.question_data = JSON.parse(result.question_data);\r\n          testData[1].answered.push(result.question_data.id);\r\n        });\r\n        setObject(testData)   \r\n      })\r\n      .catch(err => console.log(err))\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      {isContinue \r\n        ? <Test object={object} />\r\n        : <Fragment>\r\n          <Typography variant='h4' style={{ marginBottom: 10 }}>Тест стартовал.</Typography>\r\n          <Typography variant='body1'>Вы можете продолжить тестирование, нажав на кнопку ниже.</Typography>\r\n          <Buttons>\r\n            <Button variant='contained' color='primary' onClick={() => setContinue(true)}>продолжить</Button>\r\n            <Button variant='outlined' color='primary' component='a' href='/'>на главную</Button>\r\n          </Buttons>\r\n        </Fragment> \r\n      }\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  height: fit-content;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 60px 30px;\r\n`;\r\nconst Buttons = styled.div`\r\n  margin-top: 30px;\r\n  button {\r\n    margin: 0 10px;\r\n  }\r\n`;","import React, { Fragment, useState, useEffect } from 'react';\r\nimport Header from '../../Header';\r\nimport Test from './Test';\r\nimport styled from 'styled-components';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport StartTestTemplate from './StartTestTemplate';\r\nimport BgBubbles from '../../BgBubbles';\r\nimport { connect } from 'react-redux';\r\nimport { startTest as startTestRequest, setupResult } from '../../Effects/requests';\r\nimport moment from 'moment';\r\nimport Finish from './Finish';\r\nimport Continue from './Continue';\r\nimport API from '../../functions/API';\r\nimport Loader from '../../Loader/Loader';\r\n\r\nif (window.location.pathname !== '/settings') document.body.style.height = 'unset';\r\n\r\nfunction TestContainer({ store }) {\r\n  const [start, setStart] = useState(false);\r\n  const [finished, setFinished] = useState(false);\r\n  const [started, setStarted] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const id = window.location.pathname.replace('/test/',\"\");\r\n    fetch(`${API}/api/test/getStatus.php?id=${id}`)\r\n      .then(response => response.json())\r\n      .then(res => {\r\n        switch(res) {\r\n          case '1': \r\n            setFinished(true);\r\n            break;\r\n          case '0.5':\r\n            setStarted(true);\r\n            break\r\n          default: return;  \r\n        }\r\n      })\r\n      .then(() => setLoading(false))\r\n      .catch(err => console.log(err))\r\n  }, []);\r\n\r\n  function startTest() {\r\n    const test = store.tests[0]\r\n    const id = window.location.pathname.replace('/test/',\"\");\r\n    const testData = {\r\n      test_id: test.id,\r\n      user_id: test.user_id,\r\n      user_name: test.user_name,\r\n      date: moment().format('L'),\r\n      estimated_time: test.estimated_time\r\n    }\r\n\r\n    setStart(true);\r\n    startTestRequest(id);\r\n    setupResult(testData);\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <Header /> \r\n      <Container className='container'>\r\n        <Paper style={styles.container}>\r\n          {loading ? \r\n          <Loader minHeight={250} color=\"primary\" /> :\r\n          start\r\n            ? <Test /> \r\n            : \r\n              !finished && !started \r\n              ? <StartTestTemplate start={startTest} /> \r\n              : finished ? <Finish /> : <Continue />\r\n          }\r\n        </Paper> \r\n      </Container>\r\n      <BgBubbles cssClass='testing-bubbles' />\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    margin: '200px auto 0',\r\n    width: 'fit-content',\r\n    minWidth: 600\r\n  }\r\n}\r\n\r\nconst Container = styled.div``;\r\n\r\nexport default connect(\r\n  state => ({ store: state })\r\n)(TestContainer);","import React, { useEffect, useState, Fragment } from 'react';\r\nimport { fetchSingleTest } from '../../Effects/fetches';\r\nimport Loader from '../../Loader/Loader';\r\nimport { connect } from 'react-redux';\r\nimport TestContainer from './TestContainer';\r\n\r\nfunction TestPage({ fetchTest }) {\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const id = window.location.pathname.replace('/test/',\"\");\r\n    async function fetchData() {\r\n      const response = await fetchSingleTest(id);\r\n      await response ? fetchTest(response) : window.location.href = '/404';\r\n      await setLoading(false);  \r\n    }\r\n    fetchData(); \r\n  }, []);\r\n  \r\n  return (\r\n    <Fragment>\r\n      {loading ? <Loader minHeight='100vh' color='secondary' /> : <TestContainer /> }\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    fetchTest: test => {\r\n      dispatch({ type: 'FETCH_TEST', payload: test })\r\n    }\r\n  })\r\n)(TestPage);","import React, { PureComponent } from \"react\";\r\nimport { DateTimePicker } from \"material-ui-pickers\";\r\nimport { IconButton, InputAdornment } from \"@material-ui/core\";\r\nimport AlarmIcon from \"@material-ui/icons/AddAlarm\";\r\n\r\nclass CustomDateTimePicker extends PureComponent {\r\n  render() {\r\n    const { helperText, date, setDate, error, callback } = this.props;\r\n\r\n    return (\r\n      <DateTimePicker   \r\n        ampm={false}\r\n        showTabs={false}\r\n        autoSubmit={false}\r\n        allowKeyboardControl={true}\r\n        minDate={new Date()}\r\n        value={date}\r\n        onChange={e => {\r\n          setDate(e);\r\n          callback();\r\n        }}\r\n        label={helperText}\r\n        variant='outlined'\r\n        margin='dense'\r\n        cancelLabel='отмена'\r\n        required\r\n        minutesStep={10}\r\n        error={error}\r\n        InputProps={{\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <IconButton>\r\n                <AlarmIcon />\r\n              </IconButton>\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default CustomDateTimePicker;","import React, { useState } from 'react';\r\nimport Modal from '../Modal/Modal';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\nimport styled from 'styled-components';\r\nimport { Paper, TextField, Button, FormControlLabel, Checkbox, MenuItem } from '@material-ui/core';\r\nimport Picker from './Picker';\r\nimport moment from 'moment';\r\nimport { withSnackbar } from 'notistack';\r\nimport { createEvent as requestEvent } from '../Effects/requests';\r\nimport { connect } from 'react-redux';\r\n\r\nconst ranges = [];\r\nconst intervals = [];\r\n\r\nfor (let i = 1; i <= 5; i++) {\r\n  ranges.push({\r\n    value: i,\r\n    label: `${i} ${getNoun(i)}`\r\n  })\r\n}\r\nranges.push({\r\n  value: Infinity,\r\n  label: `не ограничено`\r\n})\r\n\r\nfor (let i = 30; i <= 120; i += 10) {\r\n  intervals.push({\r\n    value: i,\r\n    label: `${i} минут`\r\n  })\r\n}\r\n\r\nfunction getNoun(number) {\r\n  number = Math.abs(number);\r\n  number %= 100;\r\n  if (number >= 5 && number <= 20) return 'участников';\r\n  number %= 10;\r\n  if (number === 1) return 'участник';\r\n  if (number >= 2 && number <= 4) return 'участника';\r\n  return 'участников';\r\n}\r\n\r\nfunction NewEvent({ isOpen, handleClose, enqueueSnackbar, user, onAddEvent }) {\r\n  const [title, setTitle] = useState('');\r\n  const [_startDate, _setStartDate] = useState(null);\r\n  const [_endDate, _setEndDate] = useState(null);\r\n  const [startDate, setStartDate] = useState(null);\r\n  const [endDate, setEndDate] = useState(null);\r\n  const [isSignAllowed, setSignAllowed] = useState(false);\r\n  const [maxUsers, setMaxUsers] = useState(ranges[0].value);\r\n  const [isSplitted, setSplitted] = useState(false);\r\n  const [interval, setInterval] = useState(intervals[2].value);\r\n  const [emptyTitle, setEmptyTitle] = useState(false);\r\n  const [emptyStartDate, setEmptyStartDate] = useState(false);\r\n  const [emptyEndDate, setEmptyEndDate] = useState(false);\r\n\r\n  function setStart(e) {\r\n    const dateString = moment(e._d).format('YYYY-MM-DD HH:mm');\r\n    if (\r\n      (Number(dateString.slice(-5,-3)) > 7 && Number(dateString.slice(-5,-3)) < 18) \r\n      || \r\n      (Number(dateString.slice(-5,-3)) === 18 && Number(dateString.slice(-2)) === 0)\r\n    ) {\r\n      _setStartDate(e._d);\r\n      setStartDate(dateString);\r\n    } else {\r\n      setTimeout(() => setEmptyStartDate(true), 500);\r\n      enqueueSnackbar('Вы можете назначить время только с 08:00 - 18:00', {variant: 'warning'});\r\n    }\r\n  }\r\n\r\n  function setEnd(e) {\r\n    const dateString = moment(e._d).format('YYYY-MM-DD HH:mm');\r\n    if (\r\n      (Number(dateString.slice(-5,-3)) > 7 && Number(dateString.slice(-5,-3)) < 18) \r\n      || \r\n      (Number(dateString.slice(-5,-3)) === 18 && Number(dateString.slice(-2)) === 0)\r\n    ) {\r\n      _setEndDate(e._d);\r\n      setEndDate(dateString); \r\n    } else {\r\n      setTimeout(() => setEmptyEndDate(true), 500);\r\n      enqueueSnackbar('Вы можете назначить время только с 08:00 - 18:00', {variant: 'warning'});\r\n    }\r\n  }\r\n\r\n  function isSameDay() {\r\n    if (endDate && startDate) {\r\n      const ey = parseInt(endDate.slice(0, 4));\r\n      const em = parseInt(endDate.slice(5, 7));\r\n      const ed = parseInt(endDate.slice(8, 10));\r\n      const sy = parseInt(startDate.slice(0, 4));\r\n      const sm = parseInt(startDate.slice(5, 7));\r\n      const sd = parseInt(startDate.slice(8, 10));\r\n      return ey === sy && em === sm && ed === sd ? true : false;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  async function createEvent() {\r\n    if (title && startDate && endDate) {\r\n      const data = { creator: user.id, title, created_at: new Date().getTime() }\r\n\r\n      if (isSignAllowed) {\r\n        data.max = maxUsers;\r\n      } else {\r\n        data.max = '0';\r\n      }\r\n      if (isSplitted) data.interval = interval; \r\n      if (moment(_startDate).diff(moment(_endDate)) > 0) {\r\n        data.startDate = endDate;\r\n        data.endDate = startDate;\r\n      } else {\r\n        data.endDate = endDate;\r\n        data.startDate = startDate;\r\n      }\r\n      \r\n      const success = await requestEvent(data);\r\n\r\n      if (success) {    \r\n        data.name = user.name;\r\n        data.surname = user.surname;\r\n        if (!isSplitted) data.id = success.id\r\n        onAddEvent(data);\r\n        enqueueSnackbar('Событие успешно создано', {variant: 'success'});\r\n        if (isSplitted) window.location.reload();\r\n      } else {\r\n        enqueueSnackbar('Ошибка сервера', {variant: 'error'});\r\n      }\r\n      handleClose();\r\n    } else {\r\n      if (!title) setEmptyTitle(true);\r\n      if (!startDate) setEmptyStartDate(true);\r\n      if (!endDate) setEmptyEndDate(true);\r\n      enqueueSnackbar('Необходимо заполнить все поля', {variant: 'error'});\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      open={isOpen}\r\n      onClose={handleClose}\r\n      component={\r\n        <Wrapper>\r\n          <Paper>\r\n            <Icon onClick={handleClose}>\r\n              <CloseIcon />\r\n            </Icon>\r\n            <TextField\r\n              required\r\n              label=\"Название\"\r\n              margin=\"dense\"\r\n              variant=\"outlined\"\r\n              value={title}\r\n              error={emptyTitle}\r\n              onClick={() => setEmptyTitle(false)}\r\n              onChange={e => setTitle(e.target.value)}\r\n            />\r\n            <Picker\r\n              helperText='Назначьте начало мероприятия'\r\n              date={_startDate}\r\n              setDate={setStart}\r\n              error={emptyStartDate}\r\n              callback={() => setEmptyStartDate(false)}\r\n            />\r\n            <Picker\r\n              helperText='Назначьте окончание мероприятия'\r\n              date={_endDate}\r\n              setDate={setEnd}\r\n              error={emptyEndDate}\r\n              callback={() => setEmptyEndDate(false)}\r\n            />\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  checked={isSignAllowed}\r\n                  onChange={() => setSignAllowed(isSignAllowed ? false : true)}\r\n                  color=\"primary\"\r\n                />\r\n              }\r\n              label=\"На событие можно записаться\"\r\n            />\r\n            {isSignAllowed ?\r\n              <TextField\r\n                select\r\n                variant='outlined'\r\n                margin='dense'\r\n                label=\"Максимальное кол-во участников\"\r\n                value={maxUsers}\r\n                onChange={e => setMaxUsers(e.target.value)}\r\n              >\r\n                {ranges.map(option => (\r\n                  <MenuItem key={option.value} value={option.value}>\r\n                    {option.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </TextField>\r\n              : null}\r\n\r\n            {isSameDay() ? \r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    checked={isSplitted}\r\n                    onChange={() => setSplitted(isSplitted ? false : true)}\r\n                    color=\"primary\"\r\n                  />\r\n                }\r\n                label=\"Разбить на интервалы\"\r\n              /> : null}\r\n            {isSplitted ?\r\n              <TextField\r\n                select\r\n                variant='outlined'\r\n                margin='dense'\r\n                label=\"Интервал\"\r\n                value={interval}\r\n                onChange={e => setInterval(e.target.value)}\r\n              >\r\n                {intervals.map(option => (\r\n                  <MenuItem key={option.value} value={option.value}>\r\n                    {option.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </TextField>\r\n              : null}\r\n            <ButtonContainer>\r\n              <Button variant='contained' color='secondary' onClick={createEvent}>Создать</Button>\r\n              <Button variant='text' color='default' onClick={handleClose}>Отмена</Button>\r\n            </ButtonContainer>\r\n          </Paper>\r\n          <Dialogue />\r\n        </Wrapper>\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  height: fit-content;\r\n  width: 480px;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n  outline: none;\r\n  & > div {\r\n    position: relative;\r\n    display: flex;\r\n    padding: 45px 45px 30px;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    z-index: 10;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: 100%;\r\n  }\r\n`;\r\nconst Dialogue = styled.section`\r\n  position: fixed !important;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  background: rgba(0,0,0,0.54);\r\n  width: 100vw;\r\n  height: 100vh !important;\r\n  z-index: 5;\r\n`;\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  margin-top: 30px;\r\n  button {\r\n    margin-right: 25px;\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  svg {\r\n    cursor: pointer;\r\n    color: rgba(0,0,0,.54);\r\n    position: absolute;\r\n    right: 16px;\r\n    top: 16px;\r\n  }\r\n`\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    onAddEvent: (event) => {\r\n      dispatch({ type: 'ADD_EVENT', payload: event })\r\n    }\r\n  })\r\n)(withSnackbar(NewEvent));\r\n","import React from 'react';\r\nimport Modal from '../Modal/Modal';\r\nimport styled from 'styled-components';\r\nimport { Paper, Button, Typography } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\n\r\nexport default function ConfirmModal({ deleteAppointment, isOpen, handleClose }) {\r\n  return (\r\n    <Modal\r\n      open={isOpen}\r\n      onClose={handleClose}\r\n      component={\r\n        <Wrapper>\r\n            <Paper>\r\n              <Icon onClick={handleClose}>\r\n                <CloseIcon />\r\n              </Icon>\r\n              <Typography variant='body1'>Вы уверены, что хотите удалить мероприятие?</Typography>\r\n              <Typography variant='caption'>Вся информация по мероприятию будет удалена безвозвратно.</Typography>\r\n              <ButtonContainer>\r\n                <Button variant='contained' color='secondary' onClick={deleteAppointment}>Удалить</Button>\r\n                <Button variant='text' color='default' onClick={handleClose}>Отмена</Button>\r\n              </ButtonContainer>\r\n            </Paper>  \r\n          <Dialogue />\r\n        </Wrapper>\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  height: fit-content;\r\n  width: 350px;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n  outline: none;\r\n  & > div {\r\n    position: relative;\r\n    display: flex;\r\n    padding: 45px 25px 30px;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    z-index: 10;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: 100%;\r\n  }\r\n`;\r\nconst Dialogue = styled.section`\r\n  position: fixed !important;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  background: rgba(0,0,0,0.54);\r\n  width: 100vw;\r\n  height: 100vh !important;\r\n  z-index: 5;\r\n`;\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  margin-top: 30px;\r\n  button {\r\n    margin-right: 25px;\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  svg {\r\n    cursor: pointer;\r\n    color: rgba(0,0,0,.54);\r\n    position: absolute;\r\n    right: 16px;\r\n    top: 16px;\r\n  }\r\n`\r\n\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Paper, Typography, Button } from '@material-ui/core';\r\nimport { ViewState } from '@devexpress/dx-react-scheduler';\r\nimport { Scheduler, WeekView, Toolbar, DateNavigator, Appointments, ViewSwitcher, MonthView, DayView, AppointmentForm, AppointmentTooltip } from '@devexpress/dx-react-scheduler-material-ui';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { fade } from '@material-ui/core/styles/colorManipulator';\r\nimport API from '../functions/API';\r\nimport styled from 'styled-components';\r\nimport NewEvent from './NewEvent';\r\nimport { connect } from 'react-redux';\r\nimport { deleteEvent, signUpOnEvent, unSignUpOnEvent } from '../Effects/requests';\r\nimport { withSnackbar } from 'notistack';\r\nimport Modal from './Modal';\r\n\r\nconst style = theme => ({\r\n  todayCell: {\r\n    backgroundColor: fade(theme.palette.primary.main, 0.1),\r\n    color: 'black',\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.primary.main, 0.14),\r\n    },\r\n    '&:focus': {\r\n      backgroundColor: fade(theme.palette.primary.main, 0.16),\r\n    },\r\n  },\r\n  weekendCell: {\r\n    backgroundColor: fade(theme.palette.action.disabledBackground, 0.04),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.action.disabledBackground, 0.04),\r\n    },\r\n    '&:focus': {\r\n      backgroundColor: fade(theme.palette.action.disabledBackground, 0.04),\r\n    },\r\n  },\r\n  today: {\r\n    backgroundColor: fade(theme.palette.primary.main, 0.16),\r\n  },\r\n  weekend: {\r\n    backgroundColor: fade(theme.palette.action.disabledBackground, 0.06),\r\n  },\r\n});\r\n\r\nconst Appointment = ({ children, style, ...restProps }) => {\r\n  const signedUsers = restProps.data.signed ? restProps.data.signed.split(',') : [];\r\n  const remaining = restProps.data.max - signedUsers.length;\r\n\r\n  return (\r\n    <Appointments.Appointment\r\n      {...restProps}\r\n      style={{\r\n        ...style,\r\n        backgroundColor: !remaining ? '#3949AB' : '#1976d2',\r\n        borderRadius: '8px',\r\n      }}\r\n      onDoubleClick={null}\r\n    >\r\n      {children}\r\n  \r\n    </Appointments.Appointment>\r\n  )\r\n}\r\n\r\nconst AppointmentContentBase = ({ enqueueSnackbar, onSignup, onUnSignup, store, children, ...restProps  }) => {\r\n  const signedUsers = restProps.appointmentData.signed ? restProps.appointmentData.signed.split(',') : [];\r\n  const userName = `${restProps.appointmentData.name} ${restProps.appointmentData.surname}`;\r\n  const remaining = restProps.appointmentData.max - signedUsers.length;\r\n\r\n  function getRemainingPlaces(remaining) {\r\n    if (remaining === 1) return `Осталось одно место.`;\r\n    if (remaining > 1) return `Свободных мест: ${remaining}.`;\r\n    return `Все места заняты.`\r\n  }\r\n\r\n  function signed() {\r\n    if (signedUsers.length === 0) return <Typography variant='body2' style={{ padding: '5px 0' }}>Пока никто не записался</Typography>\r\n    return <Typography variant='body2' style={{ padding: '5px 0' }}>Записались: </Typography>\r\n  }\r\n\r\n  function signUp() {\r\n    const data = {\r\n      id: restProps.appointmentData.id,\r\n      name: store.user.name,\r\n      surname: store.user.surname\r\n    }\r\n    signUpOnEvent(data);\r\n    onSignup(data);\r\n    enqueueSnackbar('Вы записались на мероприятие', { variant: 'success' });\r\n\r\n    var closeIcon = document.querySelector('div [role=\"document\"]').querySelector('button');\r\n    closeIcon.click();\r\n  }\r\n\r\n  function unSignUp() {\r\n    const data = {\r\n      id: restProps.appointmentData.id,\r\n      name: store.user.name,\r\n      surname: store.user.surname\r\n    }\r\n    unSignUpOnEvent(data);\r\n    onUnSignup(data);\r\n    enqueueSnackbar('Вы отписались от мероприятия', { variant: 'info' });\r\n\r\n    var closeIcon = document.querySelector('div [role=\"document\"]').querySelector('button');\r\n    closeIcon.click();\r\n  }\r\n\r\n  function isSigned() {\r\n    return restProps.appointmentData.signed.includes(`${store.user.name} ${store.user.surname}`);\r\n  }\r\n\r\n  return (\r\n    <div style={{ overflow: 'hidden', paddingBottom: 10 }}>\r\n      <div style={{ padding: '5px 15px' }}>\r\n        <Typography variant='subtitle2'>Создатель: {userName}</Typography>\r\n        {restProps.appointmentData.max === '0' ?\r\n        null :\r\n        (<Fragment>\r\n          {signed()}\r\n          {signedUsers.map(user =>\r\n            <Typography variant='body2' key={user}>— {user}</Typography>\r\n          )}\r\n          <Typography variant='caption' style={{ marginTop: 5 }}>{getRemainingPlaces(remaining)}</Typography> \r\n        </Fragment>)}\r\n      </div> \r\n\r\n      {children}\r\n\r\n      {remaining ? \r\n        <div style={{ display: 'flex', justifyContent: 'flex-end', padding: '15px 15px 5px' }}>     \r\n          <Button variant='contained' color='secondary' onClick={!isSigned() ? signUp : unSignUp}>{!isSigned() ? 'записаться' : 'отписаться'} </Button>\r\n        </div> : null}\r\n\r\n      {!remaining && isSigned() ? \r\n      <div style={{ display: 'flex', justifyContent: 'flex-end', padding: '15px 15px 5px' }}>     \r\n        <Button variant='contained' color='secondary' onClick={unSignUp}>{'отписаться'} </Button>\r\n      </div> : null}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst AppointmentContent = connect(state => ({ store: state }),\r\n  dispatch => ({ \r\n    onSignup: (data) => dispatch({ type: 'SIGN_UP', payload: data }),\r\n    onUnSignup: (data) => dispatch({ type: 'UNSIGN_UP', payload: data })\r\n}))(withSnackbar(AppointmentContentBase));\r\n\r\nconst AppointmentsTooltipBase = ({ enqueueSnackbar, onDeleteEvent, style, store, children, ...restProps }) => {\r\n  const [isOpen, setOpen] = useState(false);\r\n\r\n  let isUserAppointment = false;\r\n\r\n  if (!Array.isArray(store.user) && restProps.appointmentMeta && restProps.appointmentMeta.data.creator === store.user.id) {\r\n    isUserAppointment = true;\r\n  }\r\n\r\n  const prepareDelete = () => {\r\n    setOpen(true);\r\n  }\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  }\r\n\r\n  const deleteAppointment = () => {\r\n    deleteEvent(restProps.appointmentMeta.data.id);\r\n    onDeleteEvent(restProps.appointmentMeta.data.id);\r\n    restProps.onHide();\r\n    setOpen(false);\r\n    enqueueSnackbar('Событие удалено', { variant: 'success' });\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <AppointmentTooltip.Layout\r\n        {...restProps}\r\n        contentComponent={AppointmentContent}\r\n        showDeleteButton={isUserAppointment}\r\n        onDeleteButtonClick={prepareDelete}\r\n      >\r\n        {children}  \r\n      </AppointmentTooltip.Layout>\r\n      {isOpen ? \r\n        <Modal \r\n          isOpen={isOpen}\r\n          handleClose={handleClose}\r\n          deleteAppointment={deleteAppointment}\r\n        /> \r\n      : null}\r\n    </Fragment>  \r\n  )\r\n}\r\n\r\nconst AppointmentsTooltip = connect(state => ({ store: state }),\r\n  dispatch => ({ onDeleteEvent: (id) => dispatch({ type: 'DELETE_EVENT', payload: id })\r\n}))(withSnackbar(AppointmentsTooltipBase));\r\n\r\nconst TimeTableCellBase = ({ classes, ...restProps }) => {\r\n  const { startDate } = restProps;\r\n  const date = new Date(startDate);\r\n  if (date.getDate() === new Date().getDate()) {\r\n    return <WeekView.TimeTableCell {...restProps} className={classes.todayCell} />;\r\n  } if (date.getDay() === 0 || date.getDay() === 6) {\r\n    return <WeekView.TimeTableCell {...restProps} className={classes.weekendCell} />;\r\n  } return <WeekView.TimeTableCell {...restProps} />;\r\n};\r\n\r\nconst TimeTableCell = withStyles(style, { name: 'TimeTableCell' })(TimeTableCellBase);\r\n\r\nconst DayScaleCellBase = ({ classes, ...restProps }) => {\r\n  const { startDate, today } = restProps;\r\n  if (today) {\r\n    return <WeekView.DayScaleCell {...restProps} className={classes.today} />;\r\n  } if (startDate.getDay() === 0 || startDate.getDay() === 6) {\r\n    return <WeekView.DayScaleCell {...restProps} className={classes.weekend} />;\r\n  } return <WeekView.DayScaleCell {...restProps} />;\r\n};\r\n\r\nconst DayScaleCell = withStyles(style, { name: 'DayScaleCell' })(DayScaleCellBase);\r\n\r\nfunction Calendar({ user, onFetchEvents, onFetchUser, store }) {\r\n  const [isOpen, setOpen] = useState(false);\r\n\r\n  const handleClose = () => setOpen(false);\r\n\r\n  useEffect(() => {\r\n    fetch(`${API}/api/calendar/read.php`)\r\n      .then(response => response.json())\r\n      .then(events => onFetchEvents(events))\r\n      .then(fetch(`${API}/api/user/read_one.php`)\r\n        .then(response => response.json())\r\n        .then(user => onFetchUser(user)))\r\n  }, []);\r\n\r\n  return (\r\n    <Paper>\r\n      {user.admin === '1' ?\r\n        <CreateEvent>\r\n          <Button variant='contained' color='secondary' onClick={() => setOpen(true)}>Создать событие</Button>\r\n        </CreateEvent>   \r\n      : null}\r\n      <Scheduler\r\n        style={{ height: '100%' }}\r\n        data={store.events}     \r\n      >\r\n        <ViewState\r\n          defaultCurrentViewName=\"День\"\r\n        />\r\n        <DayView\r\n          name=\"День\"\r\n          startDayHour={8}\r\n          endDayHour={19}\r\n        />\r\n        <WeekView\r\n          name=\"Неделя\"\r\n          startDayHour={8}\r\n          endDayHour={19}\r\n          firstDayOfWeek={1}\r\n          timeTableCellComponent={TimeTableCell}\r\n          dayScaleCellComponent={DayScaleCell}\r\n        />\r\n        <MonthView\r\n          name=\"Месяц\"\r\n          firstDayOfWeek={1}\r\n        />\r\n        <Toolbar />\r\n        <DateNavigator />       \r\n        <ViewSwitcher />\r\n        <Appointments\r\n          appointmentComponent={Appointment}   \r\n        />\r\n        <AppointmentTooltip\r\n          showOpenButton={false}\r\n          layoutComponent={AppointmentsTooltip}\r\n          showCloseButton   \r\n        />\r\n        <AppointmentForm\r\n          messages={{\r\n            allDayLabel: 'Весь день',\r\n            titleLabel: 'Мероприятие',\r\n            startDateLabel: 'Дата начала',\r\n            endDateLabel: 'Дата завершения',\r\n            commitCommand: 'Создать',\r\n            cancelCommand: 'Отмена',\r\n          }}\r\n          readOnly={true}\r\n        />\r\n      </Scheduler>\r\n      {isOpen ? \r\n        <NewEvent \r\n          isOpen={isOpen}\r\n          handleClose={handleClose}\r\n          user={user}\r\n        /> \r\n      : null}\r\n    </Paper>\r\n  );\r\n}\r\n\r\nconst CreateEvent = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  width: fit-content;\r\n  margin-top: 15px;\r\n  z-index: 50;\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    onFetchEvents: (events) => {\r\n      dispatch({ type: 'FETCH_EVENTS', payload: events })\r\n    },\r\n    onFetchUser: (user) => {\r\n      dispatch({ type: 'FETCH_USER', payload: user })\r\n    },\r\n    onDeleteEvent: (id) => {\r\n      dispatch({ type: 'DELETE_EVENT', payload: id })\r\n    },\r\n  })\r\n)(Calendar);\r\n","import React, { Fragment, useState, useEffect } from 'react';\r\nimport Header from '../Header';\r\nimport MainpageHeader from '../MainpageHeader';\r\nimport Nav from '../Navigation/Navigation';\r\nimport { connect } from 'react-redux';\r\nimport API from '../functions/API';\r\nimport Loader from '../Loader/Loader';\r\nimport CalendarContainer from './CalendarContainer';\r\n\r\nfunction index() {\r\n  const [user, setUser] = useState([]);\r\n  const [isLoading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetch(`${API}/api/user/info.php`)\r\n      .then(response => response.json())\r\n      .then(user => setUser(user))\r\n      .then(() => setLoading(false))\r\n      .catch(err => console.log(err))\r\n  }, [])\r\n\r\n  return (\r\n    <Fragment>\r\n      <MainpageHeader \r\n        user={user} \r\n      />\r\n      <div className=\"container\">\r\n        <Header />\r\n        <Nav user_logged_id={user.id} />\r\n      </div> \r\n\r\n      {isLoading \r\n        ? <Loader minHeight={370} />\r\n        : <CalendarContainer user={user} /> }\r\n  </Fragment>\r\n  )\r\n}\r\n\r\nexport default connect(state => ({ store: state }))(index);","import MainPage from './components/MainPage';\r\nimport LoginForm from './components/LoginForm';\r\nimport Approved from './components/Approved';\r\nimport Restore from './components/Restore';\r\nimport Page404 from './components/Page404';\r\nimport Settings from './components/Settings';\r\nimport TestPage from './components/Learnings/TestPage/index';\r\nimport Calendar from './components/Calendar/index';\r\n\r\nconst routes = [\r\n  {\r\n    path: '/id:user_id',\r\n    component: MainPage,\r\n    description: 'страница пользователя'\r\n  },\r\n  {\r\n    path: '/colleagues',\r\n    component: MainPage,\r\n    description: 'Список друзей(коллег)'\r\n  },\r\n  {\r\n    path: '/news',\r\n    component: MainPage,\r\n    description: 'Новости'\r\n  },\r\n  {\r\n    path: '/messages',\r\n    component: MainPage,\r\n    description: 'Личные сообщения'\r\n  },\r\n  {\r\n    path: '/tasks',\r\n    component: MainPage,\r\n    description: 'Задачи'\r\n  },\r\n  {\r\n    path: '/learnings',\r\n    component: MainPage,\r\n    description: 'Обучение'\r\n  },\r\n  {\r\n    path: '/settings',\r\n    component: Settings,\r\n    description: 'Персональные данные'\r\n  },\r\n  {\r\n    path: '/calendar',\r\n    component: Calendar,\r\n    description: 'Календарь'\r\n  },\r\n  {\r\n    path: '/feed',\r\n    component: MainPage,\r\n    description: 'Оповещения'\r\n  },\r\n  {\r\n    path: '/test/:any',\r\n    component: TestPage,\r\n    description: 'Страница тестирования'\r\n  },\r\n  {\r\n    path: '/login',\r\n    component: LoginForm,\r\n    description: 'Страница авторизации / регистрации'\r\n  },\r\n  {\r\n    path: '/approved',\r\n    component: Approved,\r\n    description: 'Страница подтверждения регистрации'\r\n  },\r\n  {\r\n    path: '/Restore',\r\n    component: Restore,\r\n    description: 'Страница восстановления пароля'\r\n  },\r\n  {\r\n    path: '/404',\r\n    component: Page404,\r\n    description: 'страница 404'\r\n  },\r\n  {\r\n    path: '/:any', // любой не валидный путь\r\n    component: Page404,\r\n    description: 'страница 404'\r\n  }\r\n]\r\n\r\nexport default routes;","import React, { Component } from 'react';\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { faComments, faHeart, faEnvelope, faEdit } from '@fortawesome/free-solid-svg-icons';\nimport routes from './routes';\n\nlibrary.add(faComments, faHeart, faEnvelope, faEdit)\n\nclass App extends Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <Switch>\n          {routes.map(route =>\n            <Route \n              path={route.path} \n              component={route.component} \n              key={route.description}\n            />\n          )}\n        </Switch>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n\n","import { combineReducers } from 'redux';\r\nimport user from './user';\r\nimport tasks from './tasks';\r\nimport news from './news';\r\nimport chats from './chats';\r\nimport room from './room';\r\nimport messages from './messages';\r\nimport friends from './friends';\r\nimport tests from './tests';\r\nimport categories from './categories';\r\nimport events from './events';\r\nimport feed from './feed';\r\n\r\nexport default combineReducers({\r\n  user,\r\n  news,\r\n  tasks,\r\n  chats,\r\n  room,\r\n  messages,\r\n  friends,\r\n  tests,\r\n  categories,\r\n  events,\r\n  feed\r\n})","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'LOGGED_IN':\r\n      return [action.payload]\r\n    case 'UPDATE_USER':\r\n      let updated = state[0];\r\n      updated[action.field] = action.payload; \r\n      return [updated]\r\n    case 'FETCH_USER':  \r\n      return action.payload\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_NEWS':\r\n      return [...action.payload]\r\n    case 'DELETE_NEWS':\r\n      let nextState = state.filter(item => item.id !== action.payload);\r\n      return [...nextState]\r\n    case 'ADD_NEWS':\r\n      return [...action.payload]  \r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_TASKS':\r\n      if (Array.isArray(action.payload)) {\r\n        return [...action.payload]\r\n      }\r\n      return state\r\n    case 'MARK_COMPLETED':\r\n      return [...action.payload]\r\n    case 'ADD_TASK':\r\n      return [...action.payload]\r\n    case 'FILTER_TASKS':\r\n      return [...action.payload]\r\n    case 'READED_TASK':\r\n      let newState = state;\r\n      let readed = newState.find(task => task.id === action.payload);\r\n      readed.readed = 1;\r\n      return newState;\r\n    case 'DELETE_TASK':\r\n      let nextState = state.filter(item => item.id !== action.payload);\r\n      return [...nextState]\r\n    default:\r\n      return state\r\n  }\r\n}","import _ from 'lodash';\r\n\r\nexport default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_CHATS':\r\n      return [...action.payload]\r\n    case 'CREATE_CHAT':\r\n      return [...state, action.payload]\r\n    case 'DELETE_CHAT':\r\n      let cleared = state.filter(chat => chat.id !== action.payload);\r\n      return cleared\r\n    case 'ADD_MESSAGE':\r\n      let newState = state.filter(chat => chat.id !== action.payload.chat);\r\n      let currentChat = state.find(chat => chat.id === action.payload.chat);\r\n      currentChat.message = action.payload;\r\n      newState = _.concat(newState, currentChat)\r\n      return newState\r\n    case 'EDIT_MESSAGE':\r\n      let editedState = state.filter(chat => chat.message.id !== action.payload[0]);\r\n      let editedMessage = state.find(chat => chat.message.id === action.payload[0]);\r\n      \r\n      if (editedMessage) {\r\n        editedMessage.message.body = action.payload[1];\r\n        editedState = _.concat(editedState, editedMessage)\r\n      }\r\n      \r\n      return editedState\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'OPEN_CHAT':\r\n      return {chat_id: action.payload[0], user: action.payload[1]}\r\n    case 'CLOSE_CHAT':\r\n      return {user: action.payload[1]}\r\n    case 'DELETE_CHAT':\r\n      let initial = state;\r\n      delete initial.chat_id;\r\n      initial.user.message = null;\r\n      return initial\r\n    case 'ASSIGN_CHAT':\r\n      let newState = state;\r\n      newState.chat_id = action.payload;\r\n      return newState;\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_MESSAGES':\r\n      return [...action.payload]\r\n    case 'ADD_MESSAGE':\r\n      let newMessage = action.payload;\r\n      newMessage.id = (Number(localStorage.getItem('message_id')) + 1).toString();\r\n      let finder = state.find(message => message.id === newMessage.id);\r\n      if (finder) {\r\n        newMessage.id = (Number(newMessage.id) + 1).toString();\r\n      }\r\n      return [...state, newMessage]\r\n    case 'DELETE_MESSAGE':\r\n      let newState = state.filter(message => message.id !== action.payload);\r\n      return newState\r\n    case 'CLOSE_CHAT':\r\n      return []\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_FRIENDS':\r\n      return [...action.payload]\r\n    case 'FILTER_FRIENDS':\r\n      return [...action.payload]\r\n    case 'SET_FRIENDS':\r\n      return action.payload\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_TESTS':\r\n      return [...action.payload]\r\n    case 'FETCH_TEST':\r\n      return action.payload;\r\n    case 'ADD_TEST':\r\n      return [...state, action.payload]\r\n    case \"DELETE_TEST\":\r\n      let filtered = state.filter(test => Number(test.id) !== Number(action.payload));\r\n      return filtered;\r\n    case 'FILTER_TESTS':\r\n      return [...action.payload]\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'GET_CATEGORIES':\r\n      return action.payload\r\n    case 'RESE_CATEGORIES':\r\n      return action.payload\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_EVENTS':\r\n      return Array.isArray(action.payload) ? [...action.payload] : state;\r\n    case 'ADD_EVENT':\r\n      return [...state, action.payload]\r\n    case 'CHANGE_EVENTS':\r\n      return [...action.payload]\r\n    case 'DELETE_EVENT':\r\n      return state.filter(item => item.id !== action.payload)\r\n    case 'SIGN_UP':  \r\n      let event = state.find(event => event.id === action.payload.id);\r\n\r\n      if (!event.signed) {\r\n        event.signed = `${action.payload.name} ${action.payload.surname}`;\r\n      } else {\r\n        event.signed += `, ${action.payload.name} ${action.payload.surname}`;\r\n      }\r\n  \r\n      let index = state.findIndex((obj => obj.id === action.payload.id));\r\n      let newState = state;\r\n      \r\n      newState[index].signed = event.signed;\r\n\r\n      return newState\r\n    case 'UNSIGN_UP':\r\n      let updatedState = state;\r\n      let thisEvent = state.find(event => event.id === action.payload.id);\r\n      let userName = `${action.payload.name} ${action.payload.surname}`;\r\n      \r\n      if (thisEvent.signed.split(',').length > 1) {\r\n        if (thisEvent.signed.split(',')[0] === userName) {\r\n          thisEvent.signed = thisEvent.signed.replace(`${userName},`, '');\r\n        } else {\r\n          thisEvent.signed = thisEvent.signed.replace(`, ${userName}`, '');\r\n        }    \r\n      } \r\n      thisEvent.signed = thisEvent.signed.replace(userName, '');\r\n      \r\n\r\n      let i = state.findIndex((obj => obj.id === action.payload.id));\r\n      updatedState[i].signed = thisEvent.signed;\r\n\r\n      return updatedState  \r\n    \r\n    default: return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_FEED':\r\n      return [...action.payload]\r\n    default:\r\n      return state\r\n  }\r\n}","import { createMuiTheme } from '@material-ui/core/styles';\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: { main: '#1976d2' }, \r\n    secondary: { main: '#ff4800' },\r\n  },\r\n  typography: { useNextVariants: true },\r\n  overrides: {\r\n    MuiSnackbar: { \r\n      root: { \r\n        bottom: window.innerWidth < 600 ? '60px !important' : '0', \r\n      },\r\n    },\r\n    MuiModal: {\r\n      root: {\r\n        bottom: window.innerWidth < 600 ? '60px !important' : '0', \r\n        maxWidth: `${window.innerWidth}px !important`\r\n      },\r\n    },\r\n    MuiBackdrop: {\r\n      root: {\r\n        bottom: window.innerWidth < 600 ? 'display: none' : 'display: block', \r\n      },\r\n    },\r\n    MuiFab: {\r\n      root: {\r\n        bottom: window.innerWidth < 600 ? '76px' : '0', \r\n        zIndex: 10\r\n      }\r\n    },\r\n    MuiList: {\r\n      padding: {\r\n        padding: '0 !important'\r\n      }\r\n    },\r\n    MuiGrid: {\r\n      container: {\r\n        height: '100% !important'\r\n      }\r\n    },\r\n    MuiTableCell: {\r\n      root: {\r\n        pointerEvents: 'none'\r\n      }\r\n    },\r\n    Layout: {\r\n      title: {\r\n        marginLeft: '-40px'\r\n      }\r\n    },\r\n    VerticalAppointment: {\r\n      content: {\r\n        fontSize: '1.1rem'\r\n      },\r\n      title: {\r\n        fontWeight: '500',\r\n        fontSize: '1.2rem'\r\n      },\r\n      textContainer: {\r\n        lineHeight: '20px',\r\n        opacity: '.75'\r\n      }\r\n    }\r\n  },\r\n});\r\n\r\nexport default theme;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport reducer from './reducers';\nimport theme from './MaterialTheme';\nimport { MuiPickersUtilsProvider } from 'material-ui-pickers';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport MomentUtils from '@date-io/moment';\nimport moment from 'moment';\nimport 'moment/locale/ru';\nimport { SnackbarProvider } from 'notistack';\n\nlet store = createStore(reducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\nmoment.locale('ru');\n\nfunction Root() {\n  return (\n    <MuiThemeProvider theme={theme}>\n      <Provider store={store}>\n        <MuiPickersUtilsProvider utils={MomentUtils} moment={moment}>\n          <SnackbarProvider maxSnack={3} preventDuplicate={true}>\n            <App />\n          </SnackbarProvider>\n        </MuiPickersUtilsProvider>\n      </Provider>\n    </MuiThemeProvider>\n  );\n}\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}