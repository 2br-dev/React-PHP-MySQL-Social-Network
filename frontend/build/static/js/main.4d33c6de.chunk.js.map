{"version":3,"sources":["components/img/icons/baseline-search-24px.svg","components/img/photos/social_header.jpg","components/img/photos/sphere.png","components/img/photos/images.png","components/Header.jsx","components/Loader/Loader.jsx","components/DropdownActions/Select.jsx","components/DropdownActions/Dropdown.jsx","components/MainpageHeader.jsx","components/functions/API.js","components/SingleNews.jsx","components/SideNews.jsx","components/FriendsList/Friend.jsx","components/FriendsList/Search.jsx","components/FriendsList/NotFound.jsx","components/ResponsiveHeader/UserAvatar.jsx","components/ResponsiveHeader/ResponsiveHeader.jsx","components/FriendsList/FriendsList.jsx","components/Modal/Modal.jsx","components/DropdownActions/ConfirmStatus.jsx","components/PersonalInfo.jsx","components/Fab/Fab.jsx","components/Tasks/Autocomplete.jsx","components/Tasks/Pickers.jsx","components/Tasks/TextInput.jsx","components/Tasks/Stepper.jsx","components/Tasks/NewTask.jsx","components/Tasks/Task.jsx","components/Tasks/ConfirmDelete.jsx","components/Tasks/Tasks.jsx","components/News/NewNews.jsx","components/News/ConfirmDelete.jsx","components/News.jsx","components/Navigation/sections.js","components/Navigation/Navigation.jsx","components/Chat/ChatItem.jsx","components/Chat/NoMessages.jsx","components/Chat/Message.jsx","components/Chat/Messages.jsx","components/Chat/SendMessageInput.jsx","components/Chat/EditMessageInput.jsx","components/Chat/DeleteModal.jsx","components/Chat/ChatRoom.jsx","components/Chat/Dialogues.jsx","components/Chat/NoChats.jsx","components/Chat/Chat.jsx","components/Feed/UserAvatar.jsx","components/Feed/Comment.jsx","components/Feed/Like.jsx","components/Feed/News.jsx","components/Feed/Task.jsx","components/Feed/Result.jsx","components/Feed/Event.jsx","components/Feed/ThatsIt.jsx","components/Feed/index.jsx","components/Media/Media.jsx","components/Learnings/cards.js","components/Learnings/Container.jsx","components/Learnings/Materials.jsx","components/Effects/fetches.jsx","components/List/NotFound.jsx","components/List/List.jsx","components/Learnings/NoTests.jsx","components/Learnings/Search.jsx","components/Learnings/Steps/SelectUser.jsx","components/Learnings/Steps/SelectTime.jsx","components/Learnings/Steps/QuestionItem.jsx","components/Learnings/Steps/CategoryItem.jsx","components/Learnings/Steps/SelectQuestions.jsx","components/Learnings/Steps/Stepper.jsx","components/Learnings/Steps/GenerateTest.jsx","components/Learnings/AdminPanel.jsx","components/Learnings/UserPanel.jsx","components/Learnings/Tests.jsx","components/Learnings/Learnings.jsx","components/MainPage.jsx","components/ForgetPassword.jsx","components/functions/Cookie.js","components/SignupForm.jsx","components/RegisterForm.jsx","components/BgBubbles.jsx","components/Approved.jsx","components/Restore.jsx","components/Page404.jsx","components/Settings.jsx","components/Learnings/TestPage/Timer.jsx","components/Learnings/TestPage/Question.jsx","components/Learnings/TestPage/Circles.jsx","components/Learnings/TestPage/Legend.jsx","components/Effects/requests.jsx","components/Learnings/TestPage/ResultsList.jsx","components/Learnings/TestPage/NotAnswered.jsx","components/Learnings/TestPage/Results.jsx","components/Learnings/TestPage/Finish.jsx","components/Learnings/TestPage/Test.jsx","components/Learnings/TestPage/StartTestTemplate.jsx","components/Learnings/TestPage/Continue.jsx","components/Learnings/TestPage/TestContainer.jsx","components/Learnings/TestPage/index.jsx","components/Calendar/Picker.jsx","components/Calendar/NewEvent.jsx","components/Calendar/Modal.jsx","components/Calendar/CalendarContainer.jsx","components/Calendar/index.jsx","routes.js","components/LoginForm.jsx","App.jsx","reducers/unreaded.js","reducers/index.js","reducers/user.js","reducers/news.js","reducers/tasks.js","reducers/chats.js","reducers/room.js","reducers/messages.js","reducers/friends.js","reducers/tests.js","reducers/categories.js","reducers/events.js","reducers/feed.js","MaterialTheme.js","index.js"],"names":["module","exports","__webpack_require__","p","Header","date","Date","react_default","a","createElement","className","dist_default","element","format","id","toLocaleString","weekday","Component","StyledLoader","styled","div","_templateObject","Loader","props","style","minHeight","CircularProgress_default","color","LongMenu","state","anchorEl","handleClick","event","stopPropagation","_this","setState","currentTarget","handleClose","_this2","this","open","Boolean","user","store","onClick","IconButton_default","aria-label","aria-owns","undefined","aria-haspopup","ExpandMore_default","Menu_default","onClose","MenuItem_default","component","Link","to","concat","Divider_default","href","window","innerWidth","React","connect","withSnackbar","Dropdown","Wrapper","Select","Dropdown_templateObject","MainpageHeader_templateObject","defaultBackground","Backdrop","_templateObject2","Personal","_templateObject3","_ref","_useState","useState","_useState2","Object","slicedToArray","forceUpdate","MainpageHeader_Wrapper","zIndex","position","length","background","components_Loader_Loader","backgroundImage","avatar","noPhoto","hasOwnProperty","name","surname","display","Math","random","API","location","host","includes","origin","SingleNews","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","getAvatars","likedBy","news","find","item","singleNewsId","liked_by","split","slice","formData","FormData","self","assertThisInitialized","append","$","ajax","url","data","processData","contentType","type","success","res","handleChange","e","commentText","target","value","addLike","actions","document","getElementById","pointerEvents","preventDefault","getTime","onAddLike","fetch","then","response","json","setTimeout","removeLike","onRemoveLike","submitComment","commentsLoading","toJSON","replace","toLocaleTimeString","onAddComment","click","fetchComments","enqueueSnackbar","variant","commentsContainer","scrollTop","scrollHeight","error","deleteComment","news_id","onRemoveComment","thisComments","loadedComments","loading","lightboxIsOpen","_this3","_this$props","closeNews","_this$state","_this$props$store","currentNews","userAvatar","react","Single","core_index_es","placement","title","Icon","Clear_default","author_id","textDecoration","PostHeader","Avatar","DefaultAvatar","author","alignItems","importance","createImportantBar","ImagePost","src","image","alt","main_default","mainSrc","onCloseRequest","PostContent","text","moment","Number","created_at","fromNow","PostLikes","likes","getNoun","maxWidth","overflow","map","i","key","PostActions","getCommentsNoun","react_fontawesome_index_es","icon","marginLeft","_","some","Fragment","NewComment","TextArea","top","label","multiline","onChange","required","disabled","comment","Comments","marginTop","who","DelIcon","Delete_default","opacity","textAlign","margin","SingleNews_Wrapper","SingleNews_templateObject","SingleNews_templateObject2","SingleNews_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_templateObject10","_templateObject11","_templateObject12","_templateObject13","dispatch","user_id","payload","SideNews","singleNews","singleNewsData","goToSingleNews","changeImportance","number","abs","Important","SideNews_templateObject","Warning_default","NEWS_COUNTER","SideNews_Wrapper","SideNews_News","NewsSwitch","bind","comments","NoNews","scrollTo","components_SingleNews","reloadComponent","SideNews_templateObject2","SideNews_templateObject3","News","SideNews_templateObject4","SideNews_templateObject5","Friend","friend","ListItem_default","button","TouchRippleProps","classes","child","ListItemAvatar_default","Avatar_default","height","width","defaultAvatar","ListItemText_default","inset","primary","secondary","last_activity","SearchWrapper","Search_templateObject","Search","TextField_default","searchValue","handleSearch","InputProps","endAdornment","InputAdornment_default","SearchIcon","NotFound","NotFound_Wrapper","NotFound_templateObject","UserAvatar_templateObject","UserAvatar_templateObject2","UserAvatar_Wrapper","UserAvatar_Avatar","ResponsiveHeader","updateState","ResponsiveHeader_Wrapper","ResponsiveHeader_UserAvatar","Typography_default","ResponsiveHeader_templateObject","FriendWrapper","FriendsList_templateObject","onFetchFriends","friends","filterFriends","setOnline","setSearchValue","_useState3","_useState4","setLoading","_useState5","_useState6","_friends","setFriends","documentTitle","useEffect","sorted","online","offline","not_used","forEach","time","lastActivity","parseInt","setFriendsOnline","push","sortFriends","Paper_default","FriendsList_Search","toLowerCase","filter","List_default","FriendsList_Friend","ModalWindow","Modal_default","ConfirmDelete","ConfirmStatus_Wrapper","ConfirmStatus_Icon","message","ButtonContainer","setAdministrator","ConfirmStatus_Backdrop","ConfirmStatus_templateObject","ConfirmStatus_templateObject2","ConfirmStatus_templateObject3","ConfirmStatus_templateObject4","autoSaveTimer","pageInterval","PersonalInfo","handleDateChange","selectedDate","removeInput","newChildInput","createInput","userInfo","fullWidth","InputLabelProps","shrink","Naked","InputBase_default","htmlFor","closeSelectOnScroll","listenSelect","closeSelect","isSelectOpened","preparedId","fetchUserInfo","nameError","yearError","childName","childBirthyear","loadingChild","lastUser","handleSubmit","deleteChild","prepareChild","handleChild","addChild","action","pathname","birthday","currentLocation","setInterval","clearInterval","_this4","clearTimeout","objectSpread","updateUser","_this$setState","defineProperty","child_name","child_birthyear","onAddChild","modal","onRemoveChild","dontShow","val","status","sex","result","_this5","childrens","childs","JSON","parse","Form","method","onSubmit","admin","Star_default","prepareToUpdate","right","cursor","StarBorder_default","react_input_mask_default","mask","phone","padding","material_ui_pickers_esm","aria-describedby","cancelLabel","vazriant","onOpen","input","labelWidth","Childrens","keys","Children","NewChild","now","reverse","join","Done_default","ChildBtns","city","disctrict","adress","district","vuz","fakultet","army_country","army_type","Btn","form","PersonalInfo_templateObject","PersonalInfo_templateObject2","PersonalInfo_templateObject3","PersonalInfo_templateObject4","PersonalInfo_templateObject5","PersonalInfo_templateObject6","PersonalInfo_templateObject7","field","withStyles","theme","fixed","bottom","spacing","unit","Tooltip_default","Add_default","inputComponent","inputRef","objectWithoutProperties","assign","ref","components","Control","inputProps","selectProps","innerRef","children","innerProps","textFieldProps","Menu","square","paper","MultiValue","tabIndex","classNames","chip","chipFocused","isFocused","onDelete","removeProps","deleteIcon","Cancel_default","NoOptionsMessage","noOptionsMessage","Option","buttonRef","selected","fontWeight","isSelected","Placeholder","placeholder","SingleValue","singleValue","ValueContainer","valueContainer","IntegrationReactSelect","users","selectStyles","base","palette","& input","font","root","react_select_esm","styles","options","multi","isMulti","control","flexGrow","flexDirection","justifyContent","flexWrap","flex","backgroundColor","emphasize","grey","fontSize","left","withTheme","MaterialUIPickers","Grid_default","container","justify","paddingBottom","minDate","emptyLabel","ampm","selectedTime","locale","minutesStep","handleTimeChange","TextInput","TextInput_TextArea","handleTextChange","TextInput_templateObject","VerticalLinearStepper","activeStep","handleNext","handleBack","handleReset","checkDisabled","step","steps","Stepper_default","orientation","index","Step_default","StepLabel_default","StepContent_default","getStepContent","actionsContainer","Button_default","Autocomplete","Pickers","elevation","resetContainer","resetAll","marginRight","marginBottom","NewTask","forWho","toLocaleDateString","getHours","getMinutes","tasks","onAddNewTask","_this$state2","NewTask_Wrapper","Close_default","Tasks_Stepper","NewTask_Backdrop","NewTask_templateObject","NewTask_templateObject2","task","Task","getUserNames","usersId","getAdresant","initial","from","readed","markTask","end","until_date","difference","duration","diff","_milliseconds","openTask","expandIcon","Task_Icon","TaskStatus","task-completed","task-doing","task-late","DeleteIcon","handleConfirm","details","Footer","for","until_time","leaveDelay","handleCompleted","Task_templateObject","span","Task_templateObject2","Task_templateObject3","Task_templateObject4","ConfirmDelete_Wrapper","ConfirmDelete_Icon","ConfirmDelete_ButtonContainer","handleDelete","ConfirmDelete_Backdrop","ConfirmDelete_templateObject","ConfirmDelete_templateObject2","ConfirmDelete_templateObject3","ConfirmDelete_templateObject4","tasksTimeout","Tasks","confirm","preparedToDelete","componentDidMount","unreaded","querySelector","onReadTasks","getTasks","handleOpen","done_date","done_time","markAsCompleted","handleFilter","disabledButton","filtered","onFilter","onDeleteTask","Tasks_Wrapper","AppBar_default","Tabs_default","indicatorColor","textColor","Tab_default","icons_Menu_default","ArrowForward_default","Check_default","Tasks_Task","Fab_Fab","Tasks_NewTask","ConfirmDelete_ConfirmDelete","Tasks_templateObject","NewNews_templateObject","Container","NewNews_templateObject2","NewNews_templateObject3","Body","NewNews_templateObject4","NewNews_templateObject5","Topic","NewNews_templateObject6","NewNews_templateObject7","IconClose","NewNews_templateObject8","hasNewsImage","uploadedNewsImage","newsFileSelect","submitNews","newNewsTopic","invalidTopic","invalidText","newNewsText","newNewsImportance","upload","float","hiddenInput","NewNews_Header","NewNews_TextArea","paddingTop","Icon_default","accept","NewNews_Footer","checked","NewNews_Wrapper","News_ConfirmDelete_Wrapper","News_ConfirmDelete_Icon","News_ConfirmDelete_ButtonContainer","removeNews","Dialogue","News_ConfirmDelete_templateObject","section","News_ConfirmDelete_templateObject2","News_ConfirmDelete_templateObject3","News_ConfirmDelete_templateObject4","newsTimeout","newNews","uploadNewsImage","file","fd","files","console","log","reloadNewsImage","oldFile","oldFiles","newNewsImage","size","getAttribute","newsImage","commentsobj","onAddNews","editing","preparedNewsId","onDeleteNews","confirmDelete","removeNewsImage","onUpdateNews","prepareNews","editNews","newsItem","prop","addNews","News_templateObject","prepareDelete","newsComments","lightboxPhotoIndex","showNews","onReadNews","NewsContainer","News_UserAvatar","NewsInfo","News_Icon","News_Body","EditingNewsImage","EditingNewsImageButtons","data-oldfile","News_TextArea","Actions","j","News_Comments","News_Avatar","News_NewNews","News_ConfirmDelete_ConfirmDelete","News_templateObject2","News_templateObject3","News_templateObject4","News_templateObject5","News_templateObject6","UserAvatar","News_templateObject7","News_templateObject8","News_templateObject9","News_templateObject10","News_templateObject11","News_templateObject12","sections","img","Notifications_default","Message_default","NewReleases_default","ListAlt_default","People_default","CalendarToday_default","Navigation_templateObject","BadgeWrapper","Navigation_templateObject2","_ref$store$unreaded","feed","events","messages","setUpdate","showBadge","Badge_default","badgeContent","Navigation_Wrapper","findIndex","centered","Time","ChatItem_templateObject","MessageHeader","ChatItem_templateObject2","onFetchUser","string","openRoom","chat","fromDayStart","startOf","dateFromNow","isSame","calendar","paddingRight","body","substring","chats","chat_id","isHaveUnreaded","NoMessages","NoMessages_Container","NoMessages_templateObject","Message_templateObject","Message_templateObject2","Message_templateObject3","_props$store","room","Message_Container","Message_Avatar","Message_Body","Edit_default","editMessage","isToday","edited","DoneAll_default","Messages_templateObject","Messages_Container","Chat_Message","SendMessageInput","SendMessageInput_Container","sendMessage","autoFocus","handleNewMessage","Send_default","SendMessageInput_templateObject","EditMessageInput","EditMessageInput_Container","submitEdit","handleEdit","startAdornment","closeEditing","EditMessageInput_templateObject","DeleteModal","DeleteModal_Container","closeDelete","submitDelete","Overlay","DeleteModal_templateObject","DeleteModal_templateObject2","ChatRoom","editText","deleting","newMessage","deleteID","editID","interval","chatInteral","getMessages","readMessages","componentWillUnmount","readChat","localStorage","setItem","message_id","getItem","createChat","addMessage","messageContainer","getMessageId","user1","user2","messageId","toString","assignChat","deleteMessage","deleteChat","_success","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","stop","apply","arguments","Room","RoomHeader","ChatRoom_Icon","ArrowBack_default","Chat_Messages","ChatRoom_templateObject","ChatRoom_templateObject2","ChatRoom_templateObject3","messageID","messageBody","FriendList","rebuildList","withMessages","withoutMessages","completed","initialAnimation","openChat","closeChat","direction","pages","renderprops","Chat_ChatRoom","ChatItem","getDirection","boxShadow","Dialogues_FriendWrapper","reset","unique","native","items","transform","enter","leave","Dialogues_templateObject","NoChats","NoChats_Container","NoChats_templateObject","Chat","fetchChats","getChats","Dialogues","Feed_UserAvatar_Wrapper","UserAvatar_Badge","Favorite_default","VerifiedUser_default","InsertChart_default","Comment_default","drawBadge","Feed_UserAvatar_templateObject","Badge","Feed_UserAvatar_templateObject2","Comment","CommentWrapper","UserAvatar_UserAvatar","CommentContent","borderRadius","Comment_templateObject","Comment_templateObject2","LikeWrapper","LikeContent","Like_templateObject","Like_templateObject2","NewsWrapper","NewsContent","Feed_News_templateObject","Feed_News_templateObject2","Feed_News_templateObject3","Task_NewsWrapper","Task_NewsContent","Feed_Task_templateObject","Feed_Task_templateObject2","Feed_Task_templateObject3","Result","parseFloat","questions","ResultWrapper","ResultContent","estimated_time","Result_templateObject","Result_templateObject2","EventWrapper","EventContent","startDate","endDate","max","signed","maxUsers","signedUsers","remaining","getRemainingPlaces","Event_templateObject","Event_templateObject2","ThastIt","ThatsIt_Container","ThatsIt_templateObject","Caught","Feed_templateObject","onReadFeed","_ref$store","renderFeedItem","Feed_News_News","fake_id","Task_News","Event_Result","Like_Comment","Comment_Comment","timeout","elem","CheckCircle_default","renderLastViewed","card","media","Card_default","CardActionArea_default","changeSection","CardMedia_default","CardContent_default","gutterBottom","description","CardActions_default","cards","class","Media","Materials","closeSection","fetchTests","_fetchTests","_callee2","_context2","catch","err","abrupt","sent","fetchTestsById","_fetchTestsById","_callee3","_context3","fetchQuestions","_fetchQuestions","_callee4","_context4","fetchCategories","_fetchCategories","_callee5","_context5","fetchTestLastId","_fetchTestLastId","_callee6","_context6","fetchSingleTest","_x","_fetchSingleTest","_callee7","_context7","fetchSingleQuestion","_x2","_fetchSingleQuestion","_callee8","_context8","List_NotFound_Wrapper","List_NotFound_templateObject","ListItemLink","List_templateObject","inline","user_name","toFixed","List_DeleteIcon","NotFound_NotFound","NoTests","NoTests_Container","NoTests_templateObject","Learnings_Search_templateObject","Search_SearchWrapper","selectedUser","times","TimePicker","select","textField","SelectProps","MenuProps","menu","helperText","option","QuestionItem","category","setHeadSubCategory","handleMarkQuestion","question","dense","Checkbox_default","disableRipple","getCategories","categories","resetCategories","heading","typography","pxToRem","fontWeightRegular","setChecked","categoryFiltered","setCategoryFiltered","checkedSubs","setCheckedSubs","current","indexOf","cat","q","subcategory","findUniqSubcategories","ExpansionPanel_default","ExpansionPanelSummary_default","paddingLeft","allCategories","markAll","var","ExpansionPanelDetails_default","markSub","Steps_QuestionItem","SelectQuestions","Steps_CategoryItem","setOverlay","overlay","SelectUser","SelectTime","GenerateTest","sub","questionToMark","selectedQuestions","selectedQuestionsIds","last_id","onAddNewTest","GenerateTest_Wrapper","Steps_Stepper","GenerateTest_Backdrop","GenerateTest_templateObject","GenerateTest_templateObject2","test","TabContainer","dir","AdminPanel","handleChangeIndex","onFilterTests","openModal","closeModal","onDeleteTest","tests","Learnings_Search","lib_default","axis","onChangeIndex","maxHeight","List_List","Steps_GenerateTest","test_id","UserPanel","Buttons","Tests_templateObject","isAdmin","t0","fetchData","Learnings_AdminPanel","KeyboardBackspace_default","Learnings_templateObject","Learnings","opened","setOpened","Learnings_Wrapper","Learnings_Tests","Container_Container","MainSection","MainPage_templateObject","components_MainpageHeader","components_Header","Navigation_Navigation","components_SideNews","components_PersonalInfo","components_Chat_Chat","components_News","components_Tasks_Tasks","Learnings_Learnings","FriendsList","Feed","switchComponent","ForgetPassword","credentials","forgetPassword","ForgetPassword_Wrapper","ForgetPassword_Icon","credential","username","ForgetPassword_templateObject","ForgetPassword_templateObject2","Cookie","cname","cvalue","exdays","d","setTime","expires","toUTCString","cookie","ca","c","charAt","getCookie","alert","prompt","setCookie","SignupForm","isForget","handleClickShowPassword","isPassHidden","login","password","invalidPass","jwt","VisibilityOff_default","Visibility_default","FormHelperText_default","SignupForm_Buttons","components_ForgetPassword","SignupForm_templateObject","global","RegisterForm","email","confirmed","isEmailValid","entered","validateEmail","showPassword","lentgh","BtnWrapper","RegisterForm_templateObject","BgBubbles","cssClass","Approved","goToMain","closeWindow","close","components_BgBubbles","Restore","pw","vars","m","getUrlVars","InputWrapper","BtnContainer","Restore_templateObject","Restore_templateObject2","Page404","css","default","header","genders","Settings","fileSelect","selectedFile","uploadAvatar","uploadedAvatar","encType","Completionist","Timer","h","s","hours","minutes","seconds","api","Timer_Container","Timer_Time","Timer_Completionist","AlarmOn_default","Controls","start","PlayArrow_default","isPaused","pause","Pause_default","Timer_templateObject","Timer_templateObject2","Timer_templateObject3","_ref2","pauseTest","resumeTest","finish","dist_index_es","controlled","autoStart","renderer","onPause","onStart","onComplete","Question","allQuestionsId","paused","findTimer","answered","variants","questionNumber","skipQuestion","nextQuestion","prevQuestion","images","setImages","lightboxOpen","setLightboxOpen","openLightbox","entries","image_file","original","getImages","Question_Container","QuestionHeader","Spheric","Sphere","audio","audio_file","controls","Question_Buttons","getPrevBtnStatus","Lightbox_default","toConsumableArray","isOpen","showImageCount","Question_templateObject","Question_templateObject2","Question_templateObject3","Question_templateObject4","Circles","skipped","getStatus","isAnswered","isSkipped","Circles_Container","Circles_templateObject","Legend","Legend_Container","Legend_templateObject","updateResult","question_id","finishTest","createEvent","Effects_requests_createEvent","Answers","ResultsList_templateObject","object","isCorrect","question_data","answers","Results","results","setResults","not_answered","Results_Container","getPercent","ResultsList","NotAnswered","Results_Buttons","Results_templateObject","Results_templateObject2","Finish","isShowResult","setShowResult","Finish_Container","Finish_Buttons","Finish_templateObject","Finish_templateObject2","Test_templateObject","QuestionWrapper","Test_templateObject2","setVariants","setQuestionNumber","_useState7","_useState8","setAllQuestionsId","_useState9","_useState10","setQuestion","_useState11","_useState12","_useState13","_useState14","setSkipped","_useState15","_useState16","setAnswered","_useState17","_useState18","finished","setFinished","_useState19","_useState20","setTest","_useState21","_useState22","setPaused","getVariants","splitted","getNextStep","_finish","testData","innerHTML","_updateTestResult","checkedVariants","Array","isArray","_fetchData","save","idArray","loadSave","Test_Container","TestPage_Timer","newState","updateTestResult","newVariants","StartTestTemplate","StartTestTemplate_Container","StartTestTemplate_Buttons","StartTestTemplate_templateObject","StartTestTemplate_templateObject2","Continue","setObject","isContinue","setContinue","Continue_Container","TestPage_Test","Continue_Buttons","Continue_templateObject","Continue_templateObject2","minWidth","TestContainer_templateObject","setStart","started","setStarted","TestContainer_Container","startTestRequest","setupResult","fetchTest","TestPage_TestContainer","CustomDateTimePicker","setDate","callback","showTabs","autoSubmit","allowKeyboardControl","AddAlarm_default","PureComponent","ranges","intervals","Infinity","NewEvent_templateObject","NewEvent_templateObject2","NewEvent_templateObject3","NewEvent_templateObject4","onAddEvent","setTitle","_startDate","_setStartDate","_endDate","_setEndDate","setStartDate","setEndDate","isSignAllowed","setSignAllowed","setMaxUsers","isSplitted","setSplitted","emptyTitle","setEmptyTitle","emptyStartDate","setEmptyStartDate","_useState23","_useState24","emptyEndDate","setEmptyEndDate","_createEvent","creator","requestEvent","reload","NewEvent_Wrapper","NewEvent_Icon","Picker","dateString","_d","ey","em","ed","sy","sm","sd","isSameDay","NewEvent_ButtonContainer","NewEvent_Dialogue","ConfirmModal","deleteAppointment","isOpened","Modal_Wrapper","Modal_Icon","Modal_ButtonContainer","Modal_Dialogue","Modal_templateObject","Modal_templateObject2","Modal_templateObject3","Modal_templateObject4","todayCell","fade","main","&:hover","&:focus","weekendCell","disabledBackground","today","weekend","Appointment","restProps","dx_react_scheduler_material_ui_es","onDoubleClick","AppointmentContent","onSignup","onUnSignup","appointmentData","userName","unSignUp","unSignUpOnEvent","parentNode","isSigned","signUpOnEvent","AppointmentsTooltip","onDeleteEvent","_ref3","setOpen","isUserAppointment","appointmentMeta","Layout","contentComponent","showDeleteButton","onDeleteButtonClick","deleteEvent","onHide","TimeTableCell","_ref4","getDate","getDay","DayScaleCell","_ref5","onFetchEvents","onReadEvents","_ref6","_ref6$store","dx_react_scheduler_es","defaultCurrentViewName","startDayHour","endDayHour","firstDayOfWeek","timeTableCellComponent","dayScaleCellComponent","appointmentComponent","showOpenButton","layoutComponent","showCloseButton","allDayLabel","titleLabel","startDateLabel","endDateLabel","commitCommand","cancelCommand","readOnly","Calendar_NewEvent","routes","path","MainPage","CalendarContainer","TestPage","whichForm","setWhichform","changeForm","components_RegisterForm","components_SignupForm","library","add","faComments","faHeart","faEnvelope","faEdit","onFetchFeed","onFetchNews","setUnreadedFeed","count","setUnreadedMessages","onGetNewFeed","snackbarProps","autoHideDuration","showSnackbar","reloadNavigation","fetchMessages","new","timestamp","fetchFeed","countNew","newsCount","fetchNews","records","BrowserRouter","Switch","route","Route","initialState","combineReducers","updated","stringify","Childs","updatedNews","indexUpNews","nextState","currentChat","editedState","editedMessage","obj","updatedState","thisEvent","chatsArr","createMuiTheme","useNextVariants","overrides","MuiSnackbar","MuiModal","MuiBackdrop","MuiFab","MuiList","MuiGrid","MuiTableCell","VerticalAppointment","content","textContainer","lineHeight","MuiTab","MuiPrivateNotchedOutline","legend","MuiBadge","badge","MuiTypography","colorTextSecondary","MuiPickersModal","dialogRoot","MuiDialog","paperScrollPaper","createStore","reducer","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","core_styles","es","utils","MomentUtils","build","maxSnack","preventDuplicate","src_App"],"mappings":"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","file":"static/js/main.4d33c6de.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/baseline-search-24px.a87eca9e.svg\";","module.exports = __webpack_public_path__ + \"static/media/social_header.cb906871.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sphere.b669c4e0.png\";","module.exports = \"data:image/png;base64,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\"","import React, { Component } from 'react';\r\nimport Moment from 'react-moment';\r\nimport './css/Header.css';\r\n\r\nclass Header extends Component {\r\n  render() {\r\n    const date = new Date();\r\n    return (\r\n      <div className=\"absolute-header\">\r\n        <div className=\"header-team\">#ЕдинаяКоманда</div>\r\n        <div className=\"header-date\">\r\n          <span>сегодня</span>\r\n          <Moment element=\"span\" format=\"DD.MM.YYYY\">{date}</Moment>\r\n          <span id=\"header-date-day\">{date.toLocaleString('ru', {weekday: 'long'})}</span>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport styled from 'styled-components';\r\n\r\nconst Loader = props => (\r\n  <StyledLoader style={{ minHeight: props.minHeight }}>\r\n    <CircularProgress color={props.color} />\r\n  </StyledLoader>\r\n)\r\n\r\nconst StyledLoader = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nexport default Loader;","import React from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport MoreVertIcon from '@material-ui/icons/ExpandMore';\r\nimport { connect } from 'react-redux';\r\nimport { withSnackbar } from 'notistack';\r\nimport { Link } from 'react-router-dom';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nclass LongMenu extends React.Component {\r\n  state = {\r\n    anchorEl: null\r\n  };\r\n\r\n  handleClick = event => {\r\n    event.stopPropagation();\r\n    this.setState({ anchorEl: event.currentTarget });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ anchorEl: null });\r\n  };\r\n\r\n  render() {\r\n    const { anchorEl } = this.state;\r\n    const open = Boolean(anchorEl);\r\n    const { user } = this.props.store;\r\n\r\n    return (\r\n      <div onClick={() => this.setState({ anchorEl: null })}>\r\n        <IconButton\r\n          aria-label=\"More\"\r\n          aria-owns={anchorEl ? 'simple-menu' : undefined}\r\n          aria-haspopup=\"true\"\r\n          onClick={this.handleClick}\r\n        >\r\n          <MoreVertIcon color='primary' />\r\n        </IconButton>\r\n        <Menu\r\n          id=\"long-menu\"\r\n          anchorEl={anchorEl}\r\n          open={open}\r\n          onClose={this.handleClose}\r\n        >\r\n          <MenuItem component={Link} to={`/id${user.id}`}>Моя страница</MenuItem>\r\n          <Divider />\r\n          <MenuItem component='a' href='/settings'>Персональные данные</MenuItem> \r\n          <MenuItem component={Link} to='/learnings'>Обучение</MenuItem> \r\n          {window.innerWidth < 600 \r\n            ? <MenuItem component={Link} to='/calendar'>Календарь</MenuItem> \r\n            : null }\r\n          <Divider />\r\n          <MenuItem component='a' href='/logout.php'>Выйти</MenuItem>\r\n        </Menu>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(state => ({ store: state })\r\n)(withSnackbar(LongMenu));","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Select from './Select';\r\n\r\nexport default function Dropdown() {\r\n  return (\r\n    <Wrapper>\r\n      <Select />\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  > div {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 100%;\r\n    margin-left: 20px;\r\n  }\r\n  button {\r\n    margin: 0;\r\n  }\r\n`;","import React, { useState } from 'react';\r\nimport './css/MainpageHeader.css';\r\nimport noPhoto from './img/photos/images.png';\r\nimport styled from 'styled-components';\r\nimport defaultBackground from './img/photos/social_header.jpg';\r\nimport Loader from './Loader/Loader';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport DropdownActions from './DropdownActions/Dropdown';\r\n\r\nfunction MainpageHeader({ store: { user } }) {\r\n  // eslint-disable-next-line\r\n  const [_, forceUpdate] = useState();\r\n  \r\n  return (  \r\n    <Wrapper>\r\n      {window.innerWidth < 600 ? null :\r\n      <header className=\"header\" style={{ zIndex: 2, position: 'relative' }}>\r\n        <div className=\"person\">\r\n          {user.length === 0\r\n            ?\r\n            <div className=\"person-image\" style={{ background: 'rgba(255,255,255,0.5)' }}>\r\n              <Loader minHeight={125} color='primary' />\r\n            </div>\r\n            :\r\n              <Link to={`/id${user.id}`}>\r\n                <div className=\"person-image\" style={{ backgroundImage: `url(${user.avatar === '' ? noPhoto : user.avatar})` }}></div>\r\n              </Link>\r\n          }\r\n          <div className=\"person-info\">\r\n            <div className=\"person-info__container\">\r\n              {user.hasOwnProperty('name') \r\n                ?\r\n                <Personal>\r\n                  <div>\r\n                    <p className=\"person-info__name\">{`${user.name} ${user.surname}`}</p>\r\n                    <p className=\"person-info__position\">{user.position}</p>\r\n                  </div>  \r\n                  <DropdownActions />\r\n                </Personal>\r\n                :\r\n                <Loader minHeight={70} color='primary' />}          \r\n            </div>\r\n            <span id='updateUser' style={{ display: 'none'}} onClick={() => forceUpdate(Math.random())}></span>\r\n          </div>\r\n        </div>\r\n      </header>}\r\n      <Backdrop />\r\n    </Wrapper>\r\n  )\r\n}\r\nconst Wrapper = styled.div`\r\n  background: url('${defaultBackground}') no-repeat center/cover;\r\n  background-attachment: fixed;\r\n  position: relative;\r\n  box-shadow: 0px -4px 4px 0px inset rgba(0,0,0,0.15)\r\n`;\r\nconst Backdrop = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  background: rgba(0,0,0,0.10);\r\n  z-index: 1;\r\n`;\r\nconst Personal = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state })\r\n)(MainpageHeader);","let API = '';\r\n\r\nif (window.location.host.includes('localhost')) {\r\n  /* API = 'http://akvatory.local'; */\r\n  API = 'http://social';\r\n} else {\r\n  API = window.location.origin;\r\n}\r\n\r\nexport const getJwt = () => {\r\n  let jwt = localStorage.getItem('akv_jwt_token');\r\n  return jwt;\r\n}\r\n\r\nexport default API;","import React, { Component, Fragment } from 'react';\r\nimport styled from 'styled-components';\r\nimport $ from 'jquery';\r\nimport DefaultAvatar from './img/photos/images.png';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Typography, Button, TextField, Tooltip } from '@material-ui/core';\r\nimport API from './functions/API';\r\nimport _ from 'lodash';\r\nimport Loader from './Loader/Loader';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { withSnackbar } from 'notistack';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport moment from 'moment';\r\n\r\nimport Lightbox from 'lightbox-react';\r\nimport 'lightbox-react/style.css';\r\n\r\nclass SingleNews extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      thisComments: [],\r\n      loadedComments: false,\r\n      commentText: '',\r\n      likedBy: [],\r\n      loading: true,\r\n      commentsLoading: false,\r\n      lightboxIsOpen: false\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.fetchComments(this.props.singleNewsId);\r\n    await this.getAvatars();\r\n    await this.setState({ loading: false })\r\n  }\r\n\r\n  fetchComments(id) {\r\n    fetch(`${API}/api/news/single_comments.php?id=${id}`)\r\n      .then(response => response.json())\r\n      .then(thisComments => this.setState({ thisComments, loadedComments: !this.state.loadedComments }))\r\n  }\r\n\r\n  // получаем аватарки лайкнувших пост\r\n  getAvatars = () => {\r\n    const currentNews = this.props.store.news.find(item => item.id === this.props.singleNewsId);\r\n    const likedBy = currentNews.liked_by.split(', ').slice(1);\r\n    const formData = new FormData();\r\n    const self = this;\r\n    formData.append('likedBy', likedBy);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/user/getAvatars.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: res => self.setState({ likedBy: res }),\r\n    });\r\n  }\r\n  handleChange = e => this.setState({ commentText: e.target.value });\r\n\r\n  // добавляем лайк\r\n  addLike = (id, e) => {\r\n    const actions = document.getElementById('actions-news');\r\n    actions.style.pointerEvents = 'none';\r\n    e.preventDefault();\r\n    const { user } = this.props.store;\r\n    const formData = new FormData();\r\n    var self = this;\r\n    formData.append('id', id);\r\n    formData.append('liked_by', user.id);\r\n    formData.append('created_at', new Date().getTime());\r\n    \r\n    $.ajax({\r\n      url: `${API}/api/news/addlike.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () => {\r\n        self.props.onAddLike(id, user.id);\r\n        fetch(`${API}/api/news/read_one.php?id=${self.props.singleNewsId}`)\r\n          .then(response => response.json())\r\n          .then(() => self.getAvatars())\r\n\r\n        setTimeout(() => actions.style.pointerEvents = 'all', 1000)  \r\n      }\r\n    });\r\n  }\r\n\r\n  // убираем лайк\r\n  removeLike = (id, e) => {\r\n    const actions = document.getElementById('actions-news');\r\n    const { user } = this.props.store;\r\n    actions.style.pointerEvents = 'none';\r\n    const self = this;\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const formData = new FormData();\r\n    formData.append('id', id);\r\n    formData.append('liked_by', user.id);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/news/removelike.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () => {\r\n        self.props.onRemoveLike(id, user.id);\r\n        fetch(`${API}/api/news/read_one.php?id=${self.props.singleNewsId}`)\r\n          .then(response => response.json())\r\n          .then(() => self.getAvatars())\r\n        setTimeout(() => actions.style.pointerEvents = 'all', 1000)\r\n      }\r\n    });\r\n  }\r\n\r\n  submitComment = e => {\r\n    const { user } = this.props.store;\r\n    this.setState({ commentsLoading: true });\r\n    var self = this;\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append('news_id', this.props.singleNewsId);\r\n    formData.append('who', `${user.name} ${user.surname}`);\r\n    formData.append('date', new Date().toJSON().slice(0, 10).replace(/-/g, '.'));\r\n    formData.append('visible', 1);\r\n    formData.append('time', new Date().toLocaleTimeString().slice(0, -3));\r\n    formData.append('text', this.state.commentText);\r\n    formData.append('author_id', user.id);\r\n    formData.append('created_at', new Date().getTime());\r\n\r\n    $.ajax({\r\n      url: `${API}/api/news/addcomment.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () =>  {\r\n        self.props.onAddComment(this.props.singleNewsId, user.id);\r\n        document.getElementById('updateSideNews').click();\r\n        self.setState({ commentText: '' });\r\n        self.fetchComments(self.props.singleNewsId);\r\n        self.props.enqueueSnackbar('Комментарий был добавлен', { variant: 'success' });\r\n        setTimeout(() => {\r\n          self.setState({ commentsLoading: false });\r\n          const commentsContainer = document.getElementById(\"single-news\");\r\n          commentsContainer.scrollTop = commentsContainer.scrollHeight; \r\n        }, 250);    \r\n      },\r\n      error: () => self.props.enqueueSnackbar('Не удалось оставить комментарий', { variant: 'error' })\r\n    });\r\n  }\r\n\r\n  deleteComment = (e, id, news_id) => {\r\n    const { user } = this.props.store;\r\n    this.setState({ commentsLoading: true });\r\n    var self = this;\r\n    e.preventDefault();\r\n\r\n    $.ajax({\r\n      url: `${API}/api/news/deletecomment.php`,\r\n      data: { id, news_id },\r\n      type: 'POST',\r\n      success: function() {\r\n        self.props.onRemoveComment(news_id, user.id);\r\n        document.getElementById('updateSideNews').click();\r\n        self.props.enqueueSnackbar('Комментарий был удален', { variant: 'info' });\r\n        self.fetchComments(self.props.singleNewsId);\r\n        setTimeout(() => self.setState({ commentsLoading: false }), 250);\r\n      },\r\n      error: () => self.props.enqueueSnackbar('Не удалось удалить комментарий', { variant: 'error' })\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { closeNews, singleNewsId } = this.props;\r\n    const { thisComments, commentText, likedBy, loading, commentsLoading, lightboxIsOpen } = this.state;\r\n    const { user, news } = this.props.store;\r\n    const currentNews = news.find(item => item.id === singleNewsId);\r\n    const userAvatar = currentNews.avatar;\r\n   \r\n    return (\r\n      <Fragment>\r\n        <Single id='single-news'>\r\n          {loading ? <Loader minHeight={500} color='primary' /> :\r\n            <Fragment>\r\n              <Tooltip placement='left' title='Закрыть'>\r\n                <Icon><CloseIcon onClick={closeNews} /></Icon>\r\n              </Tooltip>\r\n\r\n              <Link to={`/id${currentNews.author_id}`} style={{ textDecoration: 'none' }}>\r\n                <PostHeader>\r\n                  <Avatar style={{ background: `url(${currentNews.avatar ? userAvatar : DefaultAvatar}) no-repeat center/cover` }}></Avatar>\r\n                  <Typography variant='subtitle2'>{currentNews.author}</Typography>            \r\n                </PostHeader>\r\n              </Link>\r\n\r\n              <Typography variant='h5' style={{ display: 'flex', alignItems: 'center' }}>\r\n                <span></span>\r\n                {currentNews.importance === '1' ? this.props.createImportantBar(0) : null}\r\n                {currentNews.title.replace(/&quot;/g, `\"`)}\r\n              </Typography>\r\n\r\n              <ImagePost>\r\n                  <img onClick={() => this.setState({lightboxIsOpen: true})} src={`${API}/${currentNews.image}`} alt={currentNews.title.replace(/&quot;/g, `\"`)}/>\r\n              </ImagePost>\r\n\r\n              {lightboxIsOpen && (\r\n                  <Lightbox\r\n                      mainSrc={`${API}/${currentNews.image}`}\r\n                      onCloseRequest={() => this.setState({ lightboxIsOpen: false })}\r\n                  />\r\n              )}\r\n\r\n              <PostContent>\r\n                <Typography variant='body1'>{currentNews.text.replace(/&quot;/g, `\"`)}</Typography>\r\n                <Typography variant='caption'>{moment(Number(currentNews.created_at)).fromNow()}</Typography>\r\n              </PostContent>\r\n\r\n              <PostLikes>\r\n                <Typography variant='subtitle2'>{currentNews.likes} {this.props.getNoun(currentNews.likes)} \"Нравится\"</Typography>\r\n                <div style={{ maxWidth: '50vw', display: 'flex', overflow: 'overlay' }}>\r\n                {/* eslint-disable-next-line*/}\r\n                {likedBy.map((user, i) => {\r\n                  while (i < 5) {\r\n                    return (\r\n                      <Tooltip key={i} title={`${user.name} ${user.surname}`} placement=\"top\">\r\n                        <Link to={`/id${user.id}`}>\r\n                          <Avatar style={{ background: `url(${user.avatar ? user.avatar : DefaultAvatar}) no-repeat center/cover` }}></Avatar>\r\n                        </Link>\r\n                      </Tooltip>\r\n                    )\r\n                  }      \r\n                })}\r\n                </div>\r\n              </PostLikes>\r\n\r\n              <PostActions id='actions-news'>\r\n                {thisComments.length}\r\n                <Tooltip placement='top' title={`${thisComments.length} ${this.props.getCommentsNoun(thisComments.length)}`}>\r\n                  <FontAwesomeIcon icon='comments' style={{ marginLeft: 10 }} />\r\n                </Tooltip>\r\n\r\n                {!_.some(likedBy, ['id', user.id])\r\n                  ?\r\n                  <React.Fragment>\r\n                    <span>{currentNews.likes}</span>\r\n                    <Tooltip placement='top' title={`${currentNews.likes} ${this.props.getNoun(currentNews.likes)} \"Нравится\"`}>\r\n                      <FontAwesomeIcon onClick={e => this.addLike(currentNews.id, e)} icon='heart' style={{ marginLeft: 10 }} />\r\n                    </Tooltip>\r\n                  </React.Fragment>\r\n                  :\r\n                  <React.Fragment>\r\n                    <span>{currentNews.likes}</span>\r\n                    <Tooltip placement='top' title={`${currentNews.likes} ${this.props.getNoun(currentNews.likes)} \"Нравится\"`}>\r\n                      <FontAwesomeIcon onClick={e => this.removeLike(currentNews.id, e)} icon='heart' style={{ color: '#1976d2', marginLeft: 10 }} />\r\n                    </Tooltip>  \r\n                  </React.Fragment>\r\n                }              \r\n              </PostActions>\r\n\r\n              <NewComment>\r\n                <p className='newcomment-reply'>В ответ <Link to={`/id${currentNews.author_id}`}>{currentNews.author}</Link></p>\r\n                <div className='newcomment-input'>\r\n                  <Link to={`/id${user.id}`}><Avatar style={{ background: `url(${user.avatar ? user.avatar : DefaultAvatar}) no-repeat center/cover` }}></Avatar></Link>\r\n                  <TextArea>\r\n                    <TextField\r\n                      style={{ top: 0 }}\r\n                      label='Комментарий'\r\n                      multiline\r\n                      variant='outlined'\r\n                      name='commentText'\r\n                      value={commentText}\r\n                      onChange={this.handleChange}\r\n                      required\r\n                    />\r\n                  </TextArea>\r\n                </div>\r\n                <Button variant='contained' color='primary' onClick={this.submitComment} disabled={!commentText}>Отправить</Button>\r\n              </NewComment>\r\n\r\n              {commentsLoading ? <Loader minHeight={280} color='primary' /> :\r\n                thisComments.map((comment, i) => {\r\n                  return (\r\n                    <Comments key={i}>\r\n                      <div className='comment-header'>\r\n                        <Avatar style={{ background: `url(${comment.avatar ? comment.avatar : DefaultAvatar}) no-repeat center/cover`, marginTop: 20 }}></Avatar>\r\n                        <Typography variant='subtitle2'>{comment.who}</Typography>\r\n                        <Typography variant='caption' className='comment-date'>{moment(Number(comment.created_at)).fromNow()}</Typography>\r\n                      </div>\r\n                      <div className='comment-text'>{comment.text}</div>\r\n\r\n                      {comment.author_id === user.id ?\r\n                      <DelIcon>\r\n                        <Tooltip placement='left' title=\"Удалить\">\r\n                          <DeleteIcon onClick={(e) => this.deleteComment(e, comment.id, comment.news_id)} />\r\n                        </Tooltip>\r\n                      </DelIcon>\r\n                      : null}\r\n                    </Comments>\r\n                  )\r\n                })}\r\n                {thisComments.length > 0 ? \r\n                  <Typography variant='caption' \r\n                    style={{ \r\n                      opacity: .5,\r\n                      textAlign: 'center',\r\n                      margin: '37px 0'\r\n                    }}\r\n                  >показаны последние комментарии\r\n                  </Typography> \r\n                : null}\r\n            </Fragment>}\r\n        </Single>\r\n        <Wrapper onClick={closeNews}></Wrapper>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst Single = styled.div`\r\n  width: 600px;\r\n  min-height: 300px;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  position: fixed;\r\n  z-index: 50;\r\n  background: #fff;\r\n  top: 100px;\r\n  border-radius: 10px;\r\n  box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\r\n  padding: 15px 30px;\r\n  overflow-y: scroll;\r\n  overflow-x: hidden;\r\n  max-height: 80%;\r\n\r\n  .close {\r\n    top: 5px;\r\n  }\r\n  ::-webkit-scrollbar { \r\n    display: none; \r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    width: 100%;\r\n    top: 0;\r\n    max-height: calc(100vh - 55px);\r\n    border-radius: 0;\r\n    padding: 15px 15px 80px;\r\n    overflow: scroll;\r\n    h5 {\r\n      font-size: 18px;\r\n    }\r\n    p {\r\n      font-size: 16px !important;\r\n    }\r\n     div:first-child {\r\n       top: 18px;\r\n       color: #f5f5f5;\r\n    }\r\n    svg {\r\n      font-size: 24px !important;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  background: rgba(0,0,0,.5);\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  top: 0;\r\n  z-index: 49;\r\n`;\r\n\r\nconst PostHeader = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 25px;\r\n\r\n  img {\r\n    border-radius: 50%;\r\n    width: 60px;\r\n  }\r\n  p {\r\n    font-size: 18px;\r\n    font-weight: 700;\r\n  }\r\n`;\r\n\r\nconst PostContent = styled.div`\r\n  p {\r\n    margin: 15px 0 5px;\r\n    font-size: 20px;\r\n  }\r\n  span {\r\n    color: #657786;\r\n    font-size: 14px;\r\n  }\r\n`;\r\n\r\nconst PostLikes = styled.div`\r\n  border-top: 1px solid #e6ecf0;\r\n  border-bottom: 1px solid #e6ecf0;\r\n  margin-top: 20px;\r\n  1px solid #e6ecf0;\r\n  align-items: center;\r\n  display: flex;\r\n\r\n  div {\r\n    margin: 0 5px;\r\n  }\r\n\r\n  h6:first-child {\r\n    width: 50%;\r\n    padding: 15px 10px;\r\n    border-right: 1px solid #e6ecf0;\r\n  }\r\n\r\n  span {\r\n    width: 50%;\r\n    padding: 15px 10px 15px;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    h6:first-child {\r\n      font-size: 12px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst PostActions = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-top: 20px;\r\n\r\n  img {\r\n    width: 15px;\r\n    margin-right: 40px;\r\n    margin-left: 10px;\r\n    opacity: .7;\r\n    cursor: pointer;\r\n  }\r\n\r\n  img:hover {\r\n    opacity: 1;\r\n    transition: .37s ease;\r\n  }\r\n`;\r\n\r\nconst Comments = styled.div`\r\n  margin-left: -30px;\r\n  width: 600px;\r\n  border-bottom: 1px solid #e6ecf0;\r\n  cursor: pointer;\r\n  padding: 15px 30px;\r\n  position: relative;\r\n\r\n  :hover {\r\n    background: #f5f8fa;\r\n    transition: .37s ease;\r\n  }\r\n\r\n  .comment-header {\r\n    display: flex;\r\n    align-items: center;\r\n    \r\n    div {\r\n      border-radius: 50%;\r\n      width: 30px;\r\n      height: 30px;\r\n    }\r\n  }\r\n\r\n  .comment-text {\r\n    padding-left: 45px;\r\n    padding-bottom: 10px;\r\n  }\r\n\r\n  .comment-date {\r\n    margin-left: 7.5px;\r\n    color: #657786;\r\n    :before {\r\n      content: '⋆';\r\n      margin-right: 7.5px;\r\n      opacity: 0.37;\r\n    }\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: calc(100% + 30px) !important;\r\n    padding: 10px 0px !important;\r\n    margin-left: -15px !important;\r\n    \r\n    .comment-text {\r\n      padding-left: 50px;\r\n    }\r\n    :last-child {\r\n      border-bottom: 1px solid red;\r\n    }\r\n  }\r\n`;\r\n\r\nconst NewComment = styled.div`\r\n  padding: 15px 30px;\r\n  background: #f5f8fa;\r\n  width: calc(100% + 60px);\r\n  margin-top: 20px;\r\n  margin-left: -30px;\r\n  border-bottom: 1px solid #e6ecf0;\r\n  border-top: 1px solid #e6ecf0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  .close {\r\n    top: 5px;\r\n  }\r\n  button {\r\n    width: 150px;\r\n    align-self: flex-end;\r\n    margin-top: 15px;\r\n  }\r\n  \r\n  .newcomment-reply {\r\n    margin: 0 40px;\r\n    color: #657786;\r\n    a {\r\n      color: #0084B4;\r\n      text-decoration: none;\r\n      margin-left: 5px;\r\n      :hover {\r\n        text-decoration: underline;\r\n      }\r\n    }\r\n  }\r\n  \r\n  a > div {\r\n    margin-left: 0 !important;\r\n  }\r\n\r\n  .newcomment-input {\r\n    display: flex;\r\n    align-items: flex-start;\r\n    margin-top: 20px;\r\n    div {\r\n      margin-right: 0;\r\n    }\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    margin-left: -15px !important;\r\n    padding: 15px;\r\n    width: calc(100% + 30px);\r\n  }\r\n`;\r\nconst Avatar = styled.div`\r\n  min-width: 30px;\r\n  border-radius: 50%;\r\n  min-height: 30px;\r\n  margin-right: 15px;\r\n\r\n  @media all and (max-width: 600px) {\r\n    margin-right: 10px;\r\n    margin-left: 10px;\r\n  }\r\n`;\r\nconst TextArea = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-left: 10px;\r\n  background: #fff;\r\n  height: 110px;\r\n  width: 100%;\r\n\r\n  textarea {\r\n    max-height: 90px;\r\n    background: #fff;\r\n    &::-webkit-scrollbar {\r\n      width: 10px;\r\n    }\r\n   \r\n    &::-webkit-scrollbar-track {\r\n      background-color: #ebebeb;\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n    }\r\n  \r\n    &::-webkit-scrollbar-thumb {\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n      background: #1976d2; \r\n    }\r\n  }\r\n\r\n  & > div {\r\n    width: 100%;\r\n    & > div {\r\n      height: 100%;\r\n    }\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  position: absolute;\r\n  right: 25px;\r\n  top: 10px;\r\n  cursor: pointer;\r\n  svg {\r\n    color: #1976d2;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    right: 10px;\r\n    top: 25px;\r\n    svg {\r\n      font-size: 32px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst DelIcon = styled.div`\r\n  cursor: pointer;\r\n  right: 25px;\r\n  top: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n  position: absolute;\r\n  height: fit-content;\r\n  svg {\r\n    color: rgba(0,0,0,.54);\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    right: 15px;\r\n    top: -20px;\r\n  }\r\n`;\r\n\r\nconst ImagePost = styled.div`\r\n  width: 100%;\r\n  text-align: center;\r\n  img {\r\n    max-width: 100%;\r\n    margin-top: 15px;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport default connect(state => ({ store: state }),\r\n  dispatch => ({ \r\n    onAddLike: (id, user_id) => dispatch({ type: 'ADD_LIKE', payload: id, user_id }),\r\n    onRemoveLike: (id, user_id) => dispatch({ type: 'REMOVE_LIKE', payload: id, user_id }),\r\n    onAddComment: (id, user_id) => dispatch({ type: 'ADD_COMMENT', payload: id, user_id }),\r\n    onRemoveComment: (id, user_id) => dispatch({ type: 'REMOVE_COMMENT', payload: id, user_id })\r\n  }),\r\n)(withSnackbar(SingleNews));\r\n","import React, { Component, Fragment } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport './css/SideNews.css';\r\nimport SingleNews from './SingleNews';\r\nimport styled from 'styled-components';\r\nimport { Typography, Paper, Switch, Button, Tooltip } from '@material-ui/core';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport Loader from './Loader/Loader';\r\n\r\nclass SideNews extends Component {\r\n  state = {\r\n    importance: false,\r\n    singleNews: false,\r\n    singleNewsData: [],\r\n    singleNewsId: ''\r\n  }\r\n\r\n  // переходим к конкретной новости\r\n  goToSingleNews = id => this.setState({ singleNews: true, singleNewsId: id });\r\n\r\n  // закрываем новость \r\n  closeNews = () => {\r\n    this.setState({ singleNews: false, singleNewsId: '' });\r\n  }\r\n\r\n  changeImportance = () => this.setState({ importance: !this.state.importance });\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | Находим правильную форму склонения комментариев\r\n  |--------------------------------------------------\r\n  */\r\n  getNoun = number => {\r\n    number = Math.abs(number);\r\n    number %= 100;\r\n    if (number >= 5 && number <= 20) return 'отметок';\r\n    number %= 10;\r\n    if (number === 1) return 'отметка';\r\n    if (number >= 2 && number <= 4) return 'отметки';\r\n    return 'отметок';\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | Находим правильную форму склонения комментариев\r\n  |--------------------------------------------------\r\n  */\r\n  getCommentsNoun = number => {\r\n    number = Math.abs(number);\r\n    number %= 100;\r\n    if (number >= 5 && number <= 20) return 'комментариев';\r\n    number %= 10;\r\n    if (number === 1) return 'комментарий';\r\n    if (number >= 2 && number <= 4) return 'комментария';\r\n    return 'комментариев';\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | создаёт надпись \"Помечено как важное\"\r\n  |--------------------------------------------------\r\n  */\r\n  createImportantBar = (margin) => {\r\n    const Important = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 0;\r\n    margin-top: ${margin}px;\r\n    svg {\r\n      color: rgba(0,0,0,.15);\r\n      margin-right: 5px;  \r\n    }\r\n  `;\r\n    return (\r\n      <Important>\r\n        <WarningIcon />\r\n        <Typography variant='caption'>Отмечено как \"Важное\"</Typography>\r\n      </Important>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { importance, singleNews, singleNewsId } = this.state;\r\n    const { store: { news }} = this.props;\r\n    var NEWS_COUNTER = 0;\r\n\r\n    return (\r\n      <Wrapper>\r\n        <Paper>\r\n          {news.length === 0 ? <Loader minHeight={250} color='primary' /> :\r\n            <News>\r\n              <NewsSwitch>\r\n                <Typography variant='subtitle2'>Только важное </Typography>\r\n                <Switch color='primary' onClick={this.changeImportance.bind(this)} />\r\n              </NewsSwitch>\r\n              {/* eslint-disable-next-line */}\r\n              {news.length > 0 ? news.map((item, i) => {\r\n                if (importance) {\r\n                  if (item.importance === '1' && NEWS_COUNTER < 3) {\r\n                    NEWS_COUNTER++;\r\n                    return (\r\n                      <div key={i} className=\"news-item\">\r\n                        <div className=\"news-item-header\">\r\n                          <Typography variant='subtitle2'>{item.author}</Typography>\r\n                          <Typography variant='caption'>{item.date}</Typography>\r\n                        </div>\r\n                        <Typography variant='body1' className='news-caption' onClick={() => this.goToSingleNews(item.id)}>\r\n                          {item.importance === '1' ? <Tooltip title='Важное!' placement=\"left\"><WarningIcon /></Tooltip> : null}\r\n                          {item.title}\r\n                        </Typography>\r\n                        <div className=\"news-item-text\">\r\n                          <Typography variant='body2'>{item.text}</Typography>\r\n                        </div>\r\n                        <Tooltip title=\"Перейти к комментариям\" placement=\"top-start\">\r\n                          <div\r\n                            onClick={() => this.goToSingleNews(item.id)}\r\n                            className=\"news-item-comment\"\r\n                          >\r\n                            <FontAwesomeIcon icon='comments' />\r\n                            {item.comments} {this.getCommentsNoun(item.comments)}\r\n                          </div>\r\n                        </Tooltip>\r\n                      </div>\r\n                    )\r\n                  }\r\n                } else {\r\n                  while (i < 3) {\r\n                    return (\r\n                      <div key={i} className=\"news-item\">\r\n                        <div className=\"news-item-header\">\r\n                          <Typography variant='subtitle2'>{item.author}</Typography>\r\n                          <Typography variant='caption'>{item.date}</Typography>\r\n                        </div>\r\n                        <Typography variant='body1' className='news-caption' onClick={() => this.goToSingleNews(item.id)}>\r\n                          {item.importance === '1' ? <Tooltip title='Важное!' placement=\"top-start\"><WarningIcon /></Tooltip> : null}\r\n                          {item.title.replace(/&quot;/g, `\"`)}\r\n                        </Typography>\r\n                        <div className=\"news-item-text\">\r\n                          <Typography variant='body2'>{item.text.replace(/&quot;/g, `\"`)}</Typography>\r\n                        </div>\r\n                        <Tooltip title=\"Перейти к комментариям\" placement=\"top-start\">\r\n                          <div\r\n                            onClick={() => this.goToSingleNews(item.id)}\r\n                            className=\"news-item-comment\"\r\n                          >\r\n                            <FontAwesomeIcon icon='comments' />\r\n                            {item.comments} {this.getCommentsNoun(item.comments)}\r\n                          </div>\r\n                        </Tooltip>\r\n                      </div>\r\n                    )\r\n                  }\r\n                }\r\n              })\r\n              : <NoNews><Typography variant='h6'>нет новостей</Typography></NoNews>}\r\n              <Button\r\n                variant='contained'\r\n                color='primary'\r\n                onClick={() => window.scrollTo(0, 0) }\r\n                component={Link} to=\"/news\"\r\n              >\r\n                ко всем новостям\r\n              </Button>\r\n              <span id='updateSideNews' style={{ display: 'none' }} onClick={() => this.forceUpdate()}></span>\r\n            </News>}\r\n        </Paper>\r\n        <Fragment>\r\n        {singleNews ?\r\n          <SingleNews\r\n            closeNews={this.closeNews.bind(this)}\r\n            singleNewsId={singleNewsId}\r\n            news={news}\r\n            getNoun={this.getNoun}\r\n            getCommentsNoun={this.getCommentsNoun}\r\n            reloadComponent={this.reloadComponent}\r\n            createImportantBar={this.createImportantBar.bind(this)}\r\n          />\r\n          : null}\r\n        </Fragment>  \r\n      </Wrapper>\r\n    )\r\n  }\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  width: 30%;\r\n  @media all and (max-width: 600px) {\r\n    display: none;\r\n  }\r\n`;\r\nconst NewsSwitch = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\nconst News = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n\r\n  .news-item {\r\n    width: 100%;\r\n    padding-bottom: 0;\r\n  }\r\n  svg {\r\n    margin-left: 0;\r\n  }\r\n  .news-caption {\r\n    display: flex;\r\n    align-items: flex-start;\r\n    width: 111%;\r\n    cursor: pointer;\r\n    margin-left: -15px;\r\n    padding: 10px 15px 8px;\r\n    &:hover {\r\n      background: #1976d2;\r\n      color: #ffffff;\r\n      transition: .37s ease;\r\n    }\r\n    svg {\r\n      color: rgba(0,0,0,.15) !important;\r\n      margin-right: 8px;\r\n      font-size: 22px;\r\n    }\r\n  }\r\n\r\n  .news-item-comment {\r\n    width: 111%;\r\n    cursor: pointer;\r\n    margin-left: -15px;\r\n    padding: 12px 15px;\r\n    &:hover {\r\n      background: rgba(0,0,0,0.015);\r\n    }\r\n  }\r\n`;\r\nconst NoNews = styled.div`\r\n  height: 150px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  opacity: .37;\r\n  margin-bottom: 20px;\r\n`;\r\nexport default connect(state => ({ store: state }))(SideNews);","import React from 'react';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport defaultAvatar from '../img/photos/images.png';\r\n\r\nfunction Friend(props) {\r\n  let avatar = props.friend.avatar;\r\n \r\n  return (\r\n    <ListItem button TouchRippleProps={{ classes: { child: 'touch-ripple' }}} >\r\n      <ListItemAvatar>\r\n        <Avatar\r\n          style={{ height: 50, width: 50 }}\r\n          alt={`${props.friend.name} ${props.friend.surname}`}\r\n          src={props.friend.avatar !== '' ? avatar : defaultAvatar}\r\n        />\r\n      </ListItemAvatar>\r\n      <ListItemText\r\n        inset\r\n        primary={`${props.friend.name} ${props.friend.surname}, ${props.friend.position}`}\r\n        secondary={props.friend.last_activity}\r\n      />\r\n    </ListItem>\r\n  );\r\n}\r\n\r\nexport default Friend;","import React from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport SearchIcon from '../img/icons/baseline-search-24px.svg';\r\nimport styled from 'styled-components';\r\n\r\nfunction Search(props) {\r\n  return (\r\n    <SearchWrapper>\r\n      <TextField\r\n        id=\"outlined-adornment-password\"\r\n        variant=\"outlined\"\r\n        type='text'\r\n        label=\"Поиск\"\r\n        margin='dense'\r\n        value={props.searchValue}\r\n        onChange={props.handleSearch}\r\n        InputProps={{\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <IconButton\r\n                aria-label=\"Искать в списке коллег\"\r\n              >\r\n                <img alt='Поиск' src={SearchIcon} style={{ opacity: '.37' }} />\r\n              </IconButton>\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n      />\r\n    </SearchWrapper>\r\n  )\r\n}\r\n\r\nconst SearchWrapper = styled.div`\r\n  padding: 20px\r\n  & > div {\r\n    width: 100%;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    box-shadow: 0 -1px 3px rgba(0,0,0,0.12) inset, 0 -1px 2px rgba(0,0,0,0.24) inset;\r\n    padding: 10px 20px;\r\n    height: 90px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: flex-end;\r\n    background: #f5f5f5;\r\n    label {\r\n      line-height: .5;\r\n    }\r\n    input {\r\n      padding: 9px 18.5px;\r\n    }\r\n    input::placeholder {\r\n      color: red;\r\n    }\r\n    & > div {\r\n      margin: auto;\r\n      background: #FFF;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default Search;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nexport default function NotFound() {\r\n  return (\r\n    <Wrapper>\r\n      <Typography variant='h6' style={{ opacity: .3 }}>совпадений не найдено</Typography>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  height: 555px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n   \r\n  @media all and (max-width: 600px) {\r\n    height: calc(100vh - 140px);\r\n    margin-top: -75px;\r\n  }\r\n`;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Loader from '../Loader/Loader';\r\nimport noPhoto from '../img/photos/images.png';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction UserAvatar({ store: { user }}) {\r\n  return (\r\n    <Wrapper>\r\n      {user.hasOwnProperty('avatar') \r\n        ? \r\n          <Link to={`/id${user.id}`}>\r\n            <Avatar \r\n              style={{ background: `url(${user.avatar ? user.avatar : noPhoto}) no-repeat center/cover` }} \r\n            />\r\n          </Link>\r\n        : <Loader />}\r\n    </Wrapper> \r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  max-width: 35px;\r\n`;\r\nconst Avatar = styled.div`\r\n  width: 35px;\r\n  height: 35px;\r\n  border-radius: 50%;\r\n`;\r\n\r\nexport default connect(state => ({ store: state }))(UserAvatar)","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport UserAvatar from './UserAvatar';\r\nimport Dropdown from '../DropdownActions/Dropdown';\r\nimport Loader from '../Loader/Loader';\r\n\r\nexport default function ResponsiveHeader({ name, surname, title }) {\r\n  // eslint-disable-next-line\r\n  const [_, updateState] = useState(0);\r\n\r\n  return (\r\n    <Wrapper id=\"updateUser\" onClick={() => updateState(Math.random())}>\r\n      <UserAvatar />\r\n      {title ?\r\n        <Typography variant='h6'>{title}</Typography>\r\n        : name && surname \r\n          ? <Typography variant='h6'>{`${name} ${surname}`}</Typography>\r\n          : <Loader />\r\n      }\r\n      <Dropdown />\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24); \r\n  padding: 18px 20px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  max-height: 60px;\r\n  position: fixed;\r\n  top: 0;\r\n  width: 100vw;\r\n  background: #fff;\r\n  z-index: 10;\r\n\r\n  h6 {\r\n    font-weight: 700;\r\n    font-size: 16px;\r\n  }\r\n\r\n  & :last-child {\r\n    margin: 0;\r\n    width: 35px;\r\n  }\r\n`;","import React, { useEffect, useState } from 'react';\r\nimport List from '@material-ui/core/List';\r\nimport Friend from './Friend';\r\nimport API from '../functions/API';\r\nimport styled from 'styled-components';\r\nimport Search from './Search';\r\nimport { Link } from 'react-router-dom';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Loader from '../Loader/Loader';\r\nimport { connect } from 'react-redux';\r\nimport moment from 'moment';\r\nimport NotFound from './NotFound';\r\nimport ResponsiveHeader from '../ResponsiveHeader/ResponsiveHeader';\r\n\r\nfunction FriendList({ onFetchFriends, setOnline, filterFriends, store: { friends }}) {\r\n  const [searchValue, setSearchValue] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [_friends, setFriends] = useState([]);\r\n  const documentTitle = document.title;\r\n\r\n  useEffect(() => {\r\n    if (friends.length === 0) {\r\n      setLoading(true);\r\n      fetch(`${API}/api/user/read.php`)\r\n        .then(response => response.json())\r\n        .then(friends => {\r\n          onFetchFriends(friends.data);\r\n          sortFriends(friends.data);\r\n          setFriends(friends.data);\r\n        })\r\n        .then(() => setLoading(false)) \r\n    }\r\n \r\n    return () => document.title = documentTitle;  \r\n  }, [])\r\n    \r\n  \r\n  function sortFriends(friends) {\r\n    let sorted = friends;\r\n    let online = [],\r\n        offline = [],\r\n        not_used = [];\r\n    sorted.forEach(friend => {\r\n      friend.last_activity = setFriendsOnline(friend.last_activity);\r\n      friend.last_activity === 'Online' \r\n        ? online.push(friend) \r\n        : friend.last_activity \r\n          ? offline.push(friend)\r\n          : not_used.push(friend)\r\n    }); \r\n    sorted = online.concat(offline.concat(not_used));\r\n    setOnline(sorted);\r\n  }\r\n\r\n  function handleSearch(e) {\r\n    setSearchValue(e.target.value);\r\n    const searchValue = e.target.value.toLowerCase();\r\n    document.title = e.target.value || documentTitle;\r\n\r\n    if (searchValue === '') {\r\n      filterFriends(_friends);\r\n      return;\r\n    } \r\n\r\n    friends = friends.filter(friend => \r\n      friend.name.toLowerCase().includes(searchValue) || \r\n      friend.surname.toLowerCase().includes(searchValue) ||\r\n      friend.position.toLowerCase().includes(searchValue)\r\n    );\r\n    filterFriends(friends);\r\n  }\r\n\r\n  function setFriendsOnline(time) {\r\n    if (!time) return '';\r\n\r\n    const lastActivity = moment(Number(time)).fromNow();\r\n    if ((lastActivity.includes('секунд') || lastActivity.includes('минут')) && (parseInt(lastActivity) < 15 || !parseInt(lastActivity))) {\r\n      return `Online`;\r\n    } else {\r\n      return `Последний визит: ${lastActivity}`;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Paper>\r\n      {window.innerWidth < 600 ? <ResponsiveHeader title='Коллеги' /> : null}\r\n\r\n      {loading ? <Loader minHeight={370} color='primary' /> \r\n        :\r\n        <FriendWrapper>\r\n          <Search \r\n            handleSearch={handleSearch} \r\n            searchValue={searchValue}\r\n          />\r\n          <List style={{ marginTop: 20 }}>\r\n            {friends.map(friend  => \r\n              <Link \r\n                key={friend.id} \r\n                to={`id${friend.id}`}\r\n              >\r\n                <Friend\r\n                  friend={friend} \r\n                />\r\n              </Link>\r\n            )} \r\n          </List>\r\n          {friends.length === 0 ? <NotFound /> : null}\r\n        </FriendWrapper>\r\n      }\r\n    </Paper>\r\n  );\r\n}\r\n\r\nconst FriendWrapper = styled.div`\r\n  a {\r\n    text-decoration: none;\r\n  }\r\n  ul {\r\n    padding: 0;\r\n    padding-bottom: 50px !important;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    ul {\r\n      padding-top: 15px;\r\n      padding-bottom: 15px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default connect( state => ({ store: state }),\r\n  dispatch => ({\r\n    onFetchFriends: (friends) => {\r\n      dispatch({ type: 'FETCH_FRIENDS', payload: friends })},\r\n    filterFriends: (friends) => {\r\n      dispatch({ type: 'FILTER_FRIENDS', payload: friends })},\r\n    setOnline: (friends) => {\r\n      dispatch({ type: 'SET_FRIENDS', payload: friends })}\r\n  })\r\n)(FriendList);","import React from 'react';\r\nimport Modal from '@material-ui/core/Modal';\r\n\r\nexport default function ModalWindow(props) {\r\n  return (\r\n    <Modal\r\n      open={props.open}\r\n      onClose={props.handleClose}\r\n    >\r\n      {props.component}\r\n    </Modal>\r\n  )\r\n}\r\n","import React, { Fragment } from 'react';\r\nimport { Paper, Typography, Button } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\nimport styled from 'styled-components';\r\n\r\nexport default function ConfirmDelete(props) {\r\n  return (\r\n    <Fragment>\r\n      <Wrapper>\r\n        <Paper>\r\n          <Icon onClick={props.handleClose}>\r\n            <CloseIcon />\r\n          </Icon>\r\n          <Typography variant='body1'>{`Вы уверены, что хотите ${props.message}?`}</Typography>\r\n          <ButtonContainer>\r\n            <Button variant='contained' color='secondary' onClick={props.setAdministrator}>Да</Button>\r\n            <Button variant='text' color='default' onClick={props.handleClose}>Отмена</Button>\r\n          </ButtonContainer>\r\n        </Paper>\r\n        \r\n      </Wrapper>\r\n      <Backdrop onClick={props.handleClose} />\r\n    </Fragment>\r\n  )\r\n}\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  height: 200px;\r\n  width: 400px;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n  outline: none;\r\n  z-index: 1000;\r\n  & > div {\r\n    height: 100%;\r\n    position: relative;\r\n    display: flex;\r\n    padding: 30px;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: 95%;\r\n  }\r\n`;\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  margin-top: 30px;\r\n  button {\r\n    margin-right: 25px;\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  svg {\r\n    cursor: pointer;\r\n    color: rgba(0,0,0,.54);\r\n    position: absolute;\r\n    right: 16px;\r\n    top: 16px;\r\n  }\r\n`\r\nconst Backdrop = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  top: 0;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  background: rgba(0,0,0,.37);\r\n`;","import React, { Component, Fragment } from 'react';\r\nimport $ from 'jquery';\r\nimport API from './functions/API';\r\nimport InputMask from 'react-input-mask';\r\nimport './css/PersonalInfo.css';\r\nimport defaultAvatar from './img/photos/images.png';\r\nimport { Typography, OutlinedInput, Select, TextField, Tooltip, Paper, FormControl, FormHelperText, Button, MenuItem, InputLabel } from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Done';\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport styled from 'styled-components';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport Loader from './Loader/Loader';\r\nimport { DatePicker } from 'material-ui-pickers';\r\nimport { withSnackbar } from 'notistack';\r\nimport { connect } from 'react-redux';\r\nimport moment from 'moment';\r\nimport Modal from './Modal/Modal';\r\nimport ConfirmStatus from './DropdownActions/ConfirmStatus';\r\nimport Star from '@material-ui/icons/Star';\r\nimport StarBorder from '@material-ui/icons/StarBorder';\r\nimport ResponsiveHeader from './ResponsiveHeader/ResponsiveHeader';\r\n\r\nvar autoSaveTimer = null;\r\nvar pageInterval = null;\r\n\r\nclass PersonalInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      userInfo: {},\r\n      newChildInput: false,\r\n      nameError: true,\r\n      yearError: true,\r\n      childName: '',\r\n      childBirthyear: '',\r\n      loading: true,\r\n      selectedDate: '',\r\n      loadingChild: false,\r\n      isSelectOpened: false,\r\n      lastUser: null,\r\n      preparedId: null,\r\n      open: false\r\n    }\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.fetchUserInfo = this.fetchUserInfo.bind(this);\r\n    this.deleteChild = this.deleteChild.bind(this);\r\n    this.prepareChild = this.prepareChild.bind(this);\r\n    this.handleChild = this.handleChild.bind(this);\r\n    this.addChild = this.addChild.bind(this);\r\n    this.removeInput = this.removeInput.bind(this);\r\n  }\r\n\r\n  fetchUserInfo(action) {\r\n    const id = window.location.pathname.slice(3);\r\n    if (!action) this.setState({ loading: true });\r\n      \r\n    if (action === 'child') this.setState({ loadingChild: true });\r\n\r\n    fetch(`${API}/api/user/info.php?id=${id}`)\r\n      .then(response => response.json())\r\n      .then(userInfo => this.setState({ userInfo, selectedDate: userInfo.birthday, lastUser: userInfo }))\r\n      .then(() => this.setState({ loading: false, loadingChild: false }))\r\n  }\r\n\r\n  // делаем запрос перед рендером\r\n  componentDidMount() {\r\n    this.fetchUserInfo();\r\n    var currentLocation = window.location.pathname;\r\n    pageInterval = setInterval(() => {\r\n      if (currentLocation !== window.location.pathname && window.location.pathname.includes('id')) {\r\n        this.fetchUserInfo();\r\n        window.clearInterval(pageInterval)\r\n      } \r\n    }, 250)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.clearInterval(pageInterval)\r\n  }\r\n\r\n  handleDateChange = date => this.setState({ selectedDate: date.format() });\r\n\r\n  // динамически обрабатываем изменения полей\r\n  handleChange(event) {\r\n    document.getElementById('updateUser').click();\r\n    window.clearTimeout(autoSaveTimer);\r\n    // ставим стейт исходя из именя поля и вводимого значения\r\n    let userInfo = { ...this.state.userInfo };\r\n    userInfo[event.target.name] = event.target.value;\r\n    this.setState({ userInfo });\r\n    this.props.updateUser(event.target.name, event.target.value);\r\n    autoSaveTimer = setTimeout(() => {\r\n      this.handleSubmit(event, true);\r\n      this.props.enqueueSnackbar('Персональные данные были обновлены', { variant: 'success' });\r\n    }, 2500)\r\n  }\r\n\r\n  prepareChild() {\r\n    this.setState({ newChildInput: true })\r\n  }\r\n\r\n  handleChild(event) {\r\n    let value = event.target.value;\r\n    if (value.length > 10) value = value.slice(1);\r\n    this.setState({\r\n      [event.target.name]: value,\r\n      nameError: true,\r\n      yearError: true\r\n    })\r\n  }\r\n\r\n  addChild(e) {\r\n    e.preventDefault();\r\n    \r\n    if (this.state.childName && this.state.childBirthyear) {\r\n      var self = this;\r\n      const formData = new FormData();\r\n\r\n      let child = {\r\n        child_name: this.state.childName,\r\n        child_birthyear: this.state.childBirthyear,\r\n      }\r\n\r\n      for (let key in child) {\r\n        formData.append(key, child[key]);    \r\n      }\r\n\r\n      $.ajax({\r\n        url: `${API}/api/child/add.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: res => {\r\n          child.id = res['MAX(`id`)'];\r\n          self.props.onAddChild(child);\r\n          self.setState({ newChildInput: false, childBirthyear: '', childName: '' });\r\n          self.props.enqueueSnackbar('Персональные данные были обновлены', { variant: 'success' });\r\n        },\r\n        error: () => self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' })\r\n      });\r\n    } else {\r\n      if (this.state.newChildInput) {\r\n        this.props.enqueueSnackbar('Нужно заполнить все поля', { variant: 'warning' });\r\n        if (!this.state.childBirthyear) this.setState({ yearError: false })\r\n        if (!this.state.childName) this.setState({ nameError: false })\r\n      }\r\n    }\r\n  }\r\n\r\n  deleteChild(id) {\r\n    var self = this;\r\n    self.setState({ modal: false });\r\n    const formData = new FormData();\r\n    formData.append('id', id);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/child/delete.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () => {\r\n        self.props.onRemoveChild(id);\r\n        self.forceUpdate();\r\n        self.props.enqueueSnackbar('Персональные данные были обновлены', { variant: 'success' });\r\n      },\r\n      error: () => self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' })\r\n    });\r\n  }\r\n\r\n  removeInput = () => this.setState({ newChildInput: false });\r\n\r\n  handleSubmit(e, dontShow) {\r\n    const { user } = this.props.store;\r\n    var self = this;\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n\r\n    formData.append('id', user.id);\r\n    formData.append('adress', $('input[name=\"adress\"]').val());\r\n    formData.append('army_country', $('input[name=\"army_country\"]').val());\r\n    formData.append('army_type', $('input[name=\"army_type\"]').val());\r\n    formData.append('birthday', this.state.selectedDate.slice(0, 10));\r\n    formData.append('district', $('input[name=\"district\"]').val());\r\n    formData.append('fakultet', $('input[name=\"fakultet\"]').val());\r\n    formData.append('name', $('input[name=\"name\"]').val());\r\n    formData.append('phone', $('input[name=\"phone\"]').val());\r\n    formData.append('position', $('input[name=\"position\"]').val());\r\n    formData.append('status', this.state.userInfo.status);\r\n    formData.append('surname', $('input[name=\"surname\"]').val());\r\n    formData.append('vuz', $('input[name=\"vuz\"]').val());\r\n    formData.append('city', $('input[name=\"city\"]').val());\r\n    formData.append('sex', this.state.userInfo.sex);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/user/update.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function (res) {\r\n        let response = res.result;\r\n        switch (response) {\r\n          case 0:\r\n            self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' });\r\n            break;\r\n          case 1: \r\n            if (!dontShow) {\r\n              self.fetchUserInfo('update');\r\n              self.props.enqueueSnackbar('Персональные данные были обновлены', { variant: 'success' });\r\n              self.addChild(e);\r\n            }\r\n            break;\r\n          default: break;\r\n        }\r\n      },\r\n      error: function() {\r\n        self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' });\r\n      }\r\n    });\r\n  }\r\n\r\n  createInput = (label, value, name) => {\r\n    const { user } = this.props.store;\r\n    const { userInfo } = this.state;\r\n\r\n    if (user.id === userInfo.id) {\r\n      return (\r\n        <TextField\r\n          label={label}\r\n          value={value}\r\n          fullWidth={true}\r\n          name={name}\r\n          margin='dense'\r\n          InputLabelProps={{ shrink: true }}\r\n          onChange={this.handleChange}\r\n          variant=\"outlined\"\r\n        />\r\n      )\r\n    } else {\r\n      return (\r\n        <Naked>\r\n          {name === 'name' || name === 'surname' || name === 'position' ? (\r\n            <FormControl>\r\n              <InputBase value={value} />\r\n            </FormControl>\r\n          ) : (\r\n              <FormControl>\r\n                <InputLabel htmlFor={name}>{label}</InputLabel>\r\n                <InputBase id={name} value={value} />\r\n              </FormControl>\r\n            )}\r\n        </Naked>\r\n      )\r\n    }\r\n  }\r\n\r\n  closeSelectOnScroll = () => true;\r\n  listenSelect = () => true;\r\n  closeSelect = () => this.setState({ isSelectOpened: false });\r\n\r\n  prepareToUpdate(id) {\r\n    this.setState({ preparedId: id, open: true });\r\n  }\r\n\r\n  setAdministrator = () => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    formData.append('id', this.state.preparedId);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/user/setAdministrator.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () => {\r\n        self.handleClose();\r\n        self.props.enqueueSnackbar('Статус пользователя был успешно сменён', { variant: 'success' })\r\n        self.fetchUserInfo();\r\n      },\r\n      error: () => self.props.enqueueSnackbar('Что-то пошло не так, попробуйте снова', { variant: 'error' })\r\n    });\r\n  }\r\n\r\n  handleClose = () => this.setState({ open: false, preparedId: null });\r\n\r\n  render() {\r\n    const { loading, newChildInput, childName, childBirthyear, nameError, yearError } = this.state;\r\n    const { user } = this.props.store;\r\n    let childrens = {};\r\n    let userInfo = user;\r\n\r\n    if (userInfo.childs) childrens = JSON.parse(userInfo.childs.replace(/\\//g, ''));\r\n\r\n    if (user.hasOwnProperty('name')) {\r\n      if (window.location.pathname.slice(3) === userInfo.id) {\r\n        userInfo = user;\r\n      } else {\r\n        userInfo = this.state.userInfo;\r\n      }\r\n    }\r\n\r\n    return (\r\n      <Paper className=\"personal\">\r\n        {window.innerWidth < 600 ? <ResponsiveHeader name={userInfo.name} surname={userInfo.surname} /> : null}\r\n        {!loading ? <Form id=\"personal-info\" action=\"\" method=\"POST\" onSubmit={this.handleSubmit}>\r\n\r\n          <div className=\"personal-header\">\r\n\r\n            {user.admin === '1' ?\r\n              userInfo.admin === '1' ? \r\n                <Tooltip title=\"Разжаловать администратора\">\r\n                  <Star onClick={() => this.prepareToUpdate(userInfo.id)} style={{ position: 'absolute', right: 30, color: '#F9A825', cursor: 'pointer' }} />\r\n                </Tooltip> : \r\n                <Tooltip title=\"Назначить администратором\">\r\n                  <StarBorder onClick={() => this.prepareToUpdate(userInfo.id)} style={{ position: 'absolute', right: 30, color: 'F9A825', cursor: 'pointer' }} />\r\n                </Tooltip> \r\n            : null}\r\n\r\n            <div className=\"personal-header__photo\">\r\n              <div style={{ background: `url(${userInfo.avatar ? userInfo.avatar : defaultAvatar}) no-repeat center/cover` }}></div>\r\n            </div>\r\n            <div className={user.id === userInfo.id ? 'personal-header__info' : null}>\r\n              {user.id === userInfo.id ? (\r\n                <Fragment>\r\n                  {this.createInput('Имя', userInfo.name, 'name')}\r\n                  {this.createInput('Фамилия', userInfo.surname, 'surname')}\r\n                  {this.createInput('Должность', userInfo.position, 'position')}\r\n                </Fragment>\r\n              ) : (\r\n                  <Fragment>\r\n                    <InputBase className='user-header' value={userInfo.name + ' ' + userInfo.surname} />\r\n                    <span className='user-position'>{this.createInput('Должность', userInfo.position, 'position')}</span>\r\n                  </Fragment>\r\n                )}\r\n\r\n              {user.id === userInfo.id ? (\r\n                <InputMask\r\n                  mask=\"+7 (999) 99-99-999\"\r\n                  value={userInfo.phone}\r\n                  onChange={this.handleChange}\r\n                >\r\n                  {() => <TextField\r\n                    label='Номер телефона'\r\n                    name='phone'\r\n                    fullWidth={true}\r\n                    margin='dense'\r\n                    InputLabelProps={{ shrink: true }}\r\n                    variant=\"outlined\"\r\n                  />}\r\n                </InputMask>) : (\r\n                  <Naked>\r\n                    <InputBase id='phone' style={{ pointerEvents: 'none', padding: 0 }} value={userInfo.phone} />\r\n                  </Naked>\r\n                )}\r\n\r\n              {user.id === userInfo.id ? (\r\n                <FormControl >\r\n                  <DatePicker\r\n                    variant='outlined'\r\n                    name=\"birthday\"\r\n                    margin='dense'\r\n                    label='Дата рождения'\r\n                    format={userInfo.admin === '1' ? 'Do MMMM YYYY' : 'Do MMMM'}\r\n                    value={this.state.selectedDate ? this.state.selectedDate : userInfo.birthday}\r\n                    fullWidth={true}\r\n                    InputLabelProps={{ shrink: true }}\r\n                    onChange={this.handleDateChange}\r\n                    aria-describedby=\"component-helper-text\"\r\n                    cancelLabel='Отмена'\r\n                  />\r\n                  <FormHelperText id=\"component-helper-text\">*Год рождения будет виден только руководству</FormHelperText>\r\n                </FormControl>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n          <div className=\"personal-section\">\r\n\r\n            {user.id !== userInfo.id && !userInfo.status && childrens.length === 0 ?\r\n            null :\r\n            <div className=\"personal-section__header\">\r\n              <Typography vazriant='h6' color='primary'>Семья</Typography>\r\n              <hr />\r\n            </div>\r\n            }\r\n\r\n            {user.id === userInfo.id ? (\r\n              <FormControl style={{ width: '100%' }}>\r\n                <InputLabel htmlFor=\"status\">Семейное положение</InputLabel>\r\n                <Select   \r\n                  value={userInfo.status || ''}\r\n                  onOpen={this.listenSelect}\r\n                  onClose={this.closeSelectOnScroll}\r\n                  open={this.state.isSelectOpened}\r\n                  onChange={this.handleChange}\r\n                  onClick={() => this.setState({ isSelectOpened: !this.state.isSelectOpened })}\r\n                  input={\r\n                    <OutlinedInput\r\n                      labelWidth={500}\r\n                      name=\"status\"\r\n                      id=\"status\"\r\n                    />\r\n                  }         \r\n                >\r\n                  {userInfo.sex === 'женский' ?\r\n                    <MenuItem value=\"Не замужем\">Не замужем</MenuItem> :\r\n                    <MenuItem value=\"Не женат\">Не женат</MenuItem>\r\n                  }\r\n                  {userInfo.sex === 'женский' ?\r\n                    <MenuItem value=\"Замужем\">Замужем</MenuItem> :\r\n                    <MenuItem value=\"Женат\">Женат</MenuItem>\r\n                  }\r\n                  <MenuItem value=\"В гражданском браке\">В гражданском браке</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            ) : (\r\n\r\n              userInfo.status ?\r\n                <Naked>\r\n                  <FormControl>\r\n                    <InputLabel htmlFor='status'>Семейное положение</InputLabel>\r\n                    <InputBase id='status' value={userInfo.status} />\r\n                  </FormControl>\r\n                </Naked>\r\n              : null\r\n              )}\r\n          </div>\r\n          <div className=\"personal-section\">\r\n          \r\n            {user.id !== userInfo.id ? null :\r\n            <Fragment>\r\n              <div className=\"personal-section__header\">\r\n                <Typography variant='h6' color='primary'>Дети</Typography>\r\n                <hr />\r\n              </div>\r\n              <Childrens>\r\n                {Object.keys(childrens).map(child =>\r\n                  <Children key={childrens[child].id}>\r\n                    <Typography variant='subtitle2'>Имя: {childrens[child].child_name} </Typography>\r\n                    <Typography variant='caption'>{childrens[child].child_birthyear} г.р.</Typography>\r\n                    {user.id === userInfo.id  ?\r\n                      <Tooltip title=\"Удалить\" placement=\"right\"><Clear onClick={() => this.deleteChild(childrens[child].id)} /></Tooltip>\r\n                    : null}\r\n                  </Children>\r\n                )}\r\n              </Childrens>\r\n            </Fragment>}\r\n\r\n            {newChildInput ? (<NewChild>\r\n              <div>\r\n                <TextField\r\n                  label='Имя'\r\n                  value={childName}\r\n                  fullWidth={true}\r\n                  name='childName'\r\n                  margin='dense'\r\n                  error={!nameError}\r\n                  InputLabelProps={{ shrink: true }}\r\n                  onChange={this.handleChild}\r\n                  variant=\"outlined\"\r\n                />\r\n                <TextField\r\n                  label='Год рождения'\r\n                  value={childBirthyear || (moment(Date.now()).format('L')).split('.').reverse().join('-')}\r\n                  fullWidth={true}\r\n                  name='childBirthyear'\r\n                  margin='dense'\r\n                  type='date'\r\n                  error={!yearError}\r\n                  InputLabelProps={{ shrink: true }}\r\n                  onChange={this.handleChild}\r\n                  variant=\"outlined\"\r\n                />\r\n              </div>\r\n              <span>\r\n                <Tooltip title=\"Добавить\" placement=\"right\">\r\n                  <AddIcon onClick={this.addChild} />\r\n                </Tooltip>\r\n                <Tooltip title=\"Отменить\" placement=\"right\">\r\n                  <Clear onClick={() => this.setState({ newChildInput: false, childBirthyear: '', childName: '', nameError: true, yearError: true })} />\r\n                </Tooltip>\r\n              </span>\r\n            </NewChild>) : null}\r\n\r\n            {user.id === userInfo.id ? (\r\n              <ChildBtns>\r\n                <Button variant='contained' color='primary' onClick={newChildInput ? this.addChild : this.prepareChild}>Добавить</Button>\r\n              </ChildBtns>) : null}\r\n          </div>\r\n          <div className=\"personal-section\">\r\n            {user.id !== userInfo.id && !userInfo.city && !userInfo.disctrict && !userInfo.adress \r\n            ? null :\r\n            <div className=\"personal-section__header\">\r\n              <Typography variant='h6' color='primary'>Контакты</Typography>\r\n              <hr />\r\n            </div>\r\n            }\r\n\r\n            {user.id !== userInfo.id && !userInfo.city && !userInfo.disctrict && !userInfo.adress \r\n            ? null :      \r\n              <Fragment>\r\n                {this.createInput('Родной город', userInfo.city, 'city')}\r\n                {this.createInput('Области/края', userInfo.district, 'district')}\r\n                {this.createInput('Актуальный адрес', userInfo.adress, 'adress')}\r\n              </Fragment>\r\n            }\r\n\r\n          </div>\r\n          <div className=\"personal-section\">\r\n            {user.id !== userInfo.id && !userInfo.vuz && !userInfo.fakultet \r\n            ? null :\r\n            <div className=\"personal-section__header\">\r\n              <Typography variant='h6' color='primary'>Образование</Typography>\r\n              <hr />\r\n            </div>\r\n            }\r\n\r\n            {user.id !== userInfo.id && !userInfo.vuz && !userInfo.fakultet\r\n            ? null :\r\n              <Fragment>\r\n                {this.createInput('ВУЗ', userInfo.vuz, 'vuz')}\r\n                {this.createInput('Факультет', userInfo.fakultet, 'fakultet')}\r\n              </Fragment>\r\n            }\r\n\r\n          </div>\r\n          {userInfo.sex === 'мужской' ?\r\n            <div className=\"personal-section\">\r\n              {user.id !== userInfo.id  && !userInfo.army_country && !userInfo.army_type \r\n              ? null :\r\n              <div className=\"personal-section__header\">\r\n                <Typography variant='h6' color='primary'>Служба</Typography>\r\n                <hr />\r\n              </div>\r\n              }\r\n\r\n              {user.id !== userInfo.id  && !userInfo.army_country && !userInfo.army_type \r\n              ? null :\r\n                <Fragment>\r\n                  {this.createInput('Страна', userInfo.army_country, 'army_country')}\r\n                  {this.createInput('Род войск', userInfo.army_type, 'army_type')}\r\n                </Fragment>\r\n              }\r\n            </div> : null}\r\n\r\n          {user.id === userInfo.id  ? <Btn><Button type='submit' variant='contained' color='primary' onClick={this.handleSubmit}>Обновить данные</Button></Btn> : null}\r\n        </Form> : <Loader minHeight={400} color='primary' />}\r\n\r\n\r\n        {/* Confirm promote modal */}\r\n        <Modal\r\n          open={this.state.open}\r\n          handleClose={this.handleClose.bind(this)}\r\n          component={<ConfirmStatus\r\n            setAdministrator={this.setAdministrator}\r\n            handleClose={this.handleClose.bind(this)}\r\n            message={userInfo.admin === '1' ? \"разжаловать администратора\" : `назначить ${userInfo.name} ${userInfo.surname} администратором`}\r\n          />}\r\n        />\r\n      </Paper >\r\n    )\r\n  }\r\n}\r\nconst Form = styled.form`\r\n  padding-bottom: 30px;\r\n  position: relative;\r\n  label {\r\n    text-transform: lowercase;\r\n  }\r\n  .user-header {\r\n    color: #1976d2;\r\n    font-size: 20px;\r\n  }\r\n  .user-position {\r\n    display: block;\r\n    margin-top: -10px;\r\n    & > div > div {\r\n      margin: 0;\r\n      padding: 0;\r\n      & > div > input {\r\n        color: rgba(0,0,0,.54);\r\n        font-size: 14px;\r\n      }\r\n    }\r\n  }\r\n  fieldset {\r\n    border: none;\r\n  }\r\n`;\r\nconst Btn = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\nconst Children = styled.div`\r\n  width: 30%;\r\n  position: relative;\r\n  margin-bottom: 15px;\r\n  margin-right: 3%;\r\n\r\n  &:hover > svg {\r\n    display: block;\r\n  } \r\n\r\n  svg {\r\n    display: none;\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    opacity: .5;\r\n    cursor: pointer;\r\n    font-size: 20px;\r\n    &:hover {\r\n      opacity: .8;\r\n    }\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: 100%;\r\n    svg {\r\n      display: block;\r\n      font-size: 28px;\r\n    }\r\n  }\r\n`;\r\nconst Childrens = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin: 20px 0 5px;\r\n  padding-left: 15px;\r\n`;\r\nconst NewChild = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  & > div {\r\n    width: 90%;\r\n  }\r\n\r\n  svg {\r\n    opacity: .5;\r\n    cursor: pointer;\r\n    font-size: 24px;\r\n    &:hover {\r\n      opacity: .8;\r\n    }\r\n  }\r\n`;\r\nconst ChildBtns = styled.div`\r\n  margin-top: 15px;\r\n  button {\r\n    margin-right: 15px;\r\n  }\r\n  padding-left: 15px;\r\n`;\r\nconst Naked = styled.div`\r\n  width: 100%;\r\n  display: inline-block;\r\n  pointer-events: none;\r\n  & > div {\r\n    display: block;\r\n    margin-bottom: 10px;\r\n    padding-left: 37px;\r\n  }\r\n  & > div > div {\r\n    display: block;\r\n    pointer-events: none;\r\n    margin-top: -5px;\r\n  }\r\n  label {\r\n    font-size: 12px;\r\n    position: relative;\r\n    text-transform: lowercase;\r\n  }\r\n  .inline-input {\r\n    display: inline-flex;\r\n    margin-left: 10px;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    & > div {\r\n      padding-left: 15px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default connect(state => ({ store: state }),\r\n  dispatch => ({\r\n    updateUser: (field, value) => dispatch({ type: 'UPDATE_USER', payload: value, field: field }),\r\n    onAddChild: child => dispatch({ type: 'ADD_CHILD', payload: child }),\r\n    onRemoveChild: id => dispatch({ type: 'REMOVE_CHILD', payload: id })\r\n  })\r\n)(withSnackbar(PersonalInfo));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { Fab as Fabulous } from '@material-ui/core';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nconst styles = theme => ({\r\n  fixed: {\r\n    position: 'fixed',\r\n    bottom: window.innerWidth > 600 ? theme.spacing.unit * 2 : 74,\r\n    right: theme.spacing.unit * 3,\r\n  },\r\n});\r\n\r\nfunction Fab(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <div>\r\n      <Tooltip title={props.title} aria-label={props.title}>\r\n        <Fabulous color={props.secondary ? 'secondary' : 'primary'} className={classes.fixed}>\r\n          <AddIcon />\r\n        </Fabulous>\r\n      </Tooltip>\r\n    </div>\r\n  );\r\n}\r\n\r\nFab.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(Fab);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport Select from 'react-select';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Typography, FormControlLabel, Checkbox, NoSsr, TextField, Paper, Chip, MenuItem } from '@material-ui/core';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport { emphasize } from '@material-ui/core/styles/colorManipulator';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    height: 120,\r\n    marginTop: 20,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between'\r\n  },\r\n  input: {\r\n    display: 'flex',\r\n    padding: 0,\r\n  },\r\n  valueContainer: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  chip: {\r\n    margin: `${theme.spacing.unit / 2}px ${theme.spacing.unit / 4}px`,\r\n  },\r\n  chipFocused: {\r\n    backgroundColor: emphasize(\r\n      theme.palette.type === 'light' ? theme.palette.grey[300] : theme.palette.grey[700],\r\n      0.08,\r\n    ),\r\n  },\r\n  noOptionsMessage: {\r\n    padding: `${theme.spacing.unit}px ${theme.spacing.unit * 2}px`,\r\n  },\r\n  singleValue: {\r\n    fontSize: 14,\r\n  },\r\n  placeholder: {\r\n    position: 'absolute',\r\n    left: 2,\r\n    fontSize: 16,\r\n  },\r\n  paper: {\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    marginTop: theme.spacing.unit,\r\n    left: 0,\r\n    right: 0,\r\n  }\r\n});\r\n\r\nfunction NoOptionsMessage(props) {\r\n  return (\r\n    <Typography\r\n      color=\"textSecondary\"\r\n      className={props.selectProps.classes.noOptionsMessage}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction inputComponent({ inputRef, ...props }) {\r\n  return <div ref={inputRef} {...props} />;\r\n}\r\n\r\nfunction Control(props) {\r\n  return (\r\n    <TextField\r\n      fullWidth\r\n      InputProps={{\r\n        inputComponent,\r\n        inputProps: {\r\n          className: props.selectProps.classes.input,\r\n          inputRef: props.innerRef,\r\n          children: props.children,\r\n          ...props.innerProps,\r\n        },\r\n      }}\r\n      {...props.selectProps.textFieldProps}\r\n    />\r\n  );\r\n}\r\n\r\nfunction Option(props) {\r\n  return (\r\n    <MenuItem\r\n      buttonRef={props.innerRef}\r\n      selected={props.isFocused}\r\n      component=\"div\"\r\n      style={{\r\n        fontWeight: props.isSelected ? 500 : 400,\r\n      }}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </MenuItem>\r\n  );\r\n}\r\n\r\nfunction Placeholder(props) {\r\n  return (\r\n    <Typography\r\n      color=\"textSecondary\"\r\n      className={props.selectProps.classes.placeholder}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction SingleValue(props) {\r\n  return (\r\n    <Typography className={props.selectProps.classes.singleValue} {...props.innerProps}>\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction ValueContainer(props) {\r\n  return <div className={props.selectProps.classes.valueContainer}>{props.children}</div>;\r\n}\r\n\r\nfunction MultiValue(props) {\r\n  return (\r\n    <Chip\r\n      tabIndex={-1}\r\n      label={props.children}\r\n      className={classNames(props.selectProps.classes.chip, {\r\n        [props.selectProps.classes.chipFocused]: props.isFocused,\r\n      })}\r\n      onDelete={props.removeProps.onClick}\r\n      deleteIcon={<CancelIcon {...props.removeProps} />}\r\n    />\r\n  );\r\n}\r\n\r\nfunction Menu(props) {\r\n  return (\r\n    <Paper square className={props.selectProps.classes.paper} {...props.innerProps}>\r\n      {props.children}\r\n    </Paper>\r\n  );\r\n}\r\n\r\nconst components = {\r\n  Control,\r\n  Menu,\r\n  MultiValue,\r\n  NoOptionsMessage,\r\n  Option,\r\n  Placeholder,\r\n  SingleValue,\r\n  ValueContainer,\r\n};\r\n\r\nclass IntegrationReactSelect extends React.Component {\r\n\r\n  render() {\r\n    const { classes, theme } = this.props;\r\n    \r\n    const users = this.props.users.map(user => ({\r\n      value: user.id,\r\n      label: `${user.name} ${user.surname}`,\r\n    }));\r\n\r\n    const selectStyles = {\r\n      input: base => ({\r\n        ...base,\r\n        color: theme.palette.text.primary,\r\n        '& input': {\r\n          font: 'inherit',\r\n        },\r\n      }),\r\n    };\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <NoSsr>\r\n          <Select\r\n            classes={classes}\r\n            styles={selectStyles}\r\n            textFieldProps={{\r\n              label: 'Сотрудники',\r\n              InputLabelProps: {\r\n                shrink: true,\r\n              },\r\n            }}\r\n            options={users}\r\n            components={components}\r\n            value={this.props.multi}\r\n            onChange={this.props.handleChange('multi')}\r\n            placeholder=\"Выберите сотрудников\"\r\n            isMulti\r\n          />\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox\r\n                onChange={this.props.changeImportance}\r\n                color=\"primary\"\r\n              />\r\n            }\r\n            label=\"Отметить как важную\"\r\n          />\r\n        </NoSsr>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nIntegrationReactSelect.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  theme: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(IntegrationReactSelect);","import React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { TimePicker, DatePicker } from 'material-ui-pickers';\r\n\r\nclass MaterialUIPickers extends React.Component {\r\n  render() {\r\n    return (\r\n      <Grid container justify=\"space-around\" style={{ paddingBottom: 30 }}>\r\n        <DatePicker\r\n          margin=\"normal\"\r\n          label=\"Выберите дату\"\r\n          value={this.props.selectedDate}\r\n          minDate={new Date(new Date().getTime() + 24 * 60 * 60 * 1000)}\r\n          fullWidth={true}\r\n          onChange={this.props.handleDateChange}\r\n          cancelLabel='Отмена'\r\n          emptyLabel='не выбрана дата'\r\n        />\r\n        <TimePicker\r\n          ampm={false}\r\n          margin=\"normal\"\r\n          label=\"Выберите время\"\r\n          value={this.props.selectedTime}\r\n          locale='ru'\r\n          fullWidth={true}\r\n          minutesStep={5}\r\n          onChange={this.props.handleTimeChange}\r\n          cancelLabel='Отмена'\r\n          emptyLabel='не выбрано время'\r\n        />\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MaterialUIPickers;","import React from 'react';\r\nimport { TextField } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nexport default function TextInput(props) {\r\n  return (\r\n    <TextArea>\r\n      <TextField\r\n        label=\"Поставленная задача\"\r\n        multiline\r\n        variant=\"outlined\"\r\n        name='text'\r\n        onChange={props.handleTextChange}\r\n        value={props.text}\r\n        required\r\n      />\r\n    </TextArea>\r\n  )\r\n}\r\n\r\nconst TextArea = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-top: 10px;\r\n  height: 150px;\r\n\r\n  textarea {\r\n    max-height: 130px;\r\n    &::-webkit-scrollbar {\r\n      width: 10px;\r\n    }\r\n   \r\n    &::-webkit-scrollbar-track {\r\n      background-color: #ebebeb;\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n    }\r\n  \r\n    &::-webkit-scrollbar-thumb {\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n      background: #1976d2; \r\n    }\r\n  }\r\n\r\n  & > div {\r\n    width: 100%;\r\n    & > div {\r\n      height: 100%;\r\n    }\r\n  }\r\n`;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport StepContent from '@material-ui/core/StepContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Autocomplete from './Autocomplete';\r\nimport Pickers from './Pickers';\r\nimport TextInput from './TextInput';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n  },\r\n  actionsContainer: {\r\n    marginBottom: theme.spacing.unit * 2,\r\n  },\r\n  resetContainer: {\r\n    padding: window.innerWidth < 600 ? 0 : theme.spacing.unit * 3,\r\n  },\r\n});\r\n\r\nfunction getSteps() {\r\n  return ['Выберите сотрудника и важность', 'Назначьте дату и время', 'Поставьте задачу'];\r\n}\r\n\r\nfunction getStepContent(step) {\r\n  switch (step) {\r\n    case 0:\r\n      return `Вы можете выбрать одного или более сотрудников. К тому же можете установить повышенную важность задачи.`;\r\n    case 1:\r\n      return 'Выберите дату и время в соответствующих полях.';\r\n    case 2:\r\n      return `Сотрудник сможет найти поставленные ему задачи в уведомлениях.`;\r\n    default:\r\n      return 'Unknown step';\r\n  }\r\n}\r\n\r\nclass VerticalLinearStepper extends React.Component {\r\n  state = {\r\n    activeStep: 0,\r\n  };\r\n\r\n  handleNext = () => {\r\n    this.setState(state => ({\r\n      activeStep: state.activeStep + 1,\r\n    }));\r\n  };\r\n\r\n  handleBack = () => {\r\n    this.setState(state => ({\r\n      activeStep: state.activeStep - 1,\r\n    }));\r\n  };\r\n\r\n  handleReset = () => {\r\n    this.setState({\r\n      activeStep: 0,\r\n    });\r\n  };\r\n\r\n  checkDisabled = (step, multi, date, time, text) => {\r\n    if (step === 0 && multi.length !== 0) return false;\r\n    if (step === 1 && date && time) return false;\r\n    if (step === 2 && text.length > 0) return false;\r\n    \r\n    return true;\r\n  }\r\n\r\n  render() {\r\n    const { classes, users, multi, selectedTime, selectedDate, text } = this.props;\r\n    const steps = getSteps();\r\n    const { activeStep } = this.state;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <Stepper activeStep={activeStep} orientation=\"vertical\">\r\n          {steps.map((label, index) => (\r\n            <Step key={label}>\r\n              <StepLabel>{label}</StepLabel>\r\n              <StepContent>\r\n                <Typography>{getStepContent(index)}</Typography>\r\n                <div className={classes.actionsContainer}>\r\n                  <div>\r\n                    <Button\r\n                      disabled={activeStep === 0}\r\n                      onClick={this.handleBack}\r\n                      className={classes.button}\r\n                    >\r\n                      Назад\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      onClick={activeStep === steps.length - 1 ? () => {this.props.handleSubmit(); this.handleNext()} : this.handleNext}\r\n                      className={classes.button}\r\n                      disabled={this.checkDisabled(activeStep, multi, selectedDate, selectedTime, text)} \r\n                    >\r\n                      {activeStep === steps.length - 1 ? 'Финиш' : 'Дальше'}\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </StepContent>\r\n            </Step>\r\n          ))}\r\n                        \r\n        </Stepper>\r\n\r\n        {/* Контент */}\r\n        {activeStep === 0 \r\n          ? <Autocomplete \r\n              users={users} \r\n              multi={multi}\r\n              handleChange={this.props.handleChange}\r\n              changeImportance={this.props.changeImportance}\r\n            />\r\n          : activeStep === 1\r\n          ? <Pickers \r\n              selectedTime={selectedTime} \r\n              selectedDate={selectedDate}\r\n              handleDateChange={this.props.handleDateChange}\r\n              handleTimeChange={this.props.handleTimeChange}\r\n            />\r\n          : activeStep === 2\r\n          ? <TextInput\r\n              text={text}\r\n              handleTextChange={this.props.handleTextChange}\r\n            />\r\n          : null } \r\n\r\n        {activeStep === steps.length && (\r\n          <Paper square elevation={0} className={classes.resetContainer}>\r\n            <Typography>Задача успешно поставлена.</Typography>\r\n            <Button \r\n              onClick={() => {this.handleReset(); this.props.resetAll()}}\r\n              variant=\"contained\"               \r\n              color=\"primary\"\r\n              className={classes.button}\r\n            >\r\n              {window.innerWidth < 600 ? 'Поставить ещё' : 'Поставить ещё задачу'}\r\n            </Button>\r\n            <Button \r\n              onClick={this.props.handleClose} \r\n              className={classes.button}\r\n            >\r\n              Закрыть\r\n            </Button>\r\n          </Paper>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nVerticalLinearStepper.propTypes = {\r\n  classes: PropTypes.object,\r\n};\r\n\r\nexport default withStyles(styles)(VerticalLinearStepper);","import React, { Component, Fragment } from 'react';\r\nimport { Paper, Typography, Tooltip } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport API from '../functions/API';\r\nimport Stepper from './Stepper';\r\nimport $ from 'jquery';\r\nimport { connect } from 'react-redux';\r\nimport { withSnackbar } from 'notistack';\r\n\r\nclass NewTask extends Component {\r\n  state = {\r\n    selectedDate: null,\r\n    selectedTime: null,\r\n    multi: [],\r\n    text: '',\r\n    importance: 0\r\n  }\r\n\r\n  handleChange = name => value => this.setState({ [name]: value });\r\n  handleDateChange = date => this.setState({ selectedDate: date.format() });\r\n  handleTimeChange = time => this.setState({ selectedTime: time.format() });\r\n  handleTextChange = e => this.setState({ text: e.target.value })\r\n  changeImportance = () => this.setState({ importance: !this.state.importance });\r\n  resetAll = () => {\r\n    this.setState({\r\n      selectedDate: null,\r\n      selectedTime: null,\r\n      multi: [],\r\n      text: '',\r\n      importance: 0\r\n    });\r\n  }\r\n\r\n  handleSubmit = () => {\r\n    const { multi, selectedTime, selectedDate, text, importance } = this.state;\r\n    const { user } = this.props.store;\r\n    const formData = new FormData();\r\n    const self = this;\r\n    let forWho = [];\r\n    let date = new Date();\r\n    multi.forEach(user => forWho.push(`for${user.value}`));\r\n\r\n    formData.append('from', user.id);\r\n    formData.append('date', date.toLocaleDateString());\r\n    formData.append('for', forWho.join(','));\r\n    formData.append('time', `${date.getHours() < 10 ? '0' + date.getHours() : date.getHours()}:${date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()}`);\r\n    formData.append('until_date', selectedDate.slice(0, 10));\r\n    formData.append('text', text);\r\n    formData.append('until_time', selectedTime.slice(11, 16));\r\n    formData.append('importance', importance ? '1' : '0');\r\n    formData.append('created_at', new Date().getTime());\r\n    \r\n    $.ajax({\r\n      url: `${API}/api/tasks/add.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () => {\r\n        fetch(`${API}/api/tasks/read.php?id=${user.id}`)\r\n          .then(response => response.json())\r\n          .then(tasks => self.props.onAddNewTask(tasks.data))\r\n          .then(() => self.props.enqueueSnackbar('Задача была поставлена', { variant: 'success' }))\r\n      },\r\n      error: () => self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' })\r\n    });\r\n  }\r\n  \r\n  render() {\r\n    const { multi, selectedTime, selectedDate, text } = this.state;\r\n\r\n    return (\r\n      <Fragment>\r\n        <Wrapper>\r\n          <Paper>\r\n            <span className='closeNewTask' onClick={this.props.handleClose}>\r\n              <Tooltip title=\"Закрыть\" placement=\"left\"><CloseIcon /></Tooltip>\r\n            </span>\r\n            <Typography variant='h5'>Новая Задача</Typography>\r\n            <Stepper\r\n              users={this.props.users}\r\n              multi={multi}\r\n              text={text}\r\n              selectedTime={selectedTime}\r\n              selectedDate={selectedDate}\r\n              handleChange={this.handleChange}\r\n              handleTextChange={this.handleTextChange}\r\n              handleDateChange={this.handleDateChange}\r\n              handleTimeChange={this.handleTimeChange}\r\n              changeImportance={this.changeImportance}\r\n              resetAll={this.resetAll}\r\n              handleClose={this.props.handleClose}\r\n              handleSubmit={this.handleSubmit}\r\n            />\r\n          </Paper>\r\n        </Wrapper>\r\n        {window.innerWidth >= 600 ? <Backdrop onClick={this.props.handleClose} /> : null}\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  max-width: 600px;\r\n  min-height: 300px;\r\n  height: fit-content;\r\n  margin: auto;\r\n  background: #ffffff;\r\n  border-radius: 10px;\r\n  outline: none;\r\n  z-index: 10;\r\n\r\n  .listFor {\r\n    max-height: 220px;\r\n    margin-top: 20px;\r\n    overflow: auto;\r\n  }\r\n  .listFor::-webkit-scrollbar {\r\n    width: 10px;\r\n  }\r\n  .listFor::-webkit-scrollbar-track {\r\n    background-color: #ebebeb;\r\n    -webkit-border-radius: 10px;\r\n    border-radius: 10px;\r\n  }\r\n  .listFor::-webkit-scrollbar-thumb {\r\n    -webkit-border-radius: 10px;\r\n    border-radius: 10px;\r\n    background: #1976d2; \r\n  }\r\n\r\n  & > div {\r\n    height: fit-content;\r\n    padding: 20px 30px;\r\n  }\r\n   \r\n  .closeNewTask svg {\r\n    font-size: 30px;\r\n    color: #1976d2;\r\n    opacity: .8;\r\n    cursor: pointer;\r\n    position: absolute;\r\n    right: 20px;\r\n    top: 20px;\r\n\r\n    :hover {\r\n      opacity: .8;\r\n      transition: .37s ease;\r\n    }\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    top: 0;\r\n    max-width: 100%;\r\n    border-radius: unset;\r\n    height: calc(100vh - 58px);\r\n    overflow: auto;\r\n    margin: unset;\r\n    box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\r\n    h5 { \r\n      font-size: 18px;\r\n    }\r\n    & > div {\r\n      padding: 20px 15px;\r\n      box-shadow: unset;\r\n      & > div {\r\n        > div:first-child {\r\n          padding: 20px 5px;\r\n        }\r\n      }\r\n    }\r\n    .closeNewTask svg {\r\n      font-size: 24px;\r\n      right: 15px;\r\n    } \r\n  }\r\n`;\r\n\r\nconst Backdrop = styled.div`\r\n  position: absolute;\r\n  top: 0; bottom: 0;\r\n  left: 0; right: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 5;\r\n  background: rgba(0,0,0,.17);\r\n`;\r\n\r\nexport default connect( state => ({ store: state }),\r\n  dispatch => ({ \r\n    onAddNewTask: (task) => dispatch({ type: 'ADD_TASK', payload: task })\r\n  })\r\n)(withSnackbar(NewTask));","import React from 'react';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Delete from '@material-ui/icons/Delete';\r\nimport { Typography, ExpansionPanelDetails, ExpansionPanelSummary, ExpansionPanel, Tooltip, Button } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport classNames from 'classnames';\r\nimport moment from 'moment';\r\nimport $ from 'jquery';\r\nimport API from '../functions/API';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Task extends React.Component {\r\n\r\n  getUserNames = (users) => {\r\n    const { user } = this.props.store;\r\n    let usersId = users.split(',');\r\n    let result = 'Для: ';  \r\n\r\n    usersId.forEach(id => {\r\n      if (id.slice(3) === user.id) return result += \"Вас  \";\r\n      result += `${this.props.users.find(user => user.id === id.slice(3)).name} `;\r\n      result += `${this.props.users.find(user => user.id === id.slice(3)).surname}, `;\r\n    })\r\n    return result;\r\n  }\r\n\r\n  getAdresant = (id) => {\r\n    const { user } = this.props.store;\r\n    let initial = \"От: \";\r\n\r\n    if (id === user.id) return initial += 'Вас';\r\n\r\n    if (this.props.users.length > 0) {\r\n      initial += this.props.users.find(user => user.id === this.props.task.from).name;\r\n      initial += ` ${this.props.users.find(user => user.id === this.props.task.from).surname}`;\r\n      return initial;\r\n    }\r\n  }\r\n\r\n  openTask(e, id, readed) {\r\n    const self = this;\r\n    if (!readed) {\r\n      e.stopPropagation();\r\n      const formData = new FormData();\r\n      formData.append('id', id);\r\n      $.ajax({\r\n        url: `${API}/api/tasks/mark_as_read.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: res => self.props.markTask(id)\r\n      }); \r\n    }\r\n  }\r\n\r\n  render() {\r\n    const now = moment(new Date()); //todays date\r\n    const end = moment(this.props.task.until_date); // another date\r\n    const difference = moment.duration(end.diff(now))._milliseconds;\r\n    const { user } = this.props.store;\r\n\r\n    return (\r\n      <ExpansionPanel onClick={e => this.openTask(e, this.props.task.id, this.props.task.readed)}>\r\n        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n          <Typography variant='caption'>\r\n            <Typography variant='subtitle2' style={styles.flex}>\r\n            {this.props.task.from === user.id ? 'Поставлено: ' : 'Получено: ' }\r\n            {this.props.task.date} в {`${this.props.task.time} `}\r\n              {this.props.task.importance === '1' ? <Tooltip title=\"Отмечено как 'Важное'\" placement=\"top-start\"><Icon><WarningIcon /></Icon></Tooltip> : null}\r\n            </Typography>\r\n            {this.getAdresant(this.props.task.from)}\r\n            <TaskStatus>\r\n              <Typography variant='caption' className={classNames({\r\n                'task-completed': this.props.task.status === '1',\r\n                'task-doing': this.props.task.status === '0',\r\n                'task-late': difference < 0\r\n              })}>\r\n                {this.props.task.status === '1' && difference > 0 ? \"Выполнена\" :\r\n                  this.props.task.status === '0' && difference > 0 ? \"Выполняется\" :\r\n                    \"Просрочена\"}\r\n              </Typography>\r\n            </TaskStatus>\r\n          </Typography>\r\n\r\n          {this.props.task.from === user.id ?     \r\n            <DeleteIcon onClick={(e) => this.props.handleConfirm(e, this.props.task.id)}>\r\n              <Tooltip title=\"Удалить\" placement=\"left\">\r\n                <Delete />\r\n              </Tooltip>\r\n            </DeleteIcon>\r\n          : null }\r\n\r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails style={styles.details}>\r\n          <Typography variant='h6'> {this.props.task.text}  </Typography>\r\n          <Footer>\r\n            <div>\r\n              <Typography variant='caption'>{this.props.users.length > 0 ? this.getUserNames(this.props.task.for).slice(0, -2) : null}</Typography>\r\n              <Typography variant='subtitle2'>Выполнить до: {this.props.task.until_date.split('-').reverse().join('.')}, {this.props.task.until_time}</Typography>\r\n            </div>\r\n    \r\n            {this.props.task.status === '0' && this.props.task.for.includes(`for${user.id}`) ?\r\n              difference < 0 ?\r\n                <Tooltip title=\"Нельзя выполнить просроченную задачу\" placement=\"top-start\" leaveDelay={200}>\r\n                  <span><Button disabled={true} variant='contained' color='primary'>Выполнить</Button></span>\r\n                </Tooltip> :\r\n                <Button\r\n                  onClick={() => this.props.handleCompleted(this.props.task.id)}\r\n                  variant='contained'\r\n                  color='primary'\r\n                >\r\n                  Выполнить</Button>\r\n              : null}\r\n          </Footer>\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n    )\r\n  }\r\n}\r\nconst styles = {\r\n  flex: {\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  },\r\n  details: {\r\n    flexDirection: 'column'\r\n  }\r\n}\r\nconst Icon = styled.div`\r\n  svg {\r\n    color: rgba(0,0,0,.15) !important;\r\n    margin-left: 8px;\r\n    font-size: 22px;\r\n  }\r\n`;\r\nconst DeleteIcon = styled.span`\r\n  svg {\r\n    font-size: 32px;\r\n    color: rgba(0,0,0,0.54);\r\n    right: 55px;\r\n    padding: 5px;\r\n    top: 0;\r\n    bottom: 0;\r\n    margin: auto;\r\n    position: absolute;\r\n  }\r\n`;\r\nconst Footer = styled.div`\r\n  margin-top: 30px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\nconst TaskStatus = styled.span`\r\n  .task-completed {\r\n    color: darkgreen;\r\n  }\r\n  .task-doing {\r\n    color: darkblue;\r\n  }\r\n  .task-late {\r\n    color: darkred;\r\n  }\r\n`;\r\n\r\nexport default connect(state => ({ store: state }),\r\n  dispatch => ({\r\n    markTask: (task) => dispatch({ type: 'READED_TASK', payload: task})    \r\n  })\r\n)(Task);","import React, { Fragment } from 'react';\r\nimport { Paper, Typography, Button } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\nimport styled from 'styled-components';\r\n\r\nexport default function ConfirmDelete(props) {\r\n  return (\r\n    <Fragment>\r\n      <Wrapper>\r\n        <Paper>\r\n          <Icon onClick={props.handleClose}>\r\n            <CloseIcon />\r\n          </Icon>\r\n          <Typography variant='body1'>{`Вы уверены, что хотите удалить ${props.name}?`}</Typography>\r\n          <Typography variant='caption'>Вся информация будет удалена безвозвратно.</Typography>\r\n          <ButtonContainer>\r\n            <Button variant='contained' color='secondary' onClick={props.handleDelete}>Удалить</Button>\r\n            <Button variant='text' color='default' onClick={props.handleClose}>Отмена</Button>\r\n          </ButtonContainer>\r\n        </Paper>\r\n        \r\n      </Wrapper>\r\n      <Backdrop onClick={props.handleClose} />\r\n    </Fragment>\r\n  )\r\n}\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  height: 200px;\r\n  width: 400px;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n  outline: none;\r\n  z-index: 1000;\r\n  & > div {\r\n    height: 100%;\r\n    position: relative;\r\n    display: flex;\r\n    padding: 30px;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: 95%;\r\n  }\r\n`;\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  margin-top: 30px;\r\n  button {\r\n    margin-right: 25px;\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  svg {\r\n    cursor: pointer;\r\n    color: rgba(0,0,0,.54);\r\n    position: absolute;\r\n    right: 16px;\r\n    top: 16px;\r\n  }\r\n`\r\nconst Backdrop = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  top: 0;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  background: rgba(0,0,0,.37);\r\n`;","import React, { Component, Fragment } from 'react';\r\nimport { Paper, Typography } from '@material-ui/core';\r\nimport Fab from '../Fab/Fab';\r\nimport Modal from '../Modal/Modal';\r\nimport NewTask from './NewTask';\r\nimport styled from 'styled-components';\r\nimport API from '../functions/API';\r\nimport Task from './Task';\r\nimport $ from 'jquery';\r\nimport { connect } from 'react-redux';\r\nimport ConfirmDelete from './ConfirmDelete';\r\nimport Loader from '../Loader/Loader';\r\nimport { withSnackbar } from 'notistack';\r\nimport ResponsiveHeader from '../ResponsiveHeader/ResponsiveHeader';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport ArrowForward from '@material-ui/icons/ArrowForward';\r\nimport Menu from '@material-ui/icons/Menu';\r\nimport Check from '@material-ui/icons/Check';\r\n\r\nvar tasksTimeout = null;\r\n\r\nclass Tasks extends Component {\r\n  state = {\r\n    open: false,\r\n    confirm: false,\r\n    preparedToDelete: null,\r\n    initial: [],\r\n    users: [],\r\n    value: 0\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    if (this.props.store.unreaded.tasks > 0) {\r\n      tasksTimeout = setTimeout(() => {\r\n        document.querySelector('.tasksBadge span').style.display = 'none';\r\n        this.props.onReadTasks();\r\n      }, 2000)\r\n    }\r\n\r\n    fetch(`${API}/api/tasks/read.php`)\r\n      .then(response => response.json())\r\n      .then(tasks => {\r\n        this.props.getTasks(tasks.data)\r\n        this.setState({ initial: tasks.data || [] })\r\n      })\r\n      .then(() => this.forceUpdate())\r\n\r\n    fetch(`${API}/api/user/read.php`)\r\n      .then(response => response.json())\r\n      .then(users => this.setState({ users: users.data }))\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.clearTimeout(tasksTimeout);\r\n  }\r\n\r\n  handleChange = (event, value) => this.setState({ value });\r\n  handleOpen = (e) => this.setState({ open: true });\r\n  handleClose = () => this.setState({ open: false, confirm: false, preparedToDelete: null });\r\n  handleConfirm = (e,id) => {\r\n    e.stopPropagation();\r\n    this.setState({ confirm: true, preparedToDelete: id });\r\n  }\r\n\r\n  handleCompleted = (id) => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    let date = new Date();\r\n    const done_date = date.toLocaleDateString();\r\n    const done_time = `${date.getHours() < 10 ? '0' + date.getHours() : date.getHours()}:${date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()}`;\r\n\r\n    formData.append('id', id);\r\n    formData.append('done_date', done_date);\r\n    formData.append('done_time', done_time);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/tasks/complete.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () => {\r\n        self.props.enqueueSnackbar('Задача отмечена как \"Выполненная\"', { variant: 'success' });\r\n        self.props.markAsCompleted(self.state.tasks);\r\n        self.forceUpdate();\r\n      },\r\n      error: () => self.props.enqueueSnackbar('Что-то пошло не так, попробуйте снова', { variant: 'error' })\r\n    });\r\n  }\r\n\r\n  handleFilter = (id, filter) => {\r\n    const { user } = this.props.store;\r\n    this.setState({ disabledButton: id });\r\n    let filtered = this.props.store.tasks;\r\n\r\n    if (filter === 'initial') this.props.onFilter(this.state.initial);\r\n    if (filter === 'transfered') {\r\n      filtered = filtered.filter(item => item.from === user.id);\r\n      this.props.onFilter(filtered);\r\n    }\r\n    if (filter === 'completed') {\r\n      filtered = filtered.filter(item => item.status === '1');\r\n      this.props.onFilter(filtered);\r\n    }\r\n  }\r\n\r\n  handleDelete = () => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    formData.append('id', this.state.preparedToDelete);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/tasks/delete.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () => {\r\n        self.props.enqueueSnackbar('Задача успешно была удалена', { variant: 'info' });\r\n        self.props.onDeleteTask(self.state.preparedToDelete);\r\n        self.handleClose();\r\n        self.forceUpdate();\r\n      },\r\n      error: () => self.props.enqueueSnackbar('Что-то пошло не так, попробуйте снова', { variant: 'error' })\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { open, users } = this.state;\r\n    const { user } = this.props.store;\r\n\r\n    return (\r\n      <Wrapper> \r\n        <Paper>\r\n          {window.innerWidth < 600 ? <ResponsiveHeader title='Задачи' /> : null}\r\n          {user.hasOwnProperty('name') ?\r\n            <Fragment>\r\n              <AppBar position=\"static\" color=\"default\">\r\n                <Tabs\r\n                  value={this.state.value}\r\n                  indicatorColor=\"primary\"\r\n                  textColor=\"primary\"\r\n                  onChange={this.handleChange}\r\n                  variant=\"fullWidth\"\r\n                  className='tasks-navigation'\r\n                >\r\n                  <Tab \r\n                    icon={<Menu />} \r\n                    label=\"Все задачи\"\r\n                    onClick={() => this.handleFilter(1, 'initial')} \r\n                  />\r\n                  <Tab \r\n                    icon={<ArrowForward />} \r\n                    label=\"Поставленные\"\r\n                    onClick={() => this.handleFilter(2, 'transfered')} \r\n                  />\r\n                  <Tab \r\n                    icon={<Check />} \r\n                    label= \"Выполненные\"\r\n                    onClick={() => this.handleFilter(3, 'completed')} \r\n                  />\r\n                </Tabs>\r\n              </AppBar>\r\n              {this.props.store.tasks.length > 0\r\n                ?\r\n                this.props.store.tasks.map(task =>\r\n                  <Task\r\n                    key={task.id}\r\n                    task={task}\r\n                    users={users}\r\n                    handleCompleted={this.handleCompleted}\r\n                    handleConfirm={this.handleConfirm.bind(this)}\r\n                  />)\r\n                :\r\n                <Typography className='no-tasks' variant='caption'>нет задач</Typography>}\r\n            </Fragment>\r\n            : <Loader minHeight={300} color='primary' />}\r\n        </Paper>\r\n\r\n\r\n        {/* Button to add task */}\r\n        {this.props.store.user.admin === '1' ?\r\n        <span onClick={this.handleOpen}><Fab title='Добавить задачу' /></span> : null}\r\n\r\n        {/* Add new task modal */}\r\n        <Modal\r\n          open={open}\r\n          handleClose={this.handleClose.bind(this)}\r\n          component={\r\n            <NewTask\r\n              handleClose={this.handleClose.bind(this)}\r\n              users={users}\r\n            />}\r\n        />\r\n\r\n        {/* Confirm delete modal */}\r\n        <Modal\r\n          open={this.state.confirm}\r\n          handleClose={this.handleClose.bind(this)}\r\n          component={<ConfirmDelete\r\n            handleDelete={this.handleDelete}\r\n            handleClose={this.handleClose.bind(this)}\r\n            name='задачу'\r\n          />}\r\n        />\r\n      </Wrapper>\r\n    )\r\n  }\r\n}\r\nconst Wrapper = styled.div`\r\n  .no-tasks {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    opacity: .37;\r\n    height: 300px;\r\n    font-size: 20px;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    .no-tasks {\r\n      height: calc(100vh - 190px);\r\n    }\r\n    .tasks-navigation {\r\n      & > button > span > span {\r\n        font-size: 10px;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\n\r\nexport default connect(\r\n  state => ({\r\n    store: state\r\n  }),\r\n  dispatch => ({\r\n    markAsCompleted: (tasks) => {\r\n      dispatch({ type: 'MARK_COMPLETED', payload: tasks })\r\n    },\r\n    onDeleteTask: (task) => {\r\n      dispatch({ type: 'DELETE_TASK', payload: task })\r\n    },\r\n    onFilter: (tasks) => {\r\n      dispatch({ type: 'FILTER_TASKS', payload: tasks })\r\n    },\r\n    getTasks: (tasks) => {\r\n      dispatch({ type: 'FETCH_TASKS', payload: tasks })\r\n    },\r\n    onReadTasks: () => dispatch({ type: \"READ_TASKS\" }),  \r\n  })\r\n)(withSnackbar(Tasks));","import React, { Fragment } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Checkbox, Button, FormControlLabel, Typography, TextField, Tooltip } from '@material-ui/core';\r\nimport defaultAvatar from '../img/photos/images.png';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { connect } from 'react-redux';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport API from '../functions/API';\r\n\r\nfunction NewNews({hasNewsImage, uploadedNewsImage, newsFileSelect, submitNews, closeNews, newNewsTopic, handleChange, invalidTopic, invalidText, newNewsText, newNewsImportance, changeImportance, store: { user }}) {\r\n  let avatar = user.avatar;\r\n\r\n  const styles = {\r\n    upload: {\r\n      background: '#ef6c00',\r\n      color: 'white',\r\n      margin: '20px auto',\r\n      cursor: 'pointer',\r\n      position: 'relative',\r\n      float: 'right',\r\n      width: window.innerWidth < 600 ? '100%' : 'unset'\r\n    },\r\n    hiddenInput: {\r\n      opacity: 0,\r\n      position: 'absolute',\r\n      cursor: 'pointer',\r\n      left: 0, right: 0, bottom: 0, top: 0\r\n    },\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <Container>\r\n        <Header>\r\n          <Typography variant='button'>Новая новость</Typography> \r\n\r\n          <Tooltip placement='left' title='Закрыть'>\r\n            <IconClose><CloseIcon onClick={closeNews} /></IconClose>\r\n          </Tooltip>\r\n\r\n        </Header>\r\n        <Body>\r\n          <form action=\"\" method=\"POST\" onSubmit={submitNews}>\r\n            <Topic>\r\n              {user.avatar === ''\r\n                ? <div className='image' alt={`${user.name} ${user.surname}`} style={{ background: `url(${defaultAvatar}) no-repeat center/cover` }} />\r\n                : <div className='image' alt={`${user.name} ${user.surname}`} style={{ background: `url(${avatar}) no-repeat center/cover` }} />\r\n              }\r\n              <TextField\r\n                label=\"Заголовок\"\r\n                value={newNewsTopic}\r\n                onChange={handleChange}\r\n                error={invalidTopic}\r\n                variant=\"outlined\"\r\n                name='newNewsTopic'\r\n                type='text'\r\n                required\r\n              />\r\n            </Topic>\r\n            <TextArea>\r\n              <TextField\r\n                label=\"Текст новости\"\r\n                multiline\r\n                variant=\"outlined\"\r\n                name='newNewsText'\r\n                error={invalidText}\r\n                onChange={handleChange}\r\n                value={newNewsText}\r\n                required\r\n              />\r\n            </TextArea>\r\n            {hasNewsImage ? \r\n              <div style={{textAlign: 'center', paddingTop: 20}}><img style={{maxWidth: '70%'}} src={`${API}/${uploadedNewsImage}`}/></div> :\r\n            null}\r\n            <Button variant=\"contained\" style={{ ...styles.upload }}>\r\n              Загрузить изображение\r\n            <Icon style={{ marginLeft: 10 }}>cloud_upload</Icon>\r\n              <input\r\n                id='newsImage'\r\n                accept=\"image/*\"\r\n                style={{ ...styles.hiddenInput }}\r\n                type=\"file\"\r\n                name='newsImage'\r\n                onChange={newsFileSelect}\r\n              />\r\n            </Button>\r\n            <Footer>\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    checked={newNewsImportance}\r\n                    onChange={changeImportance}\r\n                    color=\"primary\"\r\n                  />\r\n                }\r\n                label=\"Отметить как важное\"\r\n              />\r\n              <Button onClick={submitNews} variant='contained' color='primary'>{window.innerWidth > 600 ? 'Добавить новость' : <AddIcon />}</Button>\r\n            </Footer>\r\n          </form>\r\n        </Body>\r\n      </Container>\r\n      <Wrapper onClick={closeNews}></Wrapper>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  background: rgba(0,0,0, .5);\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  top: 0;\r\n  z-index: 30;\r\n`;\r\nconst Container = styled.div`\r\n  background: #ffffff;\r\n  width: 600px;\r\n  position: fixed;\r\n  top: 150px;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  border-radius: 10px;\r\n  z-index: 37;\r\n  box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\r\n\r\n  .close {\r\n    top: -5px;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: 100%;\r\n    top: 0;\r\n    bottom: 0;\r\n    box-shadow: unset;\r\n    border-radius: 0;\r\n    padding-top: 10px;\r\n    height: fit-content;\r\n    max-height: 80vh;\r\n    overflow: auto;\r\n  }\r\n`;\r\nconst Header = styled.div`\r\n  display: flex;\r\n  height: 50px;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\nconst Body = styled.div`\r\n  .image {\r\n    width: 56px;\r\n    height: 56px;\r\n    border-radius: 50%;\r\n    display: inline-block;\r\n  }\r\n  padding: 0 25px;\r\n  @media all and (max-width: 600px) {\r\n    .image {\r\n      display: none;\r\n    }\r\n    padding: 0 15px;\r\n  }\r\n`;\r\nconst Footer = styled.div`\r\n  display: flex;\r\n  height: 90px;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 85%;\r\n  margin-left: 15%;\r\n  @media all and (max-width: 600px) {\r\n    width: 100%;\r\n    margin-left: 0;\r\n  }\r\n`;\r\nconst Topic = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-top: 5px;\r\n\r\n  & > div {\r\n    width: 85%;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    & > div {\r\n      width: 100%;\r\n    }\r\n  }\r\n`;\r\nconst TextArea = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-top: 10px;\r\n  height: 150px;\r\n\r\n  textarea {\r\n    max-height: 130px;\r\n    &::-webkit-scrollbar {\r\n      width: 10px;\r\n    }\r\n   \r\n    &::-webkit-scrollbar-track {\r\n      background-color: #ebebeb;\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n    }\r\n  \r\n    &::-webkit-scrollbar-thumb {\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n      background: #1976d2; \r\n    }\r\n  }\r\n\r\n  & > div {\r\n    width: 85%;\r\n    & > div {\r\n      height: 100%;\r\n    }\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    & > div {\r\n      width: 100%;\r\n    }\r\n    height: 250px;\r\n    textarea {\r\n      max-height: 230px;\r\n    }\r\n  }\r\n`;\r\nconst IconClose = styled.div`\r\n  cursor: pointer;\r\n  position: absolute;\r\n  top: 15px;\r\n  right: 20px;\r\n  svg {\r\n    font-size: 32px;\r\n    color: #1976d2;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    right: 15px;\r\n    top: 20px;\r\n    svg {\r\n      font-size: 24px !important;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default connect(state => ({ store: state }))(NewNews);","import React from 'react';\r\nimport { Paper, Typography, Button } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\nimport styled from 'styled-components';\r\n\r\nexport default function ConfirmDelete(props) {\r\n  return (\r\n    <Wrapper>\r\n      <Paper>\r\n        <Icon onClick={props.closeNews}>\r\n          <CloseIcon />\r\n        </Icon>\r\n        <Typography variant='body1'>Вы уверены, что хотите удалить новость?</Typography>\r\n        <Typography variant='caption'>Вся информация по новости будет удалена безвозвратно.</Typography>\r\n        <ButtonContainer>\r\n          <Button variant='contained' color='secondary' onClick={props.removeNews}>Удалить</Button>\r\n          <Button variant='text' color='default' onClick={props.closeNews}>Отмена</Button>\r\n        </ButtonContainer>\r\n      </Paper>\r\n      <Dialogue />\r\n    </Wrapper>\r\n  )\r\n}\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  height: 200px;\r\n  width: 400px;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n  outline: none;\r\n  z-index: 1000;\r\n  & > div {\r\n    height: 100%;\r\n    position: relative;\r\n    display: flex;\r\n    padding: 30px;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    z-index: 10;\r\n    padding-bottom: 15px;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: 100%;\r\n  }\r\n`;\r\nconst Dialogue = styled.section`\r\n  position: fixed !important;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  background: rgba(0,0,0,0.54);\r\n  width: 100vw;\r\n  height: 100vh !important;\r\n  z-index: 5;\r\n`;\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  margin-top: 30px;\r\n  button {\r\n    margin-right: 25px;\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  svg {\r\n    cursor: pointer;\r\n    color: rgba(0,0,0,.54);\r\n    position: absolute;\r\n    right: 16px;\r\n    top: 16px;\r\n  }\r\n`","import React, { Component, Fragment } from 'react';\r\nimport styled from 'styled-components';\r\nimport $ from 'jquery';\r\nimport SingleNews from './SingleNews';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport Fab from './Fab/Fab';\r\nimport NewNews from './News/NewNews';\r\nimport API from './functions/API';\r\nimport { Paper, Button, Typography, TextField, Tooltip } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\nimport defaultAvatar from './img/photos/images.png';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport MaterialIcon from '@material-ui/core/Icon';\r\nimport Loader from './Loader/Loader';\r\nimport ConfirmDelete from './News/ConfirmDelete';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport { withSnackbar } from 'notistack';\r\nimport ResponsiveHeader from './ResponsiveHeader/ResponsiveHeader';\r\nimport moment from 'moment';\r\n\r\nimport Lightbox from 'lightbox-react';\r\nimport 'lightbox-react/style.css';\r\n\r\nvar newsTimeout = null;\r\n\r\nclass News extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      newNews: false,\r\n      newNewsTopic: '',\r\n      newNewsText: '',\r\n      newNewsImportance: false,\r\n      newNewsImage: '',\r\n      editing: '',\r\n      singleNews: false,\r\n      singleNewsData: [],\r\n      singleNewsId: '',\r\n      invalidText: false,\r\n      invalidTopic: false,\r\n      confirmDelete: false,\r\n      preparedNewsId: '',\r\n      hasNewsImage: false,\r\n      uploadedNewsImage: '',\r\n      newsComments: [],\r\n      loadedComments: false,\r\n      commentsobj: [],\r\n      lightboxPhotoIndex: 0,\r\n      lightboxIsOpen: false,\r\n      reloadNewsImage: false,\r\n      removeNewsImage: false\r\n    }\r\n    this.addLike = this.addLike.bind(this);\r\n    this.removeLike = this.removeLike.bind(this);\r\n    this.addNews = this.addNews.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.submitNews = this.submitNews.bind(this);\r\n    this.removeNews = this.removeNews.bind(this);\r\n    this.editNews = this.editNews.bind(this);\r\n    this.prepareNews = this.prepareNews.bind(this);\r\n    this.showNews = this.showNews.bind(this);\r\n    this.changeImportance = this.changeImportance.bind(this);\r\n    this.uploadNewsImage = this.uploadNewsImage.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.store.unreaded.news > 0) {\r\n      newsTimeout = setTimeout(() => {\r\n        document.querySelector('.newsBadge span').style.display = 'none';\r\n        this.props.onReadNews();\r\n      }, 2000)\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.clearTimeout(newsTimeout);\r\n  }\r\n\r\n\r\n  handleChange = e => this.setState({ [e.target.name]: e.target.value, invalidText: false, invalidTopic: false });\r\n\r\n  // добавляем лайк\r\n  addLike = (id, e) => {\r\n    const { user } = this.props.store;\r\n    var self = this;\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const formData = new FormData();\r\n    formData.append('id', id);\r\n    formData.append('liked_by', user.id);\r\n    formData.append('created_at', new Date().getTime());\r\n    const actions = document.getElementById('actions');\r\n    actions.style.pointerEvents = 'none';\r\n\r\n    $.ajax({\r\n      url: `${API}/api/news/addlike.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () => {\r\n        self.props.onAddLike(id, user.id);\r\n        self.forceUpdate();\r\n        setTimeout(() => actions.style.pointerEvents = 'all', 500)\r\n      }\r\n    });\r\n  }\r\n\r\n  // убираем лайк\r\n  removeLike = (id, e) => {\r\n    const { user } = this.props.store;\r\n    const self = this;\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const actions = document.getElementById('actions');\r\n    actions.style.pointerEvents = 'none';\r\n\r\n    const formData = new FormData();\r\n    formData.append('id', id);\r\n    formData.append('liked_by', user.id);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/news/removelike.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function () {\r\n        self.props.onRemoveLike(id, user.id)\r\n        self.setState({ newNews: false });\r\n        setTimeout(() => actions.style.pointerEvents = 'all', 500)\r\n      }\r\n    });\r\n  }\r\n\r\n  uploadNewsImage = (file) => {\r\n    let fd = new FormData();\r\n    let files = file;\r\n    let self = this;\r\n    fd.append('file', files);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/news/uploadImage.php`,\r\n      type: 'post',\r\n      data: fd,\r\n      contentType: false,\r\n      processData: false,\r\n      success: function (res) {\r\n        if (window.location.host.includes('localhost')) {\r\n          self.setState({ uploadedNewsImage: res.location.slice(15) })\r\n        } else {\r\n          self.setState({ uploadedNewsImage: res.location.slice(6) })\r\n        }\r\n        console.log(res);\r\n      },\r\n    });\r\n  }\r\n\r\n  reloadNewsImage = (file, oldFile) => {\r\n    let fd = new FormData();\r\n    let files = file;\r\n    let oldFiles = oldFile;\r\n    let self = this;\r\n    fd.append('file', files);\r\n    fd.append('oldFile', oldFiles);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/news/reloadImage.php`,\r\n      type: 'post',\r\n      data: fd,\r\n      contentType: false,\r\n      processData: false,\r\n      success: function (res) {\r\n        if (window.location.host.includes('localhost')) {\r\n          self.setState({newNewsImage: res.location.slice(15) })\r\n        } else {\r\n          self.setState({ newNewsImage: res.location.slice(6) })\r\n        }\r\n      },\r\n    });\r\n  }\r\n\r\n  newsFileSelect = event => {\r\n    if (event.target.files[0].size < 2 * 1024 * 1024) {\r\n      this.setState({ hasNewsImage: true })\r\n      if(this.state.reloadNewsImage){\r\n        let oldFile = event.target.getAttribute('data-oldfile');\r\n        this.reloadNewsImage(event.target.files[0], oldFile);\r\n      }\r\n      else {\r\n        this.uploadNewsImage(event.target.files[0]);\r\n      }\r\n      this.props.enqueueSnackbar('Фото добавлено', { variant: 'success' });\r\n    } else {\r\n      this.props.enqueueSnackbar('Файл слишком большой, размер должен не превышать 2МБ', { variant: 'warning' });\r\n    }\r\n  }\r\n\r\n  submitNews = (e) => {\r\n    const { user } = this.props.store;\r\n    var self = this;\r\n    e.preventDefault();\r\n    if (this.state.newNewsTopic !== '' && this.state.newNewsText !== '') {\r\n      const formData = new FormData();\r\n      let news = {\r\n        author: `${user.name} ${user.surname}`,\r\n        title: this.state.newNewsTopic,\r\n        text: this.state.newNewsText,\r\n        date: new Date().toJSON().slice(0, 10).replace(/-/g, '.'),\r\n        newsImage: this.state.hasNewsImage ? this.state.uploadedNewsImage : \"\",\r\n        created_at: new Date().getTime(),\r\n        importance: this.state.newNewsImportance ? 1 : 0,\r\n        author_id: user.id,\r\n        likes: 0,\r\n        liked_by: '',\r\n        comments: 0,\r\n        avatar: user.avatar,\r\n      }\r\n      \r\n      for (let key in news) {\r\n        formData.append(key, news[key]);    \r\n      }\r\n\r\n      $.ajax({\r\n        url: `${API}/api/news/submitnews.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: res => {\r\n          news.id = res[\"MAX(`id`)\"]\r\n          news.commentsobj = []\r\n          self.props.onAddNews(news);\r\n          self.setState({ \r\n            newNews: !self.state.newNews, \r\n            newNewsText: '', \r\n            newNewsTopic: '',\r\n            uploadedNewsImage: ''\r\n          });\r\n          self.props.enqueueSnackbar('Добавлена новая новость', { variant: 'success' })\r\n        },\r\n        error: () => self.props.enqueueSnackbar('Не удалось добавить новость', { variant: 'error' })\r\n      });\r\n\r\n    } else {\r\n      self.props.enqueueSnackbar('Необходимо заполнить все поля', { variant: 'warning' })\r\n      if (self.state.newNewsTopic === '') this.setState({ invalidTopic: true });\r\n      if (self.state.newNewsText === '') this.setState({ invalidText: true });\r\n    }\r\n  }\r\n\r\n  changeImportance = () => this.setState({ newNewsImportance: !this.state.newNewsImportance });\r\n\r\n  removeNews = () => {\r\n    this.setState({ editing: true });\r\n    var self = this;\r\n    const formData = new FormData();\r\n    formData.append('id', this.state.preparedNewsId);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/news/delete.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () => {\r\n        self.props.onDeleteNews(this.state.preparedNewsId);\r\n        self.setState({ editing: '', preparedNewsId: '', confirmDelete: false  });\r\n        self.props.enqueueSnackbar('Новость была удалена', { variant: 'info' });\r\n      },\r\n      error: () => self.props.enqueueSnackbar('Не удалось удалить новость', { variant: 'error' })\r\n    });\r\n  };\r\n\r\n  removeNewsImage = (id) => {\r\n    var self = this\r\n    const fd = new FormData\r\n    fd.append('id', id)\r\n\r\n    const news = {\r\n      id: id,\r\n      image: ''\r\n    }\r\n\r\n    $.ajax({\r\n      url: `${API}/api/news/removeimage.php`,\r\n      data: fd,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () => {\r\n        self.props.onUpdateNews(news);\r\n        self.props.enqueueSnackbar('Изображение удалено', { variant: 'info' });\r\n        self.setState({ removeNewsImage: true });\r\n      },\r\n      error: () => self.props.enqueueSnackbar('Ошибка', { variant: 'error' })\r\n    });\r\n  }\r\n\r\n  prepareNews = id => {\r\n    const { news } = this.props.store;\r\n    let title = news.find(news => news.id === id).title;\r\n    let text = news.find(news => news.id === id).text;\r\n    this.setState({ editing: id, newNewsTopic: title, newNewsText: text });\r\n  }\r\n\r\n  editNews = (e, id) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    var self = this;\r\n\r\n    if (this.state.newNewsTopic !== '' && this.state.newNewsText !== '') {\r\n      const formData = new FormData();\r\n\r\n      const { newNewsText, newNewsTopic, newNewsImage } = this.state;\r\n      const { news } = this.props.store;\r\n      let image = news.find(news => news.id === id).image;\r\n\r\n      const newsItem = {\r\n        id: id,\r\n        title: newNewsTopic,\r\n        text: newNewsText,\r\n        image: this.state.reloadNewsImage ? newNewsImage : image\r\n      }\r\n      console.log(newsItem);\r\n\r\n      for (const prop in newsItem) {\r\n        formData.append(prop, newsItem[prop]);\r\n      }\r\n\r\n      $.ajax({\r\n        url: `${API}/api/news/edit.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: () => {\r\n          self.props.onUpdateNews(newsItem);\r\n          setTimeout(() => self.setState({ editing: '' }), 200);\r\n          self.props.enqueueSnackbar('Новость была изменена', { variant: 'info' });\r\n        },\r\n        error: () =>  self.props.enqueueSnackbar('Не удалось изменить новость', { variant: 'error' })\r\n      });\r\n    } else {\r\n      self.props.enqueueSnackbar('Нужно заполнить всё поля', { variant: 'warning' });\r\n      if (self.state.newNewsTopic === '') this.setState({ invalidTopic: true });\r\n      if (self.state.newNewsText === '') this.setState({ invalidText: true });\r\n    }\r\n  }\r\n\r\n  addNews = () => this.setState({ editing: '', newNews: !this.state.newNews, newNewsText: '', newNewsTopic: '' });\r\n\r\n  showNews(id) {\r\n    setTimeout(() => {\r\n      if (this.state.editing === '') this.setState({ singleNews: true, singleNewsId: id });\r\n    }, 100)\r\n  }\r\n\r\n  // закрываем новость \r\n  closeNews = () => {\r\n    this.setState({ \r\n      singleNews: false, \r\n      singleNewsId: '', \r\n      newNews: false, \r\n      likedBy: [], \r\n      preparedNewsId: '',\r\n      confirmDelete: false\r\n    });\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | находим правильную форму склонения лайков \r\n  |--------------------------------------------------\r\n  */\r\n getNoun = number => {\r\n    number = Math.abs(number);\r\n    number %= 100;\r\n    if (number >= 5 && number <= 20) return 'отметок';\r\n    number %= 10;\r\n    if (number === 1) return 'отметка';\r\n    if (number >= 2 && number <= 4) return 'отметки';\r\n    return 'отметок';\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | Находим правильную форму склонения комментариев\r\n  |--------------------------------------------------\r\n  */\r\n  getCommentsNoun = number => {\r\n    number = Math.abs(number);\r\n    number %= 100;\r\n    if (number >= 5 && number <= 20) return 'комментариев';\r\n    number %= 10;\r\n    if (number === 1) return 'комментарий';\r\n    if (number >= 2 && number <= 4) return 'комментария';\r\n    return 'комментариев';\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | создаёт надпись \"Помечено как важное\"\r\n  |--------------------------------------------------\r\n  */\r\n  createImportantBar = (margin) => {\r\n    const Important = styled.div`\r\n      display: flex;\r\n      align-items: center;\r\n      margin-bottom: 0;\r\n      margin-top: ${margin}px;\r\n      svg {\r\n        color: rgba(0,0,0,.15);\r\n        margin-right: 8px;  \r\n      }\r\n    `;\r\n    return (\r\n      <Tooltip placement='top' title='Отмечено как важное'>\r\n        <Important>\r\n          <WarningIcon />\r\n        </Important>\r\n      </Tooltip>\r\n    )\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | Спрашиваем об удалении новости\r\n  |--------------------------------------------------\r\n  */\r\n  prepareDelete = (e, id) => {\r\n    this.setState({ confirmDelete: true, preparedNewsId: id });\r\n    e.stopPropagation();\r\n  }\r\n\r\n  render() {\r\n    const { invalidText, invalidTopic, newNews, newNewsText, newNewsTopic, editing, singleNews, singleNewsId, newNewsImportance, uploadedNewsImage, hasNewsImage, lightboxPhotoIndex, lightboxIsOpen } = this.state;\r\n    const { user, news } = this.props.store;\r\n\r\n    const styles = {\r\n      upload: {\r\n        background: '#ef6c00',\r\n        color: 'white',\r\n        margin: '20px auto',\r\n        cursor: 'pointer',\r\n        position: 'relative',\r\n        float: 'right',\r\n        width: window.innerWidth < 600 ? '100%' : 'unset'\r\n      },\r\n      hiddenInput: {\r\n        opacity: 0,\r\n        position: 'absolute',\r\n        cursor: 'pointer',\r\n        left: 0, right: 0, bottom: 0, top: 0\r\n      },\r\n    };\r\n    \r\n    return (\r\n      <Paper>\r\n        {window.innerWidth < 600 ? <ResponsiveHeader title='Новости' /> : null}\r\n        {news.length === 0 \r\n          ? <Loader minHeight={300} color='primary' /> \r\n          : news.map((item, i) => {\r\n            return (\r\n              <NewsContainer key={i}>\r\n                <UserAvatar style={{ background: `url(${item.avatar === '' ? defaultAvatar : item.avatar}) no-repeat center/cover` }} />\r\n                <div>\r\n                  <NewsInfo>\r\n                    {user.id === item.author_id\r\n                      ?\r\n                      <Fragment>\r\n                        <Typography variant='caption'>\r\n                          {this.createImportantBar(0)}\r\n                          <Typography variant='subtitle2'>Вы</Typography>\r\n                          {moment(Number(item.created_at)).fromNow()}\r\n                        </Typography>\r\n                        <Icon>\r\n                          <Tooltip placement='left' title=\"Удалить\">\r\n                            <DeleteIcon onClick={(e) => this.prepareDelete(e, item.id)} />\r\n                          </Tooltip>\r\n                        </Icon>\r\n                      </Fragment>\r\n                      :\r\n                      <Typography variant='caption'>\r\n                        {this.createImportantBar(0)}\r\n                        <Typography variant='subtitle2'>{item.author}</Typography>\r\n                        {moment(Number(item.created_at)).fromNow()}\r\n                      </Typography>}\r\n                  </NewsInfo>\r\n\r\n                  {editing !== item.id ?                    \r\n                    <Fragment>\r\n                      <Typography onClick={() => this.showNews(item.id)} variant='h6' style={{ fontSize: '1.1rem', fontWeight: 400 }}>{item.title.replace(/&quot;/g, `\"`)}</Typography>\r\n                      {item.image ? \r\n                      <div onClick = {() => this.setState({lightboxIsOpen: true, lightboxPhotoIndex: i})} style={{textAlign: 'center', marginTop: '15px', marginBottom: '15px'}}>\r\n                        <img style={{maxWidth: '100%'}} src={`${API}/${item.image}`} alt={item.title.replace(/&quot;/g, `\"`)}/>\r\n                      </div> : null}\r\n                      {lightboxIsOpen && (\r\n                          <Lightbox\r\n                              mainSrc={`${API}/${news[lightboxPhotoIndex].image}`}\r\n                              onCloseRequest={() => this.setState({ lightboxIsOpen: false })}\r\n                          />\r\n                      )}\r\n                      <Body onClick={() => this.showNews(item.id)}><Typography variant='body2'>{item.text.replace(/&quot;/g, `\"`)}</Typography></Body>\r\n                    </Fragment>\r\n                    :\r\n                    <form id='edit-news' action={`${API}/api/news/edit.php`} method=\"POST\" onSubmit={(e) => this.editNews(e, item.id)} >\r\n                      <TextField\r\n                        label=\"Заголовок\"\r\n                        value={newNewsTopic}\r\n                        onChange={this.handleChange}\r\n                        variant=\"outlined\"\r\n                        name='newNewsTopic'\r\n                        type='text'\r\n                        error={this.state.invalidTopic}\r\n                      />\r\n\r\n                      {item.image ?\r\n                        <EditingNewsImage>\r\n                          {this.state.reloadNewsImage ?\r\n                              <img style={{maxWidth: '100%'}} src={`${API}/${this.state.newNewsImage}`} /> :\r\n                              <img style={{maxWidth: '100%'}} src={`${API}/${item.image}`} />\r\n                          }\r\n\r\n                          <EditingNewsImageButtons>\r\n                            <Icon>\r\n                              <Tooltip placement='left' title=\"Удалить картинку\">\r\n                                <DeleteIcon onClick={() => this.removeNewsImage(item.id)}/>\r\n                              </Tooltip>\r\n                              <Button variant=\"contained\" style={{ ...styles.upload }}>\r\n                                Загрузить другое\r\n                                <MaterialIcon style={{ marginLeft: 10 }}>cloud_upload</MaterialIcon>\r\n                                <input\r\n                                    id='newsImage'\r\n                                    accept=\"image/*\"\r\n                                    style={{ ...styles.hiddenInput }}\r\n                                    type=\"file\"\r\n                                    name='newsImage'\r\n                                    onClick={() => this.setState({reloadNewsImage: true})}\r\n                                    onChange={this.newsFileSelect}\r\n                                    data-oldfile = {item.image}\r\n                                />\r\n                              </Button>\r\n                            </Icon>\r\n                          </EditingNewsImageButtons>\r\n                      </EditingNewsImage>: null }\r\n\r\n                      <TextArea>\r\n                        <TextField\r\n                          label=\"Текст новости\"\r\n                          multiline\r\n                          variant=\"outlined\"\r\n                          name='newNewsText'\r\n                          onChange={this.handleChange}\r\n                          value={newNewsText}\r\n                          error={this.state.invalidText}\r\n                        />\r\n                      </TextArea>\r\n                      <Button onClick={(e) => this.editNews(e, item.id)} variant='contained' color='primary'>Изменить</Button>\r\n                    </form>}\r\n                </div>\r\n\r\n                <Actions id='actions'>\r\n                  <p>{item.comments}</p>\r\n                  <Tooltip title={`${item.comments} ${this.getCommentsNoun(item.comments)}`} placement='top'>\r\n                    <FontAwesomeIcon onClick={editing === '' ? () => this.showNews(item.id) : null} icon=\"comments\" />\r\n                  </Tooltip>\r\n                  \r\n                    <p>{item.likes}</p>\r\n\r\n                  {!item.liked_by.includes(` ${user.id}`)\r\n                    ?\r\n                    <Tooltip title={`${item.likes} ${this.getNoun(item.likes)} \"Нравится\"`} placement='top'>\r\n                      <FontAwesomeIcon onClick={e => this.addLike(item.id, e)} icon=\"heart\" />\r\n                    </Tooltip>  \r\n                    :\r\n                    <Tooltip title={`${item.likes} ${this.getNoun(item.likes)} \"Нравится\"`} placement='top'>\r\n                      <FontAwesomeIcon onClick={e => this.removeLike(item.id, e)} icon=\"heart\" style={{ color: '#1976d2' }} />\r\n                    </Tooltip>  \r\n                  }\r\n                  {user.id === item.author_id\r\n                    ?\r\n                    <Tooltip title='Редактировать' placement='top'>\r\n                    <FontAwesomeIcon onClick={() => this.prepareNews(item.id)} icon=\"edit\" style={{ marginLeft: '25px' }} />\r\n                    </Tooltip>\r\n                    :\r\n                    null\r\n                  }\r\n                  {window.innerWidth >= 600 ? \r\n                    <Button onClick={() => this.showNews(item.id)} variant='contained' color='primary' style={{ position: 'absolute', right: window.innerWidth > 600 ? 40 : 20 }}>Читать</Button>\r\n                  : null }\r\n                </Actions>\r\n                {item.commentsobj.length === 0 ? null :\r\n                  <Typography variant='caption'>Комментарии (5 последних)</Typography>  }\r\n                    {item.commentsobj.map((comment, j) =>{\r\n                      return(\r\n                        <Comments key={j}>\r\n                          <div className='comment-header'>\r\n                            <Avatar style={{ background: `url(${comment.who.avatar ? comment.who.avatar : defaultAvatar}) no-repeat center/cover`, marginTop: 20 }}></Avatar>\r\n                            <Typography variant='subtitle2'>{comment.who.name} {comment.who.surname}</Typography>\r\n                            <Typography variant='caption' className='comment-date'>{comment.date}</Typography>\r\n                          </div>\r\n                          <div className='comment-text'>{comment.text}</div>\r\n                        </Comments>\r\n                      )\r\n                    })}\r\n              </NewsContainer>\r\n            )\r\n          })}\r\n\r\n        <div onClick={this.addNews}><Fab title='Добавить новость' /></div>\r\n\r\n        {newNews ?\r\n          <NewNews\r\n            newNewsTopic={newNewsTopic}\r\n            newNewsText={newNewsText}\r\n            invalidText={invalidText}\r\n            invalidTopic={invalidTopic}\r\n            submitNews={this.submitNews}\r\n            handleChange={this.handleChange}\r\n            changeImportance={this.changeImportance}\r\n            newNewsImportance={newNewsImportance}\r\n            closeNews={this.closeNews.bind(this)}\r\n            newsFileSelect={this.newsFileSelect}\r\n            uploadedNewsImage={uploadedNewsImage}\r\n            hasNewsImage={hasNewsImage}\r\n          /> : null}\r\n\r\n        {singleNews\r\n          ?\r\n          <SingleNews\r\n            showNews={this.showNews}\r\n            closeNews={this.closeNews.bind(this)}\r\n            singleNewsId={singleNewsId}\r\n            getNoun={this.getNoun}\r\n            getCommentsNoun={this.getCommentsNoun}\r\n            reloadComponent={this.reloadComponent}\r\n            createImportantBar={this.createImportantBar} />\r\n          :\r\n          null}\r\n\r\n        {/* Подтверить удаление новости */}\r\n        {this.state.confirmDelete ?\r\n        <ConfirmDelete\r\n          closeNews={this.closeNews.bind(this)}\r\n          removeNews={this.removeNews.bind(this)}\r\n        /> : null}\r\n\r\n      </Paper>\r\n    )\r\n  }\r\n}\r\n\r\nconst NewsContainer = styled.div`\r\n  position: relative;\r\n  padding: 20px 40px 20px 120px;\r\n  border-bottom: 1px solid #e6ecf0;\r\n  cursor: pointer;\r\n\r\n  input {\r\n    padding: 10px 15px;\r\n  }\r\n  :hover {\r\n    background: rgba(0,0,0,0.037);\r\n    transition: .37s ease;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    padding: 10px 10px 10px 70px;\r\n  }\r\n`;\r\nconst Comments = styled.div`\r\n  margin-left: -30px;\r\n  border-bottom: 1px solid #e6ecf0;\r\n  cursor: pointer;\r\n  padding: 0px 30px 15px 80px;\r\n  position: relative;\r\n  border-top: 1px solid #e6ecf0;\r\n  background: #e6ecf0;\r\n\r\n  :hover {\r\n    background: #f5f8fa;\r\n    transition: .37s ease;\r\n  }\r\n\r\n  .comment-header {\r\n    display: flex;\r\n    align-items: center;\r\n    \r\n    div {\r\n      border-radius: 50%;\r\n      width: 30px;\r\n      height: 30px;\r\n    }\r\n  }\r\n\r\n  .comment-text {\r\n    padding-left: 45px;\r\n    padding-bottom: 10px;\r\n  }\r\n\r\n  .comment-date {\r\n    margin-left: 7.5px;\r\n    color: #657786;\r\n    :before {\r\n      content: '⋆';\r\n      margin-right: 7.5px;\r\n      opacity: 0.37;\r\n    }\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: calc(100% + 30px) !important;\r\n    padding: 10px 0px !important;\r\n    margin-left: -15px !important;\r\n    \r\n    .comment-text {\r\n      padding-left: 50px;\r\n    }\r\n    :last-child {\r\n      border-bottom: 1px solid red;\r\n    }\r\n  }\r\n`;\r\nconst Avatar = styled.div`\r\n  min-width: 30px;\r\n  border-radius: 50%;\r\n  min-height: 30px;\r\n  margin-right: 15px;\r\n\r\n  @media all and (max-width: 600px) {\r\n    margin-right: 10px;\r\n    margin-left: 10px;\r\n  }\r\n`;\r\nconst Body = styled.div`\r\n  padding: 10px 15px;\r\n  margin-top: 10px;\r\n  background: #fafafa;\r\n  border-radius: 10px;\r\n`;\r\nconst NewsInfo = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: 5px;\r\n\r\n  span {\r\n    display: flex;\r\n    align-items: center;\r\n    h6 {\r\n      margin-right: 7.5px;\r\n      :after {\r\n        content: '⋆';\r\n        margin-left: 7.5px;\r\n        opacity: 0.37;\r\n      }\r\n    }\r\n  }\r\n`;\r\nconst UserAvatar = styled.div`\r\n  position: absolute;\r\n  left: 20px;\r\n  top: 30px;\r\n  border-radius: 50%;\r\n  width: 80px;\r\n  height: 80px;\r\n  @media all and (max-width: 600px) {\r\n    width: 50px;\r\n    height: 50px;\r\n    left: 10px;\r\n    top: 15px;\r\n  }\r\n`;\r\n\r\nconst Actions = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  p {\r\n    margin-right: 5px;\r\n    color: #657786;\r\n  }\r\n`;\r\n\r\nconst TextArea = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin: 15px 0 10px;\r\n  height: 120px;\r\n\r\n  textarea {\r\n    max-height: 100px;\r\n    &::-webkit-scrollbar {\r\n      width: 10px;\r\n    }\r\n   \r\n    &::-webkit-scrollbar-track {\r\n      background-color: #ebebeb;\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n    }\r\n  \r\n    &::-webkit-scrollbar-thumb {\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n      background: #1976d2; \r\n    }\r\n  }\r\n\r\n  & > div {\r\n    width: 100%;\r\n    & > div {\r\n      height: 100%;\r\n    }\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  cursor: pointer;\r\n  svg {\r\n    color: rgba(0,0,0,0.54);\r\n  }\r\n`;\r\n\r\nconst EditingNewsImageButtons = styled.div`\r\n  position: relative;\r\n  min-height: 65px;\r\n  svg {\r\n    margin-top: 20px;\r\n    margin-left: 30px;\r\n  }\r\n`;\r\n\r\nconst EditingNewsImage = styled.div`\r\n  margin-top: 10px;\r\n`;\r\n\r\nexport default connect(state => ({ store: state }),\r\n  dispatch => ({ \r\n    onAddNews: news => dispatch({ type: 'ADD_NEWS', payload: news }),\r\n    onDeleteNews: id => dispatch({ type: 'DELETE_NEWS', payload: id }),\r\n    onUpdateNews: news => dispatch({type: 'UPDATE_NEWS', payload: news}),\r\n    onAddLike: (id, user_id) => dispatch({ type: 'ADD_LIKE', payload: id, user_id }),\r\n    onRemoveLike: (id, user_id) => dispatch({ type: 'REMOVE_LIKE', payload: id, user_id }),\r\n    onReadNews: () => dispatch({ type: \"READ_NEWS\" }),  \r\n  }),\r\n)(withSnackbar(News));","import React from 'react';\r\nimport Calendar from '@material-ui/icons/CalendarToday';\r\nimport Message from '@material-ui/icons/Message';\r\nimport Task from '@material-ui/icons/ListAlt';\r\nimport News from '@material-ui/icons/NewReleases';\r\nimport People from '@material-ui/icons/People';\r\nimport Notifictaions from '@material-ui/icons/Notifications';\r\n\r\nconst sections = [\r\n  {\r\n    value: 0,\r\n    section: 'feed',\r\n    label: 'Уведомления',\r\n    img: <Notifictaions />\r\n  },\r\n  { \r\n    value: 1,\r\n    section: 'messages',\r\n    label: 'Сообщения',\r\n    img: <Message />,\r\n  },\r\n  {\r\n    value: 2,\r\n    section: 'news',\r\n    label: 'Новости',\r\n    img: <News />,\r\n  },\r\n  {\r\n    value: 3,\r\n    section: 'tasks',\r\n    label: 'Задачи',\r\n    img: <Task />,\r\n  },\r\n  {\r\n    value: 4,\r\n    section: 'colleagues',\r\n    label: 'Коллеги',\r\n    img: <People />,\r\n  }\r\n];\r\n\r\nif (window.innerWidth >= 600) {\r\n  sections.push({\r\n    value: 5,\r\n    section: 'calendar',\r\n    label: 'Календарь',\r\n    img: <Calendar />,\r\n  })\r\n}\r\n\r\nexport default sections;","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport sections from './sections';\r\nimport styled from 'styled-components';\r\nimport { connect } from 'react-redux';\r\n\r\nfunction Navigation({ store: { unreaded: { feed, news, events, tasks, messages }} }) {\r\n  // eslint-disable-next-line\r\n  const [_, setUpdate] = useState(0);\r\n  \r\n  function showBadge(section) {\r\n    switch (section.section) {\r\n      case 'feed':\r\n        if (feed) {\r\n          return (\r\n            <BadgeWrapper>\r\n              <Badge color=\"secondary\" className='feedBadge' badgeContent={feed}>\r\n                {section.label}\r\n              </Badge>\r\n            </BadgeWrapper>\r\n          )\r\n        } else { return section.label }\r\n      case 'news':\r\n        if (news) {\r\n          return (\r\n            <BadgeWrapper>\r\n              <Badge color=\"secondary\" className='newsBadge' badgeContent={news}>\r\n                {section.label}\r\n              </Badge>\r\n            </BadgeWrapper>\r\n          )\r\n        } else { return section.label }  \r\n      case 'calendar':\r\n        if (events) {\r\n          return (\r\n            <BadgeWrapper>\r\n              <Badge color=\"secondary\" className='eventsBadge' badgeContent={events}>\r\n                {section.label}\r\n              </Badge>\r\n            </BadgeWrapper>\r\n          )\r\n        } else { return section.label }  \r\n      case 'tasks':\r\n        if (tasks) {\r\n          return (\r\n            <BadgeWrapper>\r\n              <Badge color=\"secondary\" className='tasksBadge' badgeContent={tasks}>\r\n                {section.label}\r\n              </Badge>\r\n            </BadgeWrapper>\r\n          )\r\n        } else { return section.label } \r\n      case 'messages':\r\n        if (messages) {\r\n          return (\r\n            <BadgeWrapper>\r\n              <Badge color=\"secondary\" className='messagesBadge' badgeContent={messages}>\r\n                {section.label}\r\n              </Badge>\r\n            </BadgeWrapper>\r\n          )\r\n        } else { return section.label } \r\n\r\n      default: return section.label;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      <AppBar position=\"static\" color=\"default\">\r\n        <Tabs\r\n          value={sections.findIndex(section => window.location.pathname.slice(1) === section.section) !== -1 ? sections.findIndex(section => window.location.pathname.slice(1) === section.section) : 0}\r\n          indicatorColor=\"primary\"\r\n          centered\r\n        >\r\n          {sections.map((section, i) =>\r\n            <Tab\r\n              key={i}\r\n              label={showBadge(section)}\r\n              component={Link}\r\n              to={section.section}\r\n              icon={section.img}\r\n            />\r\n          )}\r\n        </Tabs>\r\n      </AppBar>\r\n      <span id=\"reloadNavigation\" onClick={() => setUpdate(Math.random())} style={{ display: 'none' }}></span>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  flex-grow: 1;\r\n  width: 100%;\r\n  background-color: #ffffff;\r\n  margin-bottom: 4px;\r\n\r\n  a {\r\n    width: ${100 / sections.length}%\r\n  }\r\n  svg {\r\n    color: #1976d2;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    position: fixed;\r\n    bottom: 0;\r\n    z-index: 1000;\r\n    opacity: 1;\r\n    margin-bottom: 0;\r\n    width: ${window.innerWidth}px;\r\n    a {\r\n      padding-top: 5px;\r\n      min-height: 50px;\r\n    }\r\n    a > span > span {\r\n      display: block;\r\n      font-size: 8px;\r\n    }\r\n  }\r\n`;\r\nconst BadgeWrapper = styled.div`\r\n  & > span > span {\r\n    top: -19px;\r\n    right: -5px;\r\n  }\r\n`;\r\nexport default connect(state => ({ store: state }),\r\n  dispatch => ({\r\n    getTasks: (tasks) => dispatch({ type: 'FETCH_TASKS', payload: tasks})\r\n  })\r\n)(Navigation);","import React from 'react';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport defaultAvatar from '../img/photos/images.png';\r\nimport styled from 'styled-components';\r\nimport moment from 'moment';\r\nimport { connect} from 'react-redux';\r\nimport Badge from '@material-ui/core/Badge';\r\n\r\nfunction Friend(props) {\r\n\r\n  const cropString = string => {\r\n    if (string.length < 137) return string;\r\n    return `${string.substring(0,137)}...`;\r\n  }\r\n\r\n  const getTime = (time, date) => {\r\n    const fromDayStart = moment().startOf('day').format();\r\n    const dateFromNow = moment(date, \"DD.MM.YYYY\").format();\r\n    \r\n    if (!moment(fromDayStart).isSame(dateFromNow, 'day')) {\r\n      return <Time><Typography variant=\"subtitle2\" color='primary'>{moment(date, \"DD.MM.YYYY\").calendar().slice(0,-4)} {time}</Typography></Time>\r\n    }\r\n\r\n    return (\r\n      <Time><Typography variant=\"subtitle2\" color='primary'>{props.friend.message.time}</Typography></Time>\r\n    )\r\n  }\r\n\r\n  function isHaveUnreaded(chat) {\r\n    const { store: { unreaded : { chats }}} = props;\r\n    const index = chats.findIndex(item => item.chat_id === chat);\r\n    \r\n    if (index >= 0) {\r\n      return chats[index].unreaded; \r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n \r\n  return (    \r\n    <ListItem \r\n      onClick={() => props.openRoom(props.friend.hasOwnProperty('message') && props.friend.message ? props.friend.message.chat : 0, props.friend)}\r\n      button \r\n      TouchRippleProps={{ classes: { child: 'touch-ripple' }}} \r\n    >\r\n      <ListItemAvatar>\r\n        <Avatar\r\n          style={{ height: 50, width: 50 }}\r\n          alt={`${props.friend.name} ${props.friend.surname}`}\r\n          src={props.friend.avatar !== '' ? props.friend.avatar : defaultAvatar}\r\n        />\r\n      </ListItemAvatar>\r\n      <ListItemText\r\n        inset\r\n        primary={<MessageHeader>\r\n          <Typography variant=\"subtitle1\">{`${props.friend.name} ${props.friend.surname}`}</Typography>\r\n          {props.friend.message ? \r\n            getTime(props.friend.message.time, props.friend.message.date, props.friend.message.readed)     \r\n          : null}\r\n        </MessageHeader>}\r\n        secondary={props.friend.message ?\r\n          <span style={{ paddingRight: 25 }}>\r\n            <Typography component=\"span\" style={{ display: 'inline' }} color=\"primary\">\r\n              {props.friend.id === props.friend.message.user ? `${props.friend.name} ${props.friend.surname}:` : 'Вы:'}\r\n            </Typography>\r\n            {` — ${cropString(props.friend.message.body)} `} \r\n            <Badge \r\n              color=\"secondary\" \r\n              badgeContent={isHaveUnreaded(props.friend.message.chat)}\r\n              style={{\r\n                position: 'absolute',\r\n                right: 0,\r\n                top: 0\r\n              }}  \r\n            >{null}</Badge>\r\n          </span>\r\n        : null}    \r\n      />\r\n    </ListItem>\r\n  );\r\n}\r\nconst Time = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  opacity: .87;\r\n  svg {\r\n    margin-right: 6px;\r\n    font-size: 17px;\r\n    color: #1976d2;\r\n  }\r\n`;\r\nconst MessageHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\nexport default connect(state => ({ store: state }),\r\n  dispatch => ({\r\n    onFetchUser: user => dispatch({ type: 'FETCH_USER', payload: user }),\r\n}))(Friend);","import React from 'react';\r\nimport { Typography } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nexport default function NoMessages() {\r\n  return (\r\n    <Container>\r\n      <Typography variant='body1' style={{ marginBottom: 12 }}>\r\n        Будьте первым, кто отправит сообщение в этом диалоге.\r\n      </Typography>\r\n      <Typography variant='body2'>\r\n        Чтобы написать коллеге, просто введите текст сообщения в строке снизу и нажмите клавишу \"Enter\".\r\n      </Typography>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  padding: 30px 80px;\r\n  height: 250px;\r\n  display: flex;\r\n  opacity: .75;\r\n  text-align: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n\r\n  @media all and (max-width: 600px) {\r\n    padding: 30px 40px;\r\n    height: 160px;\r\n  }\r\n`;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport defaultAvatar from '../img/photos/images.png';\r\nimport { Typography, Tooltip } from '@material-ui/core';\r\nimport NotReaded from '@material-ui/icons/Done';\r\nimport Readed from '@material-ui/icons/DoneAll';\r\nimport moment from 'moment';\r\nimport Delete from '@material-ui/icons/Delete';\r\nimport Edit from '@material-ui/icons/Edit';\r\n\r\nfunction Message(props) { \r\n\r\n  function isToday(date) {\r\n    const fromDayStart = moment().startOf('day').format();\r\n    const dateFromNow = moment(date, \"DD.MM.YYYY\").format();\r\n\r\n    if (!moment(fromDayStart).isSame(dateFromNow, 'day')) {\r\n      return moment(date, \"DD.MM.YYYY\").calendar().slice(0,-4);\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  const { room, user } = props.store;\r\n\r\n  return (\r\n    <Container style={ room.user.id !== props.message.user ? { flexDirection: 'row-reverse'} : {}}>\r\n      <Avatar \r\n        style={ room.user.id !== props.message.user \r\n          ? { background: `url(${user.avatar ? user.avatar : defaultAvatar}) no-repeat center/cover` } \r\n          : { background: `url(${room.user.avatar? room.user.avatar : defaultAvatar}) no-repeat center/cover` } \r\n        }>\r\n      </Avatar>  \r\n      <Body>\r\n        <Typography className='message-name' variant='subtitle2' color='secondary'>      \r\n          {room.user.id !== props.message.user \r\n            ? `Вы` \r\n            : `${room.user.name} ${room.user.surname}` }\r\n          \r\n          {room.user.id !== props.message.user \r\n            ? <span>\r\n                <Tooltip title='редактировать' placement='top'><Edit onClick={() => props.editMessage(props.message.body, props.message.id)} /></Tooltip>\r\n                <Tooltip title='удалить' placement='top'><Delete onClick={props.handleDelete} /></Tooltip>\r\n              </span> \r\n            : null}\r\n        </Typography>\r\n        <Typography variant='body2'>{props.message.body}</Typography>\r\n        <Typography className='message-time' variant='subtitle2' color='primary'>    \r\n          {isToday(props.message.date)} {props.message.time}\r\n          {props.message.edited === '1' ? ' отредактировано' : null}\r\n          {room.user.id !== props.message.user ? props.message.readed === '1' ? <Readed /> : <NotReaded /> : null}\r\n        </Typography>\r\n      </Body>  \r\n    </Container>\r\n  )\r\n}\r\nconst Container = styled.div`\r\n  display: flex;\r\n  align-items: flex-end;\r\n`;\r\nconst Avatar = styled.div`\r\n  min-width: 35px;\r\n  min-height: 35px;\r\n  border-radius: 50%;\r\n  margin: 0 15px;\r\n`;\r\nconst Body = styled.div`\r\n  max-width: 70%;\r\n  background: #fafafa;\r\n  padding: 10px 15px;\r\n  border-radius: 7px;\r\n  margin: 15px 0 0;\r\n  .message-time {\r\n    font-size: .7rem;\r\n    display: flex;\r\n    align-items: center;\r\n    svg {\r\n      font-size: 18px;\r\n      margin-left: 5px; \r\n    }\r\n  }\r\n  .message-name {\r\n    display: flex;\r\n    align-items: center;\r\n    min-width: 100px;\r\n    justify-content: space-between;\r\n    svg {\r\n      font-size: 16px;\r\n      margin-left: 5px; \r\n      color: rgba(0,0,0,.34);\r\n      cursor: pointer;\r\n    }\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    width: 60%;\r\n  }\r\n`;\r\n\r\nexport default connect(state => ({ store: state }))(Message);","import React from 'react';\r\nimport NoMessages from './NoMessages';\r\nimport { connect } from 'react-redux';\r\nimport Message from './Message';\r\nimport styled from 'styled-components';\r\n\r\nfunction Messages(props) {\r\n  const { messages } = props.store;\r\n\r\n  return (\r\n    <Container id='messages'>\r\n      {messages.length !== 0 ? \r\n        messages.map(message => \r\n          <Message \r\n            key={message.id} \r\n            message={message} \r\n            editMessage={props.editMessage}\r\n            handleDelete={() => props.handleDelete(message.id)}\r\n          />\r\n        )\r\n      : <NoMessages />}\r\n    </Container>\r\n  )\r\n}\r\n\r\n\r\n\r\nconst Container = styled.div`\r\n  overflow: auto;\r\n  margin-top: 5px;\r\n  max-height: 310px;\r\n  &::-webkit-scrollbar {\r\n    width: 2px;\r\n  } \r\n  &::-webkit-scrollbar-track {\r\n    background-color: #fafafa;\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    background: #1976d2; \r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    max-height: calc(100vh - 100px);\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({\r\n    store: state\r\n  })\r\n)(Messages);","import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport styled from 'styled-components';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Send from '@material-ui/icons/Send';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nexport default function SendMessageInput(props) {\r\n  return (\r\n    <Container onSubmit={props.sendMessage}>\r\n      <TextField\r\n        placeholder=\"Напишите сообщение...\"\r\n        fullWidth\r\n        autoFocus\r\n        margin='dense'\r\n        variant=\"filled\"\r\n        onChange={props.handleNewMessage}\r\n        value={props.message}\r\n        InputProps={{\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <Tooltip title='Отправить сообщение' position='top'>\r\n                <IconButton\r\n                  aria-label=\"Отправить сообщение\"\r\n                  onClick={props.sendMessage}\r\n                >\r\n                  <Send />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </InputAdornment>            \r\n          )          \r\n        }}\r\n      />\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.form`\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  overflow: hidden;\r\n  background: #fafafa;\r\n  & > div {\r\n    margin: 0;\r\n  }\r\n  & > div > div {\r\n    background: #fafafa !important;\r\n    :hover {\r\n      background: #fafafa;\r\n    }\r\n  }\r\n  input {\r\n    background: #fafafa;\r\n    padding: 13px 25px;\r\n    font-size: 14px;\r\n  }\r\n`;","import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport styled from 'styled-components';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Edit from '@material-ui/icons/Edit';\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nexport default function EditMessageInput(props) {\r\n  return (\r\n    <Container onSubmit={props.submitEdit}>\r\n      <TextField\r\n        placeholder=\"Отредактируйте сообщение...\"\r\n        fullWidth\r\n        autoFocus\r\n        margin='dense'\r\n        variant=\"filled\"\r\n        onChange={props.handleEdit}\r\n        value={props.message}\r\n        InputProps={{\r\n          startAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <Tooltip title='Редактировать' position='top'>\r\n                <IconButton\r\n                  aria-label=\"Редактировать\"\r\n                  onClick={props.submitEdit}\r\n                >\r\n                  <Edit />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </InputAdornment>\r\n          ),\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <Tooltip title='Закрыть' position='top'>\r\n                <IconButton\r\n                  aria-label=\"Закрыть\"\r\n                  onClick={props.closeEditing}\r\n                >\r\n                  <Clear />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n      />\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.form`\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  overflow: hidden;\r\n  background: #fafafa;\r\n  z-index: 10;\r\n  & > div {\r\n    margin: 0;\r\n  }\r\n  & > div > div {\r\n    background: #fafafa !important;\r\n    :hover {\r\n      background: #fafafa;\r\n    }\r\n  }\r\n  input {\r\n    background: #fafafa;\r\n    padding: 13px 25px;\r\n    font-size: 14px;\r\n  }\r\n`;","import React, { Fragment } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Typography, Button } from '@material-ui/core';\r\n\r\nexport default function DeleteModal(props) {\r\n  return (\r\n    <Fragment>\r\n      <Container>\r\n        <Typography variant='body2'>Вы уверены, что хотите удалить сообщение?</Typography>\r\n        <Typography variant='body2'>Это действие удалит его для всех участников чата.</Typography>    \r\n        <div>\r\n          <Button variant='text' color='primary' onClick={props.closeDelete} >Отмена</Button>\r\n          <Button variant='text' color='primary' onClick={props.submitDelete}>Удалить</Button>\r\n        </div>       \r\n      </Container>\r\n      <Overlay onClick={props.closeDelete} />\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  padding: 30px 20px 10px;\r\n  width: 320px;\r\n  height: 200px;\r\n  margin: auto;\r\n  z-index: 10;\r\n  background: #fafafa;\r\n  box-shadow: rgba(0,0,0,0.2) 0px 1px 3px 0px, rgba(0,0,0,0.14) 0px 1px 1px 0px, rgba(0,0,0,0.12) 0px 2px 1px -1px;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n\r\n  & > div {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n  }\r\n`;\r\n\r\nconst Overlay = styled.div`\r\n  position: absolute;\r\n  top: 0; bottom: 0;\r\n  left: 0; right: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 5;\r\n  background: rgba(0,0,0,.17);\r\n`;","import React, { Component } from 'react';\r\nimport API from '../functions/API';\r\nimport $ from 'jquery';\r\nimport styled from 'styled-components';\r\nimport { connect } from 'react-redux';\r\nimport Back from '@material-ui/icons/ArrowBack';\r\nimport { Typography } from '@material-ui/core';\r\nimport defaultAvatar from '../img/photos/images.png';\r\nimport Messages from './Messages';\r\nimport Loader from '../Loader/Loader';\r\nimport SendMessageInput from './SendMessageInput';\r\nimport EditMessageInput from './EditMessageInput';\r\nimport DeleteModal from './DeleteModal';\r\nimport moment from 'moment';\r\nimport { Link } from 'react-router-dom';\r\nimport { withSnackbar } from 'notistack';\r\n\r\nclass ChatRoom extends Component {\r\n  state = {\r\n    loading: true,\r\n    editing: false,\r\n    editText: '',\r\n    deleting: false,\r\n    newMessage: '',\r\n    deleteID: null,\r\n    editID: null\r\n  }\r\n\r\n  //this.emojiClick = this.emojiClick.bind(this);\r\n\r\n  interval = null;\r\n  chatInteral = null;\r\n\r\n  componentDidMount = () => {\r\n    this.getMessages();\r\n    this.interval = setInterval(() => this.getMessages(), 5000);\r\n\r\n    this.chatInteral = setInterval(() => this.readMessages(), 2000);\r\n  }\r\n\r\n  componentWillUnmount = () => {\r\n    clearInterval(this.interval);\r\n    clearInterval(this.chatInteral);\r\n  }\r\n  \r\n  readMessages = () => {\r\n    const self = this;\r\n    const formData = new FormData();\r\n    formData.append('chat_id', this.props.store.room.chat_id); \r\n\r\n    $.ajax({\r\n      url: `${API}/api/message/set_readed.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () => {\r\n        if (self.props.store.unreaded.chats.find(chat => chat.chat_id === self.props.store.room.chat_id)) {\r\n          self.props.readChat(self.props.store.room.chat_id);\r\n          document.getElementById('reloadNavigation').click();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  getMessages = () => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    formData.append('chat', this.props.store.room.chat_id); \r\n\r\n    $.ajax({\r\n      url: `${API}/api/message/read.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: res => {\r\n        self.setState({ loading: false });\r\n        if (res.messages) self.props.getMessages(res.messages);      \r\n      }\r\n    });\r\n  }\r\n\r\n  handleEdit = (e) => this.setState({ editText: e.target.value });\r\n  editMessage = (message, id) => { if(!this.state.editing) this.setState({ editing: !this.state.editing, editText: message, editID: id })};\r\n  closeEditing = () =>  this.setState({ editing: false, editText: '', editID: null });\r\n\r\n  handleDelete = id => this.setState({ deleting: true, deleteID: id });\r\n  closeDelete = () =>  this.setState({ deleting: false, deleteID: null });\r\n\r\n  handleNewMessage = (e) => this.setState({ newMessage: e.target.value });\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | Отправляет сообщение\r\n  |--------------------------------------------------\r\n  */\r\n  sendMessage = (e) => {\r\n    if (e) e.preventDefault();\r\n\r\n    const { room, user } = this.props.store;  \r\n\r\n    // если в комнате нет чат-id то создадим чат\r\n    if (!room.hasOwnProperty('chat_id')) {\r\n      this.getMessageId(user.id, room.user.id);\r\n      return;\r\n    } else {\r\n      fetch(`${API}/api/message/get_id.php`)\r\n        .then(response => response.json())\r\n        .then(message => localStorage.setItem('message_id', message.message_id))\r\n    }\r\n    const self = this;\r\n    if(self.state.newMessage != ''){\r\n      const formData = new FormData();      \r\n      const message = {\r\n        user: user.id,\r\n        chat: room.hasOwnProperty('chat_id') ? room.chat_id : localStorage.getItem('chat_id'),\r\n        body: this.state.newMessage,\r\n        date: moment().format('L'),\r\n        time: moment().format('LT'),\r\n        created_at: new Date().getTime()\r\n      };\r\n\r\n      formData.append('chat', message.chat); \r\n      formData.append('user', message.user);\r\n      formData.append('body', message.body); \r\n      formData.append('date', message.date); \r\n      formData.append('time', message.time); \r\n      formData.append('created_at', message.created_at); \r\n\r\n      $.ajax({\r\n        url: `${API}/api/message/send.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: () => {\r\n          if (!self.props.store.chats.find(chat => chat.id === message.chat)) {\r\n            self.props.createChat(localStorage.getItem('users'), message.chat, message); \r\n          }  \r\n          self.props.addMessage(message);\r\n          self.setState({ newMessage: '' })\r\n          self.getMessages();\r\n          clearInterval(self.chatInteral);\r\n          const messageContainer = document.getElementById(\"messages\");\r\n          messageContainer.scrollTop = messageContainer.scrollHeight\r\n          /* setTimeout(() => {\r\n            const messageContainer = document.getElementById(\"messages\")\r\n            if (messages.length !== 0 && messageContainer) messageContainer.scrollTop = messageContainer.scrollHeight - scTop; \r\n          }, 0); */\r\n          self.chatInteral = setInterval(() => self.readMessages(), 2000);\r\n        }\r\n      });\r\n    }\r\n    else {\r\n      self.props.enqueueSnackbar('Сообщение не может быть пустым', { variant: 'error' });\r\n    }\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | получаем @ID последнего сообщение в базе\r\n  |--------------------------------------------------\r\n  */\r\n  getMessageId = (user1, user2) => {\r\n    fetch(`${API}/api/message/get_id.php`)\r\n      .then(response => response.json())\r\n      .then(message => this.createChat(user1, user2, message.message_id))\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | Создаем чат\r\n  |--------------------------------------------------\r\n  */\r\n  createChat = (user1, user2, message_id) => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    const users = `id${user1}, id${user2}`;\r\n    const messageId = (Number(message_id) + 1).toString();\r\n    formData.append('users', users); \r\n    formData.append('last_msg', messageId); \r\n\r\n    $.ajax({\r\n      url: `${API}/api/chat/create.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function (res) {\r\n        self.props.assignChat(res.chat_id);\r\n        localStorage.setItem('message_id', messageId);\r\n        localStorage.setItem('chat_id', res.chat_id);\r\n        localStorage.setItem('users', `id${user1}, id${user2}`);\r\n        self.sendMessage(false);    \r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | удаляем сообщение\r\n  |--------------------------------------------------\r\n  */\r\n  submitDelete = () => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    formData.append('id', this.state.deleteID); \r\n\r\n    $.ajax({\r\n      url: `${API}/api/message/delete.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function(res) {\r\n        self.props.deleteMessage(self.state.deleteID);\r\n        if (self.props.store.messages.length === 0) self.props.deleteChat(self.props.store.room.chat_id);\r\n        self.closeDelete();\r\n        self.getMessages();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | редактируем сообщение\r\n  |--------------------------------------------------\r\n  */\r\n  submitEdit = (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    const self = this;\r\n    formData.append('id', this.state.editID); \r\n    formData.append('body', this.state.editText); \r\n\r\n    $.ajax({\r\n      url: `${API}/api/message/edit.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: async () => {  \r\n        await self.props.editMessage(self.state.editID, self.state.editText); \r\n        await self.closeEditing();  \r\n        await self.getMessages();   \r\n      }\r\n    });\r\n  }\r\n\r\n  /* emojiClick = (emoji) => {\r\n    console.log(emoji); \r\n    this.setState({newMessage: this.newMessage ? this.newMessage + ' ' + emoji.native + ' ' : emoji.native});   \r\n  } */\r\n\r\n  render() {\r\n    const { loading, editing, deleting } = this.state;\r\n    const { room } = this.props.store;\r\n    \r\n    return (\r\n      <Room>\r\n        <RoomHeader>\r\n          <Icon onClick={() => this.props.openRoom(0, room.user)}>\r\n            <Back />\r\n          </Icon>\r\n          {room.hasOwnProperty('user') ?\r\n          <Link to={`/id${room.user.id}`}>\r\n            <div className='room-header__user'>\r\n              <div className='room-header__avatar' style={{ background: `url(${room.user.avatar !== '' ? room.user.avatar : defaultAvatar}) no-repeat center/cover`}}></div>\r\n                <div className='room-header__info'>\r\n                  <Typography variant='subtitle2'>{room.user.name} {room.user.surname}</Typography>\r\n                  <Typography variant='caption'>{room.user.position}</Typography>\r\n                </div> \r\n            </div>\r\n          </Link> : null}\r\n        </RoomHeader>\r\n\r\n        {loading \r\n          ? <Loader minHeight={250} color='primary' /> \r\n          : <Messages \r\n              editMessage={this.editMessage.bind(this)} \r\n              handleDelete={this.handleDelete.bind(this)}\r\n            />\r\n        }\r\n\r\n        {editing ? <EditMessageInput \r\n          closeEditing={this.closeEditing.bind(this)} \r\n          message={this.state.editText} \r\n          handleEdit={this.handleEdit.bind(this)}\r\n          submitEdit={this.submitEdit.bind(this)}\r\n        /> : null}        \r\n\r\n        <SendMessageInput \r\n          message={this.state.newMessage}\r\n          sendMessage={this.sendMessage} \r\n          handleNewMessage={this.handleNewMessage}\r\n        />\r\n\r\n        {deleting ? <DeleteModal \r\n          closeDelete={this.closeDelete.bind(this)}\r\n          submitDelete={this.submitDelete.bind(this)}\r\n        /> : null}\r\n      </Room>\r\n    )\r\n  }\r\n}\r\nconst Room = styled.div`\r\n  overflow: hidden;\r\n  height: 432px;\r\n\r\n  @media all and (max-width: 600px) {\r\n    height: calc(100vh - 115px);\r\n  }\r\n`;\r\nconst RoomHeader = styled.div`\r\n  background: #1976d2;\r\n  height: 60px;\r\n  color: rgba(255,255,255,.5);\r\n  display: flex;\r\n  align-items: center;\r\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 1px 3px 0px, rgba(0, 0, 0, 0.14) 0px 1px 1px 0px, rgba(0, 0, 0, 0.12) 0px 2px 1px -1px;\r\n\r\n  .room-header__user {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 100%;\r\n  }\r\n  .room-header__avatar {\r\n    height: 45px;\r\n    width: 45px;\r\n    border-radius: 50%;\r\n    margin-right: 15px;\r\n  }\r\n  h6 {\r\n    color: #fff;\r\n    opacity: .85;\r\n  }\r\n  span {\r\n    color: rgba(255,255,255,.5);\r\n  }\r\n  :hover {\r\n    color: #fff;\r\n    transition: .37s ease;\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  width: 60px;\r\n  height: 60px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n`;\r\nexport default connect(\r\n  state => ({\r\n    store: state\r\n  }),\r\n  dispatch => ({\r\n    getMessages: (messages) => {\r\n      dispatch({ type: 'FETCH_MESSAGES', payload: messages })\r\n    },\r\n    createChat: (users, chat_id, message) => {\r\n      dispatch({ type: 'CREATE_CHAT', payload: { users: users, id: chat_id, message: message }})\r\n    },\r\n    assignChat: (chat_id) => {\r\n      dispatch({ type: 'ASSIGN_CHAT', payload: chat_id })\r\n    },\r\n    addMessage: (message) => {\r\n      dispatch({ type: 'ADD_MESSAGE', payload: message })\r\n    },\r\n    deleteMessage: (messageID) => {\r\n      dispatch({ type: 'DELETE_MESSAGE', payload: messageID })\r\n    },\r\n    editMessage: (messageID, messageBody) => {\r\n      dispatch({ type: 'EDIT_MESSAGE', payload: [messageID, messageBody] })\r\n    },\r\n    deleteChat: (chat_id) => {\r\n      dispatch({ type: 'DELETE_CHAT', payload: chat_id })\r\n    },\r\n    readChat: (chat_id) => {\r\n      dispatch({ type: 'READ_CHAT', payload: chat_id })\r\n    },\r\n  })\r\n)(withSnackbar(ChatRoom));","import React, { Component } from 'react';\r\nimport List from '@material-ui/core/List';\r\nimport ChatItem from './ChatItem';\r\nimport API from '../functions/API';\r\nimport styled from 'styled-components';\r\nimport Search from '../FriendsList/Search';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Loader from '../Loader/Loader';\r\nimport { connect } from 'react-redux';\r\nimport { Transition, animated } from 'react-spring/renderprops';\r\nimport ChatRoom from './ChatRoom';\r\n\r\nclass FriendList extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      friends: [],\r\n      initial: [],\r\n      searchValue: '',\r\n      loading: true,\r\n      documentTitle: document.title,\r\n      completed: false,\r\n      openRoom: false,\r\n      index: 1,\r\n      initialAnimation: false,\r\n      direction: true\r\n    }\r\n\r\n    this.rebuildList = this.rebuildList.bind(this);\r\n  }\r\n    \r\n  componentDidMount() {\r\n    fetch(`${API}/api/user/read.php`)\r\n      .then(response => response.json())\r\n      .then(friends => {\r\n        const data = friends.data;\r\n        this.setState({ friends: data, initial: data, loading: false })\r\n      })\r\n  }\r\n\r\n  handleSearch = (e) => {\r\n    this.setState({ searchValue: e.target.value });\r\n    const searchValue = e.target.value.toLowerCase();\r\n\r\n    document.title = e.target.value || this.state.documentTitle;\r\n\r\n    let friends = this.state.initial;\r\n    friends = friends.filter(friend =>\r\n      friend.name.toLowerCase().includes(searchValue) ||\r\n      friend.surname.toLowerCase().includes(searchValue) ||\r\n      friend.position.toLowerCase().includes(searchValue)\r\n    );\r\n    this.setState({ friends });\r\n  }\r\n\r\n  componentWillUnmount = () => {\r\n    document.title = this.state.documentTitle;\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | переделываем массив списка друзей исходя из полученных сообщений\r\n  |--------------------------------------------------\r\n  */\r\n  rebuildList = (chats) => {\r\n    let friends = this.state.friends;\r\n    chats.forEach(chat => {\r\n      friends.find(friend => {\r\n        const hasChat = chat.users.includes(`id${friend.id}`);\r\n        if (hasChat && chat.hasOwnProperty('message')) {\r\n          friend.message = chat.message;\r\n        }\r\n      })\r\n    });\r\n    let withMessages = friends.filter(friend => friend.hasOwnProperty('message'));\r\n    let withoutMessages = friends.filter(friend => !friend.hasOwnProperty('message'));\r\n    let sorted = withMessages.concat(withoutMessages);\r\n    this.setState({ completed: true, friends: sorted });\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | переключаем и анимируем комнату чата и список\r\n  |--------------------------------------------------\r\n  */\r\n  openRoom = (chat, friend) => {\r\n    if (!this.state.initialAnimation) this.setState({ initialAnimation: true });\r\n    //console.log(friend)\r\n    if (chat) {\r\n      this.props.openChat(chat, friend);\r\n    } else {\r\n      this.rebuildList(this.props.store.chats);\r\n      setTimeout(() => this.props.closeChat(friend), 570);\r\n    }\r\n\r\n    this.setState({ direction: !this.state.direction });\r\n\r\n    setTimeout(() => this.setState(state => ({\r\n      index: state.index === 1 ? 0 : 1,\r\n    })), 300)\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | массив того, что анимируем\r\n  |--------------------------------------------------\r\n  */\r\n  pages = [\r\n    style => (\r\n      <animated.div style={{ ...style, position: 'absolute', width: '100%' }}>\r\n        <ChatRoom\r\n          openRoom={this.openRoom.bind(this)}\r\n        />\r\n      </animated.div>\r\n    ),\r\n    style => (\r\n      <animated.div style={{ ...style, position: 'absolute', width: '100%' }}>\r\n        <Search\r\n          handleSearch={this.handleSearch}\r\n          searchValue={this.searchValue}\r\n        />\r\n        <List style={{ marginTop: 15 }}>\r\n          {this.state.friends.map(friend =>          \r\n            <ChatItem\r\n              openRoom={this.openRoom.bind(this)}\r\n              key={friend.id}\r\n              friend={friend}\r\n            />\r\n          )}\r\n        </List>\r\n      </animated.div>\r\n    )\r\n  ]\r\n\r\n  getDirection = direction => {\r\n    if (direction) {\r\n      return 'translateX(100%)';\r\n    } else {\r\n      return 'translateX(-100%)';\r\n    }\r\n  }\r\n  \r\n  render() {    \r\n    const { index, direction, completed, friends } = this.state;\r\n    const { chats } = this.props.store;\r\n    if (chats.length > 0 && friends.length > 0 && !completed) {\r\n      this.rebuildList(chats);\r\n    }\r\n    \r\n    return (\r\n      <Paper style={{ boxShadow: 'none' }}>\r\n        {this.state.loading ?\r\n          <Loader minHeight={370} color='primary' />\r\n          :\r\n          <FriendWrapper>\r\n            <Transition\r\n              reset\r\n              unique\r\n              native\r\n              items={index}\r\n              from={this.state.initialAnimation ? { transform: this.getDirection(direction) } : { zIndex: 1 }}\r\n              enter={{ transform: 'translateX(0%)' }}\r\n              leave={{ transform: this.getDirection(!direction) }}\r\n            >\r\n              {index => this.pages[index]}\r\n            </Transition>\r\n          </FriendWrapper>\r\n        }\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nconst FriendWrapper = styled.div`\r\n  height: 432px;\r\n  overflow: auto;\r\n  overflow-x: hidden;\r\n  position: relative;\r\n\r\n  &::-webkit-scrollbar {\r\n    width: 5px;\r\n  } \r\n  &::-webkit-scrollbar-track {\r\n    background-color: #fafafa;\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    background: #1976d2; \r\n  }\r\n  a {\r\n    text-decoration: none;\r\n  }\r\n  ul {\r\n    padding: 0;\r\n    padding-bottom: 50px;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    height: calc(100vh - 115px);\r\n    ul {\r\n      padding: unset;\r\n      padding-top: 10px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    openChat: (chat, friend) => {\r\n      dispatch({ type: 'OPEN_CHAT', payload: [chat, friend] })\r\n    },\r\n    closeChat: (friend) => {\r\n      dispatch({ type: 'CLOSE_CHAT', payload: [null, friend] })\r\n    },\r\n  })\r\n)(FriendList);","import React from 'react';\r\nimport { Typography } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nexport default function NoChats() {\r\n  return (\r\n    <Container>\r\n      <Typography variant='body1'>\r\n        Пока у вас нет ни одного диалога.\r\n      </Typography>\r\n      <Typography variant='body2'>\r\n        Выберите коллегу из списка ниже или введите в строке поиска имя, фамилию или занимающую должность коллеги, которому хотите отправить сообщение.\r\n      </Typography>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  padding: 30px 40px;\r\n  height: 150px;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  flex-direction: column;\r\n`;","import React, { Component } from 'react';\r\nimport Dialogues from './Dialogues';\r\nimport API from '../functions/API';\r\nimport $ from 'jquery';\r\nimport Loader from '../Loader/Loader';\r\nimport { connect } from 'react-redux';\r\nimport { Paper } from '@material-ui/core';\r\nimport NoChats from './NoChats';\r\nimport ResponsiveHeader from '../ResponsiveHeader/ResponsiveHeader';\r\n\r\nclass Chat extends Component {\r\n  state = { loading: true }\r\n\r\n  componentDidMount() {\r\n    this.fetchChats();\r\n  }\r\n\r\n  fetchChats() {\r\n    const self = this;\r\n\r\n    $.ajax({\r\n      url: `${API}/api/chat/read.php`,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function (res) {\r\n        console.log(res)\r\n        self.setState({ loading: false });\r\n        if (res[0].chats) self.props.getChats(res[0].chats);\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { loading } = this.state;\r\n    const { chats } = this.props.store;\r\n    \r\n    return (\r\n      <Paper>\r\n        {window.innerWidth < 600 ? <ResponsiveHeader title='Сообщения' margin={2} /> : null}\r\n        {chats.length === 0 ? <NoChats /> : null}\r\n        {!loading \r\n          ? <Dialogues />\r\n          : <Loader minHeight={300} color='primary' />}\r\n      </Paper>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => ({\r\n    store: state\r\n  }),\r\n  dispatch => ({\r\n    getChats: (chats) => {\r\n      dispatch({ type: 'FETCH_CHATS', payload: chats })\r\n    }\r\n  })\r\n)(Chat);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport defaultAvatar from '../img/photos/images.png';\r\nimport Heart from '@material-ui/icons/Favorite';\r\nimport Calendar from '@material-ui/icons/InsertChart';\r\nimport News from '@material-ui/icons/NewReleases';\r\nimport Task from '@material-ui/icons/ListAlt';\r\nimport Comment from '@material-ui/icons/Comment';\r\nimport VerifiedUser from '@material-ui/icons/VerifiedUser';\r\n\r\nexport default function UserAvatar({ avatar, type }) {\r\n  \r\n  function drawBadge() {\r\n    switch (type) {\r\n      case 'likes':\r\n        return <Heart style={{ color: '#ff4800', top: '2px' }} />\r\n      case 'tasks':\r\n        return <Task style={{ color: '#6a1b9a' }} />\r\n      case 'results':\r\n        return <VerifiedUser style={{ color: '#2e7d32' }} />\r\n      case 'events':\r\n        return <Calendar style={{ color: '#1976d2' }} />\r\n      case 'comments':\r\n        return <Comment style={{ color: '#1976d2' }} />\r\n      case 'news':\r\n        return <News style={{ color: '#1976d2' }} />\r\n      default:\r\n        return <Heart style={{ color: '#ff4800', top: '2px' }} />  \r\n    }\r\n  }\r\n\r\n  return (\r\n    <Wrapper\r\n      style={{ background: `url(\"${avatar ? avatar : defaultAvatar}\") center center / cover no-repeat` }}\r\n    >\r\n      <Badge>{drawBadge()}</Badge>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  border-radius: 50%;\r\n  min-width: 80px;\r\n  margin: 15px 25px;\r\n  min-height: 80px;\r\n  position: relative;\r\n\r\n  @media all and (max-width: 600px) {\r\n    margin: 0 15px;\r\n    min-width: 50px;\r\n    min-height: 50px;\r\n  }\r\n`;\r\n\r\nconst Badge = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: white;\r\n  border-radius: 50%;\r\n  width: 30px;\r\n  height: 30px;\r\n  box-shadow: 2px 2px 3px 0px #2323;\r\n  svg {\r\n    position: absolute;\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    top: 0;\r\n    margin: auto;\r\n    font-size: 18px;\r\n  }\r\n`;","import React from 'react';\r\nimport moment from 'moment';\r\nimport UserAvatar from './UserAvatar';\r\nimport styled from 'styled-components';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nexport default function Comment({ item }) {\r\n  return (\r\n    <CommentWrapper>\r\n      <UserAvatar avatar={item.avatar} type={item.type} />\r\n      <CommentContent>\r\n        <Typography variant='subtitle2' color='primary'>{`${item.name} ${item.surname}`}</Typography>\r\n        <Typography variant='body1' style={{ padding: '10px 15px', background: '#fafafa', borderRadius: 10, margin: '5px 0' }}>{item.text}</Typography>\r\n        <Typography variant='caption'>\r\n          <b style={{ fontWeight: 500}}>{moment(Number(item.created_at)).calendar()}</b> — {item.sex === \"женский\" ? 'оставила ' : 'оставил '} комментарий к вашей новости&nbsp;\r\n          <b style={{ fontWeight: 500}}>{item.title}</b>\r\n        </Typography>\r\n      </CommentContent>\r\n    </CommentWrapper>\r\n  )\r\n}\r\n\r\nconst CommentWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px 0;\r\n  border-bottom: 1px solid #f5f5f5;\r\n  \r\n  @media all and (max-width: 600px) {\r\n    align-items: flex-start;\r\n  }\r\n`;\r\n\r\nconst CommentContent = styled.div`\r\n  width: 100%;\r\n  padding-right: 25px;\r\n`;\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport UserAvatar from './UserAvatar';\r\nimport styled from 'styled-components';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nexport default function Comment({ item }) {\r\n  return (\r\n    <LikeWrapper>\r\n      <UserAvatar avatar={item.avatar} type={item.type} />\r\n      <LikeContent>\r\n        <Typography variant='subtitle2' color='primary'>{`${item.name} ${item.surname}`}</Typography>\r\n        <Typography variant='caption'>\r\n          <b style={{ fontWeight: 500}}>{moment(Number(item.created_at)).calendar()}</b> — понравилась ваша запись&nbsp;\r\n          <b style={{ fontWeight: 500}}>{item.title}</b>\r\n        </Typography>\r\n      </LikeContent>\r\n    </LikeWrapper>\r\n  )\r\n}\r\n\r\nconst LikeWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px 0;\r\n  border-bottom: 1px solid #f5f5f5;\r\n  \r\n  @media all and (max-width: 600px) {\r\n    align-items: flex-start;\r\n  }\r\n`;\r\n\r\nconst LikeContent = styled.div`\r\n  width: 100%;\r\n  padding-right: 25px;\r\n`;","import React from 'react';\r\nimport moment from 'moment';\r\nimport UserAvatar from './UserAvatar';\r\nimport styled from 'styled-components';\r\nimport { Typography, Tooltip } from '@material-ui/core';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\n\r\nexport default function News({ item }) {\r\n  function createImportantBar() {\r\n    const Important = styled.div`\r\n      display: flex;\r\n      align-items: center;\r\n      margin: 0;\r\n      svg {\r\n        color: rgba(0,0,0,.15);\r\n        margin-right: 5px;  \r\n      }\r\n    `;\r\n    return (\r\n      <Tooltip title='Отмечено как важно' placement='top'>\r\n        <Important>\r\n          <WarningIcon />       \r\n        </Important>\r\n      </Tooltip>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <NewsWrapper>\r\n      <UserAvatar avatar={item.avatar} type={item.type} />\r\n      <NewsContent>\r\n        <Typography variant='subtitle2' color='primary' style={{ display: 'flex', alignItems: 'center' }}>\r\n          {item.importance === '1' ? createImportantBar() : null}\r\n          {`${item.name} ${item.surname} — ${item.title}`}\r\n        </Typography>\r\n        <Typography variant='body1' style={{ padding: '10px 15px', background: '#fafafa', borderRadius: 10, margin: '5px 0' }}>{item.text}</Typography>\r\n        <Typography variant='caption'>\r\n          <b style={{ fontWeight: 500}}>{moment(Number(item.created_at)).calendar()}</b>\r\n        </Typography>\r\n      </NewsContent>\r\n    </NewsWrapper>\r\n  )\r\n}\r\n\r\nconst NewsWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px 0;\r\n  border-bottom: 1px solid #f5f5f5;\r\n  \r\n  @media all and (max-width: 600px) {\r\n    align-items: flex-start;\r\n  }\r\n`;\r\n\r\nconst NewsContent = styled.div`\r\n  width: 100%;\r\n  padding-right: 25px;\r\n`;\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport UserAvatar from './UserAvatar';\r\nimport styled from 'styled-components';\r\nimport { Typography, Tooltip } from '@material-ui/core';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\n\r\nexport default function News({ item }) {\r\n  function createImportantBar() {\r\n    const Important = styled.div`\r\n      display: flex;\r\n      align-items: center;\r\n      margin: 0;\r\n      svg {\r\n        color: rgba(0,0,0,.15);\r\n        margin-right: 5px;  \r\n      }\r\n    `;\r\n    return (\r\n      <Tooltip title='Отмечено как важно' placement='top'>\r\n        <Important>\r\n          <WarningIcon />       \r\n        </Important>\r\n      </Tooltip>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <NewsWrapper>\r\n      {console.log(item)}\r\n      <UserAvatar avatar={item.avatar} type={item.type} />\r\n      <NewsContent>\r\n        <Typography variant='subtitle2' color='primary' style={{ display: 'flex', alignItems: 'center' }}>\r\n          {item.importance === '1' ? createImportantBar() : null}\r\n          {`${item.name} ${item.surname} — Поставил${item.sex === 'женский' ? 'a' : ''} вам задачу`}\r\n        </Typography>\r\n        <Typography \r\n          variant='body1' \r\n          style={{ padding: '10px 15px', background: '#fafafa', borderRadius: 10, margin: '5px 0' }}\r\n        >\r\n          {item.text}\r\n        </Typography>\r\n        <Typography variant='caption'>\r\n          <b style={{ fontWeight: 500}}>{moment(Number(item.created_at)).calendar()}</b> — выполнить до:&nbsp;\r\n          <b style={{ fontWeight: 500}}>{`${item.until_date} — ${item.until_time}`}</b>\r\n        </Typography>\r\n      </NewsContent>\r\n    </NewsWrapper>\r\n  )\r\n}\r\n\r\nconst NewsWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px 0;\r\n  border-bottom: 1px solid #f5f5f5;\r\n\r\n  @media all and (max-width: 600px) {\r\n    align-items: flex-start;\r\n  }\r\n`;\r\n\r\nconst NewsContent = styled.div`\r\n  width: 100%;\r\n  padding-right: 25px;\r\n`;\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport UserAvatar from './UserAvatar';\r\nimport styled from 'styled-components';\r\nimport { Typography } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Result({ item }) {\r\n  const result = `${parseFloat(item.result.replace(',','.')) / item.questions.split(',').length * 100}%`;\r\n\r\n  return (\r\n    <ResultWrapper>\r\n      <UserAvatar avatar={item.avatar} type={item.type} />\r\n      <ResultContent>\r\n        <Typography variant='subtitle2' color='primary'>Вы прошли тестирование</Typography>\r\n        <div style={{ padding: '10px 15px', background: '#fafafa', borderRadius: 10, margin: '5px 0' }}>\r\n          <Typography variant='h3' color='primary'>{result}</Typography>\r\n          <Typography variant='caption'>Оставшееся время: {item.estimated_time}</Typography>\r\n        </div>\r\n        <Typography variant='caption'>\r\n          <b style={{ fontWeight: 500}}>{moment(Number(item.created_at)).calendar()}</b>&nbsp;\r\n          — &nbsp;\r\n          <Link to={`/test/${item.id}`} style={{  \r\n            color: '#1976d2', \r\n            textDecoration: 'none'\r\n          }}\r\n          >посмотреть детальные результаты</Link>\r\n        </Typography>\r\n      </ResultContent>\r\n    </ResultWrapper>\r\n  )\r\n}\r\n\r\nconst ResultWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px 0;\r\n  border-bottom: 1px solid #f5f5f5;\r\n  \r\n  @media all and (max-width: 600px) {\r\n    align-items: flex-start;\r\n  }\r\n`;\r\n\r\nconst ResultContent = styled.div`\r\n  width: 100%;\r\n  padding-right: 25px;\r\n`;\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport UserAvatar from './UserAvatar';\r\nimport styled from 'styled-components';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nexport default function Result({ item }) {\r\n  function getRemainingPlaces(max, signed) {\r\n    let maxUsers = Number(max);\r\n    let signedUsers = signed.split(',').length;\r\n    if (signed === '') signedUsers = 0;\r\n    let remaining = maxUsers - signedUsers;\r\n\r\n    if (remaining === 0) {\r\n      return 'Свободных мест нет.'\r\n    } else if (remaining === 1) {\r\n      return 'Можно записаться, осталось одно место.'\r\n    } else if (remaining > 5) {\r\n      return `Можно записаться, осталось ${remaining} мест.`\r\n    } else if (remaining > 1) {\r\n      return `Можно записаться, осталось ${remaining} места.`\r\n    }\r\n  }\r\n\r\n  function isFuture() {\r\n    return moment(item.endDate).diff(moment(new Date()));\r\n  }\r\n\r\n  return (\r\n    <EventWrapper>\r\n      <UserAvatar avatar={item.avatar} type={item.type} />\r\n      <EventContent>\r\n        <Typography variant='subtitle2' color='primary'>{`Новое событие в календаре — ${item.title}`}</Typography>\r\n        <Typography variant='body1' style={{ padding: '10px 15px', background: '#fafafa', borderRadius: 10, margin: '5px 0' }}>{`${moment(item.startDate).calendar()} — ${item.endDate.slice(-5)}`}</Typography>\r\n\r\n        {item.max !== '0' && isFuture() > 0 ? <Typography variant='caption'>{getRemainingPlaces(item.max, item.signed)}</Typography> : null}\r\n        <Typography variant='caption' style={{ marginTop: 5 }}>\r\n          Событие добавлено в календарь — &nbsp;\r\n          <b style={{ fontWeight: 500}}>{moment(Number(item.created_at)).calendar()}</b>\r\n        </Typography>\r\n      </EventContent>\r\n    </EventWrapper>\r\n  )\r\n}\r\n\r\nconst EventWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px 0;\r\n  border-bottom: 1px solid #f5f5f5;\r\n  \r\n  @media all and (max-width: 600px) {\r\n    align-items: flex-start;\r\n  }\r\n`;\r\n\r\nconst EventContent = styled.div`\r\n  width: 100%;\r\n  padding-right: 25px;\r\n`;\r\n","import React from 'react';\r\nimport { Typography } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nexport default function ThastIt() {\r\n  return (\r\n    <Container>\r\n      <Typography variant='button' style={{ opacity: .5 }}>Показаны последние новости</Typography>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100px;\r\n  width: 100%;\r\n  \r\n  @media all and (max-width: 600px) {\r\n    span {\r\n      font-size: 12px;\r\n      text-transform: lowercase;\r\n    }\r\n  }\r\n`;","import React, { Fragment, useEffect } from 'react';\r\nimport { Paper, Typography } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\nimport Comment from './Comment';\r\nimport Like from './Like';\r\nimport News from './News';\r\nimport Task from './Task';\r\nimport Result from './Result';\r\nimport Event from './Event';\r\nimport ThatsIt from './ThatsIt';\r\nimport styled from 'styled-components';\r\nimport Circle from '@material-ui/icons/CheckCircle';\r\nimport ResponsiveHeader from '../ResponsiveHeader/ResponsiveHeader';\r\n\r\nfunction index({ onReadFeed, store: { feed, unreaded } }) { \r\n  useEffect(() => {\r\n    let timeout = null;\r\n    if (unreaded.feed > 0) {\r\n      timeout = setTimeout(() => {\r\n        document.querySelector('.feedBadge span').style.display = 'none';\r\n        onReadFeed();\r\n      }, 2000)\r\n    }\r\n    return () => window.clearTimeout(timeout)\r\n  });\r\n\r\n  function renderFeedItem(item) {\r\n    switch(item.type) {\r\n      case 'news':\r\n        return <News key={item.fake_id} item={item} />\r\n      case 'tasks':\r\n        return <Task key={item.fake_id} item={item} />\r\n      case 'results':\r\n        return <Result key={item.fake_id} item={item} />\r\n      case 'events':\r\n        return <Event key={item.fake_id} item={item} />\r\n      case 'likes':\r\n        return <Like key={item.fake_id} item={item} />\r\n      case 'comments':\r\n        return <Comment key={item.fake_id} item={item} />\r\n      default: return 'notfound'\r\n    }\r\n  }\r\n\r\n  function renderLastViewed(item) {\r\n    const elem = renderFeedItem(item);\r\n    return (\r\n      <Fragment key={item.fake_id}>\r\n        {elem}\r\n        <Caught>\r\n          <Circle />\r\n          <Typography variant='subtitle2' style={{ opacity: .5 }}>новые уведомления</Typography>\r\n        </Caught>\r\n      </Fragment>     \r\n    )\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <Paper>\r\n        {window.innerWidth < 600 ? <ResponsiveHeader title='Уведомления' /> : null}\r\n        {feed.length === 0 \r\n          ? <ThatsIt style={{ height: 400 }} /> \r\n          : feed.map((item, index) => \r\n            unreaded.feed > 0  && unreaded.feed === index + 1 ? renderLastViewed(item) : renderFeedItem(item))\r\n        }   \r\n      </Paper>\r\n      {feed.length !== 0 ? <ThatsIt /> : null}\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nconst Caught = styled.div`\r\n  display: flex;\r\n  height: 125px;\r\n  width: 100%;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n\r\n  svg {\r\n    opacity: 0.075;\r\n    font-size: 36px;\r\n    margin-bottom: 10px;\r\n  }\r\n`;\r\n\r\nexport default connect(state => ({ store: state }),\r\n  dispatch => ({ onReadFeed: () => dispatch({ type: 'READ_FEED' })    \r\n}))(index);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst styles = {\r\n  card: {\r\n    width: '100%',\r\n    maxWidth: 345,\r\n  },\r\n  media: {\r\n    height: 170,\r\n  },\r\n  text: {\r\n    height: 140,\r\n  }\r\n};\r\n\r\nfunction MediaCard(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <Card className={classes.card} style={ props.section === 'materials' ? { pointerEvents: 'none', filter: 'grayscale(100%)' } : {}}>\r\n      <CardActionArea onClick={() => props.changeSection(props.section)}>\r\n        <CardMedia\r\n          className={classes.media}\r\n          image={props.image}\r\n          title={props.title}\r\n        />\r\n        <CardContent\r\n          className={classes.text}\r\n        >\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {props.title}\r\n          </Typography>\r\n          <Typography component=\"p\">\r\n            {props.description}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions>\r\n        <Button size=\"small\" color=\"primary\" onClick={() => props.changeSection(props.section)}>\r\n          {props.button || \"Перейти\"}\r\n        </Button>\r\n\r\n{/*     <Button size=\"small\" color=\"primary\">\r\n          Learn More\r\n        </Button> */}\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n}\r\n\r\nMediaCard.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(MediaCard);","const cards = [\r\n  {\r\n    id: 0,\r\n    image: 'https://coda.newjobs.com/api/imagesproxy/ms/niche/images/can/ml.jpg',\r\n    title: 'Тесты',\r\n    description: \"Здесь вы можете пройти тесты. По прохождению - вы сможете узнать результаты.\",\r\n    section: 'tests'\r\n  },\r\n  { \r\n    id: 1,\r\n    image: 'https://wpdocs.co/wp-content/uploads/2016/04/documentation.png',\r\n    title: 'Материалы',\r\n    description: \"Здесь вы можете посмотреть и изучить учебные материалы, которые помогу вам при прохождении тестов.\",\r\n    section: 'materials',\r\n    button: 'в разработке...'\r\n  },\r\n];\r\n\r\nexport default cards;","import React from 'react';\r\nimport { Paper } from '@material-ui/core';\r\nimport Card from '../Media/Media';\r\nimport cards from './cards';\r\n\r\nexport default function Container(props) {\r\n  return (\r\n    <Paper className={props.class}>\r\n      {cards.map(card => \r\n        <Card \r\n          key={card.id} \r\n          title={card.title} \r\n          image={card.image} \r\n          description={card.description} \r\n          section={card.section}\r\n          changeSection={props.changeSection}\r\n          button={card.button}\r\n        />\r\n      )}\r\n    </Paper>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nexport default function Materials(props) {\r\n  return (\r\n    <div>\r\n      materials\r\n\r\n      <Button variant='contained' onClick={props.closeSection}>Назад</Button>\r\n    </div>\r\n  )\r\n}\r\n","import API from '../functions/API';\r\n\r\nexport async function fetchMistakes() {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/mistake/read.php`)\r\n    .then(response => response.json())\r\n    .then(mistakes => result = mistakes.data)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchTests() {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/test/read.php`)\r\n    .then(response => response.json())\r\n    .then(res => result = res.data)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchTestsById() {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/test/read.php?byid=true`)\r\n    .then(response => response.json())\r\n    .then(res => result = res.data)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchQuestions() {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/question/read.php`)\r\n    .then(response => response.json())\r\n    .then(res => result = res.data)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchCategories() {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/getCategories.php`)\r\n    .then(response => response.json())\r\n    .then(res => result = res)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchTestLastId() {\r\n  let result = '';\r\n\r\n  await fetch(`${API}/api/test/getLastId.php`)\r\n    .then(response => response.json())\r\n    .then(res => result = res)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchSingleTest(id) {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/test/getSingleTest.php?id=${id}`)\r\n    .then(response => response.json())\r\n    .then(res => result = res.data)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchSingleQuestion(id) {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/question/getSingleQuestion.php?id=${id}`)\r\n    .then(response => response.json())\r\n    .then(res => result = res.data)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchTestStatus(id) {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/test/getStatus.php?id=${id}`)\r\n    .then(response => response.json())\r\n    .then(res => result = res.data)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport default [];","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport styled from 'styled-components';\r\n\r\nexport default function NotFound() {\r\n  return (\r\n    <Wrapper>\r\n      <Typography variant='h6'>ничего не найдено</Typography>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  min-height: 220px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  opacity: .35;\r\n`;","import React, { Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Delete from '@material-ui/icons/Delete';\r\nimport styled from 'styled-components';\r\nimport NotFound from './NotFound';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n    backgroundColor: theme.palette.background.paper,\r\n    paddingBottom: 40\r\n  },\r\n  inline: {\r\n    display: 'inline',\r\n  },\r\n});\r\n\r\nfunction ListItemLink(props) {\r\n  return <ListItem button component=\"a\" {...props} />;\r\n}\r\n\r\nfunction TestList(props) {\r\n  const { classes } = props;\r\n  let items = props.items;\r\n\r\n  if (props.completed) {\r\n    items = items.filter(item => {\r\n      return props.completed ? item.completed : !item.completed;\r\n    })\r\n  }\r\n\r\n  function getCorrectTime(time) {\r\n    return time === 'false' || !time  ? 'не ограничено' : `${time} минут`;\r\n  }\r\n\r\n  function getPercent(value) {\r\n    return parseFloat(value.replace(',','.')).toFixed(2) * 100 + '%';\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <List component=\"nav\">\r\n        {items && items.length > 0 ? items.map((item) => \r\n          <Fragment key={item.id}>\r\n            <ListItemLink href={`test/${item.id}`}>\r\n              <ListItemText \r\n                primary={`${item.user_name}, ${item.position} ${item.completed === '1' ? '(завершён)' : item.completed === '0.5' ? '(начат)' : '(ожидает прохождения)'}`} \r\n                secondary={\r\n                  <React.Fragment>\r\n                    <Typography component=\"span\" className={classes.inline} color=\"textPrimary\">\r\n                      {item.date}\r\n                    </Typography>\r\n                    {item.completed === '1' ? ` — Результат: ${getPercent(item.result)}.` : ` — Вопросов в тестировании: ${item.questions.length}, время на прохождение: ${getCorrectTime(item.time)}` }\r\n                  </React.Fragment>\r\n                }\r\n              />\r\n              {!props.completed ?     \r\n                <DeleteIcon onClick={e => props.handleConfirm(e, item.id)}>\r\n                  <Tooltip title=\"Удалить тестирование\" placement=\"top\">\r\n                    <Delete />\r\n                  </Tooltip>\r\n                </DeleteIcon>\r\n              : null }\r\n            </ListItemLink>\r\n            <Divider />\r\n          </Fragment>\r\n        ) : <NotFound /> }\r\n      </List>\r\n    </div>\r\n  );\r\n}\r\n\r\nTestList.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nconst DeleteIcon = styled.span`\r\n  svg {\r\n    font-size: 32px;\r\n    color: rgba(0,0,0,0.54);\r\n    right: 25px;\r\n    padding: 5px;\r\n    top: 0;\r\n    bottom: 0;\r\n    margin: auto;\r\n    position: absolute;\r\n  }\r\n`;\r\n\r\nexport default withStyles(styles)(TestList);","import React from 'react';\r\nimport { Typography } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nexport default function NoTests() {\r\n  return (\r\n    <Container>\r\n      <Typography variant='body1'>\r\n        Пока вы ещё не проходили ниодного тестирования.\r\n      </Typography>\r\n      <Typography variant='body2' style={{ marginTop: 20 }}>\r\n        Как только у вас будет пройдено тестирование - здесь вы сможете просмотреть результаты его выполения.\r\n      </Typography>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  padding: 30px 40px;\r\n  height: 350px;\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n`;","import React from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport SearchIcon from '../img/icons/baseline-search-24px.svg';\r\nimport styled from 'styled-components';\r\n\r\nfunction Search(props) {\r\n  return (\r\n    <SearchWrapper>\r\n      <TextField\r\n        id=\"outlined-adornment-password\"\r\n        variant=\"outlined\"\r\n        type='text'\r\n        label={window.innerWidth >= 600 ? \"Начните вводить имя, фамилию или должность...\" : 'Имя, фамилия, должность'}\r\n        margin='dense'\r\n        value={props.searchValue}\r\n        onChange={props.handleSearch}\r\n        InputProps={{\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <IconButton\r\n                aria-label=\"Начните вводить имя, фамилию или должность...\"\r\n              >\r\n                <img alt='Поиск' src={SearchIcon} style={{ opacity: '.37' }} />\r\n              </IconButton>\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n      />\r\n    </SearchWrapper>\r\n  )\r\n}\r\n\r\nconst SearchWrapper = styled.div`\r\n  padding: 20px;\r\n  & > div {\r\n    width: 100%;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    box-shadow: 0 -1px 3px rgba(0,0,0,0.12) inset, 0 -1px 2px rgba(0,0,0,0.24) inset;\r\n    padding: 10px 20px 12px;\r\n    margin: 1.5px 0;\r\n    height: 80px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: flex-end;\r\n    background: #fafafa;\r\n    & > div {\r\n      background: #fff;\r\n      margin: auto;\r\n    }\r\n    label {\r\n      line-height: .5;\r\n    }\r\n    input {\r\n      padding: 9px 18.5px;\r\n    }\r\n    input::placeholder {\r\n      color: red;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default Search;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport Select from 'react-select';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Typography, NoSsr, TextField, Paper, Chip, MenuItem } from '@material-ui/core';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport { emphasize } from '@material-ui/core/styles/colorManipulator';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    height: 120,\r\n    marginTop: 20,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between',\r\n    zIndex: 1000,\r\n  },\r\n  input: {\r\n    display: 'flex',\r\n    padding: 0,\r\n  },\r\n  valueContainer: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    zIndex: 1000,\r\n  },\r\n  chip: {\r\n    margin: `${theme.spacing.unit / 2}px ${theme.spacing.unit / 4}px`,\r\n  },\r\n  chipFocused: {\r\n    backgroundColor: emphasize(\r\n      theme.palette.type === 'light' ? theme.palette.grey[300] : theme.palette.grey[700],\r\n      0.08,\r\n    ),\r\n  },\r\n  noOptionsMessage: {\r\n    padding: `${theme.spacing.unit}px ${theme.spacing.unit * 2}px`,\r\n  },\r\n  singleValue: {\r\n    fontSize: 16,\r\n  },\r\n  placeholder: {\r\n    position: 'absolute',\r\n    left: 2,\r\n    fontSize: 16,\r\n  },\r\n  paper: {\r\n    position: 'absolute',\r\n    zIndex: 1000,\r\n    marginTop: theme.spacing.unit,\r\n    left: 0,\r\n    right: 0,\r\n  }\r\n});\r\n\r\nfunction NoOptionsMessage(props) {\r\n  return (\r\n    <Typography\r\n      color=\"textSecondary\"\r\n      className={props.selectProps.classes.noOptionsMessage}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction inputComponent({ inputRef, ...props }) {\r\n  return <div ref={inputRef} {...props} />;\r\n}\r\n\r\nfunction Control(props) {\r\n  return (\r\n    <TextField\r\n      fullWidth\r\n      InputProps={{\r\n        inputComponent,\r\n        inputProps: {\r\n          className: props.selectProps.classes.input,\r\n          inputRef: props.innerRef,\r\n          children: props.children,\r\n          ...props.innerProps,\r\n        },\r\n      }}\r\n      {...props.selectProps.textFieldProps}\r\n    />\r\n  );\r\n}\r\n\r\nfunction Option(props) {\r\n  return (\r\n    <MenuItem\r\n      buttonRef={props.innerRef}\r\n      selected={props.isFocused}\r\n      component=\"div\"\r\n      style={{\r\n        fontWeight: props.isSelected ? 500 : 400,\r\n      }}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </MenuItem>\r\n  );\r\n}\r\n\r\nfunction Placeholder(props) {\r\n  return (\r\n    <Typography\r\n      color=\"textSecondary\"\r\n      className={props.selectProps.classes.placeholder}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction SingleValue(props) {\r\n  return (\r\n    <Typography className={props.selectProps.classes.singleValue} {...props.innerProps}>\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction ValueContainer(props) {\r\n  return <div className={props.selectProps.classes.valueContainer}>{props.children}</div>;\r\n}\r\n\r\nfunction MultiValue(props) {\r\n  return (\r\n    <Chip\r\n      tabIndex={-1}\r\n      label={props.children}\r\n      className={classNames(props.selectProps.classes.chip, {\r\n        [props.selectProps.classes.chipFocused]: props.isFocused,\r\n      })}\r\n      onDelete={props.removeProps.onClick}\r\n      deleteIcon={<CancelIcon {...props.removeProps} />}\r\n    />\r\n  );\r\n}\r\n\r\nfunction Menu(props) {\r\n  return (\r\n    <Paper square className={props.selectProps.classes.paper} {...props.innerProps}>\r\n      {props.children}\r\n    </Paper>\r\n  );\r\n}\r\n\r\nconst components = {\r\n  Control,\r\n  Menu,\r\n  MultiValue,\r\n  NoOptionsMessage,\r\n  Option,\r\n  Placeholder,\r\n  SingleValue,\r\n  ValueContainer,\r\n};\r\n\r\nclass IntegrationReactSelect extends React.Component {\r\n\r\n  render() {\r\n    const { classes, theme } = this.props;\r\n    \r\n    const users = this.props.users.map(user => ({\r\n      value: user.id,\r\n      label: `${user.name} ${user.surname}`,\r\n      position: user.position\r\n    }));\r\n\r\n    const selectStyles = {\r\n      input: base => ({\r\n        ...base,\r\n        color: theme.palette.text.primary,\r\n        '& input': {\r\n          font: 'inherit',\r\n        },\r\n      }),\r\n    };\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <NoSsr>\r\n          <Select\r\n            classes={classes}\r\n            styles={selectStyles}\r\n            textFieldProps={{\r\n              label: 'Сотрудник',\r\n              InputLabelProps: {\r\n                shrink: true,\r\n              },\r\n            }}\r\n            options={users}\r\n            components={components}\r\n            value={this.props.selectedUser}\r\n            onChange={this.props.handleChange('selectedUser')}\r\n            placeholder=\"Выберите тестируемого сотрудника\"\r\n            isMulti={false}\r\n          />\r\n        </NoSsr>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nIntegrationReactSelect.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  theme: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(IntegrationReactSelect);","import React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nlet times = [\r\n  {\r\n    value: false,\r\n    label: 'без времени'\r\n  }\r\n];\r\n\r\nfor (let i = 10; i <= 120; i += 10) {\r\n  let item = {};\r\n  item.value = i;\r\n  item.label = `${i} минут`;\r\n  times.push(item);\r\n}\r\n\r\nconst styles = theme => ({\r\n  textField: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    width: '100%',\r\n  },\r\n  menu: {\r\n    width: 200,\r\n  },\r\n});\r\n\r\nclass TimePicker extends React.Component {\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <Grid container justify=\"space-around\" style={{ paddingBottom: 30 }}>\r\n        <TextField\r\n          select\r\n          label=\"Минуты\"\r\n          className={classes.textField}\r\n          value={this.props.selectedTime}\r\n          onChange={this.props.handleTimeChange}\r\n          SelectProps={{\r\n            MenuProps: {\r\n              className: classes.menu,\r\n            },\r\n          }}\r\n          helperText=\"Пожалуйста, назначьте время прохождения теста\"\r\n          margin=\"dense\"\r\n        >\r\n          {times.map(option => (\r\n            <MenuItem key={option.value} value={option.value}>\r\n              {option.label}\r\n            </MenuItem>\r\n          ))}\r\n        </TextField>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(TimePicker);","import React from 'react';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\n\r\nclass QuestionItem extends React.Component {\r\n\r\n  mark(category, id) {\r\n    this.props.setHeadSubCategory(category);\r\n    this.props.handleMarkQuestion(id, '')\r\n  }\r\n\r\n  render() {\r\n    const { question } = this.props;\r\n    return (\r\n      <ListItem dense button onClick={() => this.mark(this.props.category, question.id)}>\r\n        <Checkbox\r\n          checked={question.checked}\r\n          tabIndex={-1}\r\n          disableRipple\r\n          color='primary'\r\n        />\r\n        <ListItemText primary={question.question} />\r\n      </ListItem>\r\n    );\r\n  }\r\n}\r\n\r\nexport default QuestionItem;","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport QuestionItem from './QuestionItem';\r\nimport List from '@material-ui/core/List';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport { connect } from 'react-redux';\r\n\r\nconst styles = theme => ({\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightRegular,\r\n  },\r\n});\r\n\r\nfunction CategoryItem(props) {\r\n  const [checked, setChecked] = useState(false);\r\n  const [categoryFiltered, setCategoryFiltered] = useState([]);\r\n  const { classes } = props;\r\n  const [checkedSubs, setCheckedSubs] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const categoryFiltered = props.questions.filter(q => q.category === props.value);\r\n    setCategoryFiltered(categoryFiltered);\r\n    findUniqSubcategories(categoryFiltered);\r\n  }, []);\r\n\r\n  function markAll(e) {\r\n    e.stopPropagation();\r\n    let allCategories = props.store.categories;\r\n    setChecked(checked ? false : true);\r\n    !checked ? setCheckedSubs(allCategories) : setCheckedSubs([]);\r\n  }\r\n\r\n  function setHeadSubCategory(category) {\r\n    let current = checkedSubs;\r\n\r\n    if (current.indexOf(category) === -1) {\r\n      current.push(category);\r\n      setChecked(true);\r\n    } else {\r\n      current = current.filter(cat => cat !== category);\r\n      if (current.length === 0) setChecked(false);\r\n    }\r\n    setCheckedSubs(current);\r\n  }\r\n\r\n  function markSub(e, category) {\r\n    e.stopPropagation();\r\n    props.handleMarkQuestion(undefined, props.value, checkedSubs.indexOf(category) !== -1, category)\r\n    let current = checkedSubs;\r\n\r\n    if (current.indexOf(category) === -1) {\r\n      current.push(category);\r\n      setChecked(true);\r\n    } else {\r\n      current = current.filter(cat => cat !== category);\r\n      if (current.length === 0) setChecked(false);\r\n    }\r\n\r\n    setCheckedSubs(current);\r\n  }\r\n\r\n  function findUniqSubcategories(questions) {\r\n    let result = props.store.categories;\r\n    questions.forEach(question => {\r\n      if (result.indexOf(question.subcategory) === -1) result.push(question.subcategory);\r\n    })\r\n    props.getCategories(result);\r\n  }\r\n\r\n  return (\r\n    <ExpansionPanel>\r\n      <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />} className='align-center expansion-panel-top' style={{ paddingLeft: 12 }}>\r\n        <Checkbox\r\n          onClick={e => markAll(e)}\r\n          checked={checked}\r\n          onChange={() => props.handleMarkQuestion('', props.value, checked)}\r\n        />\r\n        <Typography className={classes.heading}>{props.var}</Typography>\r\n      </ExpansionPanelSummary>\r\n      <ExpansionPanelDetails style={{ flexDirection: 'column', padding: 0 }}>\r\n        {/*eslint-disable-next-line */}\r\n        {props.store.categories.map(category => {\r\n          if (categoryFiltered.find(q => q.subcategory === category)) {\r\n            return (\r\n              <ExpansionPanel key={category}>\r\n                <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />} className='align-center' style={{ paddingLeft: 12 }}>\r\n                  <Checkbox\r\n                    color='primary'\r\n                    onClick={e => markSub(e, category)}\r\n                    checked={checkedSubs.indexOf(category) !== -1}\r\n                  />\r\n                  <Typography className={classes.heading}>{category}</Typography>\r\n                </ExpansionPanelSummary>\r\n                <ExpansionPanelDetails style={{ flexDirection: 'column', padding: 0 }}>\r\n                  <List>\r\n                    {/*eslint-disable-next-line */}\r\n                    {categoryFiltered.map(question => {\r\n                      if (question.subcategory === category) {\r\n                        return (\r\n                          <QuestionItem\r\n                            key={question.id}\r\n                            category={category}\r\n                            setHeadSubCategory={setHeadSubCategory}\r\n                            question={question}\r\n                            handleMarkQuestion={props.handleMarkQuestion}\r\n                          />\r\n                        )\r\n                      }\r\n                    })}\r\n                  </List>\r\n                </ExpansionPanelDetails>\r\n              </ExpansionPanel>\r\n            )\r\n          }\r\n        }\r\n        )}\r\n      </ExpansionPanelDetails>\r\n    </ExpansionPanel>\r\n  );\r\n}\r\n\r\nCategoryItem.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    getCategories: categories => {\r\n      dispatch({ type: 'GET_CATEGORIES', payload: categories })\r\n    },\r\n    resetCategories: categories => {\r\n      dispatch({ type: 'RESET_CATEGORIES', payload: categories })\r\n    }\r\n  })\r\n)(withStyles(styles)(CategoryItem));\r\n","import React, { Fragment } from 'react';\r\nimport CategoryItem from './CategoryItem';\r\n\r\nexport default function SelectQuestions(props) {\r\n  return (\r\n    <Fragment>\r\n      {props.categories.map(category => \r\n        <CategoryItem \r\n          key={category.id} \r\n          var={category.var} \r\n          value={category.value} \r\n          questions={props.questions} \r\n          handleMarkQuestion={props.handleMarkQuestion}\r\n        />\r\n      )}\r\n    </Fragment>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport StepContent from '@material-ui/core/StepContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport SelectUser from './SelectUser';\r\nimport SelectTime from './SelectTime';\r\nimport SelectQuestions from './SelectQuestions';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n  },\r\n  actionsContainer: {\r\n    marginBottom: theme.spacing.unit * 2,\r\n  },\r\n  resetContainer: {\r\n    padding: theme.spacing.unit * 3,\r\n  },\r\n});\r\n\r\nfunction getSteps() {\r\n  return ['Выберите сотрудника', 'Назначьте время прохождения', 'Выберите вопросы'];\r\n}\r\n\r\nfunction getStepContent(step) {\r\n  switch (step) {\r\n    case 0:\r\n      return `Выберите сотрудника из выпадающего списка, так же можете начать вводить имя или фамилию сотрудника в строке поиска. Вы можете выбрать только одного сотрудника.`;\r\n    case 1:\r\n      return 'Выберите длительность тестирования из выпадающего списка.';\r\n    case 2:\r\n      return `Отметьте категории или подкатегории вопросов, которые будут в тестировании. Вы можете добавлять в тестирование вопросы из разных категорий.`;\r\n    default:\r\n      return 'Unknown step';\r\n  }\r\n}\r\n\r\nclass VerticalLinearStepper extends React.Component {\r\n  state = {\r\n    activeStep: 0,\r\n  };\r\n\r\n  handleNext = () => {\r\n    this.setState(state => ({\r\n      activeStep: state.activeStep + 1,\r\n    }));\r\n    this.setOverlay(this.state.activeStep + 1);\r\n  };\r\n\r\n  handleBack = () => {\r\n    this.setState(state => ({\r\n      activeStep: state.activeStep - 1,\r\n    }));\r\n    this.setOverlay(this.state.activeStep - 1);\r\n  };\r\n\r\n  handleReset = () => {\r\n    this.setState({\r\n      activeStep: 0,\r\n    });\r\n    this.setOverlay(0)\r\n  };\r\n\r\n  setOverlay(step) {\r\n    const overlay = document.getElementById('overlay-modal');\r\n    if (step === 2) {\r\n      overlay.style.overflow = 'overlay';\r\n    } else {\r\n      overlay.style.overflow = 'visible';\r\n    }\r\n  }\r\n\r\n  checkDisabled = (step, selectedUser, time, questions) => {\r\n    if (step === 0 && selectedUser.length !== 0) return false;\r\n    if (step === 1 && (typeof time === 'boolean' || time)) return false;\r\n    if (step === 2 && questions) {\r\n      const selectedQuestions = questions.filter(question => question.checked);\r\n      if (selectedQuestions.length > 0 ) return false;\r\n    } \r\n    return true;\r\n  }\r\n\r\n  render() {\r\n    const { classes, users, selectedUser, selectedTime, questions, categories } = this.props;\r\n    const steps = getSteps();\r\n    const { activeStep } = this.state;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <Stepper activeStep={activeStep} orientation=\"vertical\">\r\n          {steps.map((label, index) => (\r\n            <Step key={label}>\r\n              <StepLabel>{label}</StepLabel>\r\n              <StepContent>\r\n                <Typography>{getStepContent(index)}</Typography>\r\n                <div className={classes.actionsContainer}>\r\n                  <div>\r\n                    <Button\r\n                      disabled={activeStep === 0}\r\n                      onClick={this.handleBack}\r\n                      className={classes.button}\r\n                    >\r\n                      Назад\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      color={activeStep === steps.length - 1 ? 'secondary' : 'primary'}\r\n                      onClick={activeStep === steps.length - 1 ? () => {this.props.handleSubmit(); this.handleNext()} : this.handleNext}\r\n                      className={classes.button}\r\n                      disabled={this.checkDisabled(activeStep, selectedUser, selectedTime, questions)} \r\n                    >\r\n                      {activeStep === steps.length - 1 ? 'Создать тестирование' : 'Дальше'}\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </StepContent>\r\n            </Step>\r\n          ))}\r\n                        \r\n        </Stepper>\r\n\r\n        {/* Контент */}\r\n        {activeStep === 0 \r\n          ? <SelectUser \r\n              users={users} \r\n              selectedUser={selectedUser}\r\n              handleChange={this.props.handleChange}\r\n            />\r\n          : activeStep === 1\r\n          ? <SelectTime \r\n              selectedTime={selectedTime} \r\n              handleTimeChange={this.props.handleTimeChange}\r\n            />\r\n          : activeStep === 2\r\n          ? <SelectQuestions\r\n              questions={questions}\r\n              categories={categories}\r\n              handleMarkQuestion={this.props.handleMarkQuestion}\r\n            />\r\n          : null } \r\n\r\n        {activeStep === steps.length && (\r\n          <Paper square elevation={0} className={classes.resetContainer}>\r\n            <Typography>Вы можете запустить тестирование в любое время на вкладке \"созданные\" в разделе тесты.</Typography>\r\n            <Button \r\n              onClick={() => {this.handleReset(); this.props.resetAll()}}\r\n              variant=\"contained\"               \r\n              color=\"secondary\"\r\n              className={classes.button}\r\n            >\r\n              Создать ещё одно тестирование\r\n            </Button>\r\n            <Button \r\n              onClick={this.props.handleClose} \r\n              className={classes.button}\r\n            >\r\n              Закрыть\r\n            </Button>\r\n          </Paper>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nVerticalLinearStepper.propTypes = {\r\n  classes: PropTypes.object,\r\n};\r\n\r\nexport default withStyles(styles)(VerticalLinearStepper);","import React, { Component, Fragment } from 'react';\r\nimport { Paper, Typography, Tooltip } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport API from '../../functions/API';\r\nimport Stepper from './Stepper';\r\nimport $ from 'jquery';\r\nimport { connect } from 'react-redux';\r\nimport { withSnackbar } from 'notistack';\r\nimport { fetchQuestions, fetchCategories } from '../../Effects/fetches';\r\nimport moment from 'moment';\r\nimport { fetchTestLastId } from '../../Effects/fetches';\r\n\r\nclass GenerateTest extends Component {\r\n  state = {\r\n    selectedTime: '',\r\n    users: [],\r\n    selectedUser: [],\r\n    questions: [],\r\n    categories: []\r\n  }\r\n\r\n  async componentDidMount() {\r\n    fetch(`${API}/api/user/read.php`)\r\n      .then(response => response.json())\r\n      .then(users => this.setState({ users: users.data }))\r\n      .catch(err => console.log(err))\r\n\r\n    const categories = await fetchCategories();\r\n    const questions = await fetchQuestions();\r\n    \r\n    await this.setState({ questions, categories });\r\n  }\r\n\r\n  handleChange = name => value => this.setState({ [name]: value });\r\n  handleTimeChange = e => this.setState({ selectedTime: e.target.value });\r\n\r\n  handleMarkQuestion = (id, category, checked, sub) => {\r\n    let questions = this.state.questions;\r\n    if (id) {\r\n      let questionToMark = questions.find(question => question.id === id);\r\n      questionToMark.checked = !questionToMark.checked;\r\n    } else {\r\n      if (sub) {\r\n        let questionsToMark = questions.filter(question => question.category === category && question.subcategory === sub);\r\n        questionsToMark.forEach(question => {\r\n          question.checked = !checked;\r\n        });\r\n      } else {\r\n        let questionsToMark = questions.filter(question => question.category === category);\r\n        questionsToMark.forEach(question => {\r\n          question.checked = !checked;\r\n        });\r\n      }\r\n    }\r\n    this.setState({ questions });    \r\n  }\r\n\r\n  handleSubmit = () => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    const { selectedUser, questions, selectedTime } = this.state;\r\n    const selectedQuestions = questions.filter(question => question.checked);\r\n    const selectedQuestionsIds = [];\r\n\r\n    selectedQuestions.map(q => selectedQuestionsIds.push(q.id));\r\n\r\n    formData.append('questions', selectedQuestionsIds);\r\n    formData.append('user_name', selectedUser.label);\r\n    formData.append('user_id', selectedUser.value);\r\n    formData.append('date', moment().format('L'));\r\n    formData.append('time', selectedTime);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/test/create.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: async () => {\r\n        let last_id = await fetchTestLastId();\r\n        await self.props.onAddNewTest({\r\n          questions: selectedQuestionsIds,\r\n          user_name: selectedUser.label,\r\n          user_id: selectedUser.value,\r\n          date: moment().format('L'),\r\n          time: selectedTime,\r\n          completed: false,\r\n          position: selectedUser.position,\r\n          id: Number(last_id)\r\n        })\r\n        await self.props.enqueueSnackbar('Тест успешно был создан', { variant: 'success' });\r\n      },\r\n      error: () => {\r\n        self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' });\r\n      }\r\n    });\r\n  }\r\n  \r\n  resetAll() {\r\n    const questions = [];\r\n    this.state.questions.forEach(question => {\r\n      question.checked = false;\r\n      questions.push(question);\r\n    });\r\n    this.setState({\r\n      selectedTime: '',\r\n      selectedUser: [],\r\n      questions,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { users, selectedUser, selectedTime } = this.state;\r\n\r\n    return (\r\n      <Fragment>\r\n        <Wrapper id='overlay-modal'>\r\n          <Paper>\r\n            <span className='closeNewTask' onClick={this.props.handleClose}>\r\n              <Tooltip title=\"Закрыть\" placement=\"left\"><CloseIcon /></Tooltip>\r\n            </span>\r\n            <Typography variant='h5'>Создать тестирование</Typography>\r\n            <Stepper\r\n              users={users}\r\n              selectedUser={selectedUser}\r\n              selectedTime={selectedTime}\r\n              handleChange={this.handleChange}\r\n              handleTimeChange={this.handleTimeChange}\r\n              handleClose={this.props.handleClose}\r\n              handleSubmit={this.handleSubmit}\r\n              questions={this.state.questions}\r\n              categories={this.state.categories}\r\n              handleMarkQuestion={this.handleMarkQuestion.bind(this)}\r\n              resetAll={this.resetAll.bind(this)}\r\n            />\r\n          </Paper>\r\n        </Wrapper>\r\n        {window.innerWidth >= 600 ? <Backdrop onClick={this.props.handleClose} /> : null}\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  max-width: 850px;\r\n  height: fit-content;\r\n  max-height: 75vh;\r\n  overflow: visible;\r\n  margin: auto;\r\n  background: #ffffff;\r\n  border-radius: 10px;\r\n  outline: none;\r\n  z-index: 10;\r\n\r\n  .listFor {\r\n    max-height: 220px;\r\n    margin-top: 20px;\r\n    overflow: auto;\r\n  }\r\n  ::-webkit-scrollbar {\r\n    width: 5px;\r\n  }\r\n  ::-webkit-scrollbar-track {\r\n    background-color: #ebebeb;\r\n    -webkit-border-radius: 10px;\r\n    border-radius: 10px;\r\n  }\r\n  ::-webkit-scrollbar-thumb {\r\n    -webkit-border-radius: 10px;\r\n    border-radius: 10px;\r\n    background: #1976d2; \r\n  }\r\n\r\n  & > div {\r\n    height: fit-content;\r\n    padding: 20px 30px;\r\n  }\r\n   \r\n  .closeNewTask svg {\r\n    font-size: 30px;\r\n    color: #1976d2;\r\n    opacity: .8;\r\n    cursor: pointer;\r\n    position: absolute;\r\n    right: 20px;\r\n    top: 20px;\r\n\r\n    :hover {\r\n      opacity: .8;\r\n      transition: .37s ease;\r\n    }\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    top: 0;\r\n    max-width: 100%;\r\n    border-radius: unset;\r\n    margin: unset;\r\n    box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\r\n    & > div {\r\n      padding: 20px 15px;\r\n      box-shadow: unset;\r\n      height: calc(100vh - 55px);\r\n      overflow: scroll;\r\n      & > div {\r\n        > div:first-child {\r\n          padding: 20px 5px;\r\n        }\r\n      }\r\n      h5 {\r\n        font-size: 18px;\r\n      }\r\n    }\r\n    .closeNewTask svg {\r\n      font-size: 24px;\r\n      right: 15px;\r\n    } \r\n  }\r\n`;\r\n\r\nconst Backdrop = styled.div`\r\n  position: absolute;\r\n  top: 0; bottom: 0;\r\n  left: 0; right: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 5;\r\n  background: rgba(0,0,0,.17);\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    onAddNewTest: test => {\r\n      dispatch({ type: 'ADD_TEST', payload: test })\r\n    }\r\n  })\r\n)(withSnackbar(GenerateTest));","import React, { Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TestList from '../List/List';\r\nimport Search from './Search';\r\nimport Fab from '../Fab/Fab';\r\nimport Modal from '../Modal/Modal';\r\nimport GenerateTest from './Steps/GenerateTest';\r\nimport { connect } from 'react-redux';\r\nimport ConfirmDelete from '../Tasks/ConfirmDelete';\r\nimport Loader from '../Loader/Loader';\r\nimport API from '../functions/API';\r\nimport { withSnackbar } from 'notistack';\r\nimport $ from 'jquery';\r\nimport Done from '@material-ui/icons/Done';\r\nimport Edit from '@material-ui/icons/Edit';\r\n\r\nfunction TabContainer({ children, dir }) {\r\n  return (\r\n    <Typography component=\"div\" dir={dir}>\r\n      {children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nTabContainer.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n  dir: PropTypes.string.isRequired,\r\n};\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    width: '100%',\r\n  },\r\n});\r\n\r\nclass AdminPanel extends React.Component {\r\n  state = {\r\n    value: 0,\r\n    searchValue: '',\r\n    items: [],\r\n    documentTitle: document.title,\r\n    open: false,\r\n    confirm: false,\r\n    loading: false\r\n  };\r\n\r\n  handleChange = (event, value) => {\r\n    this.setState({ value });\r\n  };\r\n\r\n  handleChangeIndex = index => {\r\n    this.setState({ value: index });\r\n  };\r\n\r\n  handleSearch = (e) => {\r\n    this.setState({ searchValue: e.target.value });\r\n    const searchValue = e.target.value.toLowerCase();\r\n    document.title = e.target.value || this.state.documentTitle;\r\n    let items = this.state.items;\r\n    items = items.filter(item => \r\n      item.user_name.toLowerCase().includes(searchValue) || \r\n      item.position.toLowerCase().includes(searchValue)\r\n    );\r\n    this.props.onFilterTests(items);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ items: this.props.store.tests });\r\n  }\r\n\r\n  componentWillUnmount = () => {\r\n    document.title = this.state.documentTitle;\r\n  }\r\n\r\n  openModal = () => this.setState({ open: true });\r\n  closeModal = () => this.setState({ open: false });\r\n  handleClose = () => this.setState({ open: false, confirm: false, preparedToDelete: null });\r\n  handleConfirm = (e,id) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.setState({ confirm: true, preparedToDelete: id });\r\n  }\r\n\r\n  handleDelete = () => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    this.setState({ loading: true, confirm: false })\r\n    formData.append('id', this.state.preparedToDelete);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/test/delete.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: res => {\r\n        self.props.onDeleteTest(self.state.preparedToDelete);\r\n        self.setState({ loading: false, preparedToDelete: null });\r\n        self.props.enqueueSnackbar('Тестирование успешно было удалено', { variant: 'info' });\r\n      },\r\n      error: err => {\r\n        self.props.enqueueSnackbar('Что-то пошло не так, попробуйте снова', { variant: 'error' });\r\n      }\r\n    }); \r\n  }\r\n\r\n  render() {\r\n    const { classes, theme } = this.props;\r\n    const { tests } = this.props.store;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <AppBar position=\"static\" color=\"default\">\r\n          <Tabs\r\n            value={this.state.value}\r\n            onChange={this.handleChange}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            variant=\"fullWidth\"\r\n          >\r\n            <Tab label=\"Завершенные\" icon={<Done />} />\r\n            <Tab label=\"Созданные\" icon={<Edit />} />\r\n          </Tabs>\r\n        </AppBar>\r\n\r\n        {this.state.loading \r\n        ? <Loader minHeight={300} color='primary' />\r\n        : \r\n        <Fragment>\r\n          <Search \r\n            handleSearch={this.handleSearch}\r\n            searchValue={this.state.searchValue}\r\n          />\r\n\r\n          <SwipeableViews\r\n            axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\r\n            index={this.state.value}\r\n            onChangeIndex={this.handleChangeIndex}\r\n            style={{ maxHeight: 350, paddingBottom: 50 }}\r\n            className='swipeable'\r\n          >\r\n            <TabContainer dir={theme.direction}>\r\n              <TestList items={tests.length > 0 ? tests : []} completed={true} handleConfirm={this.handleConfirm} />\r\n            </TabContainer>\r\n            <TabContainer dir={theme.direction}>\r\n              <TestList items={tests.length > 0 ? tests : []} completed={false} handleConfirm={this.handleConfirm} />\r\n            </TabContainer>\r\n          </SwipeableViews>\r\n        </Fragment>\r\n        }\r\n\r\n        {/* Add new task modal */}\r\n        <Modal\r\n          open={this.state.open}\r\n          handleClose={this.closeModal}\r\n          component={\r\n            <GenerateTest\r\n              handleClose={this.closeModal}\r\n            />}\r\n        />\r\n\r\n        {/* Confirm delete modal */}\r\n        <Modal\r\n          open={this.state.confirm}\r\n          handleClose={this.handleClose.bind(this)}\r\n          component={<ConfirmDelete\r\n            handleDelete={this.handleDelete}\r\n            handleClose={this.handleClose.bind(this)}\r\n            name='тестирование'\r\n          />}\r\n        />\r\n\r\n        <span onClick={this.openModal}>\r\n          <Fab title=\"Создать тестирование\" />\r\n        </span>\r\n  \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nAdminPanel.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  theme: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    onFilterTests: tests => {\r\n      dispatch({ type: \"FILTER_TESTS\", payload: tests })\r\n    },\r\n    onDeleteTest: test_id => {\r\n      dispatch({ type: \"DELETE_TEST\", payload: test_id })\r\n    }\r\n  })\r\n)(withSnackbar(withStyles(styles, { withTheme: true })(AdminPanel)));\r\n\r\n","import React from 'react';\r\nimport { Typography, Paper } from '@material-ui/core';\r\n\r\nexport default function UserPanel() {\r\n  return (\r\n    <Paper style={styles}>\r\n      <Typography variant='h5'>Тестирования</Typography>\r\n      <Typography variant='body2'>Здесь вы можете просмотреть результаты пройденных вами тестов.</Typography>\r\n    </Paper>\r\n  )\r\n}\r\n\r\nconst styles = {\r\n  marginBottom: 10,\r\n  padding: '35px 15px 15px'\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { Button, Paper } from '@material-ui/core/';\r\nimport { fetchTests, fetchTestsById } from '../Effects/fetches';\r\nimport Loader from '../Loader/Loader';\r\nimport TestList from '../List/List';\r\nimport KeyboardBackspace from '@material-ui/icons/KeyboardBackspace';\r\nimport styled from 'styled-components';\r\nimport NoTests from './NoTests';\r\nimport AdminPanel from './AdminPanel';\r\nimport { connect } from 'react-redux';\r\nimport UserPanel from './UserPanel';\r\n\r\nfunction Tests(props) {\r\n  const { tests } = props.store;\r\n  const isAdmin = props.store.user.admin;\r\n  const [loading, setLoading] = useState(tests.length === 0 ? true : false);\r\n\r\n  useEffect(() => {\r\n    if (tests.length === 0) {\r\n        async function fetchData() {\r\n        const response = isAdmin === '1' ? await fetchTests() : await fetchTestsById();\r\n        props.fetchTests(response);\r\n        setLoading(false);\r\n      }\r\n      fetchData(); \r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Paper style={{ minHeight: 300, position: 'relative' }}>\r\n\r\n      {!loading && isAdmin === '1' ? <AdminPanel items={tests} /> : null}\r\n\r\n      {!loading && isAdmin === '0' ? <UserPanel /> : null}\r\n\r\n      {loading \r\n        ? <Loader minHeight={350} color='primary' /> \r\n        : tests && tests.length > 0 && isAdmin === '0'\r\n          ? <TestList items={tests}/>\r\n          : isAdmin === '0' ? <NoTests /> : null}\r\n\r\n      <Buttons>\r\n        <Button  \r\n          color='primary' \r\n          onClick={props.closeSection}\r\n        >\r\n          <KeyboardBackspace />\r\n          Назад \r\n        </Button>\r\n      </Buttons>\r\n    </Paper>\r\n  )\r\n}\r\n\r\nconst Buttons = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  position: absolute;\r\n  bottom: 0;\r\n  button {\r\n    width: 100%;\r\n    height: 50px;\r\n    margin: 20px auto 0;\r\n    background: #fff;\r\n    span > svg {\r\n      margin-right: 10px;\r\n    }\r\n    :hover {\r\n      background: #1976d2;\r\n      color: white;\r\n      svg {\r\n        color: white;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    fetchTests: tests => {\r\n      dispatch({ type: 'FETCH_TESTS', payload: tests })\r\n    }\r\n  })\r\n)(Tests);","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport ResponsiveHeader from '../ResponsiveHeader/ResponsiveHeader';\r\nimport Cards from './Container';\r\nimport Materials from './Materials';\r\nimport Tests from './Tests';\r\n\r\nfunction Learnings() {\r\n  const [opened, setOpened] = useState(false);\r\n\r\n  function changeSection(section) {\r\n    setOpened(section);\r\n  }\r\n\r\n  function closeSection() {\r\n    setOpened(false);\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      {window.innerWidth < 600 ? <ResponsiveHeader title='Обучение' /> : null}\r\n\r\n      {!opened \r\n        ? <Cards \r\n            class='learnings-container' \r\n            changeSection={changeSection} \r\n          />\r\n        : opened === 'tests' \r\n          ? <Tests closeSection={closeSection} />\r\n          : <Materials closeSection={closeSection} />\r\n      }\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  .learnings-container {\r\n    display: flex;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    .learnings-container {\r\n      flex-direction: column;\r\n      padding-bottom: 50px;\r\n      & > div {\r\n        margin: 0 auto 25px;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default Learnings;","import React, { Fragment } from 'react';\r\nimport './css/MainPage.css'\r\nimport Header from './Header';\r\nimport MainpageHeader from './MainpageHeader';\r\nimport SideNews from './SideNews';\r\nimport FriendsList from './FriendsList/FriendsList';\r\nimport PersonalInfo from './PersonalInfo';\r\nimport Tasks from './Tasks/Tasks';\r\nimport News from './News';\r\nimport Nav from './Navigation/Navigation';\r\nimport styled from 'styled-components';\r\nimport Chat from './Chat/Chat';\r\nimport { connect } from 'react-redux';\r\nimport Feed from './Feed/index';\r\nimport Learnings from './Learnings/Learnings';\r\n\r\nfunction MainPage() {\r\n  function switchComponent() {\r\n    let url = window.location.pathname.slice(1);\r\n    if (url.includes('id')) return <PersonalInfo />\r\n    \r\n    switch (url) {\r\n      case 'messages':\r\n        return <Chat />;\r\n      case 'news':\r\n        return <News />;\r\n      case 'tasks':\r\n        return <Tasks />;\r\n      case 'learnings':\r\n        return <Learnings />;\r\n      case 'colleagues':\r\n        return <FriendsList />\r\n      case 'feed':\r\n        return <Feed />\r\n      default: return null;\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <Fragment>\r\n      <MainpageHeader />\r\n      <div className=\"container\">\r\n        <Header />\r\n        <Nav />\r\n        <MainSection>\r\n          <SideNews />\r\n          <div className=\"main-page-container\">\r\n            {switchComponent()}\r\n          </div>\r\n        </MainSection>  \r\n      </div>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nconst MainSection = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport default connect(state => ({ store: state }))(MainPage);","import React, { Component, Fragment } from 'react';\r\nimport $ from 'jquery';\r\nimport { withSnackbar } from 'notistack';\r\nimport API from './functions/API';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\nimport { Button, Typography, TextField } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nclass ForgetPassword extends Component {\r\n  state = {\r\n    credentials: ''\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    var self = this;\r\n    e.preventDefault();\r\n\r\n    if (this.state.credentials) {\r\n      const formData = new FormData();\r\n      formData.append('credentials', this.state.credentials);\r\n      console.log(this.state.credentials);\r\n      $.ajax({\r\n        url: `${API}/api/user/forget.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: function (res) {\r\n          console.log(res);\r\n          let response = res.result;\r\n\r\n          if (response === 1) {\r\n            self.props.enqueueSnackbar('На указанный вами при регистрации email - были отправлены рекомендации по восстановлению пароля', { variant: 'info' });\r\n            self.props.forgetPassword();\r\n          } else {\r\n            self.props.enqueueSnackbar('К сожалению, такого логина или email - не существует. Проверьте правильность введенных данных', { variant: 'info' });\r\n          }\r\n        },\r\n        error: function () {\r\n          self.props.enqueueSnackbar('Ошибка авторизации', { variant: 'error' });\r\n        }\r\n      });\r\n\r\n    } else {\r\n      self.props.enqueueSnackbar('Пожалуйста введите E-mail', { variant: 'warning' });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <Wrapper>\r\n          <Icon>\r\n            <CloseIcon onClick={this.props.forgetPassword} />\r\n          </Icon>\r\n          <Typography variant='subtitle2'>Восстановление пароля.</Typography>\r\n          <TextField\r\n            label=\"E-mail или логин\"\r\n            variant=\"outlined\"\r\n            name='login'\r\n            fullWidth\r\n            margin='dense'\r\n            error={this.state.credential}\r\n            onChange={e => this.setState({ credentials: e.target.value })}\r\n            value={this.state.username}\r\n          />\r\n          <Button variant='contained' color='primary' onClick={this.handleSubmit}>Отправить</Button>\r\n        </Wrapper>\r\n        <div className=\"black-wrapper black-wrapper__this\" onClick={this.props.forgetPassword}></div>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\nconst Wrapper = styled.div`\r\n  background: #fff;\r\n  z-index: 100;\r\n  width: 500px;\r\n  height: 258px;\r\n  left: 0;\r\n  right: 0;\r\n  position: fixed;\r\n  top: 25%;\r\n  margin: auto;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  justify-content: space-evenly;\r\n  padding: 30px;\r\n`;\r\nconst Icon = styled.div`\r\n  position: absolute;\r\n  right: 25px;\r\n  top: 15px;  \r\n  cursor: pointer;\r\n  svg {\r\n    color: #1976d2;\r\n  }\r\n`;\r\nexport default withSnackbar(ForgetPassword);\r\n","class Cookie {\r\n  setCookie(cname, cvalue, exdays) {\r\n    var d = new Date();\r\n    d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\r\n    var expires = \"expires=\"+d.toUTCString();\r\n    document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\r\n  }\r\n\r\n  getCookie(cname) {\r\n    var name = cname + \"=\";\r\n    var ca = document.cookie.split(';');\r\n    for(var i = 0; i < ca.length; i++) {\r\n      var c = ca[i];\r\n      while (c.charAt(0) === ' ') {\r\n        c = c.substring(1);\r\n      }\r\n      if (c.indexOf(name) === 0) {\r\n        return c.substring(name.length, c.length);\r\n      }\r\n    }\r\n    return \"\";\r\n  }\r\n\r\n  checkCookie() {\r\n    var user = this.getCookie(\"username\");\r\n    if (user !== \"\") {\r\n      alert(\"Welcome again \" + user);\r\n    } else {\r\n      user = prompt(\"Please enter your name:\", \"\");\r\n      if (user !== \"\" && user !== null) {\r\n        this.setCookie(\"username\", user, 365);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default Cookie;","import React, { Component, Fragment } from 'react';\r\nimport $ from 'jquery';\r\nimport ForgetPassword from './ForgetPassword';\r\nimport { connect } from 'react-redux';\r\nimport API from './functions/API';\r\nimport { Button } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport { withSnackbar } from 'notistack';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Cookie from './functions/Cookie';\r\n\r\nclass SignupForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      login: '',\r\n      password: '',\r\n      isForget: '',\r\n      isPassHidden: false,\r\n      invalidText: false,\r\n      invalidPass: false\r\n    }\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  // динамически обрабатываем изменения полей\r\n  handleChange(event) {\r\n    this.setState({ invalidText: false, invalidPass: false })\r\n    // ставим стейт исходя из именя поля и вводимого значения\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    })\r\n  }\r\n\r\n  forgetPassword = () => this.setState({ isForget: !this.state.isForget });\r\n\r\n  handleSubmit(e) {\r\n    var self = this;\r\n    e.preventDefault();\r\n\r\n    if (this.state.login !== '' && this.state.password.length >= 8) {\r\n      const formData = new FormData();\r\n\r\n      formData.append('login', this.state.login);\r\n      formData.append('password', this.state.password);\r\n\r\n      $.ajax({\r\n        url: `${API}/api/user/signup.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: function (res) {\r\n          let jwt = res.jwt;\r\n          let response = res.result;\r\n          let user_id = res.user_id;\r\n          let cookie = new Cookie();\r\n\r\n          switch (response) {\r\n            case 0:\r\n              self.props.enqueueSnackbar('Не удалось войти. Проверьте правильность введенных данных', { variant: 'warning' });\r\n              break;\r\n            case 0.5:\r\n              self.props.enqueueSnackbar('К сожалению, ваша учетная запись ещё не подтверждена, попробуйте войти позже', { variant: 'info' });\r\n              break;\r\n            case 'error':\r\n              self.props.enqueueSnackbar('Не удалось войти. Проверьте правильность введенных данных', { variant: 'error' });\r\n              break;\r\n            case 1:\r\n              localStorage.setItem('akv_jwt_token', jwt);\r\n              cookie.setCookie('akv_jwt_token', jwt, 30);\r\n              cookie.setCookie('user_id', user_id, 30);\r\n              window.location.href = `/`;  \r\n              break;\r\n            default: break;\r\n          }\r\n        },\r\n        error: function () {\r\n          self.props.enqueueSnackbar('Ошибка авторизации', { variant: 'error' });\r\n        }\r\n      });\r\n\r\n    } else {\r\n      self.props.enqueueSnackbar('Пожалуйста, заполните все поля', { variant: 'warning' });\r\n      if (this.state.password.length < 8) this.setState({ invalidPass: true })\r\n      if (!this.state.login) this.setState({ invalidText: true })\r\n    }\r\n  }\r\n\r\n  handleClickShowPassword = () => {\r\n    this.setState({ isPassHidden: !this.state.isPassHidden });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <div className=\"form-container\" style={{ 'paddingBottom': '45px' }}>\r\n          <form className=\"registerForm\" id=\"register\" action=\"\" method=\"POST\" onSubmit={this.handleSubmit}>\r\n\r\n            <TextField\r\n              label=\"Логин или email\"\r\n              variant=\"outlined\"\r\n              name='login'\r\n              fullWidth\r\n              margin='dense'\r\n              onChange={this.handleChange}\r\n              value={this.state.username}\r\n              error={this.state.invalidText}\r\n            />\r\n\r\n            <TextField\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              type={this.state.isPassHidden ? 'text' : 'password'}\r\n              label=\"Пароль\"\r\n              margin='dense'\r\n              name='password'\r\n              error={this.state.invalidPass}\r\n              value={this.state.password}\r\n              onChange={this.handleChange}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      aria-label=\"Toggle password visibility\"\r\n                      onClick={this.handleClickShowPassword}\r\n                    >\r\n                      {this.state.isPassHidden ? <VisibilityOff /> : <Visibility />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n            {this.state.invalidPass ? <FormHelperText style={{ color: '#f44336' }}>Пароль должен быть не менее 8 символов</FormHelperText> : ''}\r\n\r\n            <Buttons>\r\n              <Button variant='text' color='default' onClick={this.forgetPassword}>Забыли пароль?</Button>\r\n              <Button variant='contained' color='primary' type='submit'>Войти</Button>\r\n            </Buttons>\r\n            {this.state.isForget ? <ForgetPassword forgetPassword={this.forgetPassword} /> : null}\r\n          </form>\r\n        </div>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst Buttons = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 35px;\r\n`;\r\n\r\nexport default connect(\r\n  state => ({\r\n    global: state\r\n  }),\r\n  dispatch => ({\r\n    login: (user) => {\r\n      dispatch({ type: 'LOGGED_IN', payload: user })\r\n    }\r\n  })\r\n)(withSnackbar(SignupForm));","import React, { Component, Fragment } from 'react';\r\nimport $ from 'jquery';\r\nimport { withSnackbar } from 'notistack';\r\nimport API from './functions/API';\r\nimport { Button } from '@material-ui/core';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport styled from 'styled-components';\r\nimport Loader from './Loader/Loader';\r\n\r\nclass RegisterForm extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      email: '',\r\n      login: '',\r\n      password: '',\r\n      confirmed: '',\r\n      isEmailValid: '',\r\n      isPassHidden: false, \r\n      entered: false,\r\n      name: '',\r\n      surname: '',\r\n      loading: false\r\n    }\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.validateEmail = this.validateEmail.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.showPassword = this.showPassword.bind(this);\r\n  }\r\n\r\n  // динамически обрабатываем изменения полей\r\n  handleChange(event) {\r\n    // ставим стейт исходя из именя поля и вводимого значения\r\n    this.setState({\r\n      [event.target.name]: event.target.value,\r\n      entered: false\r\n    })\r\n    // если вводится е-мэйл то прогоняем через функцию\r\n    if (event.target.name === 'email') {\r\n      this.validateEmail(event.target.value);\r\n      // если вводимое значение пустое - то убираем подсказку \r\n      if (event.target.value === '') {\r\n        this.setState({ isEmailValid: '' });\r\n      }\r\n    }\r\n  }\r\n\r\n  validateEmail(email) {\r\n    // eslint-disable-next-line\r\n    const regExp = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    regExp.test(email) ? this.setState({ isEmailValid: true }) : this.setState({ isEmailValid: false });\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    var self = this;\r\n    e.preventDefault();\r\n    this.setState({ entered: true, loading: true });\r\n\r\n    if (this.state.login &&  this.state.surname && this.state.name && this.state.isEmailValid && this.state.password) {\r\n      const formData = new FormData();\r\n\r\n      formData.append('login', this.state.login);\r\n      formData.append('email', this.state.email);\r\n      formData.append('password', this.state.password);\r\n      formData.append('name', this.state.name);\r\n      formData.append('surname', this.state.surname);\r\n\r\n      $.ajax({\r\n        url: `${API}/api/user/register.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: function (res) {\r\n          const response = res.result;\r\n\r\n          switch (response) {\r\n            case 0:\r\n              self.props.enqueueSnackbar('Не удалось зарегистрироватьcя.', { variant: 'error' });\r\n              break;\r\n            case 1:\r\n              self.props.enqueueSnackbar('Вы успешно зарегистрировались, как только вашу учетную запись подтвердят - вы сможете начать пользоваться сервисом. Вы получите уведомление по указанной при регистрации почте.', { variant: 'success' });\r\n              self.setState({ \r\n                email: '',\r\n                login: '',\r\n                name: '',\r\n                surname: '',\r\n                password: '',\r\n                confirmed: '',\r\n                isEmailValid: '',\r\n                isPassHidden: false, \r\n                entered: false,\r\n                loading: false\r\n              })\r\n              break;\r\n            case 2:\r\n              self.props.enqueueSnackbar('Пользователь с таким логином или email уже существует', { variant: 'warning' });\r\n              break;\r\n            default: return null;\r\n          }\r\n        },\r\n        error: function () {\r\n          self.props.enqueueSnackbar('Ошибка регистрации', { variant: 'error' });\r\n        }\r\n      });\r\n    } else {\r\n      self.props.enqueueSnackbar('Пожалуйста, заполните все поля', { variant: 'warning' });\r\n    }\r\n  }\r\n\r\n  showPassword() {\r\n    this.setState({ isPassHidden: !this.state.isPassHidden });\r\n  }\r\n\r\n  handleClickShowPassword = () => {\r\n    this.setState({ isPassHidden: !this.state.isPassHidden });\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <div className=\"form-container\">\r\n          <form id=\"register\" action=\"\" method=\"POST\" onSubmit={this.handleSubmit}>\r\n            <TextField\r\n              label=\"Имя\"\r\n              variant=\"outlined\"\r\n              name='name'\r\n              fullWidth\r\n              error={this.state.entered && !this.state.name}\r\n              margin='dense'\r\n              onChange={this.handleChange}\r\n              value={this.state.name}\r\n            />\r\n            <TextField\r\n              label=\"Фамилия\"\r\n              variant=\"outlined\"\r\n              name='surname'\r\n              fullWidth\r\n              error={this.state.entered && !this.state.surname}\r\n              margin='dense'\r\n              onChange={this.handleChange}\r\n              value={this.state.surname}\r\n            />\r\n            <TextField\r\n              label=\"Логин или email\"\r\n              variant=\"outlined\"\r\n              name='login'\r\n              fullWidth\r\n              error={this.state.entered && !this.state.login}\r\n              margin='dense'\r\n              onChange={this.handleChange}\r\n              value={this.state.login}\r\n            />\r\n\r\n            <TextField\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              type={this.state.isPassHidden ? 'text' : 'password'}\r\n              label=\"Пароль\"\r\n              margin='dense'\r\n              name='password'\r\n              value={this.state.password}\r\n              onChange={this.handleChange}\r\n              error={this.state.entered && this.state.password.length < 8}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      aria-label=\"Toggle password visibility\"\r\n                      onClick={this.handleClickShowPassword}\r\n                    >\r\n                      {this.state.isPassHidden ? <VisibilityOff /> : <Visibility />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n            {this.state.password.length > 0 && this.state.password.length < 8 ? <FormHelperText style={{ color: '#f44336' }}>Пароль должен быть не менее 8 символов</FormHelperText> : ''}\r\n\r\n            <TextField\r\n              label=\"Повторите пароль\"\r\n              variant=\"outlined\"\r\n              name='confirmed'\r\n              fullWidth\r\n              margin='dense'\r\n              type='password'\r\n              error={this.state.entered && this.state.confirmed.length < 8}\r\n              onChange={this.handleChange}\r\n              value={this.state.confirmed}\r\n            />\r\n\r\n            {this.state.password !== this.state.confirmed && this.state.confirmed !== '' ? <FormHelperText style={{ color: '#f44336' }}>Пароль должны совпадать</FormHelperText> : null}\r\n\r\n            <TextField\r\n              label=\"Электронная почта\"\r\n              variant=\"outlined\"\r\n              name='email'\r\n              fullWidth\r\n              error={this.state.entered && !this.state.isEmailValid && !this.state.email.lentgh}\r\n              margin='dense'\r\n              onChange={this.handleChange}\r\n              value={this.state.email}\r\n            />\r\n            {!this.state.isEmailValid && this.state.email ? <FormHelperText style={{ color: '#f44336' }}>Пожалуйста, введите настоящий email адрес</FormHelperText> : ''}\r\n\r\n            <BtnWrapper>\r\n              <Button variant='contained' color='primary' type='submit' disabled={this.state.loading}> \r\n                {this.state.loading ? <Loader minHeight={30} color='secondary' /> : 'Зарегистрироваться'}  \r\n              </Button>\r\n            </BtnWrapper>\r\n          </form>\r\n\r\n        </div>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\nconst BtnWrapper = styled.div`\r\n  button {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: ${window.innerWidth < 600 ? 'unset' : '30px'};\r\n    transform: ${window.innerWidth < 600 ? 'translateY(20px)' : 'unset'};\r\n    margin: auto;\r\n    width: fit-content;\r\n    min-width: 199px;\r\n    background: #1976d2 !important;\r\n    & > span > div > div {\r\n      height: 25px !important;\r\n      width: 25px !important;\r\n    }\r\n  }\r\n`;\r\nexport default withSnackbar(RegisterForm);","import React from 'react';\r\nimport './css/BgBubbles.css';\r\n\r\nconst BgBubbles = ({ cssClass }) => {\r\n  return (\r\n    <ul className={cssClass ? `${cssClass} bg-bubbles` : 'bg-bubbles'}>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default BgBubbles;","import React, { Component } from 'react';\r\nimport Header from './Header';\r\nimport BgBubbles from './BgBubbles';\r\nimport './css/LoginForms.css';\r\nimport './css/Approved.css';\r\n\r\nclass Approved extends Component {\r\n  goToMain = () => window.location.href = '/';\r\n  closeWindow = () => window.close();\r\n\r\n  render() {\r\n   return (\r\n      <div className=\"login-screen\">\r\n        <Header />\r\n        <div className=\"approved-container\">\r\n          <h1>Регистрация пользователя была подтверждена.</h1>\r\n          <button onClick={this.goToMain}>На главную</button>                   \r\n        </div>\r\n        <BgBubbles /> \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Approved;","import React, { Component } from 'react';\r\nimport Header from './Header';\r\nimport BgBubbles from './BgBubbles';\r\nimport $ from 'jquery';\r\nimport './css/LoginForms.css';\r\nimport './css/Restore.css';\r\nimport { withSnackbar } from 'notistack';\r\nimport { Button, Typography } from '@material-ui/core';\r\nimport API from './functions/API';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport styled from 'styled-components';\r\n\r\nclass Restore extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      pw: '',\r\n      confirmed: '',\r\n      isPassHidden: false,\r\n      entered: false\r\n    }\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    // ставим стейт исходя из именя поля и вводимого значения\r\n    this.setState({\r\n      [event.target.name]: event.target.value,\r\n      entered: false\r\n    })\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    var self = this;\r\n    this.setState({ entered: true });\r\n\r\n    if (self.state.pw === self.state.confirmed && self.state.pw && self.state.confirmed) {\r\n      self.setState({ modal: false });\r\n      e.preventDefault();\r\n      const formData = new FormData();\r\n\r\n      function getUrlVars() {\r\n        let vars = {};\r\n        // eslint-disable-next-line\r\n        let parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {\r\n          vars[key] = value;\r\n        });\r\n        return vars;\r\n      }\r\n\r\n      formData.append('password', $('input[name=\"pw\"]').val());\r\n      formData.append('auth', getUrlVars()['auth'])\r\n\r\n      $.ajax({\r\n        url: `${API}/api/user/restore.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: function (res) {\r\n          console.log(res);\r\n          let response = res.result;\r\n\r\n          switch (response) {\r\n            case 0:\r\n              self.props.enqueueSnackbar('Не удалось изменить пароль', { variant: 'error' });\r\n              break;\r\n            case 1:\r\n              self.props.enqueueSnackbar('Поздравляем, успешно удалось сменить пароль - теперь вы можете войти в систему', { variant: 'success' });\r\n              setTimeout(() => window.location.href = 'login', 237);\r\n              break;\r\n            default: return null;\r\n          }\r\n        },\r\n        error: function () {\r\n          self.props.enqueueSnackbar('Ошибка авторизации', { variant: 'error' });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  handleClickShowPassword = () => {\r\n    this.setState({ isPassHidden: !this.state.isPassHidden });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"login-screen\">\r\n        <Header />\r\n        <div className=\"form-container restore-container\">\r\n          <Typography variant='h6'>Введите новый пароль.</Typography>\r\n          <Typography variant='caption'> Выбор более безопасного пароля поможет обеспечить защиту вашей личной информации.</Typography>\r\n\r\n          <InputWrapper>\r\n            <TextField\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              type={this.state.isPassHidden ? 'text' : 'password'}\r\n              label=\"Пароль\"\r\n              margin='dense'\r\n              name='pw'\r\n              value={this.state.pw}\r\n              onChange={this.handleChange}\r\n              error={this.state.pw.length > 0 && this.state.pw.length < 8}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      aria-label=\"Toggle password visibility\"\r\n                      onClick={this.handleClickShowPassword}\r\n                    >\r\n                      {this.state.isPassHidden ? <VisibilityOff /> : <Visibility />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n            {this.state.pw.length > 0 && this.state.pw.length < 8 ? <FormHelperText style={{ color: '#f44336' }}>Пароль должен быть не менее 8 символов</FormHelperText> : ''}\r\n\r\n            <TextField\r\n              label=\"Повторите пароль\"\r\n              variant=\"outlined\"\r\n              name='confirmed'\r\n              fullWidth\r\n              margin='dense'\r\n              type='password'\r\n              error={this.state.entered && this.state.confirmed.length < 8 && this.state.confirmed.length > 0}\r\n              onChange={this.handleChange}\r\n              value={this.state.confirmed}\r\n            />\r\n            {this.state.pw !== this.state.confirmed && this.state.confirmed ? <FormHelperText style={{ color: '#f44336' }}>Пароль должны совпадать</FormHelperText> : null}\r\n          </InputWrapper>\r\n\r\n          <BtnContainer>\r\n            <Button variant='contained' color='primary' onClick={this.handleSubmit}>Сменить пароль</Button>\r\n          </BtnContainer>\r\n        </div>\r\n        <BgBubbles />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst BtnContainer = styled.div`\r\n  button {\r\n    position: absolute;\r\n    bottom: 35px;\r\n    left: 0;\r\n    right: 0;\r\n    margin: auto;\r\n    width: fit-content;\r\n  }\r\n`;\r\nconst InputWrapper = styled.div`\r\n  margin-top: 15px;\r\n`;\r\nexport default withSnackbar(Restore);","import React, { Component } from 'react';\r\nimport './css/404.css';\r\n\r\nclass Page404 extends Component {\r\n\r\n  goToMain = () => window.location.href = '/';\r\n\r\n  render() {\r\n    return (\r\n      <main>\r\n        <div className=\"loading wave\">\r\n          404\r\n        </div>\r\n        <div className=\"not-found wave\">\r\n          Страница не найдена\r\n        </div> \r\n      <button onClick={this.goToMain}>перейти на главную</button>\r\n    </main>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Page404;","import React, { Component } from 'react';\r\nimport $ from 'jquery';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport BgBubbles from './BgBubbles';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport DefaultAvatar from './img/photos/images.png';\r\nimport API from './functions/API';\r\nimport { withSnackbar } from 'notistack';\r\nimport { DatePicker } from 'material-ui-pickers';\r\n\r\nif (window.location.pathname === '/settings') {\r\n  if (window.innerWidth >= 600) {\r\n    $(document.body).css({\r\n      background: 'linear-gradient(to bottom right,#00c5fe,#9de3dc,#0d11b4)'\r\n    })\r\n  }\r\n  $('#root').css({\r\n    overflow: 'hidden'\r\n  })\r\n}\r\n\r\nconst styles = {\r\n  default: {\r\n    width: window.innerWidth < 600 ? '100%%' : 600,\r\n    margin: '10px auto',\r\n    position: 'relative',\r\n    padding: window.innerWidth < 600 ? '20px 15px 80px' : '20px 40px 80px',\r\n    zIndex: 37,\r\n    overflow: window.innerWidth < 600 ? 'scroll' : 'auto',\r\n    background: window.innerWidth < 600 ? 'transparent' : '#fff',\r\n    maxHeight: window.innerWidth < 600 ? 'unset' : 'unset',\r\n    boxShadow: window.innerWidth < 600 ? 'unset' : '0px 1px 3px 0px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 2px 1px -1px rgba(0,0,0,0.12)',\r\n  },\r\n  input: {\r\n    width: '100%',\r\n  },\r\n  button: {\r\n    position: 'absolute',\r\n    left: 0,\r\n    right: 0,\r\n    width: 120,\r\n    bottom: -60,\r\n    margin: 'auto'\r\n  },\r\n  upload: {\r\n    background: '#ef6c00',\r\n    color: 'white',\r\n    margin: 'auto',\r\n    cursor: 'pointer',\r\n    position: 'relative',\r\n    width: window.innerWidth < 600 ? '100%' : 'unset'\r\n  },\r\n  hiddenInput: {\r\n    opacity: 0,\r\n    position: 'absolute',\r\n    cursor: 'pointer',\r\n    left: 0, right: 0, bottom: 0, top: 0\r\n  },\r\n  avatar: {\r\n    width: 100,\r\n    height: 100,\r\n    marginBottom: 15,\r\n    borderRadius: '50%'\r\n  },\r\n  header: {\r\n    marginTop: 100,\r\n    marginBottom: 12,\r\n    color: '#fff',\r\n    textAlign: 'center',\r\n    fontWeight: 500,\r\n    display: window.innerWidth < 600 ? 'none' : 'block'\r\n  }\r\n};\r\n\r\nconst genders = [\r\n  {\r\n    value: 'мужской',\r\n    label: 'мужской'\r\n  },\r\n  {\r\n    value: 'женский',\r\n    label: 'женский',\r\n  }\r\n];\r\n\r\nclass Settings extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user: [],\r\n      selectedFile: null,\r\n      user_id: '',\r\n      uploadedAvatar: '',\r\n      selectedDate: ''\r\n    }\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  fileSelect = event => {\r\n    if (event.target.files[0].size < 2 * 1024 * 1024) {\r\n      this.setState({ selectedFile: event.target.files[0] })\r\n      this.uploadAvatar(event.target.files[0]);\r\n    } else {\r\n      this.props.enqueueSnackbar('Файл слишком большой, размер должен не превышать 2МБ', { variant: 'warning' });\r\n    }\r\n  }\r\n\r\n  uploadAvatar = (file) => {\r\n    let fd = new FormData();\r\n    let files = file;\r\n    let self = this;\r\n    fd.append('file', files);\r\n    fd.append('id', this.state.user_id);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/user/upload.php`,\r\n      type: 'post',\r\n      data: fd,\r\n      contentType: false,\r\n      processData: false,\r\n      success: function (res) {\r\n        if (window.location.host.includes('localhost')) {\r\n          self.setState({ uploadedAvatar: res.location.slice(22) })\r\n        } else {\r\n          self.setState({ uploadedAvatar: res.location.slice(6) })\r\n        }\r\n        console.log(res);\r\n      },\r\n    });\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    fetch(`${API}/api/user/info.php`)\r\n      .then(response => response.json())\r\n      .then(user => this.setState({ user, user_id: user.id }))\r\n  }\r\n\r\n  handleChange = event => {\r\n    // ставим стейт исходя из именя поля и вводимого значения\r\n    let user = { ...this.state.user };\r\n    user[event.target.name] = event.target.value;\r\n    this.setState({ user });\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    var self = this;\r\n    self.setState({ modal: false });\r\n    e.preventDefault();\r\n\r\n    if ($('input[name=\"surname\"]').val() && $('input[name=\"name\"]').val() && $('input[name=\"sex\"]').val() && $('input[name=\"position\"]').val() && (this.state.selectedDate || this.state.user.birthday)) {\r\n      const formData = new FormData();\r\n      formData.append('id', self.state.user.id);\r\n      formData.append('surname', $('input[name=\"surname\"]').val());\r\n      formData.append('name', $('input[name=\"name\"]').val());\r\n      formData.append('birthday', self.state.selectedDate.slice(0, 10) || this.state.user.birthday);\r\n      formData.append('sex', $('input[name=\"sex\"]').val());\r\n      formData.append('position', $('input[name=\"position\"]').val());\r\n      formData.append('avatar', self.state.uploadedAvatar);\r\n\r\n      $.ajax({\r\n        url: `${API}/api/user/settings.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: function (res) {\r\n          console.log(res);\r\n          let response = res.result;\r\n          switch (response) {\r\n            case 0:\r\n              self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' });\r\n              break;\r\n            case 1:\r\n              self.props.enqueueSnackbar('Персональные данные изменены', { variant: 'success' });\r\n              window.location.href = `/feed`;\r\n              break;\r\n            default: break;\r\n          }\r\n        },\r\n        error: function () {\r\n          self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' });\r\n        }\r\n      });\r\n    } else {\r\n      self.props.enqueueSnackbar('Пожалуйста заполните все поля', { variant: 'warning' });\r\n    }  \r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | устанавливаем дату из пикера в нужном формате\r\n  |--------------------------------------------------\r\n  */\r\n  handleDateChange = date => this.setState({ selectedDate: date.format() });\r\n\r\n  render() {\r\n    const { user, uploadedAvatar } = this.state;\r\n\r\n    let avatar = user.avatar;\r\n\r\n    return (\r\n      <React.Fragment>\r\n\r\n        <Typography variant=\"h5\" style={{ ...styles.header }}>Начните заполнять персональные данные</Typography>\r\n\r\n        <Paper style={{ ...styles.default }} elevation={1}>\r\n\r\n          <form id=\"personal-info\" action=\"\" method=\"POST\" encType=\"multipart/form-data\" style={{ position: 'relative' }}>\r\n            {uploadedAvatar ?\r\n              <div class='settings-avatar' style={{ ...styles.avatar, background: `url(${uploadedAvatar}) no-repeat center/cover` }}></div> :\r\n              <div class='settings-avatar' style={{ ...styles.avatar, background: `url(${avatar ? avatar : DefaultAvatar}) no-repeat center/cover` }}></div>}\r\n            <Button variant=\"contained\" style={{ ...styles.upload }}>\r\n              Загрузить фото профиля\r\n            <Icon style={{ marginLeft: 10 }}>cloud_upload</Icon>\r\n              <input\r\n                id='avatar'\r\n                accept=\"image/*\"\r\n                style={{ ...styles.hiddenInput }}\r\n                type=\"file\"\r\n                name='avatar'\r\n                onChange={this.fileSelect}\r\n              />\r\n            </Button>\r\n\r\n            <TextField\r\n              required\r\n              label=\"Ваше имя\"\r\n              name='name'\r\n              InputLabelProps={{ shrink: true }}\r\n              margin=\"normal\"\r\n              onChange={this.handleChange}\r\n              value={user.name}\r\n              style={{ ...styles.input }}\r\n            />\r\n\r\n            <TextField\r\n              required\r\n              label=\"Фамилия\"\r\n              name='surname'\r\n              InputLabelProps={{ shrink: true }}\r\n              margin=\"normal\"\r\n              onChange={this.handleChange}\r\n              value={user.surname}\r\n              style={{ ...styles.input }}\r\n            />\r\n\r\n            <TextField\r\n              select\r\n              required\r\n              label=\"Пол\"\r\n              InputLabelProps={{ shrink: true }}\r\n              value={user.sex}\r\n              onChange={this.handleChange}\r\n              helperText=\"Пожалуйста, выберите пол\"\r\n              margin=\"normal\"\r\n              name='sex'\r\n              style={{ ...styles.input }}\r\n            >\r\n              {genders.map(option => (\r\n                <MenuItem name='sex' key={option.value} value={option.value}>\r\n                  {option.label}\r\n                </MenuItem>\r\n              ))}\r\n            </TextField>\r\n\r\n            <TextField\r\n              required\r\n              label=\"Должность\"\r\n              name=\"position\"\r\n              InputLabelProps={{ shrink: true }}\r\n              margin=\"normal\"\r\n              onChange={this.handleChange}\r\n              value={user.position}\r\n              style={{ ...styles.input }}\r\n            />\r\n\r\n            <DatePicker\r\n              name=\"birthday\"\r\n              margin=\"normal\"\r\n              label='Дата рождения'\r\n              format={'Do MMMM YYYY'}\r\n              value={this.state.selectedDate ? this.state.selectedDate : user.birthday || null}\r\n              fullWidth={true}\r\n              InputLabelProps={{ shrink: true }}\r\n              onChange={this.handleDateChange}\r\n              aria-describedby=\"component-helper-text\"\r\n              style={{ ...styles.input }}\r\n              cancelLabel='Отмена'\r\n              emptyLabel='Не выбрана дата рождения'\r\n              required\r\n            />\r\n\r\n            <Typography variant=\"caption\" gutterBottom>\r\n              *Дата рождения будет видна только руководству\r\n            </Typography>\r\n\r\n            <Button variant=\"contained\" color='primary' style={{ ...styles.button }} onClick={this.handleSubmit}>\r\n              Вперёд!\r\n           </Button>\r\n\r\n          </form>\r\n        </Paper>\r\n\r\n        <BgBubbles />\r\n\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withSnackbar(Settings);","import React, { useState } from 'react';\r\nimport Countdown from 'react-countdown-now';\r\nimport { connect } from 'react-redux';\r\nimport { Typography, Tooltip } from '@material-ui/core/';\r\nimport styled from 'styled-components';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\nimport PlayIcon from '@material-ui/icons/PlayArrow';\r\nimport AlarmIcon from '@material-ui/icons/AlarmOn'\r\n\r\nconst Completionist = () => <Typography variant='h3' id='timer' className='completed'>Время вышло</Typography>;\r\n\r\nconst Timer = ({ hours, minutes, seconds, completed, api }) => {\r\n  function getTime(h, m, s) {\r\n    if (h < 10) h = '0' + h;\r\n    if (m < 10) m = '0' + m;\r\n    if (s < 10) s = '0' + s;\r\n\r\n    if (h === '00') {\r\n      return `${m}:${s}`;\r\n    } else {\r\n      return `${h}:${m}:${s}`;\r\n    }\r\n  }\r\n\r\n  if (completed) {\r\n    return <Container><Time><Completionist /></Time></Container>;\r\n  } else {\r\n    return (\r\n      <Container>\r\n        <Time> \r\n          <AlarmIcon className='time-icon' />\r\n          <Typography variant='h3' id='timer'>{getTime(hours, minutes, seconds)}</Typography>\r\n        </Time>\r\n        <Controls>\r\n          <Tooltip title='старт' onClick={api.start}><PlayIcon style={api.isPaused() ? { pointerEvents: 'all' } : { pointerEvents: 'none', opacity: 1 }} /></Tooltip>\r\n          <Tooltip title='пауза' onClick={api.pause}><PauseIcon style={api.isPaused() ? { pointerEvents: 'none', opacity: 1 } : { pointerEvents: 'all'}} /></Tooltip>   \r\n        </Controls>\r\n      </Container>\r\n    )\r\n  }\r\n};\r\n\r\nconst CountdownTimer = ({ store, pauseTest, resumeTest, finish }) => {\r\n  // eslint-disable-next-line\r\n  const [time, setTime] = useState(store.tests[0] && store.tests[0].hasOwnProperty('time') ? Date.now() + Number(store.tests[0].time) * 60 * 1000 : 0);\r\n\r\n  return (\r\n    <Countdown\r\n      controlled={false}\r\n      autoStart={true}\r\n      date={time}\r\n      renderer={Timer}\r\n      onPause={pauseTest}\r\n      onStart={resumeTest}\r\n      onComplete={finish}\r\n    />\r\n  )\r\n}\r\n\r\nconst Controls = styled.div`\r\n  svg {\r\n    font-size: 40px;\r\n    opacity: .15;\r\n    transition: .57s ease;\r\n    cursor: pointer;\r\n    :hover {\r\n      opacity: .9;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n`;\r\n\r\nconst Time = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 25%;\r\n  align-items: center;\r\n  h3 {\r\n    opacity: .15;\r\n  }\r\n  .time-icon {\r\n    font-size: 42px;\r\n    opacity: .15;\r\n  }\r\n  .completed {\r\n    font-size: 32px;\r\n    margin-top: 64px;\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n)(CountdownTimer);","import React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Button, Typography, Checkbox, FormGroup, FormControlLabel } from '@material-ui/core';\r\nimport Sphere from '../../img/photos/sphere.png';\r\nimport Lightbox from 'react-images';\r\n\r\nexport default function Question({ allQuestionsId, paused, findTimer, answered, variants, setChecked, question, questionNumber, skipQuestion, nextQuestion, prevQuestion }) {\r\n  const [images, setImages] = useState([]);\r\n  const [lightboxOpen, setLightboxOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    getImages();\r\n  }, [])\r\n\r\n  function getPrevBtnStatus(index) {\r\n    if (!index) return true;\r\n    let status = false;\r\n    if (answered.includes(index - 1)) status = true;\r\n    return status;\r\n  }\r\n\r\n  function getImages() {\r\n    if (question.image) {\r\n      const images = [];\r\n      Object.entries(question.image_file).map(item => {\r\n        return images.push({\r\n          src: `http://akvatory.local/${item[1].original.file}`\r\n        })\r\n      })\r\n      setImages(images);\r\n    }   \r\n  }\r\n\r\n  function openLightbox() {\r\n    setLightboxOpen(true);\r\n  }\r\n\r\n  function closeLightbox() {\r\n    setLightboxOpen(false);\r\n  }\r\n\r\n  let checked = variants.length > 0 ? variants.find(variant => variant.checked) : 0;  \r\n \r\n  return (\r\n    <Container style={findTimer() ? { marginTop: '-93px' } : { marginTop: 40 }}>\r\n      <QuestionHeader>\r\n        <Spheric>\r\n          <Typography variant='h1'>{questionNumber + 1}</Typography>\r\n          <img src={Sphere} alt='' />\r\n        </Spheric>  \r\n        <div className='question-header-text'>\r\n          <Typography variant='h6'>{question.question}</Typography>\r\n          <Typography variant='caption' style={{ marginBottom: 10 }}>{question.category} - {question.subcategory}</Typography>\r\n          {question.audio ?\r\n              question.audio_file.map(item => \r\n                <audio controls className='question-audio' key={item.id}>\r\n                  <source src={`http://akvatory.local/${item.file}`} />\r\n                </audio> \r\n              )\r\n          : null}\r\n          {question.image ?\r\n              Object.entries(question.image_file).map((item, i) => \r\n                <img \r\n                  onClick={openLightbox}\r\n                  key={item[0]} \r\n                  style={{ maxWidth: '100%', maxHeight: 300, marginTop: 10, cursor: 'pointer' }} \r\n                  src={`http://akvatory.local/${item[1].original.file}`} \r\n                  alt=''\r\n                /> \r\n              ) \r\n          : null}\r\n        </div>\r\n      </QuestionHeader>\r\n      <FormGroup className='checkboxes' style={paused ? { pointerEvents: 'none' } : { pointerEvents: 'all' } }>\r\n        {variants.map(variant =>\r\n          <FormControlLabel\r\n            key={variant.id}\r\n            control={\r\n              <Checkbox\r\n                checked={variant.checked}\r\n                onClick={() => setChecked(variant.id)}\r\n              />\r\n            }\r\n            label={variant.item}\r\n          />\r\n        )}\r\n      </FormGroup>\r\n      {!paused ?\r\n      <Buttons>\r\n        <Button onClick={nextQuestion} disabled={checked ? false : true} variant='contained' color='primary'>Далее</Button>\r\n        <Button onClick={prevQuestion} disabled={getPrevBtnStatus(questionNumber)} variant='outlined' color='primary'>Назад</Button>\r\n        <Button onClick={skipQuestion} disabled={allQuestionsId.length - 1 === answered.length} variant='contained' color='secondary'>Пропустить</Button>\r\n      </Buttons>\r\n      : null }\r\n\r\n      {question.image ?\r\n        <Lightbox\r\n          images={[...images]}\r\n          isOpen={lightboxOpen}\r\n          onClose={closeLightbox}\r\n          width={1920}\r\n          showImageCount={false}\r\n        />\r\n      : null}\r\n\r\n\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  width: 75%;\r\n  margin-top: 40px;\r\n  .checkboxes {\r\n    margin: 25px 0;\r\n  }\r\n`;\r\nconst Buttons = styled.div`\r\n  button {\r\n    margin-right: 30px;\r\n    min-width: 125px;\r\n  }\r\n`;\r\nconst QuestionHeader = styled.div`\r\n  display: flex;\r\n  align-items: flex-start;\r\n  .question-header-text {\r\n    width: 525px;\r\n    padding-left: 25px;\r\n    margin-bottom: 20px;\r\n  }\r\n  .question-audio {\r\n    width: 100%;\r\n    :focus, :active {\r\n      outline: 0;\r\n    }\r\n  }\r\n`;\r\nconst Spheric = styled.div`\r\n  height: 100px;\r\n  width: 100px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: relative;\r\n  img {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  h1 {\r\n    font-size: 48px;\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    margin: auto;\r\n    color: white;\r\n    width: fit-content;\r\n    height: fit-content;\r\n    font-weight: 600;\r\n  }\r\n`;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Badge from '@material-ui/core/Badge';\r\n\r\nexport default function Circles({ questions, answered, skipped }) {\r\n  function getStatus(index, type) {\r\n    let isAnswered = answered.includes(index);\r\n    let isSkipped = skipped.includes(index);\r\n    \r\n    if (type === 'class' && !isAnswered && !isSkipped) {\r\n      return 'default-badge';\r\n    } else if (type === 'class') {\r\n      return '';\r\n    }\r\n\r\n    if (type === 'color' && isAnswered) {\r\n      return 'primary';\r\n    } else {\r\n      return 'secondary'\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {questions.map((_, i ) => \r\n        <Badge \r\n          key={i}\r\n          badgeContent={i + 1} \r\n          color={getStatus(i, 'color')} \r\n          className={getStatus(i, 'class')}\r\n        >{''}</Badge>\r\n      )}\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  flex-wrap: wrap;\r\n  > span {\r\n    width: 45px;\r\n    height: 30px;\r\n    margin: 10px 0 0;\r\n    > span {\r\n      width: 30px;\r\n      height: 30px;\r\n      transform: unset;\r\n      left: 0;\r\n      margin: auto;\r\n    }\r\n  }\r\n  .default-badge span {\r\n    background: #F9A825;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nexport default function Legend() {\r\n  return (\r\n    <Container>\r\n      <div>\r\n        <Badge children={true} color='primary'className='default-badge'>{''}</Badge>\r\n        <Typography variant='caption' className='caption'>Вопрос ожидает ответа</Typography>\r\n      </div>\r\n      <div>\r\n        <Badge children={true}  color='primary'>{''}</Badge>\r\n        <Typography variant='caption' className='caption'>Вы ответили на этот вопрос</Typography>\r\n      </div>\r\n      <div>\r\n        <Badge color='secondary'>{''}</Badge>\r\n        <Typography variant='caption' className='caption'>Вы пропустили этот вопрос</Typography>\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  margin: 35px 0;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  flex-direction: column;\r\n  flex-wrap: wrap;\r\n  > div > span {\r\n    width: 45px;\r\n    height: 30px;\r\n    margin: 10px 0 0;\r\n    > span {\r\n      width: 30px;\r\n      height: 30px;\r\n      transform: unset;\r\n      left: 0;\r\n      margin: auto;\r\n    }\r\n  }\r\n  > div {\r\n    align-items: center;\r\n    display: flex;\r\n    .caption {\r\n      width: unset;\r\n      height: unset;\r\n      margin-top: 10px;\r\n      margin-left: 10px;\r\n    }\r\n  }\r\n  .default-badge span {\r\n    background: #F9A825;\r\n  }\r\n`;","import $ from 'jquery';\r\nimport API from '../functions/API';\r\n\r\nexport function startTest(id) {\r\n  const formData = new FormData();\r\n  formData.append('id', id);\r\n  $.ajax({\r\n    url: `${API}/api/test/start.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST'\r\n  });\r\n}\r\n\r\nexport function setupResult(data) {\r\n  const formData = new FormData();\r\n  formData.append('test_id', data.test_id);\r\n  formData.append('user_id', data.user_id);\r\n  formData.append('user_name', data.user_name);\r\n  formData.append('date', data.date);\r\n  formData.append('estimated_time', data.estimated_time);\r\n\r\n  $.ajax({\r\n    url: `${API}/api/result/init.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST'\r\n  });\r\n}\r\n\r\nexport function updateResult(data) {\r\n  const formData = new FormData();\r\n  formData.append('test_id', data.test_id);\r\n  formData.append('variants', data.variants);\r\n  formData.append('estimated_time', data.estimated_time);\r\n  formData.append('question_id', data.question_id);\r\n\r\n  $.ajax({\r\n    url: `${API}/api/result/update.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST'\r\n  });\r\n}\r\n\r\nexport function finishTest(data) {\r\n  const formData = new FormData();\r\n  formData.append('id', data.id);\r\n  formData.append('estimated_time', data.estimated_time);\r\n  formData.append('created_at', new Date().getTime());\r\n\r\n  $.ajax({\r\n    url: `${API}/api/test/finish.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST'\r\n  });\r\n}\r\n\r\nexport async function createEvent(data) {\r\n  const formData = new FormData();\r\n  \r\n  for (let key in data) {\r\n    formData.append(key, data[key]);    \r\n  }\r\n  let result;\r\n  \r\n  await $.ajax({\r\n    url: `${API}/api/calendar/addEvent.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST',\r\n    success: async (res) => {\r\n      result = await res;\r\n    }\r\n  }); \r\n\r\n  return await result;\r\n}\r\n\r\nexport function deleteEvent(id) {\r\n  const formData = new FormData();\r\n  formData.append('id', id);\r\n  \r\n  $.ajax({\r\n    url: `${API}/api/calendar/deleteEvent.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST'\r\n  });\r\n}\r\n\r\nexport function signUpOnEvent(data) {\r\n  const formData = new FormData();\r\n  formData.append('id', data.id);\r\n  formData.append('username', `${data.name} ${data.surname}`);\r\n\r\n  $.ajax({\r\n    url: `${API}/api/calendar/signUp.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST'\r\n  });\r\n}\r\n\r\nexport function unSignUpOnEvent(data) {\r\n  const formData = new FormData();\r\n  formData.append('id', data.id);\r\n  formData.append('username', `${data.name} ${data.surname}`);\r\n\r\n  $.ajax({\r\n    url: `${API}/api/calendar/unSignUp.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST'\r\n  });\r\n}\r\n\r\nexport default [];","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport styled from 'styled-components';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n  }\r\n});\r\n\r\nfunction SimpleExpansionPanel(props) {\r\n  const { classes, object } = props;\r\n\r\n  function isCorrect(question) {\r\n    if (object.question_data.answers.includes(question)) {\r\n      return 'primary';\r\n    } else {\r\n      return 'secondary';\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ExpansionPanel>\r\n        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />} className='align-center' style={{ background: '#fafafa' }}>\r\n          <Typography variant='h6'>{object.result >= 1 ? object.result + ' балл' : object.result + ' баллов'}\r\n            <Typography className={classes.heading}>Вопрос: {object.question_data.question}</Typography>\r\n          </Typography>    \r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails>\r\n          <Answers>\r\n            <Typography variant='subtitle2' gutterBottom={true}>вы ответили:</Typography>\r\n            {object.answered.map(question => <Typography color={isCorrect(question)}>{question}</Typography>)}\r\n            <hr />\r\n            <Typography variant='subtitle2' gutterBottom={true}>{object.question_data.answers.length > 0 ? 'ответы:' : 'ответ:'}</Typography>\r\n            {object.question_data.answers.map(question => <Typography>{question}</Typography>)}\r\n          </Answers>\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Answers = styled.div`\r\n  width: 100%;\r\n  hr {\r\n    border: none;\r\n    height: 3px;\r\n    background: #fafafa;\r\n  }\r\n`;\r\n\r\nSimpleExpansionPanel.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(SimpleExpansionPanel);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n  }\r\n});\r\n\r\nfunction SimpleExpansionPanel(props) {\r\n  const { classes, object } = props;\r\n  return (\r\n    <div className={classes.root}>\r\n      <ExpansionPanel disabled>\r\n        <ExpansionPanelSummary className='align-center' style={{ background: '#fafafa' }}>\r\n          <Typography variant='h6'>0 баллов\r\n            <Typography className={classes.heading}>Вопрос: {object}</Typography>\r\n          </Typography>    \r\n        </ExpansionPanelSummary>\r\n      </ExpansionPanel>\r\n    </div>\r\n  );\r\n}\r\n\r\nSimpleExpansionPanel.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(SimpleExpansionPanel);","import React, { useEffect, useState, Fragment } from 'react';\r\nimport styled from 'styled-components';\r\nimport Loader from '../../Loader/Loader';\r\nimport API from '../../functions/API';\r\nimport { Typography, Button } from '@material-ui/core'; \r\nimport ResultsList from './ResultsList';\r\nimport NotAnswered from './NotAnswered';\r\n\r\nexport default function Results() {\r\n  const [results, setResults] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const id = window.location.pathname.replace('/test/', \"\");\r\n    fetch(`${API}/api/result/getResults.php?test_id=${id}`)\r\n      .then(response => response.json())\r\n      .then(results => {\r\n        results.data.not_answered = JSON.parse(results.data.not_answered);\r\n        results.data.object = JSON.parse(results.data.object);\r\n        results.data.object.forEach(result => {\r\n          result.question_data = JSON.parse(result.question_data);\r\n          result.question_data.variants = result.question_data.variants.split(\"\\n\");\r\n          result.question_data.answers = result.question_data.answers.split(\"\\n\");\r\n        });\r\n        setResults(results.data)\r\n      })\r\n      .then(() => setLoading(false))\r\n      .catch(err => console.log(err))\r\n  }, []);\r\n\r\n  function getPercent(value) {\r\n    return parseFloat(value.replace(',','.')).toFixed(2) * 100 + '%';\r\n  }\r\n\r\n  function getColor(value) {\r\n    return parseFloat(value.replace(',','.')).toFixed(2) >= 0.5 ? 'primary' : 'secondary';\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {loading\r\n        ? <Loader minHeight='300px' color='primary' />\r\n        : (\r\n          <Fragment>\r\n            <Typography variant='h1' style={{ marginBottom: 20 }} color={getColor(results.result)}>{getPercent(results.result)}</Typography>\r\n            <Typography variant='h6'>{results.user_name}</Typography>\r\n            <Typography variant='caption'>Дата прохождения тестирования: {results.date}</Typography>\r\n            {results.estimated_time ? <Typography variant='caption'>Оставшееся время: {results.estimated_time}</Typography> : null}\r\n\r\n            <br />\r\n            <br />\r\n            <br />\r\n            {results.object.map(result => \r\n                <ResultsList object={result} />\r\n            )}  \r\n\r\n            {results.not_answered.map(result => \r\n                <NotAnswered object={result} />\r\n            )}        \r\n\r\n            <Buttons>\r\n              <Button variant='contained' component='a' href='/' color='primary'>на главную</Button>\r\n              <Button variant='outlined' component='a' href='/learnings' color='primary'>обучение</Button>\r\n            </Buttons>\r\n          </Fragment>\r\n      )}\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n`;\r\nconst Buttons = styled.div`\r\n  margin-top: 40px;\r\n  a {\r\n    margin-right: 10px;\r\n  }\r\n`;","import React, { useState, Fragment } from 'react';\r\nimport { Typography, Button } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport Results from './Results';\r\n\r\nexport default function Finish() {\r\n  const [isShowResult, setShowResult] = useState(false);\r\n\r\n  return (\r\n    <Container>\r\n      {isShowResult \r\n        ? <Results /> \r\n        :\r\n        <Fragment>\r\n          <Typography variant='h5' style={{ marginBottom: 10 }}>Тест завершён.</Typography>\r\n          <Typography variant='body2'>Вы можете посмотреть результаты тестирования, нажав на кнопку ниже.</Typography>\r\n          <Buttons>\r\n            <Button variant='contained' color='primary' onClick={() => setShowResult(true)}>результаты</Button>\r\n            <Button variant='outlined' color='primary' component='a' href='/'>на главную</Button>\r\n          </Buttons>\r\n        </Fragment>\r\n      }  \r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  height: fit-content;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 60px 30px;\r\n`;\r\nconst Buttons = styled.div`\r\n  margin-top: 30px;\r\n  button {\r\n    margin: 0 10px;\r\n  }\r\n`;","import React, { useState, useEffect } from 'react';\r\nimport Timer from './Timer';\r\nimport styled from 'styled-components';\r\nimport { fetchSingleQuestion } from '../../Effects/fetches';\r\nimport Loader from '../../Loader/Loader';\r\nimport { connect } from 'react-redux';\r\nimport Question from './Question';\r\nimport Circles from './Circles';\r\nimport Legend from './Legend';\r\nimport { updateResult, finishTest } from '../../Effects/requests';\r\nimport Finish from './Finish';\r\n\r\nfunction Test({ store, object }) {\r\n  // eslint-disable-next-line\r\n  const [_, updateState] = useState(0);\r\n  const [variants, setVariants] = useState([]);\r\n  const [questionNumber, setQuestionNumber] = useState(0);\r\n  const [allQuestionsId, setAllQuestionsId] = useState([]);\r\n  const [question, setQuestion] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [skipped, setSkipped] = useState([]);\r\n  const [answered, setAnswered] = useState([]);\r\n  const [finished, setFinished] = useState(false);\r\n  const [test, setTest] = useState([]);\r\n  const [paused, setPaused] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const allQuestionsId = store.tests[0].questions.split(',');\r\n    setTest(store.tests[0]);\r\n    setAllQuestionsId(allQuestionsId);\r\n    async function fetchData() {\r\n      const response = await fetchSingleQuestion(allQuestionsId[questionNumber]);\r\n      await setQuestion(response);\r\n      await getVariants(response); \r\n      if (loading) await setLoading(false);\r\n    }\r\n    fetchData();\r\n  }, [questionNumber]);\r\n\r\n  useEffect(() => {\r\n    const allQuestionsId = store.tests[0].questions.split(',');\r\n    if (object && object.length > 1) loadSave(object, allQuestionsId);\r\n  }, []);\r\n\r\n  function pauseTest() {\r\n    setPaused(true);\r\n  }\r\n\r\n  function resumeTest() {\r\n    setPaused(false);\r\n  }\r\n\r\n  function loadSave(save, allQuestionsId) {\r\n    let idArray = save[1].answered;\r\n    let result = [];\r\n\r\n    for (let i = 0; i < idArray.length; i++) {\r\n      for (let j = 0; j < allQuestionsId.length; j++) {\r\n        if (idArray[i] === allQuestionsId[j]) {\r\n          result.push(j);\r\n          continue;\r\n        }\r\n      }\r\n    }\r\n\r\n    setAnswered(result);\r\n\r\n    let next = 0;\r\n\r\n    for (let i = 0; i < result.length; i++) {\r\n      if (!allQuestionsId.includes(i)) {\r\n        next = i;\r\n      } else {\r\n        next = i + 1;\r\n      }\r\n    }\r\n    setQuestionNumber(next);\r\n  }\r\n\r\n  function getVariants(question) {\r\n    const splitted = question[0].variants.split(\"\\n\");\r\n    let variants = [];\r\n    splitted.forEach((item, i) => {\r\n      variants.push({\r\n        id: i,\r\n        item: item,\r\n        checked: false\r\n      })\r\n    })\r\n    setVariants(variants);\r\n  }\r\n\r\n  function setChecked(id) {\r\n    let newVariants = variants;\r\n\r\n    if (!question[0].answers) {\r\n      newVariants.forEach(variant => {\r\n        variant.checked = false;\r\n      });\r\n    }\r\n\r\n    newVariants[id].checked = !newVariants[id].checked;\r\n    setVariants(newVariants);\r\n    updateState(Math.random());\r\n  }\r\n\r\n  function nextQuestion() {\r\n    let newState = answered;\r\n    if (!answered.includes(questionNumber)) {\r\n      newState.push(questionNumber);\r\n      setAnswered(newState);\r\n    }\r\n    updateTestResult();\r\n    getNextStep(questionNumber);\r\n  }\r\n\r\n  function prevQuestion() {\r\n    setQuestionNumber(questionNumber - 1);\r\n  }\r\n\r\n  function skipQuestion() {\r\n    let newState = skipped;\r\n    if (!skipped.includes(questionNumber)) {\r\n      newState.push(questionNumber);\r\n      setSkipped(newState);\r\n    }\r\n    getNextStep(questionNumber);\r\n  }\r\n\r\n  function getNextStep() {\r\n    if (allQuestionsId.length === answered.length) {\r\n      finish();\r\n      return;\r\n    }\r\n\r\n    let next = questionNumber;\r\n\r\n    if (answered.includes(next)) {\r\n      next = Math.max(...answered);\r\n    }\r\n\r\n    if (next + 1 === allQuestionsId.length) {\r\n      for (let i = 0; i < allQuestionsId.length; i++) {\r\n        if (!answered.includes(i)) {\r\n          next = i;\r\n          break;\r\n        }\r\n      }\r\n      setQuestionNumber(next);\r\n    } else {\r\n      setQuestionNumber(next + 1);\r\n    }\r\n  }\r\n\r\n  async function finish() {\r\n    const test = await store.tests[0];\r\n    const testData = {\r\n      id: test.id,\r\n      estimated_time: document.getElementById('timer') ? document.getElementById('timer').innerHTML : 0\r\n    }\r\n\r\n    await finishTest(testData);\r\n    await setFinished(true);\r\n  }\r\n\r\n  async function updateTestResult() {\r\n    const test = await store.tests[0];\r\n    const checkedVariants = variants.filter(variant => variant.checked);\r\n    const checked = [];\r\n\r\n    checkedVariants.forEach(variant => {\r\n      checked.push(variant.item);\r\n    })\r\n\r\n    const testData = {\r\n      question_id: allQuestionsId[questionNumber],\r\n      test_id: test.id,\r\n      variants: checked,\r\n      estimated_time: document.getElementById('timer') ? document.getElementById('timer').innerHTML : 0\r\n    }\r\n\r\n    updateResult(testData);\r\n  }\r\n\r\n  function findTimer() {\r\n    return !Array.isArray(test) && !test.estimated_time.includes('false');\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {!finished && findTimer()\r\n        ? <Timer style={`${loading ? { opacity: 0 } : { opacity: 1 }}`} pauseTest={pauseTest} resumeTest={resumeTest} finish={finish} />\r\n        : null}\r\n\r\n      {loading\r\n        ? <Loader minHeight='45vh' />\r\n        : (\r\n          !finished ?\r\n            <QuestionWrapper>\r\n              <Question\r\n                question={question[0]}\r\n                questionNumber={questionNumber}\r\n                nextQuestion={nextQuestion}\r\n                prevQuestion={prevQuestion}\r\n                skipQuestion={skipQuestion}\r\n                setChecked={setChecked}\r\n                variants={variants}\r\n                answered={answered}\r\n                allQuestionsId={allQuestionsId}\r\n                findTimer={findTimer}\r\n                paused={paused}\r\n              />\r\n              <div style={{ width: '25%' }}>\r\n                <Legend />\r\n                <hr></hr>\r\n                <Circles\r\n                  skipped={skipped}\r\n                  answered={answered}\r\n                  questions={allQuestionsId}\r\n                />\r\n              </div>\r\n            </QuestionWrapper>\r\n            : <Finish />\r\n        )}\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  width: 1000px;\r\n  margin-top: -50px;\r\n  min-height: 75vh;\r\n  padding: 30px 35px;\r\n`;\r\nconst QuestionWrapper = styled.div`\r\n  display: flex;\r\n\r\n  hr {\r\n    background: #f5f5f5;\r\n    border: none;\r\n    height: 2px;\r\n    margin-bottom: 30px;\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state })\r\n)(Test);","import React from 'react';\r\nimport { Typography, Button } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nexport default function StartTestTemplate({ start }) {\r\n  return (\r\n    <Container>\r\n      <Typography variant='h5'>Добро пожаловать в тестирование.</Typography>\r\n      <div>\r\n        <Typography variant='body2'>Для того, чтобы начать - нажмите кнопку \"Начать тест\".</Typography>\r\n        <Typography variant='body2'>Как только, тестирование начнётся - запустится таймер.</Typography>\r\n      </div>\r\n      <Buttons>\r\n        <Button variant='contained' color='primary' onClick={start}>Начать тест</Button>\r\n        <Button color='primary' component='a' href='/learnings'>назад</Button>\r\n      </Buttons>   \r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  padding: 60px 40px;\r\n  min-height: 30vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst Buttons = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  button, a {\r\n    min-width: 150px;\r\n  }\r\n`;\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Typography, Button } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport Test from './Test';\r\nimport API from '../../functions/API';\r\n\r\nexport default function Continue() {\r\n  const [object, setObject] = useState([]);\r\n  const [isContinue, setContinue] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const id = window.location.pathname.replace('/test/', \"\");\r\n    fetch(`${API}/api/result/getResults.php?test_id=${id}`)\r\n      .then(response => response.json())\r\n      .then(results => {\r\n        let testData = [];\r\n        testData.push(results.data.estimated_time);\r\n        testData.push({\r\n          answered: [],\r\n        });\r\n\r\n        results.data.object = JSON.parse(results.data.object);\r\n        results.data.object.forEach(result => {\r\n          result.question_data = JSON.parse(result.question_data);\r\n          testData[1].answered.push(result.question_data.id);\r\n        });\r\n        setObject(testData)   \r\n      })\r\n      .catch(err => console.log(err))\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      {isContinue \r\n        ? <Test object={object} />\r\n        : <Fragment>\r\n          <Typography variant='h4' style={{ marginBottom: 10 }}>Тест стартовал.</Typography>\r\n          <Typography variant='body1'>Вы можете продолжить тестирование, нажав на кнопку ниже.</Typography>\r\n          <Buttons>\r\n            <Button variant='contained' color='primary' onClick={() => setContinue(true)}>продолжить</Button>\r\n            <Button variant='outlined' color='primary' component='a' href='/'>на главную</Button>\r\n          </Buttons>\r\n        </Fragment> \r\n      }\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  height: fit-content;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 60px 30px;\r\n`;\r\nconst Buttons = styled.div`\r\n  margin-top: 30px;\r\n  button {\r\n    margin: 0 10px;\r\n  }\r\n`;","import React, { Fragment, useState, useEffect } from 'react';\r\nimport Header from '../../Header';\r\nimport Test from './Test';\r\nimport styled from 'styled-components';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport StartTestTemplate from './StartTestTemplate';\r\nimport BgBubbles from '../../BgBubbles';\r\nimport { connect } from 'react-redux';\r\nimport { startTest as startTestRequest, setupResult } from '../../Effects/requests';\r\nimport moment from 'moment';\r\nimport Finish from './Finish';\r\nimport Continue from './Continue';\r\nimport API from '../../functions/API';\r\nimport Loader from '../../Loader/Loader';\r\n\r\nif (window.location.pathname !== '/settings') document.body.style.height = 'unset';\r\n\r\nfunction TestContainer({ store }) {\r\n  const [start, setStart] = useState(false);\r\n  const [finished, setFinished] = useState(false);\r\n  const [started, setStarted] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const id = window.location.pathname.replace('/test/',\"\");\r\n    fetch(`${API}/api/test/getStatus.php?id=${id}`)\r\n      .then(response => response.json())\r\n      .then(res => {\r\n        switch(res) {\r\n          case '1': \r\n            setFinished(true);\r\n            break;\r\n          case '0.5':\r\n            setStarted(true);\r\n            break\r\n          default: return;  \r\n        }\r\n      })\r\n      .then(() => setLoading(false))\r\n      .catch(err => console.log(err))\r\n  }, []);\r\n\r\n  function startTest() {\r\n    const test = store.tests[0]\r\n    const id = window.location.pathname.replace('/test/',\"\");\r\n    const testData = {\r\n      test_id: test.id,\r\n      user_id: test.user_id,\r\n      user_name: test.user_name,\r\n      date: moment().format('L'),\r\n      estimated_time: test.estimated_time\r\n    }\r\n\r\n    setStart(true);\r\n    startTestRequest(id);\r\n    setupResult(testData);\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <Header /> \r\n      <Container className='container'>\r\n        <Paper style={styles.container}>\r\n          {loading ? \r\n          <Loader minHeight={250} color=\"primary\" /> :\r\n          start\r\n            ? <Test /> \r\n            : \r\n              !finished && !started \r\n              ? <StartTestTemplate start={startTest} /> \r\n              : finished ? <Finish /> : <Continue />\r\n          }\r\n        </Paper> \r\n      </Container>\r\n      <BgBubbles cssClass='testing-bubbles' />\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    margin: '200px auto 0',\r\n    width: 'fit-content',\r\n    minWidth: 600\r\n  }\r\n}\r\n\r\nconst Container = styled.div``;\r\n\r\nexport default connect(\r\n  state => ({ store: state })\r\n)(TestContainer);","import React, { useEffect, useState, Fragment } from 'react';\r\nimport { fetchSingleTest } from '../../Effects/fetches';\r\nimport Loader from '../../Loader/Loader';\r\nimport { connect } from 'react-redux';\r\nimport TestContainer from './TestContainer';\r\n\r\nfunction TestPage({ fetchTest }) {\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const id = window.location.pathname.replace('/test/',\"\");\r\n    async function fetchData() {\r\n      const response = await fetchSingleTest(id);\r\n      await response ? fetchTest(response) : window.location.href = '/404';\r\n      await setLoading(false);  \r\n    }\r\n    fetchData(); \r\n  }, []);\r\n  \r\n  return (\r\n    <Fragment>\r\n      {loading ? <Loader minHeight='100vh' color='secondary' /> : <TestContainer /> }\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    fetchTest: test => {\r\n      dispatch({ type: 'FETCH_TEST', payload: test })\r\n    }\r\n  })\r\n)(TestPage);","import React, { PureComponent } from \"react\";\r\nimport { DateTimePicker } from \"material-ui-pickers\";\r\nimport { IconButton, InputAdornment } from \"@material-ui/core\";\r\nimport AlarmIcon from \"@material-ui/icons/AddAlarm\";\r\n\r\nclass CustomDateTimePicker extends PureComponent {\r\n  render() {\r\n    const { helperText, date, setDate, error, callback } = this.props;\r\n\r\n    return (\r\n      <DateTimePicker   \r\n        ampm={false}\r\n        showTabs={false}\r\n        autoSubmit={false}\r\n        allowKeyboardControl={true}\r\n        minDate={new Date()}\r\n        value={date}\r\n        onChange={e => {\r\n          setDate(e);\r\n          callback();\r\n        }}\r\n        label={helperText}\r\n        variant='outlined'\r\n        margin='dense'\r\n        cancelLabel='отмена'\r\n        required\r\n        minutesStep={10}\r\n        error={error}\r\n        InputProps={{\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <IconButton>\r\n                <AlarmIcon />\r\n              </IconButton>\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default CustomDateTimePicker;","import React, { useState } from 'react';\r\nimport Modal from '../Modal/Modal';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\nimport styled from 'styled-components';\r\nimport { Paper, TextField, Button, FormControlLabel, Checkbox, MenuItem } from '@material-ui/core';\r\nimport Picker from './Picker';\r\nimport moment from 'moment';\r\nimport { withSnackbar } from 'notistack';\r\nimport { createEvent as requestEvent } from '../Effects/requests';\r\nimport { connect } from 'react-redux';\r\n\r\nconst ranges = [];\r\nconst intervals = [];\r\n\r\nfor (let i = 1; i <= 5; i++) {\r\n  ranges.push({\r\n    value: i,\r\n    label: `${i} ${getNoun(i)}`\r\n  })\r\n}\r\nranges.push({\r\n  value: Infinity,\r\n  label: `не ограничено`\r\n})\r\n\r\nfor (let i = 30; i <= 120; i += 10) {\r\n  intervals.push({\r\n    value: i,\r\n    label: `${i} минут`\r\n  })\r\n}\r\n\r\nfunction getNoun(number) {\r\n  number = Math.abs(number);\r\n  number %= 100;\r\n  if (number >= 5 && number <= 20) return 'участников';\r\n  number %= 10;\r\n  if (number === 1) return 'участник';\r\n  if (number >= 2 && number <= 4) return 'участника';\r\n  return 'участников';\r\n}\r\n\r\nfunction NewEvent({ isOpen, handleClose, enqueueSnackbar, user, onAddEvent }) {\r\n  const [title, setTitle] = useState('');\r\n  const [_startDate, _setStartDate] = useState(null);\r\n  const [_endDate, _setEndDate] = useState(null);\r\n  const [startDate, setStartDate] = useState(null);\r\n  const [endDate, setEndDate] = useState(null);\r\n  const [isSignAllowed, setSignAllowed] = useState(false);\r\n  const [maxUsers, setMaxUsers] = useState(ranges[0].value);\r\n  const [isSplitted, setSplitted] = useState(false);\r\n  const [interval, setInterval] = useState(intervals[2].value);\r\n  const [emptyTitle, setEmptyTitle] = useState(false);\r\n  const [emptyStartDate, setEmptyStartDate] = useState(false);\r\n  const [emptyEndDate, setEmptyEndDate] = useState(false);\r\n\r\n  function setStart(e) {\r\n    const dateString = moment(e._d).format('YYYY-MM-DD HH:mm');\r\n    if (\r\n      (Number(dateString.slice(-5,-3)) > 7 && Number(dateString.slice(-5,-3)) < 18) \r\n      || \r\n      (Number(dateString.slice(-5,-3)) === 18 && Number(dateString.slice(-2)) === 0)\r\n    ) {\r\n      _setStartDate(e._d);\r\n      setStartDate(dateString);\r\n    } else {\r\n      setTimeout(() => setEmptyStartDate(true), 500);\r\n      enqueueSnackbar('Вы можете назначить время только с 08:00 - 18:00', {variant: 'warning'});\r\n    }\r\n  }\r\n\r\n  function setEnd(e) {\r\n    const dateString = moment(e._d).format('YYYY-MM-DD HH:mm');\r\n    if (\r\n      (Number(dateString.slice(-5,-3)) > 7 && Number(dateString.slice(-5,-3)) < 18) \r\n      || \r\n      (Number(dateString.slice(-5,-3)) === 18 && Number(dateString.slice(-2)) === 0)\r\n    ) {\r\n      _setEndDate(e._d);\r\n      setEndDate(dateString); \r\n    } else {\r\n      setTimeout(() => setEmptyEndDate(true), 500);\r\n      enqueueSnackbar('Вы можете назначить время только с 08:00 - 18:00', {variant: 'warning'});\r\n    }\r\n  }\r\n\r\n  function isSameDay() {\r\n    if (endDate && startDate) {\r\n      const ey = parseInt(endDate.slice(0, 4));\r\n      const em = parseInt(endDate.slice(5, 7));\r\n      const ed = parseInt(endDate.slice(8, 10));\r\n      const sy = parseInt(startDate.slice(0, 4));\r\n      const sm = parseInt(startDate.slice(5, 7));\r\n      const sd = parseInt(startDate.slice(8, 10));\r\n      return ey === sy && em === sm && ed === sd ? true : false;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  async function createEvent() {\r\n    if (title && startDate && endDate) {\r\n      const data = { creator: user.id, title, created_at: new Date().getTime() }\r\n\r\n      if (isSignAllowed) {\r\n        data.max = maxUsers;\r\n      } else {\r\n        data.max = '0';\r\n      }\r\n      if (isSplitted) data.interval = interval; \r\n      if (moment(_startDate).diff(moment(_endDate)) > 0) {\r\n        data.startDate = endDate;\r\n        data.endDate = startDate;\r\n      } else {\r\n        data.endDate = endDate;\r\n        data.startDate = startDate;\r\n      }\r\n      \r\n      const success = await requestEvent(data);\r\n\r\n      if (success) {    \r\n        data.name = user.name;\r\n        data.surname = user.surname;\r\n        if (!isSplitted) data.id = success.id\r\n        onAddEvent(data);\r\n        enqueueSnackbar('Событие успешно создано', {variant: 'success'});\r\n        if (isSplitted) window.location.reload();\r\n      } else {\r\n        enqueueSnackbar('Ошибка сервера', {variant: 'error'});\r\n      }\r\n      handleClose();\r\n    } else {\r\n      if (!title) setEmptyTitle(true);\r\n      if (!startDate) setEmptyStartDate(true);\r\n      if (!endDate) setEmptyEndDate(true);\r\n      enqueueSnackbar('Необходимо заполнить все поля', {variant: 'error'});\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      open={isOpen}\r\n      onClose={handleClose}\r\n      component={\r\n        <Wrapper>\r\n          <Paper>\r\n            <Icon onClick={handleClose}>\r\n              <CloseIcon />\r\n            </Icon>\r\n            <TextField\r\n              required\r\n              label=\"Название\"\r\n              margin=\"dense\"\r\n              variant=\"outlined\"\r\n              value={title}\r\n              error={emptyTitle}\r\n              onClick={() => setEmptyTitle(false)}\r\n              onChange={e => setTitle(e.target.value)}\r\n            />\r\n            <Picker\r\n              helperText={window.innerWidth >= 600 ? 'Начало мероприятие' : 'Начало'}\r\n              date={_startDate}\r\n              setDate={setStart}\r\n              error={emptyStartDate}\r\n              callback={() => setEmptyStartDate(false)}\r\n            />\r\n            <Picker\r\n              helperText={window.innerWidth >= 600 ? 'Когда заканчивается' : 'Заканчивается'}\r\n              date={_endDate}\r\n              setDate={setEnd}\r\n              error={emptyEndDate}\r\n              callback={() => setEmptyEndDate(false)}\r\n            />\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  checked={isSignAllowed}\r\n                  onChange={() => setSignAllowed(isSignAllowed ? false : true)}\r\n                  color=\"primary\"\r\n                />\r\n              }\r\n              label=\"На событие можно записаться\"\r\n            />\r\n            {isSignAllowed ?\r\n              <TextField\r\n                select\r\n                variant='outlined'\r\n                margin='dense'\r\n                label=\"Максимальное кол-во участников\"\r\n                value={maxUsers}\r\n                onChange={e => setMaxUsers(e.target.value)}\r\n              >\r\n                {ranges.map(option => (\r\n                  <MenuItem key={option.value} value={option.value}>\r\n                    {option.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </TextField>\r\n              : null}\r\n\r\n            {isSameDay() ? \r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    checked={isSplitted}\r\n                    onChange={() => setSplitted(isSplitted ? false : true)}\r\n                    color=\"primary\"\r\n                  />\r\n                }\r\n                label=\"Разбить на интервалы\"\r\n              /> : null}\r\n            {isSplitted ?\r\n              <TextField\r\n                select\r\n                variant='outlined'\r\n                margin='dense'\r\n                label=\"Интервал\"\r\n                value={interval}\r\n                onChange={e => setInterval(e.target.value)}\r\n              >\r\n                {intervals.map(option => (\r\n                  <MenuItem key={option.value} value={option.value}>\r\n                    {option.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </TextField>\r\n              : null}\r\n            <ButtonContainer>\r\n              <Button variant='contained' color='secondary' onClick={createEvent}>Создать</Button>\r\n              <Button variant='text' color='default' onClick={handleClose}>Отмена</Button>\r\n            </ButtonContainer>\r\n          </Paper>\r\n          <Dialogue />\r\n        </Wrapper>\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  height: fit-content;\r\n  width: 480px;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n  outline: none;\r\n  & > div {\r\n    position: relative;\r\n    display: flex;\r\n    padding: 45px 45px 30px;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    z-index: 10;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: 100%;\r\n    & > div {\r\n      padding: 40px 15px 15px;\r\n    }\r\n  }\r\n`;\r\nconst Dialogue = styled.section`\r\n  position: fixed !important;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  background: rgba(0,0,0,0.54);\r\n  width: 100vw;\r\n  height: 100vh !important;\r\n  z-index: 5;\r\n`;\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  margin-top: 30px;\r\n  button {\r\n    margin-right: 25px;\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  svg {\r\n    cursor: pointer;\r\n    color: rgba(0,0,0,.54);\r\n    position: absolute;\r\n    right: 16px;\r\n    top: 16px;\r\n  }\r\n`\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    onAddEvent: (event) => {\r\n      dispatch({ type: 'ADD_EVENT', payload: event })\r\n    }\r\n  })\r\n)(withSnackbar(NewEvent));\r\n","import React from 'react';\r\nimport Modal from '../Modal/Modal';\r\nimport styled from 'styled-components';\r\nimport { Paper, Button, Typography } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\n\r\nexport default function ConfirmModal({ deleteAppointment, isOpened, handleClose }) {\r\n  return (\r\n    <Modal\r\n      open={isOpened}\r\n      onClose={handleClose}\r\n      component={\r\n        <Wrapper>\r\n            <Paper>\r\n              <Icon onClick={handleClose}>\r\n                <CloseIcon />\r\n              </Icon>\r\n              <Typography variant='body1'>Вы уверены, что хотите удалить мероприятие?</Typography>\r\n              <Typography variant='caption'>Вся информация по мероприятию будет удалена безвозвратно.</Typography>\r\n              <ButtonContainer>\r\n                <Button variant='contained' color='secondary' onClick={deleteAppointment}>Удалить</Button>\r\n                <Button variant='text' color='default' onClick={handleClose}>Отмена</Button>\r\n              </ButtonContainer>\r\n            </Paper>  \r\n          <Dialogue />\r\n        </Wrapper>\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  height: fit-content;\r\n  width: 350px;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n  outline: none;\r\n  & > div {\r\n    position: relative;\r\n    display: flex;\r\n    padding: 45px 25px 30px;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    z-index: 10;\r\n    padding-bottom: 15px;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: 100%;\r\n  }\r\n`;\r\nconst Dialogue = styled.section`\r\n  position: fixed !important;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  background: rgba(0,0,0,0.54);\r\n  width: 100vw;\r\n  height: 100vh !important;\r\n  z-index: 5;\r\n`;\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  margin-top: 30px;\r\n  button {\r\n    margin-right: 25px;\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  svg {\r\n    cursor: pointer;\r\n    color: rgba(0,0,0,.54);\r\n    position: absolute;\r\n    right: 16px;\r\n    top: 16px;\r\n  }\r\n`\r\n\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Paper, Typography, Button } from '@material-ui/core';\r\nimport { ViewState } from '@devexpress/dx-react-scheduler';\r\nimport { Scheduler, WeekView, Toolbar, DateNavigator, Appointments, ViewSwitcher, MonthView, DayView, AppointmentForm, AppointmentTooltip } from '@devexpress/dx-react-scheduler-material-ui';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { fade } from '@material-ui/core/styles/colorManipulator';\r\nimport API from '../functions/API';\r\nimport NewEvent from './NewEvent';\r\nimport { connect } from 'react-redux';\r\nimport { deleteEvent, signUpOnEvent, unSignUpOnEvent } from '../Effects/requests';\r\nimport { withSnackbar } from 'notistack';\r\nimport Modal from './Modal';\r\nimport Fab from '../Fab/Fab';\r\nimport ResponsiveHeader from '../ResponsiveHeader/ResponsiveHeader';\r\n\r\nconst style = theme => ({\r\n  todayCell: {\r\n    backgroundColor: fade(theme.palette.primary.main, 0.1),\r\n    color: 'black',\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.primary.main, 0.14),\r\n    },\r\n    '&:focus': {\r\n      backgroundColor: fade(theme.palette.primary.main, 0.16),\r\n    },\r\n  },\r\n  weekendCell: {\r\n    backgroundColor: fade(theme.palette.action.disabledBackground, 0.04),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.action.disabledBackground, 0.04),\r\n    },\r\n    '&:focus': {\r\n      backgroundColor: fade(theme.palette.action.disabledBackground, 0.04),\r\n    },\r\n  },\r\n  today: {\r\n    backgroundColor: fade(theme.palette.primary.main, 0.16),\r\n  },\r\n  weekend: {\r\n    backgroundColor: fade(theme.palette.action.disabledBackground, 0.06),\r\n  },\r\n});\r\n\r\nconst Appointment = ({ children, style, ...restProps }) => {\r\n  const signedUsers = restProps.data.signed ? restProps.data.signed.split(',') : [];\r\n  const remaining = restProps.data.max - signedUsers.length;\r\n\r\n  return (\r\n    <Appointments.Appointment\r\n      {...restProps}\r\n      style={{\r\n        ...style,\r\n        backgroundColor: !remaining ? '#3949AB' : '#1976d2',\r\n        borderRadius: '8px',\r\n      }}\r\n      onDoubleClick={null}\r\n    >\r\n      {children}\r\n  \r\n    </Appointments.Appointment>\r\n  )\r\n}\r\n\r\nconst AppointmentContentBase = ({ enqueueSnackbar, onSignup, onUnSignup, store, children, ...restProps  }) => {\r\n  const signedUsers = restProps.appointmentData.signed ? restProps.appointmentData.signed.split(',') : [];\r\n  const userName = `${restProps.appointmentData.name} ${restProps.appointmentData.surname}`;\r\n  const remaining = restProps.appointmentData.max - signedUsers.length;\r\n\r\n  function getRemainingPlaces(remaining) {\r\n    if (remaining === 1) return `Осталось одно место.`;\r\n    if (remaining > 1) return `Свободных мест: ${remaining}.`;\r\n    return `Все места заняты.`\r\n  }\r\n\r\n  function signed() {\r\n    if (signedUsers.length === 0) return <Typography variant='body2' style={{ padding: '5px 0' }}>Пока никто не записался</Typography>\r\n    return <Typography variant='body2' style={{ padding: '5px 0' }}>Записались: </Typography>\r\n  }\r\n\r\n  function signUp() {\r\n    const data = {\r\n      id: restProps.appointmentData.id,\r\n      name: store.user.name,\r\n      surname: store.user.surname\r\n    }\r\n    signUpOnEvent(data);\r\n    onSignup(data);\r\n    enqueueSnackbar('Вы записались на мероприятие', { variant: 'success' });\r\n\r\n    var closeIcon = document.getElementById('openedEvent').parentNode.querySelector('div button:last-child')\r\n    closeIcon.click();\r\n  }\r\n\r\n  function unSignUp() {\r\n    const data = {\r\n      id: restProps.appointmentData.id,\r\n      name: store.user.name,\r\n      surname: store.user.surname\r\n    }\r\n    unSignUpOnEvent(data);\r\n    onUnSignup(data);\r\n    enqueueSnackbar('Вы отписались от мероприятия', { variant: 'info' });\r\n\r\n    var closeIcon = document.getElementById('openedEvent').parentNode.querySelector('div button:last-child');\r\n    closeIcon.click();\r\n  }\r\n\r\n  function isSigned() {\r\n    if (restProps.appointmentData.hasOwnProperty('signed')) {\r\n      return restProps.appointmentData.signed.includes(`${store.user.name} ${store.user.surname}`);\r\n    }\r\n    return false;\r\n  }\r\n\r\n  return (\r\n    <div style={{ overflow: 'hidden', paddingBottom: 10 }} id='openedEvent'>\r\n      <div style={{ padding: '5px 15px' }}>\r\n        <Typography variant='subtitle2'>Создатель: {userName}</Typography>\r\n        {restProps.appointmentData.max === '0' ?\r\n        null :\r\n        (<Fragment>\r\n          {signed()}\r\n          {signedUsers.map(user =>\r\n            <Typography variant='body2' key={user}>— {user}</Typography>\r\n          )}\r\n          <Typography variant='caption' style={{ marginTop: 5 }}>{getRemainingPlaces(remaining)}</Typography> \r\n        </Fragment>)}\r\n      </div> \r\n\r\n      {children}\r\n\r\n      {remaining ? \r\n        <div style={{ display: 'flex', justifyContent: 'flex-end', padding: '15px 15px 5px' }}>     \r\n          <Button variant='contained' color='secondary' onClick={!isSigned() ? signUp : unSignUp}>{!isSigned() ? 'записаться' : 'отписаться'} </Button>\r\n        </div> : null}\r\n\r\n      {!remaining && isSigned() ? \r\n      <div style={{ display: 'flex', justifyContent: 'flex-end', padding: '15px 15px 5px' }}>     \r\n        <Button variant='contained' color='secondary' onClick={unSignUp}>{'отписаться'} </Button>\r\n      </div> : null}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst AppointmentContent = connect(state => ({ store: state }),\r\n  dispatch => ({ \r\n    onSignup: (data) => dispatch({ type: 'SIGN_UP', payload: data }),\r\n    onUnSignup: (data) => dispatch({ type: 'UNSIGN_UP', payload: data })\r\n}))(withSnackbar(AppointmentContentBase));\r\n\r\nconst AppointmentsTooltipBase = ({ enqueueSnackbar, onDeleteEvent, style, store, children, ...restProps }) => {\r\n  const [isOpened, setOpen] = useState(false);\r\n\r\n  let isUserAppointment = false;\r\n\r\n  if (restProps.appointmentMeta && restProps.appointmentMeta.data.creator === store.user.id) {\r\n    isUserAppointment = true;\r\n  }\r\n\r\n  const prepareDelete = () => {\r\n    setOpen(true);\r\n  }\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  }\r\n\r\n  const deleteAppointment = () => {\r\n    deleteEvent(restProps.appointmentMeta.data.id);\r\n    onDeleteEvent(restProps.appointmentMeta.data.id);\r\n    restProps.onHide();\r\n    setOpen(false);\r\n    enqueueSnackbar('Событие удалено', { variant: 'success' });\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <AppointmentTooltip.Layout\r\n        {...restProps}\r\n        contentComponent={AppointmentContent}\r\n        showDeleteButton={isUserAppointment}\r\n        onDeleteButtonClick={prepareDelete}\r\n      >\r\n        {children}  \r\n      </AppointmentTooltip.Layout>\r\n      {isOpened ? \r\n        <Modal \r\n          isOpened={isOpened}\r\n          handleClose={handleClose}\r\n          deleteAppointment={deleteAppointment}\r\n        /> \r\n      : null}\r\n    </Fragment>  \r\n  )\r\n}\r\n\r\nconst AppointmentsTooltip = connect(state => ({ store: state }),\r\n  dispatch => ({ onDeleteEvent: (id) => dispatch({ type: 'DELETE_EVENT', payload: id })\r\n}))(withSnackbar(AppointmentsTooltipBase));\r\n\r\nconst TimeTableCellBase = ({ classes, ...restProps }) => {\r\n  const { startDate } = restProps;\r\n  const date = new Date(startDate);\r\n  if (date.getDate() === new Date().getDate()) {\r\n    return <WeekView.TimeTableCell {...restProps} className={classes.todayCell} />;\r\n  } if (date.getDay() === 0 || date.getDay() === 6) {\r\n    return <WeekView.TimeTableCell {...restProps} className={classes.weekendCell} />;\r\n  } return <WeekView.TimeTableCell {...restProps} />;\r\n};\r\n\r\nconst TimeTableCell = withStyles(style, { name: 'TimeTableCell' })(TimeTableCellBase);\r\n\r\nconst DayScaleCellBase = ({ classes, ...restProps }) => {\r\n  const { startDate, today } = restProps;\r\n  if (today) {\r\n    return <WeekView.DayScaleCell {...restProps} className={classes.today} />;\r\n  } if (startDate.getDay() === 0 || startDate.getDay() === 6) {\r\n    return <WeekView.DayScaleCell {...restProps} className={classes.weekend} />;\r\n  } return <WeekView.DayScaleCell {...restProps} />;\r\n};\r\n\r\nconst DayScaleCell = withStyles(style, { name: 'DayScaleCell' })(DayScaleCellBase);\r\n\r\nfunction Calendar({ onReadEvents, onFetchEvents, store: { user, events, unreaded } }) {\r\n  const [isOpen, setOpen] = useState(false);\r\n  const handleClose = () => setOpen(false);\r\n\r\n  useEffect(() => {\r\n    fetch(`${API}/api/calendar/read.php`)\r\n      .then(response => response.json())\r\n      .then(events => onFetchEvents(events))\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let timeout = null;\r\n    if (unreaded.events > 0) {\r\n      timeout = setTimeout(() => {\r\n        document.querySelector('.eventsBadge span').style.display = 'none';\r\n        onReadEvents();\r\n      }, 2000)\r\n    }\r\n    return () => window.clearTimeout(timeout)\r\n  });\r\n\r\n  return (\r\n    <Fragment>\r\n      {window.innerWidth < 600 ? <ResponsiveHeader title='Календарь' /> : null}\r\n\r\n      <Paper style={window.innerWidth < 600 ? { paddingBottom: 40, marginTop: 60 } : {}}>\r\n        {user.admin === '1' ?\r\n          <span onClick={() => setOpen(true)}>\r\n            <Fab color='primary' title='создать событие' />\r\n          </span>\r\n        : null}\r\n        <Scheduler\r\n          style={{ height: '100%' }}\r\n          data={events}     \r\n        >\r\n          <ViewState\r\n            defaultCurrentViewName=\"День\"\r\n          />\r\n          <DayView\r\n            name=\"День\"\r\n            startDayHour={8}\r\n            endDayHour={19}\r\n          />\r\n          <WeekView\r\n            name=\"Неделя\"\r\n            startDayHour={8}\r\n            endDayHour={19}\r\n            firstDayOfWeek={1}\r\n            timeTableCellComponent={TimeTableCell}\r\n            dayScaleCellComponent={DayScaleCell}\r\n          />\r\n          <MonthView\r\n            name=\"Месяц\"\r\n            firstDayOfWeek={1}\r\n          />\r\n          <Toolbar />\r\n          <DateNavigator />       \r\n          <ViewSwitcher />\r\n          <Appointments\r\n            appointmentComponent={Appointment}   \r\n          />\r\n          <AppointmentTooltip\r\n            showOpenButton={false}\r\n            layoutComponent={AppointmentsTooltip}\r\n            showCloseButton   \r\n          />\r\n          <AppointmentForm\r\n            messages={{\r\n              allDayLabel: 'Весь день',\r\n              titleLabel: 'Мероприятие',\r\n              startDateLabel: 'Дата начала',\r\n              endDateLabel: 'Дата завершения',\r\n              commitCommand: 'Создать',\r\n              cancelCommand: 'Отмена',\r\n            }}\r\n            readOnly={true}\r\n          />\r\n        </Scheduler>\r\n        {isOpen ? \r\n          <NewEvent \r\n            isOpen={isOpen}\r\n            handleClose={handleClose}\r\n            user={user}\r\n          /> \r\n        : null}\r\n      </Paper>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    onFetchEvents: (events) => {\r\n      dispatch({ type: 'FETCH_EVENTS', payload: events })\r\n    },\r\n    onDeleteEvent: (id) => {\r\n      dispatch({ type: 'DELETE_EVENT', payload: id })\r\n    },\r\n    onReadEvents: () => dispatch({ type: \"READ_EVENTS\" }),  \r\n  })\r\n)(Calendar);\r\n","import React, { Fragment } from 'react';\r\nimport Header from '../Header';\r\nimport MainpageHeader from '../MainpageHeader';\r\nimport Nav from '../Navigation/Navigation';\r\nimport { connect } from 'react-redux';\r\nimport Loader from '../Loader/Loader';\r\nimport CalendarContainer from './CalendarContainer';\r\n\r\nfunction index({  store: { user }} ) {\r\n  return (\r\n    <Fragment>\r\n      <MainpageHeader />\r\n      <div className=\"container\"> \r\n        <Header />\r\n        <Nav />\r\n      </div> \r\n\r\n      {!user.hasOwnProperty('name') \r\n        ? <Loader minHeight={370} />\r\n        : <CalendarContainer user={user} /> }\r\n  </Fragment>\r\n  )\r\n}\r\n\r\nexport default connect(state => ({ store: state }))(index);","import MainPage from './components/MainPage';\r\nimport LoginForm from './components/LoginForm';\r\nimport Approved from './components/Approved';\r\nimport Restore from './components/Restore';\r\nimport Page404 from './components/Page404';\r\nimport Settings from './components/Settings';\r\nimport TestPage from './components/Learnings/TestPage/index';\r\nimport Calendar from './components/Calendar/index';\r\n\r\nconst routes = [\r\n  {\r\n    path: '/id:user_id',\r\n    component: MainPage,\r\n    description: 'страница пользователя'\r\n  },\r\n  {\r\n    path: '/colleagues',\r\n    component: MainPage,\r\n    description: 'Список друзей(коллег)'\r\n  },\r\n  {\r\n    path: '/news',\r\n    component: MainPage,\r\n    description: 'Новости'\r\n  },\r\n  {\r\n    path: '/messages',\r\n    component: MainPage,\r\n    description: 'Личные сообщения'\r\n  },\r\n  {\r\n    path: '/tasks',\r\n    component: MainPage,\r\n    description: 'Задачи'\r\n  },\r\n  {\r\n    path: '/learnings',\r\n    component: MainPage,\r\n    description: 'Обучение'\r\n  },\r\n  {\r\n    path: '/settings',\r\n    component: Settings,\r\n    description: 'Персональные данные'\r\n  },\r\n  {\r\n    path: '/calendar',\r\n    component: Calendar,\r\n    description: 'Календарь'\r\n  },\r\n  {\r\n    path: '/feed',\r\n    component: MainPage,\r\n    description: 'Оповещения'\r\n  },\r\n  {\r\n    path: '/test/:any',\r\n    component: TestPage,\r\n    description: 'Страница тестирования'\r\n  },\r\n  {\r\n    path: '/login',\r\n    component: LoginForm,\r\n    description: 'Страница авторизации / регистрации'\r\n  },\r\n  {\r\n    path: '/approved',\r\n    component: Approved,\r\n    description: 'Страница подтверждения регистрации'\r\n  },\r\n  {\r\n    path: '/Restore',\r\n    component: Restore,\r\n    description: 'Страница восстановления пароля'\r\n  },\r\n  {\r\n    path: '/404',\r\n    component: Page404,\r\n    description: 'страница 404'\r\n  },\r\n  {\r\n    path: '/:any', // любой не валидный путь\r\n    component: Page404,\r\n    description: 'страница 404'\r\n  }\r\n]\r\n\r\nexport default routes;","import React, { Component, useState } from 'react';\r\nimport SignupForm from './SignupForm';\r\nimport RegisterForm from './RegisterForm';\r\nimport Header from './Header';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport BgBubbles from './BgBubbles';\r\nimport './css/LoginForms.css';\r\n\r\n/* class LoginForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      whichForm: false,\r\n    }\r\n    this.changeForm = this.changeForm.bind(this);\r\n  }\r\n\r\n  changeForm() {\r\n    this.setState({whichForm: !this.state.whichForm});\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"login-screen\">\r\n        <Header />\r\n        <div className=\"login-screen-container\">\r\n          <p className=\"login-screen-greetings\">Здравствуйте</p>  \r\n          <div className=\"login-button-container\">\r\n            <button className={this.state.whichForm ? 'login-screen-button login-screen-button-enabled' : 'login-screen-button'} onClick={this.changeForm}>\r\n              <Typography variant='button'>Войти</Typography>\r\n            </button>\r\n            <button className={this.state.whichForm ? 'login-screen-button' : 'login-screen-button login-screen-button-enabled'} onClick={this.changeForm}>\r\n              <Typography variant='button'>Зарегистрироваться</Typography>\r\n            </button>\r\n          </div>              \r\n          {this.state.whichForm ? <RegisterForm /> : <SignupForm />}                        \r\n        </div>\r\n        <BgBubbles /> \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginForm; */\r\n\r\nexport default function LoginForm(props){\r\n  let [whichForm, setWhichform] = useState(false);\r\n  const changeForm = () => {\r\n    setWhichform(!whichForm);\r\n  }\r\n  return(\r\n    <div className=\"login-screen\">\r\n        <Header />\r\n        <div className=\"login-screen-container\">\r\n          <p className=\"login-screen-greetings\">Здравствуйте</p>  \r\n          <div className=\"login-button-container\">\r\n            <button className={whichForm ? 'login-screen-button login-screen-button-enabled' : 'login-screen-button'} onClick={changeForm}>\r\n              <Typography variant='button'>Войти</Typography>\r\n            </button>\r\n            <button className={whichForm ? 'login-screen-button' : 'login-screen-button login-screen-button-enabled'} onClick={changeForm}>\r\n              <Typography variant='button'>Зарегистрироваться</Typography>\r\n            </button>\r\n          </div>              \r\n          {whichForm ? <RegisterForm /> : <SignupForm />}                        \r\n        </div>\r\n        <BgBubbles /> \r\n    </div>\r\n  )\r\n} \r\n","import React, { useEffect } from 'react';\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { faComments, faHeart, faEnvelope, faEdit } from '@fortawesome/free-solid-svg-icons';\r\nimport routes from './routes';\r\nimport { connect } from 'react-redux';\r\nimport API from './components/functions/API';\r\nimport { withSnackbar } from 'notistack' ;\r\nimport Button from '@material-ui/core/Button';\r\n\r\nlibrary.add(faComments, faHeart, faEnvelope, faEdit)\r\n\r\nfunction App({ enqueueSnackbar, onFetchFeed, setUnreadedFeed, onFetchNews, onFetchUser, onGetNewFeed, setUnreadedMessages, store: { unreaded } }) {\r\n  /**\r\n   * @interval - дефолтные интервал получения данных с запросов\r\n   * @snackbarProps - дефолтные параметры снэкбара\r\n   */\r\n  const interval = 15 * 1000;\r\n  const snackbarProps = {\r\n    autoHideDuration: 5000,\r\n    action: <Button size=\"small\" style={{ color: '#1976d2', fontWeight: 700 }}>{'OK'}</Button>\r\n  }\r\n\r\n  /**\r\n   * для начала просто получим юзера \r\n  **/\r\n  useEffect(() => {\r\n    fetch(`${API}/api/user/info.php`)\r\n      .then(response => response.json())\r\n      .then(user => onFetchUser(user))\r\n  }, [])\r\n\r\n\r\n  /**\r\n   * получаем непрочитанные сообщения каждые @interval секунд\r\n  **/\r\n  useEffect(() => {\r\n    let initial = true;\r\n\r\n    function fetchMessages() {\r\n      if (initial || window.location.pathname !== '/messages') {\r\n        fetch(`${API}/api/message/getUnreaded.php`)\r\n          .then(response => response.json())\r\n          .then(res => {\r\n            if (res.unreaded.new > unreaded.messages) {\r\n              setUnreadedMessages(res.unreaded);\r\n              reloadNavigation();\r\n              if (!initial) showSnackbar(res.messages, res.messages.length)\r\n            }\r\n            initial = false;\r\n          })\r\n      }\r\n    }\r\n\r\n    fetchMessages();\r\n    setInterval(() => fetchMessages(), interval)\r\n  }, [])\r\n\r\n  /**\r\n   * Получаем ленту оповещений каждые @interval секунд\r\n   * @fetchFeed - запрос на получение ленты\r\n   * @showSnackbar - за каждый новый элемент в ленте - показываем снэкбар\r\n  **/\r\n  useEffect(() => {\r\n    let timestamp = null;\r\n  \r\n    function fetchFeed() {\r\n      fetch(`${API}/api/getFeed.php`)\r\n        .then(response => response.json())\r\n        .then(feed => {\r\n          if (feed.length > 0 && feed[0].created_at > timestamp) {\r\n            if (timestamp) setUnreadedFeed( countNew(feed) );\r\n            onFetchFeed(feed);\r\n            showSnackbar(feed, countNew(feed) );    \r\n            timestamp = feed[0].created_at;\r\n    }})}\r\n\r\n    function countNew(feed) {\r\n      return feed.findIndex(item => item.created_at === timestamp);\r\n    }\r\n\r\n    fetchFeed();\r\n    setInterval(() => fetchFeed(), interval)\r\n  }, []);\r\n\r\n  /**\r\n   * получаем список новостей каждые @interval секунд\r\n  **/\r\n  useEffect(() => {\r\n    let newsCount = 0;\r\n    function fetchNews() {\r\n      fetch(`${API}/api/news/read.php`)\r\n        .then(response => response.json())\r\n        .then(news => {\r\n          if (newsCount !== news.records.length) {\r\n            onFetchNews(news.records || []);\r\n            newsCount = news.records.length;\r\n          }\r\n        })\r\n    }\r\n\r\n    fetchNews();\r\n    setInterval(() => fetchNews(), interval)\r\n  }, [])\r\n  \r\n  function showSnackbar(feed, times) {\r\n    for (let i = 0; i < times; i++) {\r\n      switch (feed[i].type) {\r\n        case 'news':\r\n          onGetNewFeed('news');\r\n          reloadNavigation();\r\n          enqueueSnackbar(`Новость. ${feed[i].name} ${feed[i].surname} — ${feed[i].title}`, snackbarProps);\r\n          break;\r\n        case 'likes':\r\n          enqueueSnackbar(`Пользователю ${feed[i].name} ${feed[i].surname} понравилась ваша запись — ${feed[i].title}`, snackbarProps);\r\n          break;\r\n        case 'tasks':\r\n          onGetNewFeed('tasks');\r\n          reloadNavigation();\r\n          enqueueSnackbar(`Новая задача ${feed[i].importance === '1' ? ' c пометкой \"Важное\" ' : ''} от ${feed[i].name} ${feed[i].surname} — ${feed[i].text}`, snackbarProps);\r\n          break;\r\n        case 'messages':\r\n          enqueueSnackbar(`Новое сообщение от ${feed[i].name} ${feed[i].surname}`, snackbarProps);\r\n          break;\r\n        case 'comments':\r\n          enqueueSnackbar(`Пользователь ${feed[i].name} ${feed[i].surname} — оставил комментарий к вашей записи: ${feed[i].title}`, snackbarProps);\r\n          break;\r\n        case 'events':\r\n          onGetNewFeed('events');\r\n          reloadNavigation();\r\n          enqueueSnackbar(`Новое событие в календаре — ${feed[i].title}`, snackbarProps);\r\n          break;\r\n        default: return Infinity;  \r\n  }}}\r\n  \r\n  function reloadNavigation() {\r\n    document.getElementById('reloadNavigation').click();\r\n  }\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        {routes.map(route =>\r\n          <Route \r\n            path={route.path} \r\n            component={route.component} \r\n            key={route.description}\r\n          />\r\n        )}\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default connect(state => ({ store: state }),\r\n  dispatch => ({\r\n    onFetchUser: user => dispatch({ type: 'FETCH_USER', payload: user }),\r\n    onFetchFeed: feed => dispatch({ type: 'FETCH_FEED', payload: feed }),\r\n    onFetchNews: news => dispatch({ type: 'FETCH_NEWS', payload: news }),\r\n    setUnreadedFeed: count => dispatch({ type: 'UNREADED_FEED', payload: count }),\r\n    setUnreadedMessages: count => dispatch({ type: 'UNREADED_MESSAGES', payload: count }),\r\n    onGetNewFeed: type => dispatch({ type: 'NEW_FEED', payload: type }),\r\n}))(withSnackbar(App));\r\n\r\n\r\n","const initialState = {\r\n  feed: 0,\r\n  news: 0,\r\n  messages: 0,\r\n  tasks: 0, \r\n  events: 0,\r\n  chats: []\r\n}\r\n\r\nexport default function reducing(state = initialState, action) {\r\n  switch (action.type) {\r\n    case 'UNREADED_MESSAGES':\r\n      state.messages = action.payload.new;\r\n      let chatsArr = [];\r\n      for (let item in action.payload) {\r\n        if (typeof action.payload[item] === 'object') {\r\n          chatsArr.push(action.payload[item])\r\n        }\r\n      }\r\n      state.chats = chatsArr;\r\n      return state;\r\n    case 'UNREADED_FEED':\r\n      state.feed = state.feed + action.payload;\r\n      return state;\r\n    case 'READ_FEED':\r\n      state.feed = 0;\r\n      return state;\r\n    case 'READ_CHAT':\r\n      const current = state.chats.find(chat => chat.chat_id === action.payload).unreaded;\r\n      state.messages -= current;\r\n      state.chats = state.chats.filter(chat => chat.chat_id !== action.payload);\r\n      return state;\r\n    case 'READ_NEWS':\r\n      state.news = 0;\r\n      return state;\r\n    case 'READ_TASKS':\r\n      state.tasks = 0;\r\n      return state;\r\n    case 'READ_EVENTS':\r\n      state.events = 0;\r\n      return state;\r\n    case 'NEW_FEED':\r\n      \r\n      switch (action.payload) {\r\n        case 'news':\r\n          state.news += 1;\r\n          return state;\r\n        case 'tasks':\r\n          state.tasks += 1;\r\n          return state;\r\n        case 'events':\r\n          state.events += 1;\r\n          return state;\r\n        default: return Infinity;      \r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport user from './user';\r\nimport tasks from './tasks';\r\nimport news from './news';\r\nimport chats from './chats';\r\nimport room from './room';\r\nimport messages from './messages';\r\nimport friends from './friends';\r\nimport tests from './tests';\r\nimport categories from './categories';\r\nimport events from './events';\r\nimport feed from './feed';\r\nimport unreaded from './unreaded';\r\n\r\nexport default combineReducers({\r\n  user,\r\n  news,\r\n  tasks,\r\n  chats,\r\n  room,\r\n  messages,\r\n  friends,\r\n  tests,\r\n  categories,\r\n  events,\r\n  feed,\r\n  unreaded\r\n})","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'UPDATE_USER':\r\n      let updated = state;\r\n      updated[action.field] = action.payload; \r\n      return updated\r\n    case 'FETCH_USER':  \r\n      return action.payload\r\n    case 'ADD_CHILD':\r\n      let childs = JSON.parse(state.childs);\r\n      state.childs = JSON.stringify([...childs, action.payload])\r\n      return state\r\n    case 'REMOVE_CHILD':\r\n      let Childs = JSON.parse(state.childs);\r\n      state.childs = JSON.stringify(Childs.filter(child => child.id !== action.payload))\r\n      return state\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  let index = state.findIndex(item => item.id === action.payload);\r\n\r\n  switch (action.type) {\r\n    case 'UPDATE_NEWS':\r\n      const newState = state;\r\n      let updatedNews = action.payload;\r\n      let indexUpNews = newState.findIndex(item => item.id === updatedNews.id);\r\n      newState[indexUpNews].title = updatedNews.title;\r\n      newState[indexUpNews].text = updatedNews.text;\r\n      newState[indexUpNews].image = updatedNews.image;\r\n      return newState;\r\n    case 'FETCH_NEWS':\r\n      return [...action.payload]\r\n    case 'DELETE_NEWS':\r\n      let nextState = state.filter(item => item.id !== action.payload);\r\n      return [...nextState]\r\n    case 'ADD_NEWS':\r\n      return [action.payload, ...state] \r\n    case 'ADD_LIKE': \r\n      state[index].likes = Number(state[index].likes) + 1;\r\n      state[index].liked_by += `, ${action.user_id}`;\r\n      return state;\r\n    case 'REMOVE_LIKE':\r\n      state[index].likes = Number(state[index].likes) - 1;\r\n      state[index].liked_by = state[index].liked_by.replace(`, ${action.user_id}`, '');\r\n      return state;\r\n    case 'ADD_COMMENT':\r\n      state[index].comments = Number(state[index].comments) + 1;\r\n      return state;\r\n    case 'REMOVE_COMMENT':\r\n      state[index].comments = Number(state[index].comments) - 1;\r\n      return state;\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_TASKS':\r\n      if (Array.isArray(action.payload)) {\r\n        return [...action.payload]\r\n      }\r\n      return state\r\n    case 'MARK_COMPLETED':\r\n      return [...action.payload]\r\n    case 'ADD_TASK':\r\n      return [...action.payload]\r\n    case 'FILTER_TASKS':\r\n      return [...action.payload]\r\n    case 'READED_TASK':\r\n      let newState = state;\r\n      let readed = newState.find(task => task.id === action.payload);\r\n      readed.readed = 1;\r\n      return newState;\r\n    case 'DELETE_TASK':\r\n      let nextState = state.filter(item => item.id !== action.payload);\r\n      return [...nextState]\r\n    default:\r\n      return state\r\n  }\r\n}","import _ from 'lodash';\r\n\r\nexport default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_CHATS':\r\n      return [...action.payload]\r\n    case 'CREATE_CHAT':\r\n      return [...state, action.payload]\r\n    case 'DELETE_CHAT':\r\n      let cleared = state.filter(chat => chat.id !== action.payload);\r\n      return cleared\r\n    case 'ADD_MESSAGE':\r\n      let newState = state.filter(chat => chat.id !== action.payload.chat);\r\n      let currentChat = state.find(chat => chat.id === action.payload.chat);\r\n      currentChat.message = action.payload;\r\n      newState = _.concat(newState, currentChat)\r\n      return newState\r\n    case 'EDIT_MESSAGE':\r\n      let editedState = state.filter(chat => chat.message.id !== action.payload[0]);\r\n      let editedMessage = state.find(chat => chat.message.id === action.payload[0]);\r\n      \r\n      if (editedMessage) {\r\n        editedMessage.message.body = action.payload[1];\r\n        editedState = _.concat(editedState, editedMessage)\r\n      }\r\n      \r\n      return editedState\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'OPEN_CHAT':\r\n      return {chat_id: action.payload[0], user: action.payload[1]}\r\n    case 'CLOSE_CHAT':\r\n      return {user: action.payload[1]};\r\n    case 'DELETE_CHAT':\r\n      let initial = state;\r\n      delete initial.chat_id;\r\n      initial.user.message = null;\r\n      return initial\r\n    case 'ASSIGN_CHAT':\r\n      let newState = state;\r\n      newState.chat_id = action.payload;\r\n      return newState;\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_MESSAGES':\r\n      return [...action.payload]\r\n    case 'ADD_MESSAGE':\r\n      let newMessage = action.payload;\r\n      newMessage.id = (Number(localStorage.getItem('message_id')) + 1).toString();\r\n      let finder = state.find(message => message.id === newMessage.id);\r\n      if (finder) {\r\n        newMessage.id = (Number(newMessage.id) + 1).toString();\r\n      }\r\n      return [...state, newMessage]\r\n    case 'DELETE_MESSAGE':\r\n      let newState = state.filter(message => message.id !== action.payload);\r\n      return newState\r\n    case 'CLOSE_CHAT':\r\n      return []\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_FRIENDS':\r\n      return [...action.payload]\r\n    case 'FILTER_FRIENDS':\r\n      return [...action.payload]\r\n    case 'SET_FRIENDS':\r\n      return action.payload\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_TESTS':\r\n      return [...action.payload]\r\n    case 'FETCH_TEST':\r\n      return action.payload;\r\n    case 'ADD_TEST':\r\n      return [...state, action.payload]\r\n    case \"DELETE_TEST\":\r\n      let filtered = state.filter(test => Number(test.id) !== Number(action.payload));\r\n      return filtered;\r\n    case 'FILTER_TESTS':\r\n      return [...action.payload]\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'GET_CATEGORIES':\r\n      return action.payload\r\n    case 'RESE_CATEGORIES':\r\n      return action.payload\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_EVENTS':\r\n      return Array.isArray(action.payload) ? [...action.payload] : state;\r\n    case 'ADD_EVENT':\r\n      return [...state, action.payload]\r\n    case 'CHANGE_EVENTS':\r\n      return [...action.payload]\r\n    case 'DELETE_EVENT':\r\n      return state.filter(item => item.id !== action.payload)\r\n    case 'SIGN_UP':  \r\n      let event = state.find(event => event.id === action.payload.id);\r\n\r\n      if (!event.signed) {\r\n        event.signed = `${action.payload.name} ${action.payload.surname}`;\r\n      } else {\r\n        event.signed += `, ${action.payload.name} ${action.payload.surname}`;\r\n      }\r\n  \r\n      let index = state.findIndex((obj => obj.id === action.payload.id));\r\n      let newState = state;\r\n      \r\n      newState[index].signed = event.signed;\r\n\r\n      return newState\r\n    case 'UNSIGN_UP':\r\n      let updatedState = state;\r\n      let thisEvent = state.find(event => event.id === action.payload.id);\r\n      let userName = `${action.payload.name} ${action.payload.surname}`;\r\n      \r\n      if (thisEvent.signed.split(',').length > 1) {\r\n        if (thisEvent.signed.split(',')[0] === userName) {\r\n          thisEvent.signed = thisEvent.signed.replace(`${userName},`, '');\r\n        } else {\r\n          thisEvent.signed = thisEvent.signed.replace(`, ${userName}`, '');\r\n        }    \r\n      } \r\n      thisEvent.signed = thisEvent.signed.replace(userName, '');\r\n      \r\n\r\n      let i = state.findIndex((obj => obj.id === action.payload.id));\r\n      updatedState[i].signed = thisEvent.signed;\r\n\r\n      return updatedState  \r\n    \r\n    default: return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_FEED':\r\n      return [...action.payload]\r\n    default:\r\n      return state\r\n  }\r\n}","import { createMuiTheme } from '@material-ui/core/styles';\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: { main: '#1976d2' }, \r\n    secondary: { main: '#ff4800' },\r\n  },\r\n  typography: { useNextVariants: true },\r\n  overrides: {\r\n    MuiSnackbar: { \r\n      root: { \r\n        bottom: window.innerWidth < 600 ? '60px !important' : '0', \r\n      },\r\n    },\r\n    MuiModal: {\r\n      root: {\r\n        bottom: window.innerWidth < 600 ? '60px !important' : '0', \r\n        maxWidth: `${window.innerWidth}px !important`\r\n      },\r\n    },\r\n    MuiBackdrop: {\r\n      root: {\r\n        bottom: window.innerWidth < 600 ? 'display: none' : 'display: block', \r\n      },\r\n    },\r\n    MuiFab: {\r\n      root: {\r\n        bottom: window.innerWidth < 600 ? '76px' : '0', \r\n        zIndex: 10\r\n      }\r\n    },\r\n    MuiList: {\r\n      padding: {\r\n        padding: '0 !important'\r\n      }\r\n    },\r\n    MuiGrid: {\r\n      container: {\r\n        height: '100% !important'\r\n      }\r\n    },\r\n    MuiTableCell: {\r\n      root: {\r\n        pointerEvents: 'none'\r\n      }\r\n    },\r\n    Layout: {\r\n      title: {\r\n        marginLeft: '-40px'\r\n      }\r\n    },\r\n    VerticalAppointment: {\r\n      content: {\r\n        fontSize: '1.1rem'\r\n      },\r\n      title: {\r\n        fontWeight: '500',\r\n        fontSize: '1.2rem'\r\n      },\r\n      textContainer: {\r\n        lineHeight: '20px',\r\n        opacity: '.75'\r\n      }\r\n    },\r\n    MuiTab: {\r\n      label: {\r\n        fontSize: window.innerWidth < 600 ? '8px' : '0.875rem'\r\n      }\r\n    },\r\n    MuiPrivateNotchedOutline: {\r\n      legend: {\r\n        maxWidth: 'calc(100vw - 50px)'\r\n      }\r\n    },\r\n    MuiBadge: {\r\n      root: {\r\n        position: window.innerWidth < 600 ? 'unset' : 'relative',\r\n      },\r\n      badge: {\r\n        top: window.innerWidth < 600 ? '10px !important' : '19px',\r\n        right: window.innerWidth < 600 ? '10px !important' : '-5px',\r\n      }\r\n    },\r\n    MuiTypography: {\r\n      colorTextSecondary: {\r\n        position: 'relative'\r\n      }\r\n    },\r\n    MuiPickersModal: {\r\n      dialogRoot: {\r\n        height: window.innerWidth < 600 ? '100vh' : 'fit-content'\r\n      }\r\n    },\r\n    MuiDialog: {\r\n      paperScrollPaper : {\r\n        maxHeight: window.innerWidth < 600 ? 'calc(100vh - 96px)' : 'calc(100% - 96px)'\r\n      }\r\n    }\r\n  },\r\n});\r\n\r\nexport default theme;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { createStore } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport reducer from './reducers';\r\nimport theme from './MaterialTheme';\r\nimport { MuiPickersUtilsProvider } from 'material-ui-pickers';\r\nimport { MuiThemeProvider } from '@material-ui/core/styles';\r\nimport MomentUtils from '@date-io/moment';\r\nimport moment from 'moment';\r\nimport 'moment/locale/ru';\r\nimport { SnackbarProvider } from 'notistack';\r\n\r\nlet store = createStore(reducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\r\nmoment.locale('ru');\r\n\r\nfunction Root() {\r\n  return (\r\n    <MuiThemeProvider theme={theme}>\r\n      <Provider store={store}>\r\n        <MuiPickersUtilsProvider utils={MomentUtils} moment={moment}>\r\n          <SnackbarProvider \r\n            maxSnack={3} \r\n            preventDuplicate={true}\r\n          >\r\n            <App />\r\n          </SnackbarProvider>\r\n        </MuiPickersUtilsProvider>\r\n      </Provider>\r\n    </MuiThemeProvider>\r\n  );\r\n}\r\n\r\nReactDOM.render(<Root />, document.getElementById('root'));\r\n"],"sourceRoot":""}