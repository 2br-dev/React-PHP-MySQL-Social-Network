{"version":3,"sources":["components/img/icons/baseline-search-24px.svg","components/img/photos/Water image_Dreamstime.jpg","components/img/photos/sphere.png","components/img/photos/images.png","components/Header.jsx","components/Loader/Loader.jsx","components/DropdownActions/Select.jsx","components/DropdownActions/Dropdown.jsx","components/MainpageHeader.jsx","components/functions/API.js","components/SingleNews.jsx","components/SideNews.jsx","components/FriendsList/Friend.jsx","components/FriendsList/Search.jsx","components/FriendsList/NotFound.jsx","components/FriendsList/FriendsList.jsx","components/Modal/Modal.jsx","components/DropdownActions/ConfirmStatus.jsx","components/PersonalInfo.jsx","components/Fab/Fab.jsx","components/Tasks/Autocomplete.jsx","components/Tasks/Pickers.jsx","components/Tasks/TextInput.jsx","components/Tasks/Stepper.jsx","components/Tasks/NewTask.jsx","components/Tasks/Task.jsx","components/Tasks/ConfirmDelete.jsx","components/ResponsiveHeader/ResponsiveHeader.jsx","components/Tasks/Tasks.jsx","components/News/NewNews.jsx","components/News/ConfirmDelete.jsx","components/News.jsx","components/Navigation/sections.js","components/Navigation/Navigation.jsx","components/Chat/ChatItem.jsx","components/Chat/NoMessages.jsx","components/Chat/Message.jsx","components/Chat/Messages.jsx","components/Chat/SendMessageInput.jsx","components/Chat/EditMessageInput.jsx","components/Chat/DeleteModal.jsx","components/Chat/ChatRoom.jsx","components/Chat/Dialogues.jsx","components/Chat/NoChats.jsx","components/Chat/Chat.jsx","components/Feed/UserAvatar.jsx","components/Feed/Comment.jsx","components/Feed/Like.jsx","components/Feed/News.jsx","components/Feed/Task.jsx","components/Feed/Result.jsx","components/Feed/Event.jsx","components/Feed/ThatsIt.jsx","components/Feed/index.jsx","components/Media/Media.jsx","components/Learnings/cards.js","components/Learnings/Container.jsx","components/Learnings/Materials.jsx","components/Effects/fetches.jsx","components/List/NotFound.jsx","components/List/List.jsx","components/Learnings/NoTests.jsx","components/Learnings/Search.jsx","components/Learnings/Steps/SelectUser.jsx","components/Learnings/Steps/SelectTime.jsx","components/Learnings/Steps/QuestionItem.jsx","components/Learnings/Steps/CategoryItem.jsx","components/Learnings/Steps/SelectQuestions.jsx","components/Learnings/Steps/Stepper.jsx","components/Learnings/Steps/GenerateTest.jsx","components/Learnings/AdminPanel.jsx","components/Learnings/UserPanel.jsx","components/Learnings/Tests.jsx","components/Learnings/Learnings.jsx","components/MainPage.jsx","components/ForgetPassword.jsx","components/functions/Cookie.js","components/SignupForm.jsx","components/RegisterForm.jsx","components/BgBubbles.jsx","components/LoginForm.jsx","components/Approved.jsx","components/Restore.jsx","components/Page404.jsx","components/Settings.jsx","components/Learnings/TestPage/Timer.jsx","components/Learnings/TestPage/Question.jsx","components/Learnings/TestPage/Circles.jsx","components/Learnings/TestPage/Legend.jsx","components/Effects/requests.jsx","components/Learnings/TestPage/ResultsList.jsx","components/Learnings/TestPage/NotAnswered.jsx","components/Learnings/TestPage/Results.jsx","components/Learnings/TestPage/Finish.jsx","components/Learnings/TestPage/Test.jsx","components/Learnings/TestPage/StartTestTemplate.jsx","components/Learnings/TestPage/Continue.jsx","components/Learnings/TestPage/TestContainer.jsx","components/Learnings/TestPage/index.jsx","components/Calendar/Picker.jsx","components/Calendar/NewEvent.jsx","components/Calendar/Modal.jsx","components/Calendar/CalendarContainer.jsx","components/Calendar/index.jsx","routes.js","App.jsx","reducers/unreaded.js","reducers/index.js","reducers/user.js","reducers/news.js","reducers/tasks.js","reducers/chats.js","reducers/room.js","reducers/messages.js","reducers/friends.js","reducers/tests.js","reducers/categories.js","reducers/events.js","reducers/feed.js","MaterialTheme.js","index.js"],"names":["module","exports","__webpack_require__","p","Header","date","Date","react_default","a","createElement","className","dist_default","element","format","id","toLocaleString","weekday","Component","StyledLoader","styled","div","_templateObject","Loader","props","style","minHeight","CircularProgress_default","color","LongMenu","state","anchorEl","handleClick","event","stopPropagation","_this","setState","currentTarget","handleClose","_this2","this","open","Boolean","user","store","onClick","IconButton_default","aria-label","aria-owns","undefined","aria-haspopup","ExpandMore_default","Menu_default","onClose","MenuItem_default","component","Link","to","concat","Divider_default","href","React","connect","withSnackbar","Dropdown","Wrapper","Select","Dropdown_templateObject","MainpageHeader_templateObject","defaultBackground","Backdrop","_templateObject2","Personal","_templateObject3","_ref","_useState","useState","_useState2","Object","slicedToArray","forceUpdate","MainpageHeader_Wrapper","window","innerWidth","location","pathname","includes","zIndex","position","length","background","components_Loader_Loader","backgroundImage","avatar","noPhoto","hasOwnProperty","name","surname","display","Math","random","API","host","origin","SingleNews","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","getAvatars","likedBy","news","find","item","singleNewsId","liked_by","split","slice","formData","FormData","self","assertThisInitialized","append","$","ajax","url","data","processData","contentType","type","success","res","handleChange","e","commentText","target","value","addLike","actions","document","getElementById","pointerEvents","preventDefault","getTime","onAddLike","fetch","then","response","json","setTimeout","removeLike","onRemoveLike","submitComment","commentsLoading","toJSON","replace","toLocaleTimeString","onAddComment","click","fetchComments","enqueueSnackbar","variant","commentsContainer","scrollTop","scrollHeight","error","deleteComment","news_id","onRemoveComment","thisComments","loadedComments","loading","_this3","_this$props","closeNews","_this$state","_this$props$store","currentNews","userAvatar","react","Single","core_index_es","placement","title","Icon","Clear_default","PostHeader","Avatar","DefaultAvatar","author","importance","createImportantBar","PostContent","text","PostLikes","likes","getNoun","map","i","key","PostActions","getCommentsNoun","react_fontawesome_index_es","icon","marginLeft","_","some","Fragment","NewComment","TextArea","label","multiline","onChange","required","disabled","comment","Comments","marginTop","who","author_id","DelIcon","Delete_default","SingleNews_Wrapper","SingleNews_templateObject","SingleNews_templateObject2","SingleNews_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_templateObject10","_templateObject11","_templateObject12","dispatch","user_id","payload","SideNews","singleNews","singleNewsData","goToSingleNews","changeImportance","number","abs","margin","Important","SideNews_templateObject","Warning_default","NEWS_COUNTER","SideNews_Wrapper","SideNews_News","NewsSwitch","bind","comments","NoNews","scrollTo","components_SingleNews","reloadComponent","SideNews_templateObject2","SideNews_templateObject3","News","SideNews_templateObject4","SideNews_templateObject5","Friend","friend","ListItem_default","button","TouchRippleProps","classes","child","ListItemAvatar_default","Avatar_default","height","width","alt","src","defaultAvatar","ListItemText_default","inset","primary","secondary","last_activity","SearchWrapper","Search_templateObject","Search","TextField_default","searchValue","handleSearch","InputProps","endAdornment","InputAdornment_default","SearchIcon","opacity","NotFound","NotFound_Wrapper","NotFound_templateObject","FriendWrapper","FriendsList_templateObject","onFetchFriends","friends","filterFriends","setOnline","setSearchValue","_useState3","_useState4","setLoading","_useState5","_useState6","_friends","setFriends","documentTitle","useEffect","sorted","online","offline","not_used","forEach","time","lastActivity","moment","Number","fromNow","parseInt","setFriendsOnline","push","sortFriends","Paper_default","FriendsList_Search","toLowerCase","filter","List_default","FriendsList_Friend","ModalWindow","Modal_default","ConfirmDelete","ConfirmStatus_Wrapper","ConfirmStatus_Icon","message","ButtonContainer","setAdministrator","ConfirmStatus_Backdrop","ConfirmStatus_templateObject","ConfirmStatus_templateObject2","ConfirmStatus_templateObject3","ConfirmStatus_templateObject4","autoSaveTimer","pageInterval","PersonalInfo","handleDateChange","selectedDate","removeInput","newChildInput","createInput","userInfo","fullWidth","InputLabelProps","shrink","Naked","InputBase_default","htmlFor","closeSelectOnScroll","listenSelect","closeSelect","isSelectOpened","preparedId","fetchUserInfo","nameError","yearError","childName","childBirthyear","loadingChild","lastUser","handleSubmit","deleteChild","prepareChild","handleChild","addChild","action","birthday","currentLocation","setInterval","clearInterval","_this4","clearTimeout","objectSpread","updateUser","_this$setState","defineProperty","child_name","child_birthyear","onAddChild","modal","onRemoveChild","dontShow","val","status","sex","result","_this5","childrens","childs","JSON","parse","Form","method","onSubmit","admin","Star_default","prepareToUpdate","right","cursor","StarBorder_default","react_input_mask_default","mask","phone","padding","material_ui_pickers_esm","aria-describedby","cancelLabel","vazriant","onOpen","input","labelWidth","Childrens","keys","Children","NewChild","now","reverse","join","Done_default","ChildBtns","city","disctrict","adress","district","vuz","fakultet","army_country","army_type","Btn","form","PersonalInfo_templateObject","PersonalInfo_templateObject2","PersonalInfo_templateObject3","PersonalInfo_templateObject4","PersonalInfo_templateObject5","PersonalInfo_templateObject6","PersonalInfo_templateObject7","field","withStyles","theme","fixed","bottom","spacing","unit","Tooltip_default","Add_default","inputComponent","inputRef","objectWithoutProperties","assign","ref","components","Control","inputProps","selectProps","innerRef","children","innerProps","textFieldProps","Menu","square","paper","MultiValue","tabIndex","classNames","chip","chipFocused","isFocused","onDelete","removeProps","deleteIcon","Cancel_default","NoOptionsMessage","noOptionsMessage","Option","buttonRef","selected","fontWeight","isSelected","Placeholder","placeholder","SingleValue","singleValue","ValueContainer","valueContainer","IntegrationReactSelect","users","selectStyles","base","palette","& input","font","root","react_select_esm","styles","options","multi","isMulti","control","flexGrow","flexDirection","justifyContent","flexWrap","flex","alignItems","overflow","backgroundColor","emphasize","grey","fontSize","left","withTheme","MaterialUIPickers","Grid_default","container","justify","paddingBottom","minDate","emptyLabel","ampm","selectedTime","locale","minutesStep","handleTimeChange","TextInput","TextInput_TextArea","handleTextChange","TextInput_templateObject","VerticalLinearStepper","activeStep","handleNext","handleBack","handleReset","checkDisabled","step","steps","Stepper_default","orientation","index","Step_default","StepLabel_default","StepContent_default","Typography_default","getStepContent","actionsContainer","Button_default","Autocomplete","Pickers","elevation","resetContainer","resetAll","marginRight","marginBottom","NewTask","forWho","toLocaleDateString","getHours","getMinutes","tasks","onAddNewTask","_this$state2","NewTask_Wrapper","Close_default","Tasks_Stepper","NewTask_Backdrop","NewTask_templateObject","NewTask_templateObject2","task","Task","getUserNames","usersId","getAdresant","initial","from","readed","markTask","end","until_date","difference","duration","diff","_milliseconds","openTask","expandIcon","Task_Icon","TaskStatus","task-completed","task-doing","task-late","DeleteIcon","handleConfirm","details","Footer","for","until_time","leaveDelay","handleCompleted","Task_templateObject","span","Task_templateObject2","Task_templateObject3","Task_templateObject4","ConfirmDelete_Wrapper","ConfirmDelete_Icon","ConfirmDelete_ButtonContainer","handleDelete","ConfirmDelete_Backdrop","ConfirmDelete_templateObject","ConfirmDelete_templateObject2","ConfirmDelete_templateObject3","ConfirmDelete_templateObject4","ResponsiveHeader","ResponsiveHeader_Wrapper","ResponsiveHeader_templateObject","tasksTimeout","Tasks","confirm","preparedToDelete","componentDidMount","unreaded","querySelector","onReadTasks","getTasks","handleOpen","done_date","done_time","markAsCompleted","handleFilter","disabledButton","filtered","onFilter","onDeleteTask","Tasks_Wrapper","AppBar_default","Tabs_default","indicatorColor","textColor","Tab_default","Tasks_Task","Fab_Fab","Tasks_NewTask","ConfirmDelete_ConfirmDelete","Tasks_templateObject","NewNews_templateObject","Container","NewNews_templateObject2","NewNews_templateObject3","Body","NewNews_templateObject4","NewNews_templateObject5","Topic","NewNews_templateObject6","NewNews_templateObject7","NewNews_templateObject8","submitNews","newNewsTopic","invalidTopic","invalidText","newNewsText","newNewsImportance","NewNews_Header","NewNews_Icon","NewNews_TextArea","NewNews_Footer","checked","NewNews_Wrapper","News_ConfirmDelete_Wrapper","News_ConfirmDelete_Icon","News_ConfirmDelete_ButtonContainer","removeNews","Dialogue","News_ConfirmDelete_templateObject","section","News_ConfirmDelete_templateObject2","News_ConfirmDelete_templateObject3","News_ConfirmDelete_templateObject4","newsTimeout","newNews","created_at","onAddNews","editing","preparedNewsId","onDeleteNews","confirmDelete","prepareNews","editNews","addNews","News_templateObject","prepareDelete","showNews","onReadNews","NewsContainer","UserAvatar","NewsInfo","News_Icon","News_Body","News_TextArea","Actions","News_NewNews","News_ConfirmDelete_ConfirmDelete","News_templateObject2","News_templateObject3","News_templateObject4","News_templateObject5","News_templateObject6","News_templateObject7","News_templateObject8","sections","img","Notifications_default","Message_default","NewReleases_default","ListAlt_default","People_default","CalendarToday_default","Navigation_templateObject","BadgeWrapper","Navigation_templateObject2","_ref$store$unreaded","feed","events","messages","setUpdate","showBadge","Badge_default","badgeContent","Navigation_Wrapper","findIndex","centered","Time","ChatItem_templateObject","MessageHeader","ChatItem_templateObject2","onFetchUser","string","openRoom","chat","fromDayStart","startOf","dateFromNow","isSame","calendar","body","substring","chats","chat_id","isHaveUnreaded","top","NoMessages","NoMessages_Container","NoMessages_templateObject","Message_templateObject","Message_templateObject2","Message_templateObject3","_props$store","room","Message_Container","Message_Avatar","Message_Body","Edit_default","editMessage","isToday","edited","DoneAll_default","Messages_templateObject","messageContainer","Messages_Container","Chat_Message","SendMessageInput","SendMessageInput_Container","sendMessage","autoFocus","handleNewMessage","Send_default","SendMessageInput_templateObject","EditMessageInput","EditMessageInput_Container","submitEdit","handleEdit","startAdornment","closeEditing","EditMessageInput_templateObject","DeleteModal","DeleteModal_Container","closeDelete","submitDelete","Overlay","DeleteModal_templateObject","DeleteModal_templateObject2","ChatRoom","editText","deleting","newMessage","deleteID","editID","interval","chatInteral","getMessages","readMessages","componentWillUnmount","readChat","localStorage","setItem","message_id","getItem","createChat","addMessage","getMessageId","user1","user2","messageId","toString","assignChat","deleteMessage","deleteChat","_success","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","stop","apply","arguments","Room","RoomHeader","ChatRoom_Icon","ArrowBack_default","Chat_Messages","ChatRoom_templateObject","ChatRoom_templateObject2","ChatRoom_templateObject3","messageID","messageBody","FriendList","rebuildList","withMessages","withoutMessages","completed","initialAnimation","openChat","closeChat","direction","pages","renderprops","Chat_ChatRoom","ChatItem","getDirection","Dialogues_FriendWrapper","reset","unique","native","items","transform","enter","leave","Dialogues_templateObject","NoChats","NoChats_Container","NoChats_templateObject","Chat","fetchChats","getChats","Dialogues","UserAvatar_Wrapper","UserAvatar_Badge","Favorite_default","VerifiedUser_default","InsertChart_default","Comment_default","drawBadge","UserAvatar_templateObject","Badge","UserAvatar_templateObject2","Comment","CommentWrapper","UserAvatar_UserAvatar","CommentContent","Comment_templateObject","Comment_templateObject2","LikeWrapper","LikeContent","Like_templateObject","Like_templateObject2","NewsWrapper","NewsContent","Feed_News_templateObject","Feed_News_templateObject2","Feed_News_templateObject3","Task_NewsWrapper","Task_NewsContent","Feed_Task_templateObject","Feed_Task_templateObject2","Feed_Task_templateObject3","Result","parseFloat","questions","ResultWrapper","ResultContent","estimated_time","textDecoration","Result_templateObject","Result_templateObject2","EventWrapper","EventContent","startDate","endDate","max","signed","maxUsers","signedUsers","remaining","getRemainingPlaces","Event_templateObject","Event_templateObject2","ThastIt","ThatsIt_Container","ThatsIt_templateObject","Caught","Feed_templateObject","onReadFeed","_ref$store","renderFeedItem","Feed_News_News","fake_id","Task_News","Event_Result","Like_Comment","Comment_Comment","timeout","elem","CheckCircle_default","renderLastViewed","card","maxWidth","media","Card_default","CardActionArea_default","changeSection","CardMedia_default","image","CardContent_default","gutterBottom","description","CardActions_default","size","cards","class","Media","Materials","closeSection","fetchTests","_fetchTests","_callee2","_context2","catch","err","console","log","abrupt","sent","fetchTestsById","_fetchTestsById","_callee3","_context3","fetchQuestions","_fetchQuestions","_callee4","_context4","fetchCategories","_fetchCategories","_callee5","_context5","fetchTestLastId","_fetchTestLastId","_callee6","_context6","fetchSingleTest","_x","_fetchSingleTest","_callee7","_context7","fetchSingleQuestion","_x2","_fetchSingleQuestion","_callee8","_context8","List_NotFound_Wrapper","List_NotFound_templateObject","ListItemLink","List_templateObject","inline","user_name","toFixed","List_DeleteIcon","NotFound_NotFound","NoTests","NoTests_Container","NoTests_templateObject","Learnings_Search_templateObject","Search_SearchWrapper","selectedUser","times","TimePicker","select","textField","SelectProps","MenuProps","menu","helperText","option","QuestionItem","category","setHeadSubCategory","handleMarkQuestion","question","dense","Checkbox_default","disableRipple","getCategories","categories","resetCategories","heading","typography","pxToRem","fontWeightRegular","setChecked","categoryFiltered","setCategoryFiltered","checkedSubs","setCheckedSubs","current","indexOf","cat","q","subcategory","findUniqSubcategories","ExpansionPanel_default","ExpansionPanelSummary_default","paddingLeft","allCategories","markAll","var","ExpansionPanelDetails_default","markSub","Steps_QuestionItem","SelectQuestions","Steps_CategoryItem","setOverlay","overlay","SelectUser","SelectTime","GenerateTest","sub","questionToMark","selectedQuestions","selectedQuestionsIds","last_id","onAddNewTest","GenerateTest_Wrapper","Steps_Stepper","GenerateTest_Backdrop","GenerateTest_templateObject","GenerateTest_templateObject2","test","TabContainer","dir","AdminPanel","handleChangeIndex","onFilterTests","openModal","closeModal","onDeleteTest","tests","Learnings_Search","lib_default","axis","onChangeIndex","maxHeight","List_List","Steps_GenerateTest","test_id","UserPanel","Buttons","Tests_templateObject","isAdmin","t0","fetchData","Learnings_AdminPanel","KeyboardBackspace_default","Learnings_templateObject","Learnings","opened","setOpened","Learnings_Wrapper","Learnings_Tests","Container_Container","MainSection","MainPage_templateObject","components_MainpageHeader","components_Header","Navigation_Navigation","components_SideNews","components_PersonalInfo","components_Chat_Chat","components_News","components_Tasks_Tasks","Learnings_Learnings","FriendsList","Feed","switchComponent","ForgetPassword","credentials","forgetPassword","ForgetPassword_Wrapper","ForgetPassword_Icon","credential","username","ForgetPassword_templateObject","ForgetPassword_templateObject2","Cookie","cname","cvalue","exdays","d","setTime","expires","toUTCString","cookie","ca","c","charAt","getCookie","alert","prompt","setCookie","SignupForm","isForget","handleClickShowPassword","isPassHidden","login","password","invalidPass","jwt","VisibilityOff_default","Visibility_default","FormHelperText_default","SignupForm_Buttons","components_ForgetPassword","SignupForm_templateObject","global","RegisterForm","email","confirmed","isEmailValid","entered","validateEmail","showPassword","lentgh","BtnWrapper","RegisterForm_templateObject","BgBubbles","cssClass","LoginForm","whichForm","changeForm","components_RegisterForm","components_SignupForm","components_BgBubbles","Approved","goToMain","closeWindow","close","Restore","pw","vars","m","getUrlVars","InputWrapper","BtnContainer","Restore_templateObject","Restore_templateObject2","Page404","css","default","upload","hiddenInput","borderRadius","header","textAlign","genders","Settings","fileSelect","files","selectedFile","uploadAvatar","file","fd","uploadedAvatar","encType","Icon_default","accept","Completionist","Timer","h","s","hours","minutes","seconds","api","Timer_Container","Timer_Time","Timer_Completionist","AlarmOn_default","Controls","start","PlayArrow_default","isPaused","pause","Pause_default","Timer_templateObject","Timer_templateObject2","Timer_templateObject3","_ref2","pauseTest","resumeTest","finish","dist_index_es","controlled","autoStart","renderer","onPause","onStart","onComplete","Question","allQuestionsId","paused","findTimer","answered","variants","questionNumber","skipQuestion","nextQuestion","prevQuestion","images","setImages","lightboxOpen","setLightboxOpen","openLightbox","entries","image_file","original","getImages","Question_Container","QuestionHeader","Spheric","Sphere","audio","audio_file","controls","Question_Buttons","getPrevBtnStatus","Lightbox_default","toConsumableArray","isOpen","showImageCount","Question_templateObject","Question_templateObject2","Question_templateObject3","Question_templateObject4","Circles","skipped","getStatus","isAnswered","isSkipped","Circles_Container","Circles_templateObject","Legend","Legend_Container","Legend_templateObject","updateResult","question_id","finishTest","createEvent","Effects_requests_createEvent","Answers","ResultsList_templateObject","object","isCorrect","question_data","answers","Results","results","setResults","not_answered","Results_Container","getPercent","ResultsList","NotAnswered","Results_Buttons","Results_templateObject","Results_templateObject2","Finish","isShowResult","setShowResult","Finish_Container","Finish_Buttons","Finish_templateObject","Finish_templateObject2","Test_templateObject","QuestionWrapper","Test_templateObject2","updateState","setVariants","setQuestionNumber","_useState7","_useState8","setAllQuestionsId","_useState9","_useState10","setQuestion","_useState11","_useState12","_useState13","_useState14","setSkipped","_useState15","_useState16","setAnswered","_useState17","_useState18","finished","setFinished","_useState19","_useState20","setTest","_useState21","_useState22","setPaused","getVariants","splitted","getNextStep","_finish","testData","innerHTML","_updateTestResult","checkedVariants","Array","isArray","_fetchData","save","idArray","j","loadSave","Test_Container","TestPage_Timer","newState","updateTestResult","newVariants","StartTestTemplate","StartTestTemplate_Container","StartTestTemplate_Buttons","StartTestTemplate_templateObject","StartTestTemplate_templateObject2","Continue","setObject","isContinue","setContinue","Continue_Container","TestPage_Test","Continue_Buttons","Continue_templateObject","Continue_templateObject2","minWidth","TestContainer_templateObject","setStart","started","setStarted","TestContainer_Container","startTestRequest","setupResult","fetchTest","TestPage_TestContainer","CustomDateTimePicker","setDate","callback","showTabs","autoSubmit","allowKeyboardControl","AddAlarm_default","PureComponent","ranges","intervals","Infinity","NewEvent_templateObject","NewEvent_templateObject2","NewEvent_templateObject3","NewEvent_templateObject4","onAddEvent","setTitle","_startDate","_setStartDate","_endDate","_setEndDate","setStartDate","setEndDate","isSignAllowed","setSignAllowed","setMaxUsers","isSplitted","setSplitted","emptyTitle","setEmptyTitle","emptyStartDate","setEmptyStartDate","_useState23","_useState24","emptyEndDate","setEmptyEndDate","_createEvent","creator","requestEvent","reload","NewEvent_Wrapper","NewEvent_Icon","Picker","dateString","_d","ey","em","ed","sy","sm","sd","isSameDay","NewEvent_ButtonContainer","NewEvent_Dialogue","ConfirmModal","deleteAppointment","isOpened","Modal_Wrapper","Modal_Icon","Modal_ButtonContainer","Modal_Dialogue","Modal_templateObject","Modal_templateObject2","Modal_templateObject3","Modal_templateObject4","todayCell","fade","main","&:hover","&:focus","weekendCell","disabledBackground","today","weekend","Appointment","restProps","dx_react_scheduler_material_ui_es","onDoubleClick","AppointmentContent","onSignup","onUnSignup","appointmentData","userName","unSignUp","unSignUpOnEvent","parentNode","isSigned","signUpOnEvent","AppointmentsTooltip","onDeleteEvent","_ref3","setOpen","isUserAppointment","appointmentMeta","Layout","contentComponent","showDeleteButton","onDeleteButtonClick","deleteEvent","onHide","TimeTableCell","_ref4","getDate","getDay","DayScaleCell","_ref5","CreateEvent","CalendarContainer_templateObject","onFetchEvents","onReadEvents","_ref6","_ref6$store","dx_react_scheduler_es","defaultCurrentViewName","startDayHour","endDayHour","firstDayOfWeek","timeTableCellComponent","dayScaleCellComponent","appointmentComponent","showOpenButton","layoutComponent","showCloseButton","allDayLabel","titleLabel","startDateLabel","endDateLabel","commitCommand","cancelCommand","readOnly","Calendar_NewEvent","routes","path","MainPage","CalendarContainer","TestPage","library","add","faComments","faHeart","faEnvelope","faEdit","onFetchFeed","onFetchNews","setUnreadedFeed","count","setUnreadedMessages","onGetNewFeed","snackbarProps","autoHideDuration","showSnackbar","reloadNavigation","fetchMessages","new","timestamp","fetchFeed","countNew","newsCount","fetchNews","records","BrowserRouter","Switch","route","Route","initialState","combineReducers","updated","stringify","Childs","nextState","currentChat","editedState","editedMessage","obj","updatedState","thisEvent","chatsArr","createMuiTheme","useNextVariants","overrides","MuiSnackbar","MuiModal","MuiBackdrop","MuiFab","MuiList","MuiGrid","MuiTableCell","VerticalAppointment","content","textContainer","lineHeight","createStore","reducer","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","core_styles","es","utils","MomentUtils","build","maxSnack","preventDuplicate","src_App"],"mappings":"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","file":"static/js/main.afaacea7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/baseline-search-24px.a87eca9e.svg\";","module.exports = __webpack_public_path__ + \"static/media/Water image_Dreamstime.2355a944.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sphere.b669c4e0.png\";","module.exports = \"data:image/png;base64,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\"","import React, { Component } from 'react';\r\nimport Moment from 'react-moment';\r\nimport './css/Header.css';\r\n\r\nclass Header extends Component {\r\n  render() {\r\n    const date = new Date();\r\n    return (\r\n      <div className=\"absolute-header\">\r\n        <div className=\"header-team\">#ЕдинаяКоманда</div>\r\n        <div className=\"header-date\">\r\n          <span>сегодня</span>\r\n          <Moment element=\"span\" format=\"DD.MM.YYYY\">{date}</Moment>\r\n          <span id=\"header-date-day\">{date.toLocaleString('ru', {weekday: 'long'})}</span>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport styled from 'styled-components';\r\n\r\nconst Loader = props => (\r\n  <StyledLoader style={{ minHeight: props.minHeight }}>\r\n    <CircularProgress color={props.color} />\r\n  </StyledLoader>\r\n)\r\n\r\nconst StyledLoader = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nexport default Loader;","import React from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport MoreVertIcon from '@material-ui/icons/ExpandMore';\r\nimport { connect } from 'react-redux';\r\nimport { withSnackbar } from 'notistack';\r\nimport { Link } from 'react-router-dom';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nclass LongMenu extends React.Component {\r\n  state = {\r\n    anchorEl: null\r\n  };\r\n\r\n  handleClick = event => {\r\n    event.stopPropagation();\r\n    this.setState({ anchorEl: event.currentTarget });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ anchorEl: null });\r\n  };\r\n\r\n  render() {\r\n    const { anchorEl } = this.state;\r\n    const open = Boolean(anchorEl);\r\n    const { user } = this.props.store;\r\n\r\n    return (\r\n      <div onClick={() => this.setState({ anchorEl: null })}>\r\n        <IconButton\r\n          aria-label=\"More\"\r\n          aria-owns={anchorEl ? 'simple-menu' : undefined}\r\n          aria-haspopup=\"true\"\r\n          onClick={this.handleClick}\r\n        >\r\n          <MoreVertIcon color='primary' />\r\n        </IconButton>\r\n        <Menu\r\n          id=\"long-menu\"\r\n          anchorEl={anchorEl}\r\n          open={open}\r\n          onClose={this.handleClose}\r\n        >\r\n          <MenuItem component={Link} to={`/id${user.id}`}>Моя страница</MenuItem>\r\n          <Divider />\r\n          <MenuItem component='a' href='/settings'>Персональные данные</MenuItem> \r\n          <MenuItem component={Link} to='/learnings'>Обучение</MenuItem> \r\n          <Divider />\r\n          <MenuItem component='a' href='/logout.php'>Выйти</MenuItem>\r\n        </Menu>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(state => ({ store: state })\r\n)(withSnackbar(LongMenu));","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Select from './Select';\r\n\r\nexport default function Dropdown() {\r\n  return (\r\n    <Wrapper>\r\n      <Select />\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  > div {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 100%;\r\n    margin-left: 20px;\r\n  }\r\n  button {\r\n    margin: 0;\r\n  }\r\n`;","import React, { useState } from 'react';\r\nimport './css/MainpageHeader.css';\r\nimport noPhoto from './img/photos/images.png';\r\nimport styled from 'styled-components';\r\nimport defaultBackground from './img/photos/Water image_Dreamstime.jpg';\r\nimport Loader from './Loader/Loader';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport DropdownActions from './DropdownActions/Dropdown';\r\n\r\nfunction MainpageHeader({ store: { user } }) {\r\n  // eslint-disable-next-line\r\n  const [_, forceUpdate] = useState();\r\n  \r\n  return (  \r\n    <Wrapper>\r\n      {window.innerWidth < 600 && !window.location.pathname.includes('id') ? null :\r\n      <header className=\"header\" style={{ zIndex: 2, position: 'relative' }}>\r\n        <div className=\"person\">\r\n          {user.length === 0\r\n            ?\r\n            <div className=\"person-image\" style={{ background: 'rgba(255,255,255,0.5)' }}>\r\n              <Loader minHeight={125} color='primary' />\r\n            </div>\r\n            :\r\n              <Link to={`/id${user.id}`}>\r\n                <div className=\"person-image\" style={{ backgroundImage: `url(${user.avatar === '' ? noPhoto : user.avatar})` }}></div>\r\n              </Link>\r\n          }\r\n          <div className=\"person-info\">\r\n            <div className=\"person-info__container\">\r\n              {user.hasOwnProperty('name') \r\n                ?\r\n                <Personal>\r\n                  <div>\r\n                    <p className=\"person-info__name\">{`${user.name} ${user.surname}`}</p>\r\n                    <p className=\"person-info__position\">{user.position}</p>\r\n                  </div>  \r\n                  <DropdownActions />\r\n                </Personal>\r\n                :\r\n                <Loader minHeight={70} color='primary' />}          \r\n            </div>\r\n            <span id='updateUser' style={{ display: 'none'}} onClick={() => forceUpdate(Math.random())}></span>\r\n          </div>\r\n        </div>\r\n      </header>}\r\n      <Backdrop />\r\n    </Wrapper>\r\n  )\r\n}\r\nconst Wrapper = styled.div`\r\n  background: url('${defaultBackground}') no-repeat center/cover;\r\n  background-attachment: fixed;\r\n  position: relative;\r\n  box-shadow: 0px -4px 4px 0px inset rgba(0,0,0,0.15)\r\n`;\r\nconst Backdrop = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  background: rgba(0,0,0,0.10);\r\n  z-index: 1;\r\n`;\r\nconst Personal = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state })\r\n)(MainpageHeader);","let API = '';\r\n\r\nif (window.location.host.includes('localhost')) {\r\n  API = 'http://akvatory.local';\r\n} else {\r\n  API = window.location.origin;\r\n}\r\n\r\nexport const getJwt = () => {\r\n  let jwt = localStorage.getItem('akv_jwt_token');\r\n  return jwt;\r\n}\r\n\r\nexport default API;","import React, { Component, Fragment } from 'react';\r\nimport styled from 'styled-components';\r\nimport $ from 'jquery';\r\nimport DefaultAvatar from './img/photos/images.png';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { Typography, Button, TextField, Tooltip } from '@material-ui/core';\r\nimport API from './functions/API';\r\nimport _ from 'lodash';\r\nimport Loader from './Loader/Loader';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { withSnackbar } from 'notistack';\r\nimport { connect } from 'react-redux';\r\n\r\nclass SingleNews extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      thisComments: [],\r\n      loadedComments: false,\r\n      commentText: '',\r\n      likedBy: [],\r\n      loading: true,\r\n      commentsLoading: false\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.fetchComments(this.props.singleNewsId);\r\n    await this.getAvatars();\r\n    await this.setState({ loading: false })\r\n  }\r\n\r\n  fetchComments(id) {\r\n    fetch(`${API}/api/news/single_comments.php?id=${id}`)\r\n      .then(response => response.json())\r\n      .then(thisComments => this.setState({ thisComments, loadedComments: !this.state.loadedComments }))\r\n  }\r\n\r\n  // получаем аватарки лайкнувших пост\r\n  getAvatars = () => {\r\n    const currentNews = this.props.store.news.find(item => item.id === this.props.singleNewsId);\r\n    const likedBy = currentNews.liked_by.split(', ').slice(1);\r\n    const formData = new FormData();\r\n    const self = this;\r\n    formData.append('likedBy', likedBy);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/user/getAvatars.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: res => self.setState({ likedBy: res }),\r\n    });\r\n  }\r\n  handleChange = e => this.setState({ commentText: e.target.value });\r\n\r\n  // добавляем лайк\r\n  addLike = (id, e) => {\r\n    const actions = document.getElementById('actions-news');\r\n    actions.style.pointerEvents = 'none';\r\n    e.preventDefault();\r\n    const { user } = this.props.store;\r\n    const formData = new FormData();\r\n    var self = this;\r\n    formData.append('id', id);\r\n    formData.append('liked_by', user.id);\r\n    formData.append('created_at', new Date().getTime());\r\n    \r\n    $.ajax({\r\n      url: `${API}/api/news/addlike.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () => {\r\n        self.props.onAddLike(id, user.id);\r\n        fetch(`${API}/api/news/read_one.php?id=${self.props.singleNewsId}`)\r\n          .then(response => response.json())\r\n          .then(() => self.getAvatars())\r\n\r\n        setTimeout(() => actions.style.pointerEvents = 'all', 1000)  \r\n      }\r\n    });\r\n  }\r\n\r\n  // убираем лайк\r\n  removeLike = (id, e) => {\r\n    const actions = document.getElementById('actions-news');\r\n    const { user } = this.props.store;\r\n    actions.style.pointerEvents = 'none';\r\n    const self = this;\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const formData = new FormData();\r\n    formData.append('id', id);\r\n    formData.append('liked_by', user.id);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/news/removelike.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () => {\r\n        self.props.onRemoveLike(id, user.id);\r\n        fetch(`${API}/api/news/read_one.php?id=${self.props.singleNewsId}`)\r\n          .then(response => response.json())\r\n          .then(() => self.getAvatars())\r\n        setTimeout(() => actions.style.pointerEvents = 'all', 1000)\r\n      }\r\n    });\r\n  }\r\n\r\n  submitComment = e => {\r\n    const { user } = this.props.store;\r\n    this.setState({ commentsLoading: true });\r\n    var self = this;\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append('news_id', this.props.singleNewsId);\r\n    formData.append('who', `${user.name} ${user.surname}`);\r\n    formData.append('date', new Date().toJSON().slice(0, 10).replace(/-/g, '.'));\r\n    formData.append('visible', 1);\r\n    formData.append('time', new Date().toLocaleTimeString().slice(0, -3));\r\n    formData.append('text', this.state.commentText);\r\n    formData.append('author_id', user.id);\r\n    formData.append('created_at', new Date().getTime());\r\n\r\n    $.ajax({\r\n      url: `${API}/api/news/addcomment.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () =>  {\r\n        self.props.onAddComment(this.props.singleNewsId, user.id);\r\n        document.getElementById('updateSideNews').click();\r\n        self.setState({ commentText: '' });\r\n        self.fetchComments(self.props.singleNewsId);\r\n        self.props.enqueueSnackbar('Комментарий был добавлен', { variant: 'success' });\r\n        setTimeout(() => {\r\n          self.setState({ commentsLoading: false });\r\n          const commentsContainer = document.getElementById(\"single-news\");\r\n          commentsContainer.scrollTop = commentsContainer.scrollHeight; \r\n        }, 250);    \r\n      },\r\n      error: () => self.props.enqueueSnackbar('Не удалось оставить комментарий', { variant: 'error' })\r\n    });\r\n  }\r\n\r\n  deleteComment = (e, id, news_id) => {\r\n    const { user } = this.props.store;\r\n    this.setState({ commentsLoading: true });\r\n    var self = this;\r\n    e.preventDefault();\r\n\r\n    $.ajax({\r\n      url: `${API}/api/news/deletecomment.php`,\r\n      data: { id, news_id },\r\n      type: 'POST',\r\n      success: function() {\r\n        self.props.onRemoveComment(news_id, user.id);\r\n        document.getElementById('updateSideNews').click();\r\n        self.props.enqueueSnackbar('Комментарий был удален', { variant: 'info' });\r\n        self.fetchComments(self.props.singleNewsId);\r\n        setTimeout(() => self.setState({ commentsLoading: false }), 250);\r\n      },\r\n      error: () => self.props.enqueueSnackbar('Не удалось удалить комментарий', { variant: 'error' })\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { closeNews, singleNewsId } = this.props;\r\n    const { thisComments, commentText, likedBy, loading, commentsLoading } = this.state;\r\n    const { user, news } = this.props.store;\r\n    const currentNews = news.find(item => item.id === singleNewsId);\r\n    const userAvatar = currentNews.avatar;\r\n   \r\n    return (\r\n      <Fragment>\r\n        <Single  id='single-news'>\r\n          {loading ? <Loader minHeight={500} color='primary' /> :\r\n            <Fragment>\r\n              <Tooltip placement='left' title='Закрыть'>\r\n                <Icon><CloseIcon onClick={closeNews} /></Icon>\r\n              </Tooltip>\r\n\r\n              <PostHeader>\r\n                <Avatar style={{ background: `url(${currentNews.avatar ? userAvatar : DefaultAvatar}) no-repeat center/cover` }}></Avatar>\r\n                <Typography variant='subtitle2'>{currentNews.author}</Typography>            \r\n              </PostHeader>\r\n\r\n              {currentNews.importance === '1' ? this.props.createImportantBar(10) : null}\r\n\r\n              <Typography variant='h5'>{currentNews.title.replace(/&quot;/g, `\"`)}</Typography>\r\n\r\n              <PostContent>\r\n                <Typography variant='body1'>{currentNews.text.replace(/&quot;/g, `\"`)}</Typography>\r\n                <Typography variant='caption'>{currentNews.date}</Typography>\r\n              </PostContent>\r\n\r\n              <PostLikes>\r\n                <Typography variant='subtitle2'>{currentNews.likes} {this.props.getNoun(currentNews.likes)} \"Нравится\"</Typography>\r\n                {/* eslint-disable-next-line*/}\r\n                {likedBy.map((user, i) => {\r\n\r\n                  while (i < 7) {\r\n                    return (\r\n                      <Tooltip key={i} title={`${user.name} ${user.surname}`} placement=\"top\">\r\n                        <Avatar style={{ background: `url(${user.avatar ? user.avatar : DefaultAvatar}) no-repeat center/cover` }}></Avatar>\r\n                      </Tooltip>\r\n                    )\r\n                  }\r\n                })}\r\n              </PostLikes>\r\n\r\n              <PostActions id='actions-news'>\r\n                {thisComments.length}\r\n                <Tooltip placement='top' title={`${thisComments.length} ${this.props.getCommentsNoun(thisComments.length)}`}>\r\n                  <FontAwesomeIcon icon='comments' style={{ marginLeft: 10 }} />\r\n                </Tooltip>\r\n\r\n                {!_.some(likedBy, ['id', user.id])\r\n                  ?\r\n                  <React.Fragment>\r\n                    <span>{currentNews.likes}</span>\r\n                    <Tooltip placement='top' title={`${currentNews.likes} ${this.props.getNoun(currentNews.likes)} \"Нравится\"`}>\r\n                      <FontAwesomeIcon onClick={e => this.addLike(currentNews.id, e)} icon='heart' style={{ marginLeft: 10 }} />\r\n                    </Tooltip>\r\n                  </React.Fragment>\r\n                  :\r\n                  <React.Fragment>\r\n                    <span>{currentNews.likes}</span>\r\n                    <Tooltip placement='top' title={`${currentNews.likes} ${this.props.getNoun(currentNews.likes)} \"Нравится\"`}>\r\n                      <FontAwesomeIcon onClick={e => this.removeLike(currentNews.id, e)} icon='heart' style={{ color: '#1976d2', marginLeft: 10 }} />\r\n                    </Tooltip>  \r\n                  </React.Fragment>\r\n                }              \r\n              </PostActions>\r\n\r\n              <NewComment>\r\n                <p className='newcomment-reply'>В ответ <a href={`${window.location.origin}/id${currentNews.id}`}>{currentNews.author}</a></p>\r\n                <div className='newcomment-input'>\r\n                  <Avatar style={{ background: `url(${user.avatar ? user.avatar : DefaultAvatar}) no-repeat center/cover` }}></Avatar>\r\n                  <TextArea>\r\n                    <TextField\r\n                      label='Комментарий'\r\n                      multiline\r\n                      variant='outlined'\r\n                      name='commentText'\r\n                      value={commentText}\r\n                      onChange={this.handleChange}\r\n                      required\r\n                    />\r\n                  </TextArea>\r\n                </div>\r\n                <Button variant='contained' color='primary' onClick={this.submitComment} disabled={!commentText}>Отправить</Button>\r\n              </NewComment>\r\n\r\n              {commentsLoading ? <Loader minHeight={280} color='primary' /> :\r\n                thisComments.map((comment, i) => {\r\n                  return (\r\n                    <Comments key={i}>\r\n                      <div className='comment-header'>\r\n                        <Avatar style={{ background: `url(${comment.avatar ? comment.avatar : DefaultAvatar}) no-repeat center/cover`, marginTop: 20 }}></Avatar>\r\n                        <Typography variant='subtitle2'>{comment.who}</Typography>\r\n                        <Typography variant='caption' className='comment-date'>{comment.date}</Typography>\r\n                      </div>\r\n                      <div className='comment-text'>{comment.text}</div>\r\n\r\n                      {comment.author_id === user.id ?\r\n                      <DelIcon>\r\n                        <Tooltip placement='left' title=\"Удалить\">\r\n                          <DeleteIcon onClick={(e) => this.deleteComment(e, comment.id, comment.news_id)} />\r\n                        </Tooltip>\r\n                      </DelIcon>\r\n                      : null}\r\n                    </Comments>\r\n                  )\r\n                })}\r\n            </Fragment>}\r\n        </Single>\r\n        <Wrapper onClick={closeNews}></Wrapper>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst Single = styled.div`\r\n  width: 600px;\r\n  min-height: 300px;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  position: fixed;\r\n  z-index: 50;\r\n  background: #fff;\r\n  top: 100px;\r\n  border-radius: 10px;\r\n  box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\r\n  padding: 15px 30px;\r\n  overflow-y: scroll;\r\n  overflow-x: hidden;\r\n  max-height: 80%;\r\n\r\n  .close {\r\n    top: 5px;\r\n  }\r\n  ::-webkit-scrollbar { \r\n    display: none; \r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    width: 100%;\r\n    height: calc(100vh - 50px);\r\n    top: 0;\r\n    max-height: unset;\r\n    border-radius: 0;\r\n    padding: 30px 15px 15px;\r\n  }\r\n`;\r\n\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  background: rgba(0,0,0,.5);\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  top: 0;\r\n  z-index: 49;\r\n`;\r\n\r\nconst PostHeader = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 25px;\r\n\r\n  img {\r\n    border-radius: 50%;\r\n    width: 60px;\r\n  }\r\n  p {\r\n    font-size: 18px;\r\n    font-weight: 700;\r\n  }\r\n`;\r\n\r\nconst PostContent = styled.div`\r\n  p {\r\n    margin: 15px 0 5px;\r\n    font-size: 20px;\r\n  }\r\n  span {\r\n    color: #657786;\r\n    font-size: 14px;\r\n  }\r\n`;\r\n\r\nconst PostLikes = styled.div`\r\n  border-top: 1px solid #e6ecf0;\r\n  border-bottom: 1px solid #e6ecf0;\r\n  margin-top: 20px;\r\n  1px solid #e6ecf0;\r\n  align-items: center;\r\n  display: flex;\r\n\r\n  div {\r\n    margin: 0 5px;\r\n  }\r\n\r\n  h6:first-child {\r\n    width: 50%;\r\n    padding: 15px 10px;\r\n    border-right: 1px solid #e6ecf0;\r\n  }\r\n\r\n  span {\r\n    width: 50%;\r\n    padding: 15px 10px 15px;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    h6:first-child {\r\n      font-size: 12px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst PostActions = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-top: 20px;\r\n\r\n  img {\r\n    width: 15px;\r\n    margin-right: 40px;\r\n    margin-left: 10px;\r\n    opacity: .7;\r\n    cursor: pointer;\r\n  }\r\n\r\n  img:hover {\r\n    opacity: 1;\r\n    transition: .37s ease;\r\n  }\r\n`;\r\n\r\nconst Comments = styled.div`\r\n  margin-left: -30px;\r\n  width: 600px;\r\n  border-bottom: 1px solid #e6ecf0;\r\n  cursor: pointer;\r\n  padding: 15px 30px;\r\n  position: relative;\r\n\r\n  :last-child {\r\n    border-bottom: none;\r\n  }\r\n\r\n  :hover {\r\n    background: #f5f8fa;\r\n    transition: .37s ease;\r\n  }\r\n\r\n  .comment-header {\r\n    display: flex;\r\n    align-items: center;\r\n    \r\n    div {\r\n      border-radius: 50%;\r\n      width: 30px;\r\n      height: 30px;\r\n    }\r\n  }\r\n\r\n  .comment-text {\r\n    padding-left: 45px;\r\n  }\r\n\r\n  .comment-date {\r\n    margin-left: 10px;\r\n    color: #657786;\r\n    :before {\r\n      content: '\\00b7';\r\n      margin-right: 10px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst NewComment = styled.div`\r\n  padding: 15px 30px;\r\n  background: #f5f8fa;\r\n  width: calc(100% + 60px);\r\n  margin-top: 20px;\r\n  margin-left: -30px;\r\n  border-bottom: 1px solid #e6ecf0;\r\n  border-top: 1px solid #e6ecf0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  .close {\r\n    top: 5px;\r\n  }\r\n  button {\r\n    width: 150px;\r\n    align-self: flex-end;\r\n    margin-top: 15px;\r\n  }\r\n  \r\n  .newcomment-reply {\r\n    margin: 0 40px;\r\n    color: #657786;\r\n    a {\r\n      color: #0084B4;\r\n      text-decoration: none;\r\n      margin-left: 5px;\r\n      :hover {\r\n        text-decoration: underline;\r\n      }\r\n    }\r\n  }\r\n\r\n  .newcomment-input {\r\n    display: flex;\r\n    align-items: flex-start;\r\n    margin-top: 20px;\r\n    div {\r\n      margin-right: 0;\r\n    }\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    margin-left: -15px;\r\n    padding: 15px;\r\n    width: calc(100% + 30px);\r\n  }\r\n`;\r\nconst Avatar = styled.div`\r\n  min-width: 30px;\r\n  border-radius: 50%;\r\n  min-height: 30px;\r\n  margin-right: 15px;\r\n`;\r\nconst TextArea = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-left: 10px;\r\n  background: #fff;\r\n  height: 110px;\r\n  width: 100%;\r\n\r\n  textarea {\r\n    max-height: 90px;\r\n    background: #fff;\r\n    &::-webkit-scrollbar {\r\n      width: 10px;\r\n    }\r\n   \r\n    &::-webkit-scrollbar-track {\r\n      background-color: #ebebeb;\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n    }\r\n  \r\n    &::-webkit-scrollbar-thumb {\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n      background: #1976d2; \r\n    }\r\n  }\r\n\r\n  & > div {\r\n    width: 100%;\r\n    & > div {\r\n      height: 100%;\r\n    }\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  position: absolute;\r\n  right: 25px;\r\n  top: 10px;\r\n  cursor: pointer;\r\n  svg {\r\n    color: #1976d2;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    right: 15px;\r\n    top: 25px;\r\n    svg {\r\n      font-size: 32px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst DelIcon = styled.div`\r\n  cursor: pointer;\r\n  right: 25px;\r\n  top: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n  position: absolute;\r\n  height: fit-content;\r\n  svg {\r\n    color: rgba(0,0,0,.54);\r\n  }\r\n`;\r\n\r\nexport default connect(state => ({ store: state }),\r\n  dispatch => ({ \r\n    onAddLike: (id, user_id) => dispatch({ type: 'ADD_LIKE', payload: id, user_id }),\r\n    onRemoveLike: (id, user_id) => dispatch({ type: 'REMOVE_LIKE', payload: id, user_id }),\r\n    onAddComment: (id, user_id) => dispatch({ type: 'ADD_COMMENT', payload: id, user_id }),\r\n    onRemoveComment: (id, user_id) => dispatch({ type: 'REMOVE_COMMENT', payload: id, user_id })\r\n  }),\r\n)(withSnackbar(SingleNews));\r\n","import React, { Component, Fragment } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport './css/SideNews.css';\r\nimport SingleNews from './SingleNews';\r\nimport styled from 'styled-components';\r\nimport { Typography, Paper, Switch, Button, Tooltip } from '@material-ui/core';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport Loader from './Loader/Loader';\r\n\r\nclass SideNews extends Component {\r\n  state = {\r\n    importance: false,\r\n    singleNews: false,\r\n    singleNewsData: [],\r\n    singleNewsId: ''\r\n  }\r\n\r\n  // переходим к конкретной новости\r\n  goToSingleNews = id => this.setState({ singleNews: true, singleNewsId: id });\r\n\r\n  // закрываем новость \r\n  closeNews = () => {\r\n    this.setState({ singleNews: false, singleNewsId: '' });\r\n  }\r\n\r\n  changeImportance = () => this.setState({ importance: !this.state.importance });\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | Находим правильную форму склонения комментариев\r\n  |--------------------------------------------------\r\n  */\r\n  getNoun = number => {\r\n    number = Math.abs(number);\r\n    number %= 100;\r\n    if (number >= 5 && number <= 20) return 'отметок';\r\n    number %= 10;\r\n    if (number === 1) return 'отметка';\r\n    if (number >= 2 && number <= 4) return 'отметки';\r\n    return 'отметок';\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | Находим правильную форму склонения комментариев\r\n  |--------------------------------------------------\r\n  */\r\n  getCommentsNoun = number => {\r\n    number = Math.abs(number);\r\n    number %= 100;\r\n    if (number >= 5 && number <= 20) return 'комментариев';\r\n    number %= 10;\r\n    if (number === 1) return 'комментарий';\r\n    if (number >= 2 && number <= 4) return 'комментария';\r\n    return 'комментариев';\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | создаёт надпись \"Помечено как важное\"\r\n  |--------------------------------------------------\r\n  */\r\n  createImportantBar = (margin) => {\r\n    const Important = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 0;\r\n    margin-top: ${margin}px;\r\n    svg {\r\n      color: rgba(0,0,0,.15);\r\n      margin-right: 5px;  \r\n    }\r\n  `;\r\n    return (\r\n      <Important>\r\n        <WarningIcon />\r\n        <Typography variant='caption'>Отмечено как \"Важное\"</Typography>\r\n      </Important>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { importance, singleNews, singleNewsId } = this.state;\r\n    const { store: { news }} = this.props;\r\n    var NEWS_COUNTER = 0;\r\n\r\n    return (\r\n      <Wrapper>\r\n        <Paper>\r\n          {news.length === 0 ? <Loader minHeight={250} color='primary' /> :\r\n            <News>\r\n              <NewsSwitch>\r\n                <Typography variant='subtitle2'>Только важное </Typography>\r\n                <Switch color='primary' onClick={this.changeImportance.bind(this)} />\r\n              </NewsSwitch>\r\n              {/* eslint-disable-next-line */}\r\n              {news.length > 0 ? news.map((item, i) => {\r\n                if (importance) {\r\n                  if (item.importance === '1' && NEWS_COUNTER < 3) {\r\n                    NEWS_COUNTER++;\r\n                    return (\r\n                      <div key={i} className=\"news-item\">\r\n                        <div className=\"news-item-header\">\r\n                          <Typography variant='subtitle2'>{item.author}</Typography>\r\n                          <Typography variant='caption'>{item.date}</Typography>\r\n                        </div>\r\n                        <Typography variant='body1' className='news-caption' onClick={() => this.goToSingleNews(item.id)}>\r\n                          {item.importance === '1' ? <Tooltip title='Важное!' placement=\"left\"><WarningIcon /></Tooltip> : null}\r\n                          {item.title}\r\n                        </Typography>\r\n                        <div className=\"news-item-text\">\r\n                          <Typography variant='body2'>{item.text}</Typography>\r\n                        </div>\r\n                        <Tooltip title=\"Перейти к комментариям\" placement=\"top-start\">\r\n                          <div\r\n                            onClick={() => this.goToSingleNews(item.id)}\r\n                            className=\"news-item-comment\"\r\n                          >\r\n                            <FontAwesomeIcon icon='comments' />\r\n                            {item.comments} {this.getCommentsNoun(item.comments)}\r\n                          </div>\r\n                        </Tooltip>\r\n                      </div>\r\n                    )\r\n                  }\r\n                } else {\r\n                  while (i < 3) {\r\n                    return (\r\n                      <div key={i} className=\"news-item\">\r\n                        <div className=\"news-item-header\">\r\n                          <Typography variant='subtitle2'>{item.author}</Typography>\r\n                          <Typography variant='caption'>{item.date}</Typography>\r\n                        </div>\r\n                        <Typography variant='body1' className='news-caption' onClick={() => this.goToSingleNews(item.id)}>\r\n                          {item.importance === '1' ? <Tooltip title='Важное!' placement=\"top-start\"><WarningIcon /></Tooltip> : null}\r\n                          {item.title.replace(/&quot;/g, `\"`)}\r\n                        </Typography>\r\n                        <div className=\"news-item-text\">\r\n                          <Typography variant='body2'>{item.text.replace(/&quot;/g, `\"`)}</Typography>\r\n                        </div>\r\n                        <Tooltip title=\"Перейти к комментариям\" placement=\"top-start\">\r\n                          <div\r\n                            onClick={() => this.goToSingleNews(item.id)}\r\n                            className=\"news-item-comment\"\r\n                          >\r\n                            <FontAwesomeIcon icon='comments' />\r\n                            {item.comments} {this.getCommentsNoun(item.comments)}\r\n                          </div>\r\n                        </Tooltip>\r\n                      </div>\r\n                    )\r\n                  }\r\n                }\r\n              })\r\n              : <NoNews><Typography variant='h6'>нет новостей</Typography></NoNews>}\r\n              <Button\r\n                variant='contained'\r\n                color='primary'\r\n                onClick={() => window.scrollTo(0, 0) }\r\n                component={Link} to=\"/news\"\r\n              >\r\n                ко всем новостям\r\n              </Button>\r\n              <span id='updateSideNews' style={{ display: 'none' }} onClick={() => this.forceUpdate()}></span>\r\n            </News>}\r\n        </Paper>\r\n        <Fragment>\r\n        {singleNews ?\r\n          <SingleNews\r\n            closeNews={this.closeNews.bind(this)}\r\n            singleNewsId={singleNewsId}\r\n            news={news}\r\n            getNoun={this.getNoun}\r\n            getCommentsNoun={this.getCommentsNoun}\r\n            reloadComponent={this.reloadComponent}\r\n            createImportantBar={this.createImportantBar.bind(this)}\r\n          />\r\n          : null}\r\n        </Fragment>  \r\n      </Wrapper>\r\n    )\r\n  }\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  width: 30%;\r\n  @media all and (max-width: 600px) {\r\n    display: none;\r\n  }\r\n`;\r\nconst NewsSwitch = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\nconst News = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n\r\n  .news-item {\r\n    width: 100%;\r\n    padding-bottom: 0;\r\n  }\r\n  svg {\r\n    margin-left: 0;\r\n  }\r\n  .news-caption {\r\n    display: flex;\r\n    align-items: flex-start;\r\n    width: 111%;\r\n    cursor: pointer;\r\n    margin-left: -15px;\r\n    padding: 10px 15px 8px;\r\n    &:hover {\r\n      background: #1976d2;\r\n      color: #ffffff;\r\n      transition: .37s ease;\r\n    }\r\n    svg {\r\n      color: rgba(0,0,0,.15) !important;\r\n      margin-right: 8px;\r\n      font-size: 22px;\r\n    }\r\n  }\r\n\r\n  .news-item-comment {\r\n    width: 111%;\r\n    cursor: pointer;\r\n    margin-left: -15px;\r\n    padding: 12px 15px;\r\n    &:hover {\r\n      background: rgba(0,0,0,0.015);\r\n    }\r\n  }\r\n`;\r\nconst NoNews = styled.div`\r\n  height: 150px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  opacity: .37;\r\n  margin-bottom: 20px;\r\n`;\r\nexport default connect(state => ({ store: state }))(SideNews);","import React from 'react';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport defaultAvatar from '../img/photos/images.png';\r\n\r\nfunction Friend(props) {\r\n  let avatar = props.friend.avatar;\r\n \r\n  return (\r\n    <ListItem button TouchRippleProps={{ classes: { child: 'touch-ripple' }}} >\r\n      <ListItemAvatar>\r\n        <Avatar\r\n          style={{ height: 50, width: 50 }}\r\n          alt={`${props.friend.name} ${props.friend.surname}`}\r\n          src={props.friend.avatar !== '' ? avatar : defaultAvatar}\r\n        />\r\n      </ListItemAvatar>\r\n      <ListItemText\r\n        inset\r\n        primary={`${props.friend.name} ${props.friend.surname}, ${props.friend.position}`}\r\n        secondary={props.friend.last_activity}\r\n      />\r\n    </ListItem>\r\n  );\r\n}\r\n\r\nexport default Friend;","import React from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport SearchIcon from '../img/icons/baseline-search-24px.svg';\r\nimport styled from 'styled-components';\r\n\r\nfunction Search(props) {\r\n  return (\r\n    <SearchWrapper>\r\n      <TextField\r\n        id=\"outlined-adornment-password\"\r\n        variant=\"outlined\"\r\n        type='text'\r\n        label=\"Поиск\"\r\n        margin='dense'\r\n        value={props.searchValue}\r\n        onChange={props.handleSearch}\r\n        InputProps={{\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <IconButton\r\n                aria-label=\"Искать в списке коллег\"\r\n              >\r\n                <img alt='Поиск' src={SearchIcon} style={{ opacity: '.37' }} />\r\n              </IconButton>\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n      />\r\n    </SearchWrapper>\r\n  )\r\n}\r\n\r\nconst SearchWrapper = styled.div`\r\n  padding: 20px\r\n  & > div {\r\n    width: 100%;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\r\n    padding: 10px 20px 12px;\r\n    height: 80px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: flex-end;\r\n    label {\r\n      line-height: .5;\r\n    }\r\n    input {\r\n      padding: 9px 18.5px;\r\n    }\r\n    input::placeholder {\r\n      color: red;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default Search;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nexport default function NotFound() {\r\n  return (\r\n    <Wrapper>\r\n      <Typography variant='h6' style={{ opacity: .3 }}>совпадений не найдено</Typography>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  height: 555px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n`;","import React, { useEffect, useState } from 'react';\r\nimport List from '@material-ui/core/List';\r\nimport Friend from './Friend';\r\nimport API from '../functions/API';\r\nimport styled from 'styled-components';\r\nimport Search from './Search';\r\nimport { Link } from 'react-router-dom';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Loader from '../Loader/Loader';\r\nimport { connect } from 'react-redux';\r\nimport moment from 'moment';\r\nimport NotFound from './NotFound';\r\n\r\nfunction FriendList({ onFetchFriends, setOnline, filterFriends, store: { friends }}) {\r\n  const [searchValue, setSearchValue] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [_friends, setFriends] = useState([]);\r\n  const documentTitle = document.title;\r\n\r\n  useEffect(() => {\r\n    if (friends.length === 0) {\r\n      setLoading(true);\r\n      fetch(`${API}/api/user/read.php`)\r\n        .then(response => response.json())\r\n        .then(friends => {\r\n          onFetchFriends(friends.data);\r\n          sortFriends(friends.data);\r\n          setFriends(friends.data);\r\n        })\r\n        .then(() => setLoading(false)) \r\n    }\r\n \r\n    return () => document.title = documentTitle;  \r\n  }, [])\r\n    \r\n  \r\n  function sortFriends(friends) {\r\n    let sorted = friends;\r\n    let online = [],\r\n        offline = [],\r\n        not_used = [];\r\n    sorted.forEach(friend => {\r\n      friend.last_activity = setFriendsOnline(friend.last_activity);\r\n      friend.last_activity === 'Online' \r\n        ? online.push(friend) \r\n        : friend.last_activity \r\n          ? offline.push(friend)\r\n          : not_used.push(friend)\r\n    }); \r\n    sorted = online.concat(offline.concat(not_used));\r\n    setOnline(sorted);\r\n  }\r\n\r\n  function handleSearch(e) {\r\n    setSearchValue(e.target.value);\r\n    const searchValue = e.target.value.toLowerCase();\r\n    document.title = e.target.value || documentTitle;\r\n\r\n    if (searchValue === '') {\r\n      filterFriends(_friends);\r\n      return;\r\n    } \r\n\r\n    friends = friends.filter(friend => \r\n      friend.name.toLowerCase().includes(searchValue) || \r\n      friend.surname.toLowerCase().includes(searchValue) ||\r\n      friend.position.toLowerCase().includes(searchValue)\r\n    );\r\n    filterFriends(friends);\r\n  }\r\n\r\n  function setFriendsOnline(time) {\r\n    if (!time) return '';\r\n\r\n    const lastActivity = moment(Number(time)).fromNow();\r\n    if ((lastActivity.includes('секунд') || lastActivity.includes('минут')) && (parseInt(lastActivity) < 15 || !parseInt(lastActivity))) {\r\n      return `Online`;\r\n    } else {\r\n      return `Последний визит: ${lastActivity}`;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Paper>\r\n      {loading ? <Loader minHeight={370} color='primary' /> \r\n        :\r\n        <FriendWrapper>\r\n          <Search \r\n            handleSearch={handleSearch} \r\n            searchValue={searchValue}\r\n          />\r\n          <List>\r\n            {friends.map(friend  => \r\n              <Link \r\n                key={friend.id} \r\n                to={`id${friend.id}`}\r\n              >\r\n                <Friend\r\n                  friend={friend} \r\n                />\r\n              </Link>\r\n            )} \r\n          </List>\r\n          {friends.length === 0 ? <NotFound /> : null}\r\n        </FriendWrapper>\r\n      }\r\n    </Paper>\r\n  );\r\n}\r\n\r\nconst FriendWrapper = styled.div`\r\n  a {\r\n    text-decoration: none;\r\n  }\r\n  ul {\r\n    padding: 0;\r\n    padding-bottom: 50px !important;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    ul {\r\n      padding-top: 15px;\r\n      padding-bottom: 15px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default connect( state => ({ store: state }),\r\n  dispatch => ({\r\n    onFetchFriends: (friends) => {\r\n      dispatch({ type: 'FETCH_FRIENDS', payload: friends })},\r\n    filterFriends: (friends) => {\r\n      dispatch({ type: 'FILTER_FRIENDS', payload: friends })},\r\n    setOnline: (friends) => {\r\n      dispatch({ type: 'SET_FRIENDS', payload: friends })}\r\n  })\r\n)(FriendList);","import React from 'react';\r\nimport Modal from '@material-ui/core/Modal';\r\n\r\nexport default function ModalWindow(props) {\r\n  return (\r\n    <Modal\r\n      open={props.open}\r\n      onClose={props.handleClose}\r\n    >\r\n      {props.component}\r\n    </Modal>\r\n  )\r\n}\r\n","import React, { Fragment } from 'react';\r\nimport { Paper, Typography, Button } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\nimport styled from 'styled-components';\r\n\r\nexport default function ConfirmDelete(props) {\r\n  return (\r\n    <Fragment>\r\n      <Wrapper>\r\n        <Paper>\r\n          <Icon onClick={props.handleClose}>\r\n            <CloseIcon />\r\n          </Icon>\r\n          <Typography variant='body1'>{`Вы уверены, что хотите ${props.message}?`}</Typography>\r\n          <ButtonContainer>\r\n            <Button variant='contained' color='secondary' onClick={props.setAdministrator}>Да</Button>\r\n            <Button variant='text' color='default' onClick={props.handleClose}>Отмена</Button>\r\n          </ButtonContainer>\r\n        </Paper>\r\n        \r\n      </Wrapper>\r\n      <Backdrop onClick={props.handleClose} />\r\n    </Fragment>\r\n  )\r\n}\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  height: 200px;\r\n  width: 400px;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n  outline: none;\r\n  z-index: 1000;\r\n  & > div {\r\n    height: 100%;\r\n    position: relative;\r\n    display: flex;\r\n    padding: 30px;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: 95%;\r\n  }\r\n`;\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  margin-top: 30px;\r\n  button {\r\n    margin-right: 25px;\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  svg {\r\n    cursor: pointer;\r\n    color: rgba(0,0,0,.54);\r\n    position: absolute;\r\n    right: 16px;\r\n    top: 16px;\r\n  }\r\n`\r\nconst Backdrop = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  top: 0;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  background: rgba(0,0,0,.37);\r\n`;","import React, { Component, Fragment } from 'react';\r\nimport $ from 'jquery';\r\nimport API from './functions/API';\r\nimport InputMask from 'react-input-mask';\r\nimport './css/PersonalInfo.css';\r\nimport defaultAvatar from './img/photos/images.png';\r\nimport { Typography, OutlinedInput, Select, TextField, Tooltip, Paper, FormControl, FormHelperText, Button, MenuItem, InputLabel } from '@material-ui/core';\r\nimport AddIcon from '@material-ui/icons/Done';\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport styled from 'styled-components';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport Loader from './Loader/Loader';\r\nimport { DatePicker } from 'material-ui-pickers';\r\nimport { withSnackbar } from 'notistack';\r\nimport { connect } from 'react-redux';\r\nimport moment from 'moment';\r\nimport Modal from './Modal/Modal';\r\nimport ConfirmStatus from './DropdownActions/ConfirmStatus';\r\nimport Star from '@material-ui/icons/Star';\r\nimport StarBorder from '@material-ui/icons/StarBorder';\r\n\r\nvar autoSaveTimer = null;\r\nvar pageInterval = null;\r\n\r\nclass PersonalInfo extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      userInfo: {},\r\n      newChildInput: false,\r\n      nameError: true,\r\n      yearError: true,\r\n      childName: '',\r\n      childBirthyear: '',\r\n      loading: true,\r\n      selectedDate: '',\r\n      loadingChild: false,\r\n      isSelectOpened: false,\r\n      lastUser: null,\r\n      preparedId: null,\r\n      open: false\r\n    }\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.fetchUserInfo = this.fetchUserInfo.bind(this);\r\n    this.deleteChild = this.deleteChild.bind(this);\r\n    this.prepareChild = this.prepareChild.bind(this);\r\n    this.handleChild = this.handleChild.bind(this);\r\n    this.addChild = this.addChild.bind(this);\r\n    this.removeInput = this.removeInput.bind(this);\r\n  }\r\n\r\n  fetchUserInfo(action) {\r\n    const id = window.location.pathname.slice(3);\r\n    if (!action) this.setState({ loading: true });\r\n      \r\n    if (action === 'child') this.setState({ loadingChild: true });\r\n\r\n    fetch(`${API}/api/user/info.php?id=${id}`)\r\n      .then(response => response.json())\r\n      .then(userInfo => this.setState({ userInfo, selectedDate: userInfo.birthday, lastUser: userInfo }))\r\n      .then(() => this.setState({ loading: false, loadingChild: false }))\r\n  }\r\n\r\n  // делаем запрос перед рендером\r\n  componentDidMount() {\r\n    this.fetchUserInfo();\r\n    var currentLocation = window.location.pathname;\r\n    pageInterval = setInterval(() => {\r\n      if (currentLocation !== window.location.pathname && window.location.pathname.includes('id')) {\r\n        this.fetchUserInfo();\r\n        window.clearInterval(pageInterval)\r\n      } \r\n    }, 250)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.clearInterval(pageInterval)\r\n  }\r\n\r\n  handleDateChange = date => this.setState({ selectedDate: date.format() });\r\n\r\n  // динамически обрабатываем изменения полей\r\n  handleChange(event) {\r\n    document.getElementById('updateUser').click();\r\n    window.clearTimeout(autoSaveTimer);\r\n    // ставим стейт исходя из именя поля и вводимого значения\r\n    let userInfo = { ...this.state.userInfo };\r\n    userInfo[event.target.name] = event.target.value;\r\n    this.setState({ userInfo });\r\n    this.props.updateUser(event.target.name, event.target.value);\r\n    autoSaveTimer = setTimeout(() => {\r\n      this.handleSubmit(event, true);\r\n      this.props.enqueueSnackbar('Персональные данные были обновлены', { variant: 'success' });\r\n    }, 2500)\r\n  }\r\n\r\n  prepareChild() {\r\n    this.setState({ newChildInput: true })\r\n  }\r\n\r\n  handleChild(event) {\r\n    let value = event.target.value;\r\n    if (value.length > 10) value = value.slice(1);\r\n    this.setState({\r\n      [event.target.name]: value,\r\n      nameError: true,\r\n      yearError: true\r\n    })\r\n  }\r\n\r\n  addChild(e) {\r\n    e.preventDefault();\r\n    \r\n    if (this.state.childName && this.state.childBirthyear) {\r\n      var self = this;\r\n      const formData = new FormData();\r\n\r\n      let child = {\r\n        child_name: this.state.childName,\r\n        child_birthyear: this.state.childBirthyear,\r\n      }\r\n\r\n      for (let key in child) {\r\n        formData.append(key, child[key]);    \r\n      }\r\n\r\n      $.ajax({\r\n        url: `${API}/api/child/add.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: res => {\r\n          child.id = res['MAX(`id`)'];\r\n          self.props.onAddChild(child);\r\n          self.setState({ newChildInput: false, childBirthyear: '', childName: '' });\r\n          self.props.enqueueSnackbar('Персональные данные были обновлены', { variant: 'success' });\r\n        },\r\n        error: () => self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' })\r\n      });\r\n    } else {\r\n      if (this.state.newChildInput) {\r\n        this.props.enqueueSnackbar('Нужно заполнить все поля', { variant: 'warning' });\r\n        if (!this.state.childBirthyear) this.setState({ yearError: false })\r\n        if (!this.state.childName) this.setState({ nameError: false })\r\n      }\r\n    }\r\n  }\r\n\r\n  deleteChild(id) {\r\n    var self = this;\r\n    self.setState({ modal: false });\r\n    const formData = new FormData();\r\n    formData.append('id', id);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/child/delete.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () => {\r\n        self.props.onRemoveChild(id);\r\n        self.forceUpdate();\r\n        self.props.enqueueSnackbar('Персональные данные были обновлены', { variant: 'success' });\r\n      },\r\n      error: () => self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' })\r\n    });\r\n  }\r\n\r\n  removeInput = () => this.setState({ newChildInput: false });\r\n\r\n  handleSubmit(e, dontShow) {\r\n    const { user } = this.props.store;\r\n    var self = this;\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n\r\n    formData.append('id', user.id);\r\n    formData.append('adress', $('input[name=\"adress\"]').val());\r\n    formData.append('army_country', $('input[name=\"army_country\"]').val());\r\n    formData.append('army_type', $('input[name=\"army_type\"]').val());\r\n    formData.append('birthday', this.state.selectedDate.slice(0, 10));\r\n    formData.append('district', $('input[name=\"district\"]').val());\r\n    formData.append('fakultet', $('input[name=\"fakultet\"]').val());\r\n    formData.append('name', $('input[name=\"name\"]').val());\r\n    formData.append('phone', $('input[name=\"phone\"]').val());\r\n    formData.append('position', $('input[name=\"position\"]').val());\r\n    formData.append('status', this.state.userInfo.status);\r\n    formData.append('surname', $('input[name=\"surname\"]').val());\r\n    formData.append('vuz', $('input[name=\"vuz\"]').val());\r\n    formData.append('city', $('input[name=\"city\"]').val());\r\n    formData.append('sex', this.state.userInfo.sex);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/user/update.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function (res) {\r\n        let response = res.result;\r\n        switch (response) {\r\n          case 0:\r\n            self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' });\r\n            break;\r\n          case 1: \r\n            if (!dontShow) {\r\n              self.fetchUserInfo('update');\r\n              self.props.enqueueSnackbar('Персональные данные были обновлены', { variant: 'success' });\r\n              self.addChild(e);\r\n            }\r\n            break;\r\n          default: break;\r\n        }\r\n      },\r\n      error: function() {\r\n        self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' });\r\n      }\r\n    });\r\n  }\r\n\r\n  createInput = (label, value, name) => {\r\n    const { user } = this.props.store;\r\n    const { userInfo } = this.state;\r\n\r\n    if (user.id === userInfo.id) {\r\n      return (\r\n        <TextField\r\n          label={label}\r\n          value={value}\r\n          fullWidth={true}\r\n          name={name}\r\n          margin='dense'\r\n          InputLabelProps={{ shrink: true }}\r\n          onChange={this.handleChange}\r\n          variant=\"outlined\"\r\n        />\r\n      )\r\n    } else {\r\n      return (\r\n        <Naked>\r\n          {name === 'name' || name === 'surname' || name === 'position' ? (\r\n            <FormControl>\r\n              <InputBase value={value} />\r\n            </FormControl>\r\n          ) : (\r\n              <FormControl>\r\n                <InputLabel htmlFor={name}>{label}</InputLabel>\r\n                <InputBase id={name} value={value} />\r\n              </FormControl>\r\n            )}\r\n        </Naked>\r\n      )\r\n    }\r\n  }\r\n\r\n  closeSelectOnScroll = () => true;\r\n  listenSelect = () => true;\r\n  closeSelect = () => this.setState({ isSelectOpened: false });\r\n\r\n  prepareToUpdate(id) {\r\n    this.setState({ preparedId: id, open: true });\r\n  }\r\n\r\n  setAdministrator = () => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    formData.append('id', this.state.preparedId);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/user/setAdministrator.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () => {\r\n        self.handleClose();\r\n        self.props.enqueueSnackbar('Статус пользователя был успешно сменён', { variant: 'success' })\r\n        self.fetchUserInfo();\r\n      },\r\n      error: () => self.props.enqueueSnackbar('Что-то пошло не так, попробуйте снова', { variant: 'error' })\r\n    });\r\n  }\r\n\r\n  handleClose = () => this.setState({ open: false, preparedId: null });\r\n\r\n  render() {\r\n    const { loading, newChildInput, childName, childBirthyear, nameError, yearError } = this.state;\r\n    const { user } = this.props.store;\r\n    let childrens = {};\r\n    let userInfo = user;\r\n\r\n    if (userInfo.childs) childrens = JSON.parse(userInfo.childs.replace(/\\//g, ''));\r\n\r\n    if (user.hasOwnProperty('name')) {\r\n      if (window.location.pathname.slice(3) === userInfo.id) {\r\n        userInfo = user;\r\n      } else {\r\n        userInfo = this.state.userInfo;\r\n      }\r\n    }\r\n\r\n    return (\r\n      <Paper className=\"personal\">\r\n\r\n        {!loading ? <Form id=\"personal-info\" action=\"\" method=\"POST\" onSubmit={this.handleSubmit}>\r\n\r\n          <div className=\"personal-header\">\r\n\r\n            {user.admin === '1' ?\r\n              userInfo.admin === '1' ? \r\n                <Tooltip title=\"Разжаловать администратора\">\r\n                  <Star onClick={() => this.prepareToUpdate(userInfo.id)} style={{ position: 'absolute', right: 30, color: '#F9A825', cursor: 'pointer' }} />\r\n                </Tooltip> : \r\n                <Tooltip title=\"Назначить администратором\">\r\n                  <StarBorder onClick={() => this.prepareToUpdate(userInfo.id)} style={{ position: 'absolute', right: 30, color: 'F9A825', cursor: 'pointer' }} />\r\n                </Tooltip> \r\n            : null}\r\n\r\n            <div className=\"personal-header__photo\">\r\n              <div style={{ background: `url(${userInfo.avatar ? userInfo.avatar : defaultAvatar}) no-repeat center/cover` }}></div>\r\n            </div>\r\n            <div className={user.id === userInfo.id ? 'personal-header__info' : null}>\r\n              {user.id === userInfo.id ? (\r\n                <Fragment>\r\n                  {this.createInput('Имя', userInfo.name, 'name')}\r\n                  {this.createInput('Фамилия', userInfo.surname, 'surname')}\r\n                  {this.createInput('Должность', userInfo.position, 'position')}\r\n                </Fragment>\r\n              ) : (\r\n                  <Fragment>\r\n                    <InputBase className='user-header' value={userInfo.name + ' ' + userInfo.surname} />\r\n                    <span className='user-position'>{this.createInput('Должность', userInfo.position, 'position')}</span>\r\n                  </Fragment>\r\n                )}\r\n\r\n              {user.id === userInfo.id ? (\r\n                <InputMask\r\n                  mask=\"+7 (999) 99-99-999\"\r\n                  value={userInfo.phone}\r\n                  onChange={this.handleChange}\r\n                >\r\n                  {() => <TextField\r\n                    label='Номер телефона'\r\n                    name='phone'\r\n                    fullWidth={true}\r\n                    margin='dense'\r\n                    InputLabelProps={{ shrink: true }}\r\n                    variant=\"outlined\"\r\n                  />}\r\n                </InputMask>) : (\r\n                  <Naked>\r\n                    <InputBase id='phone' style={{ pointerEvents: 'none', padding: 0 }} value={userInfo.phone} />\r\n                  </Naked>\r\n                )}\r\n\r\n              {user.id === userInfo.id ? (\r\n                <FormControl >\r\n                  <DatePicker\r\n                    variant='outlined'\r\n                    name=\"birthday\"\r\n                    margin='dense'\r\n                    label='Дата рождения'\r\n                    format={userInfo.admin === '1' ? 'Do MMMM YYYY' : 'Do MMMM'}\r\n                    value={this.state.selectedDate ? this.state.selectedDate : userInfo.birthday}\r\n                    fullWidth={true}\r\n                    InputLabelProps={{ shrink: true }}\r\n                    onChange={this.handleDateChange}\r\n                    aria-describedby=\"component-helper-text\"\r\n                    cancelLabel='Отмена'\r\n                  />\r\n                  <FormHelperText id=\"component-helper-text\">*Год рождения будет виден только руководству</FormHelperText>\r\n                </FormControl>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n          <div className=\"personal-section\">\r\n\r\n            {user.id !== userInfo.id && !userInfo.status && childrens.length === 0 ?\r\n            null :\r\n            <div className=\"personal-section__header\">\r\n              <Typography vazriant='h6' color='primary'>Семья</Typography>\r\n              <hr />\r\n            </div>\r\n            }\r\n\r\n            {user.id === userInfo.id ? (\r\n              <FormControl style={{ width: '100%' }}>\r\n                <InputLabel htmlFor=\"status\">Семейное положение</InputLabel>\r\n                <Select   \r\n                  value={userInfo.status || ''}\r\n                  onOpen={this.listenSelect}\r\n                  onClose={this.closeSelectOnScroll}\r\n                  open={this.state.isSelectOpened}\r\n                  onChange={this.handleChange}\r\n                  onClick={() => this.setState({ isSelectOpened: !this.state.isSelectOpened })}\r\n                  input={\r\n                    <OutlinedInput\r\n                      labelWidth={500}\r\n                      name=\"status\"\r\n                      id=\"status\"\r\n                    />\r\n                  }         \r\n                >\r\n                  {userInfo.sex === 'женский' ?\r\n                    <MenuItem value=\"Не замужем\">Не замужем</MenuItem> :\r\n                    <MenuItem value=\"Не женат\">Не женат</MenuItem>\r\n                  }\r\n                  {userInfo.sex === 'женский' ?\r\n                    <MenuItem value=\"Замужем\">Замужем</MenuItem> :\r\n                    <MenuItem value=\"Женат\">Женат</MenuItem>\r\n                  }\r\n                  <MenuItem value=\"В гражданском браке\">В гражданском браке</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            ) : (\r\n\r\n              userInfo.status ?\r\n                <Naked>\r\n                  <FormControl>\r\n                    <InputLabel htmlFor='status'>Семейное положение</InputLabel>\r\n                    <InputBase id='status' value={userInfo.status} />\r\n                  </FormControl>\r\n                </Naked>\r\n              : null\r\n              )}\r\n          </div>\r\n          <div className=\"personal-section\">\r\n          \r\n            {user.id !== userInfo.id ? null :\r\n            <Fragment>\r\n              <div className=\"personal-section__header\">\r\n                <Typography variant='h6' color='primary'>Дети</Typography>\r\n                <hr />\r\n              </div>\r\n              <Childrens>\r\n                {Object.keys(childrens).map(child =>\r\n                  <Children key={childrens[child].id}>\r\n                    <Typography variant='subtitle2'>Имя: {childrens[child].child_name} </Typography>\r\n                    <Typography variant='caption'>{childrens[child].child_birthyear} г.р.</Typography>\r\n                    {user.id === userInfo.id  ?\r\n                      <Tooltip title=\"Удалить\" placement=\"right\"><Clear onClick={() => this.deleteChild(childrens[child].id)} /></Tooltip>\r\n                    : null}\r\n                  </Children>\r\n                )}\r\n              </Childrens>\r\n            </Fragment>}\r\n\r\n            {newChildInput ? (<NewChild>\r\n              <div>\r\n                <TextField\r\n                  label='Имя'\r\n                  value={childName}\r\n                  fullWidth={true}\r\n                  name='childName'\r\n                  margin='dense'\r\n                  error={!nameError}\r\n                  InputLabelProps={{ shrink: true }}\r\n                  onChange={this.handleChild}\r\n                  variant=\"outlined\"\r\n                />\r\n                <TextField\r\n                  label='Год рождения'\r\n                  value={childBirthyear || (moment(Date.now()).format('L')).split('.').reverse().join('-')}\r\n                  fullWidth={true}\r\n                  name='childBirthyear'\r\n                  margin='dense'\r\n                  type='date'\r\n                  error={!yearError}\r\n                  InputLabelProps={{ shrink: true }}\r\n                  onChange={this.handleChild}\r\n                  variant=\"outlined\"\r\n                />\r\n              </div>\r\n              <span>\r\n                <Tooltip title=\"Добавить\" placement=\"right\">\r\n                  <AddIcon onClick={this.addChild} />\r\n                </Tooltip>\r\n                <Tooltip title=\"Отменить\" placement=\"right\">\r\n                  <Clear onClick={() => this.setState({ newChildInput: false, childBirthyear: '', childName: '', nameError: true, yearError: true })} />\r\n                </Tooltip>\r\n              </span>\r\n            </NewChild>) : null}\r\n\r\n            {user.id === userInfo.id ? (\r\n              <ChildBtns>\r\n                <Button variant='contained' color='primary' onClick={newChildInput ? this.addChild : this.prepareChild}>Добавить</Button>\r\n              </ChildBtns>) : null}\r\n          </div>\r\n          <div className=\"personal-section\">\r\n            {user.id !== userInfo.id && !userInfo.city && !userInfo.disctrict && !userInfo.adress \r\n            ? null :\r\n            <div className=\"personal-section__header\">\r\n              <Typography variant='h6' color='primary'>Контакты</Typography>\r\n              <hr />\r\n            </div>\r\n            }\r\n\r\n            {user.id !== userInfo.id && !userInfo.city && !userInfo.disctrict && !userInfo.adress \r\n            ? null :      \r\n              <Fragment>\r\n                {this.createInput('Родной город', userInfo.city, 'city')}\r\n                {this.createInput('Области/края', userInfo.district, 'district')}\r\n                {this.createInput('Актуальный адрес', userInfo.adress, 'adress')}\r\n              </Fragment>\r\n            }\r\n\r\n          </div>\r\n          <div className=\"personal-section\">\r\n            {user.id !== userInfo.id && !userInfo.vuz && !userInfo.fakultet \r\n            ? null :\r\n            <div className=\"personal-section__header\">\r\n              <Typography variant='h6' color='primary'>Образование</Typography>\r\n              <hr />\r\n            </div>\r\n            }\r\n\r\n            {user.id !== userInfo.id && !userInfo.vuz && !userInfo.fakultet\r\n            ? null :\r\n              <Fragment>\r\n                {this.createInput('ВУЗ', userInfo.vuz, 'vuz')}\r\n                {this.createInput('Факультет', userInfo.fakultet, 'fakultet')}\r\n              </Fragment>\r\n            }\r\n\r\n          </div>\r\n          {userInfo.sex === 'мужской' ?\r\n            <div className=\"personal-section\">\r\n              {user.id !== userInfo.id  && !userInfo.army_country && !userInfo.army_type \r\n              ? null :\r\n              <div className=\"personal-section__header\">\r\n                <Typography variant='h6' color='primary'>Служба</Typography>\r\n                <hr />\r\n              </div>\r\n              }\r\n\r\n              {user.id !== userInfo.id  && !userInfo.army_country && !userInfo.army_type \r\n              ? null :\r\n                <Fragment>\r\n                  {this.createInput('Страна', userInfo.army_country, 'army_country')}\r\n                  {this.createInput('Род войск', userInfo.army_type, 'army_type')}\r\n                </Fragment>\r\n              }\r\n            </div> : null}\r\n\r\n          {user.id === userInfo.id  ? <Btn><Button type='submit' variant='contained' color='primary' onClick={this.handleSubmit}>Обновить данные</Button></Btn> : null}\r\n        </Form> : <Loader minHeight={400} color='primary' />}\r\n\r\n\r\n        {/* Confirm promote modal */}\r\n        <Modal\r\n          open={this.state.open}\r\n          handleClose={this.handleClose.bind(this)}\r\n          component={<ConfirmStatus\r\n            setAdministrator={this.setAdministrator}\r\n            handleClose={this.handleClose.bind(this)}\r\n            message={userInfo.admin === '1' ? \"разжаловать администратора\" : `назначить ${userInfo.name} ${userInfo.surname} администратором`}\r\n          />}\r\n        />\r\n      </Paper >\r\n    )\r\n  }\r\n}\r\nconst Form = styled.form`\r\n  padding-bottom: 30px;\r\n  position: relative;\r\n  label {\r\n    text-transform: lowercase;\r\n  }\r\n  .user-header {\r\n    color: #1976d2;\r\n    font-size: 20px;\r\n  }\r\n  .user-position {\r\n    display: block;\r\n    margin-top: -10px;\r\n    & > div > div {\r\n      margin: 0;\r\n      padding: 0;\r\n      & > div > input {\r\n        color: rgba(0,0,0,.54);\r\n        font-size: 14px;\r\n      }\r\n    }\r\n  }\r\n  fieldset {\r\n    border: none;\r\n  }\r\n`;\r\nconst Btn = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\nconst Children = styled.div`\r\n  width: 30%;\r\n  position: relative;\r\n  margin-bottom: 15px;\r\n  margin-right: 3%;\r\n\r\n  &:hover > svg {\r\n    display: block;\r\n  } \r\n\r\n  svg {\r\n    display: none;\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    opacity: .5;\r\n    cursor: pointer;\r\n    font-size: 20px;\r\n    &:hover {\r\n      opacity: .8;\r\n    }\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: 100%;\r\n    svg {\r\n      display: block;\r\n      font-size: 28px;\r\n    }\r\n  }\r\n`;\r\nconst Childrens = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin: 20px 0 5px;\r\n  padding-left: 15px;\r\n`;\r\nconst NewChild = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  & > div {\r\n    width: 90%;\r\n  }\r\n\r\n  svg {\r\n    opacity: .5;\r\n    cursor: pointer;\r\n    font-size: 24px;\r\n    &:hover {\r\n      opacity: .8;\r\n    }\r\n  }\r\n`;\r\nconst ChildBtns = styled.div`\r\n  margin-top: 15px;\r\n  button {\r\n    margin-right: 15px;\r\n  }\r\n  padding-left: 15px;\r\n`;\r\nconst Naked = styled.div`\r\n  width: 100%;\r\n  display: inline-block;\r\n  & > div {\r\n    display: block;\r\n    margin-bottom: 10px;\r\n    padding-left: 37px;\r\n  }\r\n  & > div > div {\r\n    display: block;\r\n    pointer-events: none;\r\n    margin-top: -5px;\r\n  }\r\n  label {\r\n    font-size: 12px;\r\n    position: relative;\r\n    text-transform: lowercase;\r\n  }\r\n  .inline-input {\r\n    display: inline-flex;\r\n    margin-left: 10px;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    & > div {\r\n      padding-left: 15px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default connect(state => ({ store: state }),\r\n  dispatch => ({\r\n    updateUser: (field, value) => dispatch({ type: 'UPDATE_USER', payload: value, field: field }),\r\n    onAddChild: child => dispatch({ type: 'ADD_CHILD', payload: child }),\r\n    onRemoveChild: id => dispatch({ type: 'REMOVE_CHILD', payload: id })\r\n  })\r\n)(withSnackbar(PersonalInfo));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { Fab as Fabulous } from '@material-ui/core';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nconst styles = theme => ({\r\n  fixed: {\r\n    position: 'fixed',\r\n    bottom: window.innerWidth > 600 ? theme.spacing.unit * 2 : 74,\r\n    right: theme.spacing.unit * 3,\r\n  },\r\n});\r\n\r\nfunction Fab(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <div>\r\n      <Tooltip title={props.title} aria-label={props.title}>\r\n        <Fabulous color={props.secondary ? 'secondary' : 'primary'} className={classes.fixed}>\r\n          <AddIcon />\r\n        </Fabulous>\r\n      </Tooltip>\r\n    </div>\r\n  );\r\n}\r\n\r\nFab.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(Fab);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport Select from 'react-select';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Typography, FormControlLabel, Checkbox, NoSsr, TextField, Paper, Chip, MenuItem } from '@material-ui/core';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport { emphasize } from '@material-ui/core/styles/colorManipulator';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    height: 120,\r\n    marginTop: 20,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between'\r\n  },\r\n  input: {\r\n    display: 'flex',\r\n    padding: 0,\r\n  },\r\n  valueContainer: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  chip: {\r\n    margin: `${theme.spacing.unit / 2}px ${theme.spacing.unit / 4}px`,\r\n  },\r\n  chipFocused: {\r\n    backgroundColor: emphasize(\r\n      theme.palette.type === 'light' ? theme.palette.grey[300] : theme.palette.grey[700],\r\n      0.08,\r\n    ),\r\n  },\r\n  noOptionsMessage: {\r\n    padding: `${theme.spacing.unit}px ${theme.spacing.unit * 2}px`,\r\n  },\r\n  singleValue: {\r\n    fontSize: 16,\r\n  },\r\n  placeholder: {\r\n    position: 'absolute',\r\n    left: 2,\r\n    fontSize: 16,\r\n  },\r\n  paper: {\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    marginTop: theme.spacing.unit,\r\n    left: 0,\r\n    right: 0,\r\n  }\r\n});\r\n\r\nfunction NoOptionsMessage(props) {\r\n  return (\r\n    <Typography\r\n      color=\"textSecondary\"\r\n      className={props.selectProps.classes.noOptionsMessage}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction inputComponent({ inputRef, ...props }) {\r\n  return <div ref={inputRef} {...props} />;\r\n}\r\n\r\nfunction Control(props) {\r\n  return (\r\n    <TextField\r\n      fullWidth\r\n      InputProps={{\r\n        inputComponent,\r\n        inputProps: {\r\n          className: props.selectProps.classes.input,\r\n          inputRef: props.innerRef,\r\n          children: props.children,\r\n          ...props.innerProps,\r\n        },\r\n      }}\r\n      {...props.selectProps.textFieldProps}\r\n    />\r\n  );\r\n}\r\n\r\nfunction Option(props) {\r\n  return (\r\n    <MenuItem\r\n      buttonRef={props.innerRef}\r\n      selected={props.isFocused}\r\n      component=\"div\"\r\n      style={{\r\n        fontWeight: props.isSelected ? 500 : 400,\r\n      }}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </MenuItem>\r\n  );\r\n}\r\n\r\nfunction Placeholder(props) {\r\n  return (\r\n    <Typography\r\n      color=\"textSecondary\"\r\n      className={props.selectProps.classes.placeholder}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction SingleValue(props) {\r\n  return (\r\n    <Typography className={props.selectProps.classes.singleValue} {...props.innerProps}>\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction ValueContainer(props) {\r\n  return <div className={props.selectProps.classes.valueContainer}>{props.children}</div>;\r\n}\r\n\r\nfunction MultiValue(props) {\r\n  return (\r\n    <Chip\r\n      tabIndex={-1}\r\n      label={props.children}\r\n      className={classNames(props.selectProps.classes.chip, {\r\n        [props.selectProps.classes.chipFocused]: props.isFocused,\r\n      })}\r\n      onDelete={props.removeProps.onClick}\r\n      deleteIcon={<CancelIcon {...props.removeProps} />}\r\n    />\r\n  );\r\n}\r\n\r\nfunction Menu(props) {\r\n  return (\r\n    <Paper square className={props.selectProps.classes.paper} {...props.innerProps}>\r\n      {props.children}\r\n    </Paper>\r\n  );\r\n}\r\n\r\nconst components = {\r\n  Control,\r\n  Menu,\r\n  MultiValue,\r\n  NoOptionsMessage,\r\n  Option,\r\n  Placeholder,\r\n  SingleValue,\r\n  ValueContainer,\r\n};\r\n\r\nclass IntegrationReactSelect extends React.Component {\r\n\r\n  render() {\r\n    const { classes, theme } = this.props;\r\n    \r\n    const users = this.props.users.map(user => ({\r\n      value: user.id,\r\n      label: `${user.name} ${user.surname}`,\r\n    }));\r\n\r\n    const selectStyles = {\r\n      input: base => ({\r\n        ...base,\r\n        color: theme.palette.text.primary,\r\n        '& input': {\r\n          font: 'inherit',\r\n        },\r\n      }),\r\n    };\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <NoSsr>\r\n          <Select\r\n            classes={classes}\r\n            styles={selectStyles}\r\n            textFieldProps={{\r\n              label: 'Сотрудники',\r\n              InputLabelProps: {\r\n                shrink: true,\r\n              },\r\n            }}\r\n            options={users}\r\n            components={components}\r\n            value={this.props.multi}\r\n            onChange={this.props.handleChange('multi')}\r\n            placeholder=\"Выберите сотрудников\"\r\n            isMulti\r\n          />\r\n          <FormControlLabel\r\n            control={\r\n              <Checkbox\r\n                onChange={this.props.changeImportance}\r\n                color=\"primary\"\r\n              />\r\n            }\r\n            label=\"Отметить как важную\"\r\n          />\r\n        </NoSsr>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nIntegrationReactSelect.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  theme: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(IntegrationReactSelect);","import React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { TimePicker, DatePicker } from 'material-ui-pickers';\r\n\r\nclass MaterialUIPickers extends React.Component {\r\n  render() {\r\n    return (\r\n      <Grid container justify=\"space-around\" style={{ paddingBottom: 30 }}>\r\n        <DatePicker\r\n          margin=\"normal\"\r\n          label=\"Выберите дату\"\r\n          value={this.props.selectedDate}\r\n          minDate={new Date(new Date().getTime() + 24 * 60 * 60 * 1000)}\r\n          fullWidth={true}\r\n          onChange={this.props.handleDateChange}\r\n          cancelLabel='Отмена'\r\n          emptyLabel='не выбрана дата'\r\n        />\r\n        <TimePicker\r\n          ampm={false}\r\n          margin=\"normal\"\r\n          label=\"Выберите время\"\r\n          value={this.props.selectedTime}\r\n          locale='ru'\r\n          fullWidth={true}\r\n          minutesStep={5}\r\n          onChange={this.props.handleTimeChange}\r\n          cancelLabel='Отмена'\r\n          emptyLabel='не выбрано время'\r\n        />\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MaterialUIPickers;","import React from 'react';\r\nimport { TextField } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nexport default function TextInput(props) {\r\n  return (\r\n    <TextArea>\r\n      <TextField\r\n        label=\"Поставленная задача\"\r\n        multiline\r\n        variant=\"outlined\"\r\n        name='text'\r\n        onChange={props.handleTextChange}\r\n        value={props.text}\r\n        required\r\n      />\r\n    </TextArea>\r\n  )\r\n}\r\n\r\nconst TextArea = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-top: 10px;\r\n  height: 150px;\r\n\r\n  textarea {\r\n    max-height: 130px;\r\n    &::-webkit-scrollbar {\r\n      width: 10px;\r\n    }\r\n   \r\n    &::-webkit-scrollbar-track {\r\n      background-color: #ebebeb;\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n    }\r\n  \r\n    &::-webkit-scrollbar-thumb {\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n      background: #1976d2; \r\n    }\r\n  }\r\n\r\n  & > div {\r\n    width: 100%;\r\n    & > div {\r\n      height: 100%;\r\n    }\r\n  }\r\n`;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport StepContent from '@material-ui/core/StepContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Autocomplete from './Autocomplete';\r\nimport Pickers from './Pickers';\r\nimport TextInput from './TextInput';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n  },\r\n  actionsContainer: {\r\n    marginBottom: theme.spacing.unit * 2,\r\n  },\r\n  resetContainer: {\r\n    padding: theme.spacing.unit * 3,\r\n  },\r\n});\r\n\r\nfunction getSteps() {\r\n  return ['Выберите сотрудника и важность', 'Назначьте дату и время', 'Поставьте задачу'];\r\n}\r\n\r\nfunction getStepContent(step) {\r\n  switch (step) {\r\n    case 0:\r\n      return `Вы можете выбрать одного или более сотрудников. К тому же можете установить повышенную важность задачи.`;\r\n    case 1:\r\n      return 'Выберите дату и время в соответствующих полях.';\r\n    case 2:\r\n      return `Сотрудник сможет найти поставленные ему задачи в уведомлениях.`;\r\n    default:\r\n      return 'Unknown step';\r\n  }\r\n}\r\n\r\nclass VerticalLinearStepper extends React.Component {\r\n  state = {\r\n    activeStep: 0,\r\n  };\r\n\r\n  handleNext = () => {\r\n    this.setState(state => ({\r\n      activeStep: state.activeStep + 1,\r\n    }));\r\n  };\r\n\r\n  handleBack = () => {\r\n    this.setState(state => ({\r\n      activeStep: state.activeStep - 1,\r\n    }));\r\n  };\r\n\r\n  handleReset = () => {\r\n    this.setState({\r\n      activeStep: 0,\r\n    });\r\n  };\r\n\r\n  checkDisabled = (step, multi, date, time, text) => {\r\n    if (step === 0 && multi.length !== 0) return false;\r\n    if (step === 1 && date && time) return false;\r\n    if (step === 2 && text.length > 0) return false;\r\n    \r\n    return true;\r\n  }\r\n\r\n  render() {\r\n    const { classes, users, multi, selectedTime, selectedDate, text } = this.props;\r\n    const steps = getSteps();\r\n    const { activeStep } = this.state;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <Stepper activeStep={activeStep} orientation=\"vertical\">\r\n          {steps.map((label, index) => (\r\n            <Step key={label}>\r\n              <StepLabel>{label}</StepLabel>\r\n              <StepContent>\r\n                <Typography>{getStepContent(index)}</Typography>\r\n                <div className={classes.actionsContainer}>\r\n                  <div>\r\n                    <Button\r\n                      disabled={activeStep === 0}\r\n                      onClick={this.handleBack}\r\n                      className={classes.button}\r\n                    >\r\n                      Назад\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      onClick={activeStep === steps.length - 1 ? () => {this.props.handleSubmit(); this.handleNext()} : this.handleNext}\r\n                      className={classes.button}\r\n                      disabled={this.checkDisabled(activeStep, multi, selectedDate, selectedTime, text)} \r\n                    >\r\n                      {activeStep === steps.length - 1 ? 'Финиш' : 'Дальше'}\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </StepContent>\r\n            </Step>\r\n          ))}\r\n                        \r\n        </Stepper>\r\n\r\n        {/* Контент */}\r\n        {activeStep === 0 \r\n          ? <Autocomplete \r\n              users={users} \r\n              multi={multi}\r\n              handleChange={this.props.handleChange}\r\n              changeImportance={this.props.changeImportance}\r\n            />\r\n          : activeStep === 1\r\n          ? <Pickers \r\n              selectedTime={selectedTime} \r\n              selectedDate={selectedDate}\r\n              handleDateChange={this.props.handleDateChange}\r\n              handleTimeChange={this.props.handleTimeChange}\r\n            />\r\n          : activeStep === 2\r\n          ? <TextInput\r\n              text={text}\r\n              handleTextChange={this.props.handleTextChange}\r\n            />\r\n          : null } \r\n\r\n        {activeStep === steps.length && (\r\n          <Paper square elevation={0} className={classes.resetContainer}>\r\n            <Typography>Задача успешно поставлена.</Typography>\r\n            <Button \r\n              onClick={() => {this.handleReset(); this.props.resetAll()}}\r\n              variant=\"contained\"               \r\n              color=\"primary\"\r\n              className={classes.button}\r\n            >\r\n              Поставить ещё задачу\r\n            </Button>\r\n            <Button \r\n              onClick={this.props.handleClose} \r\n              className={classes.button}\r\n            >\r\n              Закрыть\r\n            </Button>\r\n          </Paper>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nVerticalLinearStepper.propTypes = {\r\n  classes: PropTypes.object,\r\n};\r\n\r\nexport default withStyles(styles)(VerticalLinearStepper);","import React, { Component, Fragment } from 'react';\r\nimport { Paper, Typography, Tooltip } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport API from '../functions/API';\r\nimport Stepper from './Stepper';\r\nimport $ from 'jquery';\r\nimport { connect } from 'react-redux';\r\nimport { withSnackbar } from 'notistack';\r\n\r\nclass NewTask extends Component {\r\n  state = {\r\n    selectedDate: null,\r\n    selectedTime: null,\r\n    multi: [],\r\n    text: '',\r\n    importance: 0\r\n  }\r\n\r\n  handleChange = name => value => this.setState({ [name]: value });\r\n  handleDateChange = date => this.setState({ selectedDate: date.format() });\r\n  handleTimeChange = time => this.setState({ selectedTime: time.format() });\r\n  handleTextChange = e => this.setState({ text: e.target.value })\r\n  changeImportance = () => this.setState({ importance: !this.state.importance });\r\n  resetAll = () => {\r\n    this.setState({\r\n      selectedDate: new Date(),\r\n      selectedTime: new Date(),\r\n      multi: [],\r\n      text: '',\r\n      importance: 0\r\n    });\r\n  }\r\n\r\n  handleSubmit = () => {\r\n    const { multi, selectedTime, selectedDate, text, importance } = this.state;\r\n    const { user } = this.props.store;\r\n    const formData = new FormData();\r\n    const self = this;\r\n    let forWho = [];\r\n    let date = new Date();\r\n    multi.forEach(user => forWho.push(`for${user.value}`));\r\n\r\n    formData.append('from', user.id);\r\n    formData.append('date', date.toLocaleDateString());\r\n    formData.append('for', forWho.join(','));\r\n    formData.append('time', `${date.getHours() < 10 ? '0' + date.getHours() : date.getHours()}:${date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()}`);\r\n    formData.append('until_date', selectedDate.slice(0, 10));\r\n    formData.append('text', text);\r\n    formData.append('until_time', selectedTime.slice(11, 16));\r\n    formData.append('importance', importance ? '1' : '0');\r\n    formData.append('created_at', new Date().getTime());\r\n    \r\n    $.ajax({\r\n      url: `${API}/api/tasks/add.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () => {\r\n        fetch(`${API}/api/tasks/read.php?id=${user.id}`)\r\n          .then(response => response.json())\r\n          .then(tasks => self.props.onAddNewTask(tasks.data))\r\n          .then(() => self.props.enqueueSnackbar('Задача была поставлена', { variant: 'success' }))\r\n      },\r\n      error: () => self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' })\r\n    });\r\n  }\r\n  \r\n  render() {\r\n    const { multi, selectedTime, selectedDate, text } = this.state;\r\n\r\n    return (\r\n      <Fragment>\r\n        <Wrapper>\r\n          <Paper>\r\n            <span className='closeNewTask' onClick={this.props.handleClose}>\r\n              <Tooltip title=\"Закрыть\" placement=\"left\"><CloseIcon /></Tooltip>\r\n            </span>\r\n            <Typography variant='h5'>Новая Задача</Typography>\r\n            <Stepper\r\n              users={this.props.users}\r\n              multi={multi}\r\n              text={text}\r\n              selectedTime={selectedTime}\r\n              selectedDate={selectedDate}\r\n              handleChange={this.handleChange}\r\n              handleTextChange={this.handleTextChange}\r\n              handleDateChange={this.handleDateChange}\r\n              handleTimeChange={this.handleTimeChange}\r\n              changeImportance={this.changeImportance}\r\n              resetAll={this.resetAll}\r\n              handleClose={this.props.handleClose}\r\n              handleSubmit={this.handleSubmit}\r\n            />\r\n          </Paper>\r\n        </Wrapper>\r\n        {window.innerWidth >= 600 ? <Backdrop onClick={this.props.handleClose} /> : null}\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  max-width: 600px;\r\n  min-height: 300px;\r\n  height: fit-content;\r\n  margin: auto;\r\n  background: #ffffff;\r\n  border-radius: 10px;\r\n  outline: none;\r\n  z-index: 10;\r\n\r\n  .listFor {\r\n    max-height: 220px;\r\n    margin-top: 20px;\r\n    overflow: auto;\r\n  }\r\n  .listFor::-webkit-scrollbar {\r\n    width: 10px;\r\n  }\r\n  .listFor::-webkit-scrollbar-track {\r\n    background-color: #ebebeb;\r\n    -webkit-border-radius: 10px;\r\n    border-radius: 10px;\r\n  }\r\n  .listFor::-webkit-scrollbar-thumb {\r\n    -webkit-border-radius: 10px;\r\n    border-radius: 10px;\r\n    background: #1976d2; \r\n  }\r\n\r\n  & > div {\r\n    height: fit-content;\r\n    padding: 20px 30px;\r\n  }\r\n   \r\n  .closeNewTask svg {\r\n    font-size: 30px;\r\n    color: #1976d2;\r\n    opacity: .8;\r\n    cursor: pointer;\r\n    position: absolute;\r\n    right: 20px;\r\n    top: 20px;\r\n\r\n    :hover {\r\n      opacity: .8;\r\n      transition: .37s ease;\r\n    }\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    top: 0;\r\n    max-width: 100%;\r\n    border-radius: unset;\r\n    height: calc(100vh - 55px);\r\n    margin: unset;\r\n    box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\r\n    & > div {\r\n      padding: 20px 15px;\r\n      box-shadow: unset;\r\n      & > div {\r\n        > div:first-child {\r\n          padding: 20px 5px;\r\n        }\r\n      }\r\n    }\r\n    .closeNewTask svg {\r\n      font-size: 32px;\r\n      right: 15px;\r\n    } \r\n  }\r\n`;\r\n\r\nconst Backdrop = styled.div`\r\n  position: absolute;\r\n  top: 0; bottom: 0;\r\n  left: 0; right: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 5;\r\n  background: rgba(0,0,0,.17);\r\n`;\r\n\r\nexport default connect( state => ({ store: state }),\r\n  dispatch => ({ \r\n    onAddNewTask: (task) => dispatch({ type: 'ADD_TASK', payload: task })\r\n  })\r\n)(withSnackbar(NewTask));","import React from 'react';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Delete from '@material-ui/icons/Delete';\r\nimport { Typography, ExpansionPanelDetails, ExpansionPanelSummary, ExpansionPanel, Tooltip, Button } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport classNames from 'classnames';\r\nimport moment from 'moment';\r\nimport $ from 'jquery';\r\nimport API from '../functions/API';\r\nimport { connect } from 'react-redux';\r\n\r\nclass Task extends React.Component {\r\n\r\n  getUserNames = (users) => {\r\n    const { user } = this.props.store;\r\n    let usersId = users.split(',');\r\n    let result = 'Для: ';  \r\n\r\n    usersId.forEach(id => {\r\n      if (id.slice(3) === user.id) return result += \"Вас  \";\r\n      result += `${this.props.users.find(user => user.id === id.slice(3)).name} `;\r\n      result += `${this.props.users.find(user => user.id === id.slice(3)).surname}, `;\r\n    })\r\n    return result;\r\n  }\r\n\r\n  getAdresant = (id) => {\r\n    const { user } = this.props.store;\r\n    let initial = \"От: \";\r\n\r\n    if (id === user.id) return initial += 'Вас';\r\n\r\n    if (this.props.users.length > 0) {\r\n      initial += this.props.users.find(user => user.id === this.props.task.from).name;\r\n      initial += ` ${this.props.users.find(user => user.id === this.props.task.from).surname}`;\r\n      return initial;\r\n    }\r\n  }\r\n\r\n  openTask(e, id, readed) {\r\n    const self = this;\r\n    if (!readed) {\r\n      e.stopPropagation();\r\n      const formData = new FormData();\r\n      formData.append('id', id);\r\n      $.ajax({\r\n        url: `${API}/api/tasks/mark_as_read.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: res => self.props.markTask(id)\r\n      }); \r\n    }\r\n  }\r\n\r\n  render() {\r\n    const now = moment(new Date()); //todays date\r\n    const end = moment(this.props.task.until_date); // another date\r\n    const difference = moment.duration(end.diff(now))._milliseconds;\r\n    const { user } = this.props.store;\r\n\r\n    return (\r\n      <ExpansionPanel onClick={e => this.openTask(e, this.props.task.id, this.props.task.readed)}>\r\n        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\r\n          <Typography variant='caption'>\r\n            <Typography variant='subtitle2' style={styles.flex}>\r\n            {this.props.task.from === user.id ? 'Поставлено: ' : 'Получено: ' }\r\n            {this.props.task.date} в {`${this.props.task.time} `}\r\n              {this.props.task.importance === '1' ? <Tooltip title=\"Отмечено как 'Важное'\" placement=\"top-start\"><Icon><WarningIcon /></Icon></Tooltip> : null}\r\n            </Typography>\r\n            {this.getAdresant(this.props.task.from)}\r\n            <TaskStatus>\r\n              <Typography variant='caption' className={classNames({\r\n                'task-completed': this.props.task.status === '1',\r\n                'task-doing': this.props.task.status === '0',\r\n                'task-late': difference < 0\r\n              })}>\r\n                {this.props.task.status === '1' && difference > 0 ? \"Выполнена\" :\r\n                  this.props.task.status === '0' && difference > 0 ? \"Выполняется\" :\r\n                    \"Просрочена\"}\r\n              </Typography>\r\n            </TaskStatus>\r\n          </Typography>\r\n\r\n          {this.props.task.from === user.id ?     \r\n            <DeleteIcon onClick={(e) => this.props.handleConfirm(e, this.props.task.id)}>\r\n              <Tooltip title=\"Удалить\" placement=\"left\">\r\n                <Delete />\r\n              </Tooltip>\r\n            </DeleteIcon>\r\n          : null }\r\n\r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails style={styles.details}>\r\n          <Typography variant='h6'> {this.props.task.text}  </Typography>\r\n          <Footer>\r\n            <div>\r\n              <Typography variant='caption'>{this.props.users.length > 0 ? this.getUserNames(this.props.task.for).slice(0, -2) : null}</Typography>\r\n              <Typography variant='subtitle2'>Выполнить до: {this.props.task.until_date.split('-').reverse().join('.')}, {this.props.task.until_time}</Typography>\r\n            </div>\r\n    \r\n            {this.props.task.status === '0' && this.props.task.for.includes(`for${user.id}`) ?\r\n              difference < 0 ?\r\n                <Tooltip title=\"Нельзя выполнить просроченную задачу\" placement=\"top-start\" leaveDelay={200}>\r\n                  <span><Button disabled={true} variant='contained' color='primary'>Выполнить</Button></span>\r\n                </Tooltip> :\r\n                <Button\r\n                  onClick={() => this.props.handleCompleted(this.props.task.id)}\r\n                  variant='contained'\r\n                  color='primary'\r\n                >\r\n                  Выполнить</Button>\r\n              : null}\r\n          </Footer>\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n    )\r\n  }\r\n}\r\nconst styles = {\r\n  flex: {\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  },\r\n  details: {\r\n    flexDirection: 'column'\r\n  }\r\n}\r\nconst Icon = styled.div`\r\n  svg {\r\n    color: rgba(0,0,0,.15) !important;\r\n    margin-left: 8px;\r\n    font-size: 22px;\r\n  }\r\n`;\r\nconst DeleteIcon = styled.span`\r\n  svg {\r\n    font-size: 32px;\r\n    color: rgba(0,0,0,0.54);\r\n    right: 55px;\r\n    padding: 5px;\r\n    top: 0;\r\n    bottom: 0;\r\n    margin: auto;\r\n    position: absolute;\r\n  }\r\n`;\r\nconst Footer = styled.div`\r\n  margin-top: 30px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\nconst TaskStatus = styled.span`\r\n  .task-completed {\r\n    color: darkgreen;\r\n  }\r\n  .task-doing {\r\n    color: darkblue;\r\n  }\r\n  .task-late {\r\n    color: darkred;\r\n  }\r\n`;\r\n\r\nexport default connect(state => ({ store: state }),\r\n  dispatch => ({\r\n    markTask: (task) => dispatch({ type: 'READED_TASK', payload: task})    \r\n  })\r\n)(Task);","import React, { Fragment } from 'react';\r\nimport { Paper, Typography, Button } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\nimport styled from 'styled-components';\r\n\r\nexport default function ConfirmDelete(props) {\r\n  return (\r\n    <Fragment>\r\n      <Wrapper>\r\n        <Paper>\r\n          <Icon onClick={props.handleClose}>\r\n            <CloseIcon />\r\n          </Icon>\r\n          <Typography variant='body1'>{`Вы уверены, что хотите удалить ${props.name}?`}</Typography>\r\n          <Typography variant='caption'>Вся информация будет удалена безвозвратно.</Typography>\r\n          <ButtonContainer>\r\n            <Button variant='contained' color='secondary' onClick={props.handleDelete}>Удалить</Button>\r\n            <Button variant='text' color='default' onClick={props.handleClose}>Отмена</Button>\r\n          </ButtonContainer>\r\n        </Paper>\r\n        \r\n      </Wrapper>\r\n      <Backdrop onClick={props.handleClose} />\r\n    </Fragment>\r\n  )\r\n}\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  height: 200px;\r\n  width: 400px;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n  outline: none;\r\n  z-index: 1000;\r\n  & > div {\r\n    height: 100%;\r\n    position: relative;\r\n    display: flex;\r\n    padding: 30px;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: 95%;\r\n  }\r\n`;\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  margin-top: 30px;\r\n  button {\r\n    margin-right: 25px;\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  svg {\r\n    cursor: pointer;\r\n    color: rgba(0,0,0,.54);\r\n    position: absolute;\r\n    right: 16px;\r\n    top: 16px;\r\n  }\r\n`\r\nconst Backdrop = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  top: 0;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  background: rgba(0,0,0,.37);\r\n`;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nexport default function ResponsiveHeader(props) {\r\n  return (\r\n    <Wrapper>\r\n      <Typography variant='h6'>{props.title}</Typography>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24); \r\n  height: 80px;\r\n  padding: 36px 20px 15px;\r\n  font-size: 24px;\r\n  background: #fff;\r\n`;","import React, { Component, Fragment } from 'react';\r\nimport { Paper, Typography } from '@material-ui/core';\r\nimport Fab from '../Fab/Fab';\r\nimport Modal from '../Modal/Modal';\r\nimport NewTask from './NewTask';\r\nimport styled from 'styled-components';\r\nimport API from '../functions/API';\r\nimport Task from './Task';\r\nimport $ from 'jquery';\r\nimport { connect } from 'react-redux';\r\nimport ConfirmDelete from './ConfirmDelete';\r\nimport Loader from '../Loader/Loader';\r\nimport { withSnackbar } from 'notistack';\r\nimport ResponsiveHeader from '../ResponsiveHeader/ResponsiveHeader';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport AppBar from '@material-ui/core/AppBar';\r\n\r\nvar tasksTimeout = null;\r\n\r\nclass Tasks extends Component {\r\n  state = {\r\n    open: false,\r\n    confirm: false,\r\n    preparedToDelete: null,\r\n    initial: [],\r\n    users: [],\r\n    value: 0\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    if (this.props.store.unreaded.tasks > 0) {\r\n      tasksTimeout = setTimeout(() => {\r\n        document.querySelector('.tasksBadge span').style.display = 'none';\r\n        this.props.onReadTasks();\r\n      }, 2000)\r\n    }\r\n\r\n    fetch(`${API}/api/tasks/read.php`)\r\n      .then(response => response.json())\r\n      .then(tasks => {\r\n        this.props.getTasks(tasks.data)\r\n        this.setState({ initial: tasks.data || [] })\r\n      })\r\n      .then(() => this.forceUpdate())\r\n\r\n    fetch(`${API}/api/user/read.php`)\r\n      .then(response => response.json())\r\n      .then(users => this.setState({ users: users.data }))\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.clearTimeout(tasksTimeout);\r\n  }\r\n\r\n  handleChange = (event, value) => this.setState({ value });\r\n  handleOpen = (e) => this.setState({ open: true });\r\n  handleClose = () => this.setState({ open: false, confirm: false, preparedToDelete: null });\r\n  handleConfirm = (e,id) => {\r\n    e.stopPropagation();\r\n    this.setState({ confirm: true, preparedToDelete: id });\r\n  }\r\n\r\n  handleCompleted = (id) => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    let date = new Date();\r\n    const done_date = date.toLocaleDateString();\r\n    const done_time = `${date.getHours() < 10 ? '0' + date.getHours() : date.getHours()}:${date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes()}`;\r\n\r\n    formData.append('id', id);\r\n    formData.append('done_date', done_date);\r\n    formData.append('done_time', done_time);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/tasks/complete.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () => {\r\n        self.props.enqueueSnackbar('Задача отмечена как \"Выполненная\"', { variant: 'success' });\r\n        self.props.markAsCompleted(self.state.tasks);\r\n        self.forceUpdate();\r\n      },\r\n      error: () => self.props.enqueueSnackbar('Что-то пошло не так, попробуйте снова', { variant: 'error' })\r\n    });\r\n  }\r\n\r\n  handleFilter = (id, filter) => {\r\n    const { user } = this.props.store;\r\n    this.setState({ disabledButton: id });\r\n    let filtered = this.props.store.tasks;\r\n\r\n    if (filter === 'initial') this.props.onFilter(this.state.initial);\r\n    if (filter === 'transfered') {\r\n      filtered = filtered.filter(item => item.from === user.id);\r\n      this.props.onFilter(filtered);\r\n    }\r\n    if (filter === 'completed') {\r\n      filtered = filtered.filter(item => item.status === '1');\r\n      this.props.onFilter(filtered);\r\n    }\r\n  }\r\n\r\n  handleDelete = () => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    formData.append('id', this.state.preparedToDelete);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/tasks/delete.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () => {\r\n        self.props.enqueueSnackbar('Задача успешно была удалена', { variant: 'info' });\r\n        self.props.onDeleteTask(self.state.preparedToDelete);\r\n        self.handleClose();\r\n        self.forceUpdate();\r\n      },\r\n      error: () => self.props.enqueueSnackbar('Что-то пошло не так, попробуйте снова', { variant: 'error' })\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { open, users } = this.state;\r\n    const { user } = this.props.store;\r\n\r\n    return (\r\n      <Wrapper> \r\n        <Paper>\r\n          {window.innerWidth < 600 ? <ResponsiveHeader title='Задачи' /> : null}\r\n          {user.hasOwnProperty('name') ?\r\n            <Fragment>\r\n              <AppBar position=\"static\" color=\"default\">\r\n                <Tabs\r\n                  value={this.state.value}\r\n                  indicatorColor=\"primary\"\r\n                  textColor=\"primary\"\r\n                  onChange={this.handleChange}\r\n                  variant=\"fullWidth\"\r\n                >\r\n                  <Tab label=\"Все задачи\" onClick={() => this.handleFilter(1, 'initial')} />\r\n                  <Tab label=\"Поставленные\" onClick={() => this.handleFilter(2, 'transfered')} />\r\n                  <Tab label=\"Выполненные\" onClick={() => this.handleFilter(3, 'completed')}/>\r\n                </Tabs>\r\n              </AppBar>\r\n              {this.props.store.tasks.length > 0\r\n                ?\r\n                this.props.store.tasks.map(task =>\r\n                  <Task\r\n                    key={task.id}\r\n                    task={task}\r\n                    users={users}\r\n                    handleCompleted={this.handleCompleted}\r\n                    handleConfirm={this.handleConfirm.bind(this)}\r\n                  />)\r\n                :\r\n                <Typography className='no-tasks' variant='caption'>нет задач</Typography>}\r\n            </Fragment>\r\n            : <Loader minHeight={300} color='primary' />}\r\n        </Paper>\r\n\r\n\r\n        {/* Button to add task */}\r\n        {this.props.store.user.admin === '1' ?\r\n        <span onClick={this.handleOpen}><Fab title='Добавить задачу' /></span> : null}\r\n\r\n        {/* Add new task modal */}\r\n        <Modal\r\n          open={open}\r\n          handleClose={this.handleClose.bind(this)}\r\n          component={\r\n            <NewTask\r\n              handleClose={this.handleClose.bind(this)}\r\n              users={users}\r\n            />}\r\n        />\r\n\r\n        {/* Confirm delete modal */}\r\n        <Modal\r\n          open={this.state.confirm}\r\n          handleClose={this.handleClose.bind(this)}\r\n          component={<ConfirmDelete\r\n            handleDelete={this.handleDelete}\r\n            handleClose={this.handleClose.bind(this)}\r\n            name='задачу'\r\n          />}\r\n        />\r\n      </Wrapper>\r\n    )\r\n  }\r\n}\r\nconst Wrapper = styled.div`\r\n  .no-tasks {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    opacity: .37;\r\n    height: 300px;\r\n    font-size: 20px;\r\n  }\r\n`;\r\n\r\n\r\nexport default connect(\r\n  state => ({\r\n    store: state\r\n  }),\r\n  dispatch => ({\r\n    markAsCompleted: (tasks) => {\r\n      dispatch({ type: 'MARK_COMPLETED', payload: tasks })\r\n    },\r\n    onDeleteTask: (task) => {\r\n      dispatch({ type: 'DELETE_TASK', payload: task })\r\n    },\r\n    onFilter: (tasks) => {\r\n      dispatch({ type: 'FILTER_TASKS', payload: tasks })\r\n    },\r\n    getTasks: (tasks) => {\r\n      dispatch({ type: 'FETCH_TASKS', payload: tasks })\r\n    },\r\n    onReadTasks: () => dispatch({ type: \"READ_TASKS\" }),  \r\n  })\r\n)(withSnackbar(Tasks));","import React, { Fragment } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Checkbox, Button, FormControlLabel, Typography, TextField, Tooltip } from '@material-ui/core';\r\nimport defaultAvatar from '../img/photos/images.png';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { connect } from 'react-redux';\r\n\r\nfunction NewNews({ submitNews, closeNews, newNewsTopic, handleChange, invalidTopic, invalidText, newNewsText, newNewsImportance, changeImportance, store: { user }}) {\r\n  let avatar = user.avatar;\r\n  return (\r\n    <Fragment>\r\n      <Container>\r\n        <Header>\r\n          <Typography variant='button'>Новая новость</Typography> \r\n\r\n          <Tooltip placement='left' title='Закрыть'>\r\n            <Icon><CloseIcon onClick={closeNews} /></Icon>\r\n          </Tooltip>\r\n\r\n        </Header>\r\n        <Body>\r\n          <form action=\"\" method=\"POST\" onSubmit={submitNews}>\r\n            <Topic>\r\n              {user.avatar === ''\r\n                ? <div className='image' alt={`${user.name} ${user.surname}`} style={{ background: `url(${defaultAvatar}) no-repeat center/cover` }} />\r\n                : <div className='image' alt={`${user.name} ${user.surname}`} style={{ background: `url(${avatar}) no-repeat center/cover` }} />\r\n              }\r\n              <TextField\r\n                label=\"Заголовок\"\r\n                value={newNewsTopic}\r\n                onChange={handleChange}\r\n                error={invalidTopic}\r\n                variant=\"outlined\"\r\n                name='newNewsTopic'\r\n                type='text'\r\n                required\r\n              />\r\n            </Topic>\r\n            <TextArea>\r\n              <TextField\r\n                label=\"Текст новости\"\r\n                multiline\r\n                variant=\"outlined\"\r\n                name='newNewsText'\r\n                error={invalidText}\r\n                onChange={handleChange}\r\n                value={newNewsText}\r\n                required\r\n              />\r\n            </TextArea>\r\n            <Footer>\r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    checked={newNewsImportance}\r\n                    onChange={changeImportance}\r\n                    color=\"primary\"\r\n                  />\r\n                }\r\n                label=\"Отметить как важное\"\r\n              />\r\n              <Button onClick={submitNews} variant='contained' color='primary'>{window.innerWidth > 600 ? 'Добавить новость' : <AddIcon />}</Button>\r\n            </Footer>\r\n          </form>\r\n        </Body>\r\n      </Container>\r\n      <Wrapper onClick={closeNews}></Wrapper>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  background: rgba(0,0,0, .5);\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  top: 0;\r\n  z-index: 30;\r\n`;\r\nconst Container = styled.div`\r\n  background: #ffffff;\r\n  width: 600px;\r\n  position: fixed;\r\n  top: 150px;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  border-radius: 10px;\r\n  z-index: 37;\r\n  box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\r\n\r\n  .close {\r\n    top: -5px;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: 100%;\r\n    top: 0;\r\n    bottom: 0;\r\n    box-shadow: unset;\r\n    border-radius: 0;\r\n    padding-top: 10px;\r\n  }\r\n`;\r\nconst Header = styled.div`\r\n  display: flex;\r\n  height: 50px;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\nconst Body = styled.div`\r\n  .image {\r\n    width: 56px;\r\n    height: 56px;\r\n    border-radius: 50%;\r\n    display: inline-block;\r\n  }\r\n  padding: 0 25px;\r\n  @media all and (max-width: 600px) {\r\n    .image {\r\n      display: none;\r\n    }\r\n    padding: 0 15px;\r\n  }\r\n`;\r\nconst Footer = styled.div`\r\n  display: flex;\r\n  height: 90px;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  width: 85%;\r\n  margin-left: 15%;\r\n  @media all and (max-width: 600px) {\r\n    width: 100%;\r\n    margin-left: 0;\r\n  }\r\n`;\r\nconst Topic = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-top: 5px;\r\n\r\n  & > div {\r\n    width: 85%;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n    & > div {\r\n      width: 100%;\r\n    }\r\n  }\r\n`;\r\nconst TextArea = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin-top: 10px;\r\n  height: 150px;\r\n\r\n  textarea {\r\n    max-height: 130px;\r\n    &::-webkit-scrollbar {\r\n      width: 10px;\r\n    }\r\n   \r\n    &::-webkit-scrollbar-track {\r\n      background-color: #ebebeb;\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n    }\r\n  \r\n    &::-webkit-scrollbar-thumb {\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n      background: #1976d2; \r\n    }\r\n  }\r\n\r\n  & > div {\r\n    width: 85%;\r\n    & > div {\r\n      height: 100%;\r\n    }\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    & > div {\r\n      width: 100%;\r\n    }\r\n    height: 250px;\r\n    textarea {\r\n      max-height: 230px;\r\n    }\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  cursor: pointer;\r\n  position: absolute;\r\n  top: 15px;\r\n  right: 20px;\r\n  svg {\r\n    font-size: 32px;\r\n    color: #1976d2;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    right: 15px;\r\n  }\r\n`;\r\n\r\nexport default connect(state => ({ store: state }))(NewNews);","import React from 'react';\r\nimport { Paper, Typography, Button } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\nimport styled from 'styled-components';\r\n\r\nexport default function ConfirmDelete(props) {\r\n  return (\r\n    <Wrapper>\r\n      <Paper>\r\n        <Icon onClick={props.closeNews}>\r\n          <CloseIcon />\r\n        </Icon>\r\n        <Typography variant='body1'>Вы уверены, что хотите удалить новость?</Typography>\r\n        <Typography variant='caption'>Вся информация по новости будет удалена безвозвратно.</Typography>\r\n        <ButtonContainer>\r\n          <Button variant='contained' color='secondary' onClick={props.removeNews}>Удалить</Button>\r\n          <Button variant='text' color='default' onClick={props.closeNews}>Отмена</Button>\r\n        </ButtonContainer>\r\n      </Paper>\r\n      <Dialogue />\r\n    </Wrapper>\r\n  )\r\n}\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  height: 200px;\r\n  width: 400px;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n  outline: none;\r\n  & > div {\r\n    height: 100%;\r\n    position: relative;\r\n    display: flex;\r\n    padding: 30px;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    z-index: 10;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: 100%;\r\n  }\r\n`;\r\nconst Dialogue = styled.section`\r\n  position: fixed !important;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  background: rgba(0,0,0,0.54);\r\n  width: 100vw;\r\n  height: 100vh !important;\r\n  z-index: 5;\r\n`;\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  margin-top: 30px;\r\n  button {\r\n    margin-right: 25px;\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  svg {\r\n    cursor: pointer;\r\n    color: rgba(0,0,0,.54);\r\n    position: absolute;\r\n    right: 16px;\r\n    top: 16px;\r\n  }\r\n`","import React, { Component, Fragment } from 'react';\r\nimport styled from 'styled-components';\r\nimport $ from 'jquery';\r\nimport SingleNews from './SingleNews';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport Fab from './Fab/Fab';\r\nimport NewNews from './News/NewNews';\r\nimport API from './functions/API';\r\nimport { Paper, Button, Typography, TextField, Tooltip } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\nimport defaultAvatar from './img/photos/images.png';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport Loader from './Loader/Loader';\r\nimport ConfirmDelete from './News/ConfirmDelete';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\nimport { withSnackbar } from 'notistack';\r\nimport ResponsiveHeader from './ResponsiveHeader/ResponsiveHeader';\r\n\r\nvar newsTimeout = null;\r\n\r\nclass News extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      newNews: false,\r\n      newNewsTopic: '',\r\n      newNewsText: '',\r\n      newNewsImportance: false,\r\n      editing: '',\r\n      singleNews: false,\r\n      singleNewsData: [],\r\n      singleNewsId: '',\r\n      invalidText: false,\r\n      invalidTopic: false,\r\n      confirmDelete: false,\r\n      preparedNewsId: '',\r\n    }\r\n    this.addLike = this.addLike.bind(this);\r\n    this.removeLike = this.removeLike.bind(this);\r\n    this.addNews = this.addNews.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.submitNews = this.submitNews.bind(this);\r\n    this.removeNews = this.removeNews.bind(this);\r\n    this.editNews = this.editNews.bind(this);\r\n    this.prepareNews = this.prepareNews.bind(this);\r\n    this.showNews = this.showNews.bind(this);\r\n    this.changeImportance = this.changeImportance.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.store.unreaded.news > 0) {\r\n      newsTimeout = setTimeout(() => {\r\n        document.querySelector('.newsBadge span').style.display = 'none';\r\n        this.props.onReadNews();\r\n      }, 2000)\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.clearTimeout(newsTimeout);\r\n  }\r\n\r\n\r\n  handleChange = e => this.setState({ [e.target.name]: e.target.value, invalidText: false, invalidTopic: false });\r\n\r\n  // добавляем лайк\r\n  addLike = (id, e) => {\r\n    const { user } = this.props.store;\r\n    var self = this;\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const formData = new FormData();\r\n    formData.append('id', id);\r\n    formData.append('liked_by', user.id);\r\n    formData.append('created_at', new Date().getTime());\r\n    const actions = document.getElementById('actions');\r\n    actions.style.pointerEvents = 'none';\r\n\r\n    $.ajax({\r\n      url: `${API}/api/news/addlike.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () => {\r\n        self.props.onAddLike(id, user.id);\r\n        self.forceUpdate();\r\n        setTimeout(() => actions.style.pointerEvents = 'all', 500)\r\n      }\r\n    });\r\n  }\r\n\r\n  // убираем лайк\r\n  removeLike = (id, e) => {\r\n    const { user } = this.props.store;\r\n    const self = this;\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    const actions = document.getElementById('actions');\r\n    actions.style.pointerEvents = 'none';\r\n\r\n    const formData = new FormData();\r\n    formData.append('id', id);\r\n    formData.append('liked_by', user.id);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/news/removelike.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function () {\r\n        self.props.onRemoveLike(id, user.id)\r\n        self.setState({ newNews: false });\r\n        setTimeout(() => actions.style.pointerEvents = 'all', 500)\r\n      }\r\n    });\r\n  }\r\n\r\n  submitNews = (e) => {\r\n    const { user } = this.props.store;\r\n    var self = this;\r\n    e.preventDefault();\r\n    if (this.state.newNewsTopic !== '' && this.state.newNewsText !== '') {\r\n      const formData = new FormData();\r\n      let news = {\r\n        author: `${user.name} ${user.surname}`,\r\n        title: this.state.newNewsTopic,\r\n        text: this.state.newNewsText,\r\n        date: new Date().toJSON().slice(0, 10).replace(/-/g, '.'),\r\n        created_at: new Date().getTime(),\r\n        importance: this.state.newNewsImportance ? 1 : 0,\r\n        author_id: user.id,\r\n        likes: 0,\r\n        liked_by: '',\r\n        comments: 0,\r\n        avatar: user.avatar\r\n      }\r\n\r\n      for (let key in news) {\r\n        formData.append(key, news[key]);    \r\n      }\r\n\r\n      $.ajax({\r\n        url: `${API}/api/news/submitnews.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: res => {\r\n          news.id = res[\"MAX(`id`)\"]\r\n          self.props.onAddNews(news);\r\n          self.setState({ \r\n            newNews: !self.state.newNews, \r\n            newNewsText: '', \r\n            newNewsTopic: ''\r\n          });\r\n          self.props.enqueueSnackbar('Добавлена новая новость', { variant: 'success' })\r\n        },\r\n        error: () => self.props.enqueueSnackbar('Не удалось добавить новость', { variant: 'error' })\r\n      });\r\n\r\n    } else {\r\n      self.props.enqueueSnackbar('Необходимо заполнить все поля', { variant: 'warning' })\r\n      if (self.state.newNewsTopic === '') this.setState({ invalidTopic: true });\r\n      if (self.state.newNewsText === '') this.setState({ invalidText: true });\r\n    }\r\n  }\r\n\r\n  changeImportance = () => this.setState({ newNewsImportance: !this.state.newNewsImportance });\r\n\r\n  removeNews = () => {\r\n    this.setState({ editing: true });\r\n    var self = this;\r\n    const formData = new FormData();\r\n    formData.append('id', this.state.preparedNewsId);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/news/delete.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () => {\r\n        self.props.onDeleteNews(this.state.preparedNewsId);\r\n        self.setState({ editing: '', preparedNewsId: '', confirmDelete: false  });\r\n        self.props.enqueueSnackbar('Новость была удалена', { variant: 'info' });\r\n      },\r\n      error: () => self.props.enqueueSnackbar('Не удалось удалить новость', { variant: 'error' })\r\n    });\r\n  };\r\n\r\n  prepareNews = id => {\r\n    const { news } = this.props.store;\r\n    let title = news.find(news => news.id === id).title;\r\n    let text = news.find(news => news.id === id).text;\r\n    this.setState({ editing: id, newNewsTopic: title, newNewsText: text });\r\n  }\r\n\r\n  editNews = (e, id) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    var self = this;\r\n\r\n    if (this.state.newNewsTopic !== '' && this.state.newNewsText !== '') {\r\n      const formData = new FormData();\r\n      formData.append('id', id);\r\n      formData.append('title', this.state.newNewsTopic);\r\n      formData.append('text', this.state.newNewsText);\r\n\r\n      $.ajax({\r\n        url: `${API}/api/news/edit.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: () => {\r\n          setTimeout(() => self.setState({ editing: '' }), 200);\r\n          self.props.enqueueSnackbar('Новость была изменена', { variant: 'info' });\r\n        },\r\n        error: () =>  self.props.enqueueSnackbar('Не удалось изменить новость', { variant: 'error' })\r\n      });\r\n    } else {\r\n      self.props.enqueueSnackbar('Нужно заполнить всё поля', { variant: 'warning' });\r\n      if (self.state.newNewsTopic === '') this.setState({ invalidTopic: true });\r\n      if (self.state.newNewsText === '') this.setState({ invalidText: true });\r\n    }\r\n  }\r\n\r\n  addNews = () => this.setState({ editing: '', newNews: !this.state.newNews, newNewsText: '', newNewsTopic: '' });\r\n\r\n  showNews(id) {\r\n    setTimeout(() => {\r\n      if (this.state.editing === '') this.setState({ singleNews: true, singleNewsId: id });\r\n    }, 100)\r\n  }\r\n\r\n  // закрываем новость \r\n  closeNews = () => {\r\n    this.setState({ \r\n      singleNews: false, \r\n      singleNewsId: '', \r\n      newNews: false, \r\n      likedBy: [], \r\n      preparedNewsId: '',\r\n      confirmDelete: false\r\n    });\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | находим правильную форму склонения лайков \r\n  |--------------------------------------------------\r\n  */\r\n getNoun = number => {\r\n    number = Math.abs(number);\r\n    number %= 100;\r\n    if (number >= 5 && number <= 20) return 'отметок';\r\n    number %= 10;\r\n    if (number === 1) return 'отметка';\r\n    if (number >= 2 && number <= 4) return 'отметки';\r\n    return 'отметок';\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | Находим правильную форму склонения комментариев\r\n  |--------------------------------------------------\r\n  */\r\n  getCommentsNoun = number => {\r\n    number = Math.abs(number);\r\n    number %= 100;\r\n    if (number >= 5 && number <= 20) return 'комментариев';\r\n    number %= 10;\r\n    if (number === 1) return 'комментарий';\r\n    if (number >= 2 && number <= 4) return 'комментария';\r\n    return 'комментариев';\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | создаёт надпись \"Помечено как важное\"\r\n  |--------------------------------------------------\r\n  */\r\n  createImportantBar = (margin) => {\r\n    const Important = styled.div`\r\n      display: flex;\r\n      align-items: center;\r\n      margin-bottom: 0;\r\n      margin-top: ${margin}px;\r\n      svg {\r\n        color: rgba(0,0,0,.15);\r\n        margin-right: 5px;  \r\n      }\r\n    `;\r\n    return (\r\n      <Important>\r\n        <WarningIcon />\r\n        <Typography variant='caption'>Отмечено как \"Важное\"</Typography>            \r\n      </Important>\r\n    )\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | Спрашиваем об удалении новости\r\n  |--------------------------------------------------\r\n  */\r\n  prepareDelete = (e, id) => {\r\n    this.setState({ confirmDelete: true, preparedNewsId: id });\r\n    e.stopPropagation();\r\n  }\r\n\r\n  render() {\r\n    const { invalidText, invalidTopic, newNews, newNewsText, newNewsTopic, editing, singleNews, singleNewsId, newNewsImportance } = this.state;\r\n    const { user, news } = this.props.store;\r\n    \r\n    return (\r\n      <Paper>\r\n        {window.innerWidth < 600 ? <ResponsiveHeader title='Новости компании' /> : null}\r\n        {news.length === 0 \r\n          ? <Loader minHeight={300} color='primary' /> \r\n          : news.map((item, i) => {\r\n            return (  \r\n              <NewsContainer key={i} onClick={() => this.showNews(item.id)}>\r\n                <UserAvatar style={{ background: `url(${item.avatar === '' ? defaultAvatar : item.avatar}) no-repeat center/cover` }} />\r\n                <div>\r\n                  <NewsInfo>\r\n                    {user.id === item.author_id\r\n                      ?\r\n                      <Fragment>\r\n                        <Typography variant='caption'>\r\n                          <Typography variant='subtitle2'>Вы</Typography>\r\n                          {item.date}\r\n                        </Typography>\r\n                        <Icon>\r\n                          <Tooltip placement='left' title=\"Удалить\">\r\n                            <DeleteIcon onClick={(e) => this.prepareDelete(e, item.id)} />\r\n                          </Tooltip>\r\n                        </Icon>\r\n                      </Fragment>\r\n                      :\r\n                      <Typography variant='caption'>\r\n                        <Typography variant='subtitle2'>{item.author}</Typography>\r\n                        {item.date}\r\n                      </Typography>}\r\n                  </NewsInfo>\r\n\r\n                  {item.importance === '1' ? this.createImportantBar(0) : null}\r\n\r\n                  {editing !== item.id ?\r\n                    <Fragment>\r\n                      <Typography variant='h6' style={{ fontSize: '1.1rem', fontWeight: 400 }}>{item.title.replace(/&quot;/g, `\"`)}</Typography>\r\n                      <Body><Typography variant='body2'>{item.text.replace(/&quot;/g, `\"`)}</Typography></Body>\r\n                    </Fragment>\r\n                    :\r\n                    <form id='edit-news' action={`${API}/api/news/edit.php`} method=\"POST\" onSubmit={(e) => this.editNews(e, item.id)} >\r\n                      <TextField\r\n                        label=\"Заголовок\"\r\n                        value={newNewsTopic}\r\n                        onChange={this.handleChange}\r\n                        variant=\"outlined\"\r\n                        name='newNewsTopic'\r\n                        type='text'\r\n                        error={this.state.invalidTopic}\r\n                      />\r\n                      <TextArea>\r\n                        <TextField\r\n                          label=\"Текст новости\"\r\n                          multiline\r\n                          variant=\"outlined\"\r\n                          name='newNewsText'\r\n                          onChange={this.handleChange}\r\n                          value={newNewsText}\r\n                          error={this.state.invalidText}\r\n                        />\r\n                      </TextArea>\r\n                      <Button onClick={(e) => this.editNews(e, item.id)} variant='contained' color='primary'>Изменить</Button>\r\n                    </form>}\r\n                </div>\r\n\r\n                <Actions id='actions'>\r\n                  <p>{item.comments}</p>\r\n                  <Tooltip title={`${item.comments} ${this.getCommentsNoun(item.comments)}`} placement='top'>\r\n                    <FontAwesomeIcon onClick={editing === '' ? () => this.showNews(item.id) : null} icon=\"comments\" />\r\n                  </Tooltip>\r\n                  \r\n                    <p>{item.likes}</p>\r\n\r\n                  {!item.liked_by.includes(` ${user.id}`)\r\n                    ?\r\n                    <Tooltip title={`${item.likes} ${this.getNoun(item.likes)} \"Нравится\"`} placement='top'>\r\n                      <FontAwesomeIcon onClick={e => this.addLike(item.id, e)} icon=\"heart\" />\r\n                    </Tooltip>  \r\n                    :\r\n                    <Tooltip title={`${item.likes} ${this.getNoun(item.likes)} \"Нравится\"`} placement='top'>\r\n                      <FontAwesomeIcon onClick={e => this.removeLike(item.id, e)} icon=\"heart\" style={{ color: '#1976d2' }} />\r\n                    </Tooltip>  \r\n                  }\r\n                  {user.id === item.author_id\r\n                    ?\r\n                    <Tooltip title='Редактировать' placement='top'>\r\n                    <FontAwesomeIcon onClick={() => this.prepareNews(item.id)} icon=\"edit\" style={{ marginLeft: '25px' }} />\r\n                    </Tooltip>\r\n                    :\r\n                    null\r\n                  }\r\n                  {window.innerWidth >= 600 ? \r\n                    <Button onClick={() => this.showNews(item.id)} variant='contained' color='primary' style={{ position: 'absolute', right: window.innerWidth > 600 ? 40 : 20 }}>Читать</Button>\r\n                  : null }\r\n                </Actions>\r\n              </NewsContainer>\r\n            )\r\n          })}\r\n\r\n        <div onClick={this.addNews}><Fab title='Добавить новость' /></div>\r\n\r\n        {newNews ?\r\n          <NewNews\r\n            newNewsTopic={newNewsTopic}\r\n            newNewsText={newNewsText}\r\n            invalidText={invalidText}\r\n            invalidTopic={invalidTopic}\r\n            submitNews={this.submitNews}\r\n            handleChange={this.handleChange}\r\n            changeImportance={this.changeImportance}\r\n            newNewsImportance={newNewsImportance}\r\n            closeNews={this.closeNews.bind(this)}\r\n          /> : null}\r\n\r\n        {singleNews\r\n          ?\r\n          <SingleNews\r\n            showNews={this.showNews}\r\n            closeNews={this.closeNews.bind(this)}\r\n            singleNewsId={singleNewsId}\r\n            getNoun={this.getNoun}\r\n            getCommentsNoun={this.getCommentsNoun}\r\n            reloadComponent={this.reloadComponent}\r\n            createImportantBar={this.createImportantBar} />\r\n          :\r\n          null}\r\n\r\n        {/* Подтверить удаление новости */}\r\n        {this.state.confirmDelete ?\r\n        <ConfirmDelete\r\n          closeNews={this.closeNews.bind(this)}\r\n          removeNews={this.removeNews.bind(this)}\r\n        /> : null}\r\n\r\n      </Paper>\r\n    )\r\n  }\r\n}\r\n\r\nconst NewsContainer = styled.div`\r\n  position: relative;\r\n  padding: 20px 40px 20px 120px;\r\n  border-bottom: 1px solid #e6ecf0;\r\n  cursor: pointer;\r\n\r\n  input {\r\n    padding: 10px 15px;\r\n  }\r\n  :hover {\r\n    background: rgba(0,0,0,0.037);\r\n    transition: .37s ease;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    padding: 10px 20px 10px 80px;\r\n  }\r\n`;\r\nconst Body = styled.div`\r\n  padding: 10px 15px;\r\n  margin-top: 10px;\r\n  background: rgba(0,0,0,0.015);\r\n`;\r\nconst NewsInfo = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: 5px;\r\n\r\n  span {\r\n    display: flex;\r\n    align-items: baseline;\r\n    h6 {\r\n      margin-right: 10px;\r\n      :after {\r\n        content: '\\00b7';\r\n        margin-left: 10px;\r\n      }\r\n    }\r\n  }\r\n`;\r\nconst UserAvatar = styled.div`\r\n  position: absolute;\r\n  left: 20px;\r\n  top: 30px;\r\n  border-radius: 50%;\r\n  width: 80px;\r\n  height: 80px;\r\n  @media all and (max-width: 600px) {\r\n    width: 45px;\r\n    height: 45px;\r\n  }\r\n`;\r\n\r\nconst Actions = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  p {\r\n    margin-right: 5px;\r\n    color: #657786;\r\n  }\r\n`;\r\n\r\nconst TextArea = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  margin: 15px 0 10px;\r\n  height: 120px;\r\n\r\n  textarea {\r\n    max-height: 100px;\r\n    &::-webkit-scrollbar {\r\n      width: 10px;\r\n    }\r\n   \r\n    &::-webkit-scrollbar-track {\r\n      background-color: #ebebeb;\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n    }\r\n  \r\n    &::-webkit-scrollbar-thumb {\r\n      -webkit-border-radius: 10px;\r\n      border-radius: 10px;\r\n      background: #1976d2; \r\n    }\r\n  }\r\n\r\n  & > div {\r\n    width: 100%;\r\n    & > div {\r\n      height: 100%;\r\n    }\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  cursor: pointer;\r\n  svg {\r\n    color: rgba(0,0,0,0.54);\r\n  }\r\n`;\r\n\r\nexport default connect(state => ({ store: state }),\r\n  dispatch => ({ \r\n    onAddNews: news => dispatch({ type: 'ADD_NEWS', payload: news }),\r\n    onDeleteNews: id => dispatch({ type: 'DELETE_NEWS', payload: id }),\r\n    onAddLike: (id, user_id) => dispatch({ type: 'ADD_LIKE', payload: id, user_id }),\r\n    onRemoveLike: (id, user_id) => dispatch({ type: 'REMOVE_LIKE', payload: id, user_id }),\r\n    onReadNews: () => dispatch({ type: \"READ_NEWS\" }),  \r\n  }),\r\n)(withSnackbar(News));","import React from 'react';\r\nimport Calendar from '@material-ui/icons/CalendarToday';\r\nimport Message from '@material-ui/icons/Message';\r\nimport Task from '@material-ui/icons/ListAlt';\r\nimport News from '@material-ui/icons/NewReleases';\r\nimport People from '@material-ui/icons/People';\r\nimport Notifictaions from '@material-ui/icons/Notifications';\r\n\r\nconst sections = [\r\n  {\r\n    value: 0,\r\n    section: 'feed',\r\n    label: 'Уведомления',\r\n    img: <Notifictaions />\r\n  },\r\n  { \r\n    value: 1,\r\n    section: 'messages',\r\n    label: 'Сообщения',\r\n    img: <Message />,\r\n  },\r\n  {\r\n    value: 2,\r\n    section: 'news',\r\n    label: 'Новости',\r\n    img: <News />,\r\n  },\r\n  {\r\n    value: 3,\r\n    section: 'tasks',\r\n    label: 'Задачи',\r\n    img: <Task />,\r\n  },\r\n  {\r\n    value: 4,\r\n    section: 'colleagues',\r\n    label: 'Коллеги',\r\n    img: <People />,\r\n  }\r\n];\r\n\r\nif (window.innerWidth >= 600) {\r\n  sections.push({\r\n    value: 5,\r\n    section: 'calendar',\r\n    label: 'Календарь',\r\n    img: <Calendar />,\r\n  })\r\n}\r\n\r\nexport default sections;","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport sections from './sections';\r\nimport styled from 'styled-components';\r\nimport { connect } from 'react-redux';\r\n\r\nfunction Navigation({ store: { unreaded: { feed, news, events, tasks, messages }} }) {\r\n  // eslint-disable-next-line\r\n  const [_, setUpdate] = useState(0);\r\n  \r\n  function showBadge(section) {\r\n    switch (section.section) {\r\n      case 'feed':\r\n        if (feed) {\r\n          return (\r\n            <BadgeWrapper>\r\n              <Badge color=\"secondary\" className='feedBadge' badgeContent={feed}>\r\n                {section.label}\r\n              </Badge>\r\n            </BadgeWrapper>\r\n          )\r\n        } else { return section.label }\r\n      case 'news':\r\n        if (news) {\r\n          return (\r\n            <BadgeWrapper>\r\n              <Badge color=\"secondary\" className='newsBadge' badgeContent={news}>\r\n                {section.label}\r\n              </Badge>\r\n            </BadgeWrapper>\r\n          )\r\n        } else { return section.label }  \r\n      case 'calendar':\r\n        if (events) {\r\n          return (\r\n            <BadgeWrapper>\r\n              <Badge color=\"secondary\" className='eventsBadge' badgeContent={events}>\r\n                {section.label}\r\n              </Badge>\r\n            </BadgeWrapper>\r\n          )\r\n        } else { return section.label }  \r\n      case 'tasks':\r\n        if (tasks) {\r\n          return (\r\n            <BadgeWrapper>\r\n              <Badge color=\"secondary\" className='tasksBadge' badgeContent={tasks}>\r\n                {section.label}\r\n              </Badge>\r\n            </BadgeWrapper>\r\n          )\r\n        } else { return section.label } \r\n      case 'messages':\r\n        if (messages) {\r\n          return (\r\n            <BadgeWrapper>\r\n              <Badge color=\"secondary\" className='messagesBadge' badgeContent={messages}>\r\n                {section.label}\r\n              </Badge>\r\n            </BadgeWrapper>\r\n          )\r\n        } else { return section.label } \r\n\r\n      default: return section.label;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      <AppBar position=\"static\" color=\"default\">\r\n        <Tabs\r\n          value={sections.findIndex(section => window.location.pathname.slice(1) === section.section) !== -1 ? sections.findIndex(section => window.location.pathname.slice(1) === section.section) : 0}\r\n          indicatorColor=\"primary\"\r\n          centered\r\n        >\r\n          {sections.map((section, i) =>\r\n            <Tab\r\n              key={i}\r\n              label={showBadge(section)}\r\n              component={Link}\r\n              to={section.section}\r\n              icon={section.img}\r\n            />\r\n          )}\r\n        </Tabs>\r\n      </AppBar>\r\n      <span id=\"reloadNavigation\" onClick={() => setUpdate(Math.random())} style={{ display: 'none' }}></span>\r\n    </Wrapper>\r\n  );\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  flex-grow: 1;\r\n  width: 100%;\r\n  background-color: #ffffff;\r\n  margin-bottom: 4px;\r\n\r\n  a {\r\n    width: ${100 / sections.length}%\r\n  }\r\n  svg {\r\n    color: #1976d2;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    position: fixed;\r\n    bottom: 0;\r\n    z-index: 1000;\r\n    opacity: 1;\r\n    margin-bottom: 0;\r\n    width: ${window.innerWidth}px;\r\n    a {\r\n      padding-top: 5px;\r\n      min-height: 50px;\r\n    }\r\n    a > span > span {\r\n      display: block;\r\n      font-size: 8px;\r\n    }\r\n  }\r\n`;\r\nconst BadgeWrapper = styled.div`\r\n  & > span > span {\r\n    top: -19px;\r\n    right: -5px;\r\n  }\r\n`;\r\nexport default connect(state => ({ store: state }),\r\n  dispatch => ({\r\n    getTasks: (tasks) => dispatch({ type: 'FETCH_TASKS', payload: tasks})\r\n  })\r\n)(Navigation);","import React, { Fragment } from 'react';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport defaultAvatar from '../img/photos/images.png';\r\nimport styled from 'styled-components';\r\nimport moment from 'moment';\r\nimport { connect} from 'react-redux';\r\nimport Badge from '@material-ui/core/Badge';\r\n\r\nfunction Friend(props) {\r\n\r\n  const cropString = string => {\r\n    if (string.length < 137) return string;\r\n    return `${string.substring(0,137)}...`;\r\n  }\r\n\r\n  const getTime = (time, date) => {\r\n    const fromDayStart = moment().startOf('day').format();\r\n    const dateFromNow = moment(date, \"DD.MM.YYYY\").format();\r\n    \r\n    if (!moment(fromDayStart).isSame(dateFromNow, 'day')) {\r\n      return <Time><Typography variant=\"subtitle2\" color='primary'>{moment(date, \"DD.MM.YYYY\").calendar().slice(0,-4)} {time}</Typography></Time>\r\n    }\r\n\r\n    return (\r\n      <Time><Typography variant=\"subtitle2\" color='primary'>{props.friend.message.time}</Typography></Time>\r\n    )\r\n  }\r\n\r\n  function isHaveUnreaded(chat) {\r\n    const { store: { unreaded : { chats }}} = props;\r\n    const index = chats.findIndex(item => item.chat_id === chat);\r\n    \r\n    if (index >= 0) {\r\n      return chats[index].unreaded; \r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <ListItem \r\n      onClick={() => props.openRoom(props.friend.hasOwnProperty('message') && props.friend.message ? props.friend.message.chat : 0, props.friend)}\r\n      button \r\n      TouchRippleProps={{ classes: { child: 'touch-ripple' }}} \r\n    >\r\n      <ListItemAvatar>\r\n        <Avatar\r\n          style={{ height: 50, width: 50 }}\r\n          alt={`${props.friend.name} ${props.friend.surname}`}\r\n          src={props.friend.avatar !== '' ? props.friend.avatar : defaultAvatar}\r\n        />\r\n      </ListItemAvatar>\r\n      <ListItemText\r\n        inset\r\n        primary={<MessageHeader>\r\n          <Typography variant=\"subtitle1\">{`${props.friend.name} ${props.friend.surname}`}</Typography>\r\n          {props.friend.message ? \r\n            getTime(props.friend.message.time, props.friend.message.date, props.friend.message.readed)     \r\n          : null}\r\n        </MessageHeader>}\r\n        secondary={props.friend.message ?\r\n          <Fragment>\r\n            <Typography component=\"span\" style={{ display: 'inline' }} color=\"primary\">\r\n              {props.friend.id === props.friend.message.user ? `${props.friend.name} ${props.friend.surname}:` : 'Вы:'}\r\n            </Typography>\r\n            {` — ${cropString(props.friend.message.body)} `} \r\n            <Badge \r\n              color=\"secondary\" \r\n              badgeContent={isHaveUnreaded(props.friend.message.chat)}\r\n              style={{\r\n                position: 'absolute',\r\n                right: 45,\r\n                top: 45\r\n              }}  \r\n            >{null}</Badge>\r\n          </Fragment>\r\n        : null}    \r\n      />\r\n    </ListItem>\r\n  );\r\n}\r\nconst Time = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  opacity: .87;\r\n  svg {\r\n    margin-right: 6px;\r\n    font-size: 17px;\r\n    color: #1976d2;\r\n  }\r\n`;\r\nconst MessageHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\nexport default connect(state => ({ store: state }),\r\n  dispatch => ({\r\n    onFetchUser: user => dispatch({ type: 'FETCH_USER', payload: user }),\r\n}))(Friend);","import React from 'react';\r\nimport { Typography } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nexport default function NoMessages() {\r\n  return (\r\n    <Container>\r\n      <Typography variant='body1' style={{ marginBottom: 12 }}>\r\n        Будьте первым, кто отправит сообщение в этом диалоге.\r\n      </Typography>\r\n      <Typography variant='body2'>\r\n        Чтобы написать коллеге, просто введите текст сообщения в строке снизу и нажмите клавишу \"Enter\".\r\n      </Typography>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  padding: 30px 80px;\r\n  height: 250px;\r\n  display: flex;\r\n  opacity: .75;\r\n  text-align: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n\r\n  @media all and (max-width: 600px) {\r\n    padding: 30px 40px;\r\n    height: 160px;\r\n  }\r\n`;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport styled from 'styled-components';\r\nimport defaultAvatar from '../img/photos/images.png';\r\nimport { Typography, Tooltip } from '@material-ui/core';\r\nimport NotReaded from '@material-ui/icons/Done';\r\nimport Readed from '@material-ui/icons/DoneAll';\r\nimport moment from 'moment';\r\nimport Delete from '@material-ui/icons/Delete';\r\nimport Edit from '@material-ui/icons/Edit';\r\n\r\nfunction Message(props) { \r\n\r\n  function isToday(date) {\r\n    const fromDayStart = moment().startOf('day').format();\r\n    const dateFromNow = moment(date, \"DD.MM.YYYY\").format();\r\n\r\n    if (!moment(fromDayStart).isSame(dateFromNow, 'day')) {\r\n      return moment(date, \"DD.MM.YYYY\").calendar().slice(0,-4);\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  const { room, user } = props.store;\r\n\r\n  return (\r\n    <Container style={ room.user.id !== props.message.user ? { flexDirection: 'row-reverse'} : {}}>\r\n      <Avatar \r\n        style={ room.user.id !== props.message.user \r\n          ? { background: `url(${user.avatar ? user.avatar : defaultAvatar}) no-repeat center/cover` } \r\n          : { background: `url(${room.user.avatar? room.user.avatar : defaultAvatar}) no-repeat center/cover` } \r\n        }>\r\n      </Avatar>  \r\n      <Body>\r\n        <Typography className='message-name' variant='subtitle2' color='secondary'>      \r\n          {room.user.id !== props.message.user \r\n            ? `Вы` \r\n            : `${room.user.name} ${room.user.surname}` }\r\n          \r\n          {room.user.id !== props.message.user \r\n            ? <span>\r\n                <Tooltip title='редактировать' placement='top'><Edit onClick={() => props.editMessage(props.message.body, props.message.id)} /></Tooltip>\r\n                <Tooltip title='удалить' placement='top'><Delete onClick={props.handleDelete} /></Tooltip>\r\n              </span> \r\n            : null}\r\n        </Typography>\r\n        <Typography variant='body2'>{props.message.body}</Typography>\r\n        <Typography className='message-time' variant='subtitle2' color='primary'>    \r\n          {isToday(props.message.date)} {props.message.time}\r\n          {props.message.edited === '1' ? ' отредактировано' : null}\r\n          {room.user.id !== props.message.user ? props.message.readed === '1' ? <Readed /> : <NotReaded /> : null}\r\n        </Typography>\r\n      </Body>  \r\n    </Container>\r\n  )\r\n}\r\nconst Container = styled.div`\r\n  display: flex;\r\n  align-items: flex-end;\r\n`;\r\nconst Avatar = styled.div`\r\n  min-width: 35px;\r\n  min-height: 35px;\r\n  border-radius: 50%;\r\n  margin: 0 15px;\r\n`;\r\nconst Body = styled.div`\r\n  max-width: 70%;\r\n  background: #fafafa;\r\n  padding: 10px 15px;\r\n  border-radius: 7px;\r\n  margin: 15px 0 0;\r\n  .message-time {\r\n    font-size: .7rem;\r\n    display: flex;\r\n    align-items: center;\r\n    svg {\r\n      font-size: 18px;\r\n      margin-left: 5px; \r\n    }\r\n  }\r\n  .message-name {\r\n    display: flex;\r\n    align-items: center;\r\n    min-width: 100px;\r\n    justify-content: space-between;\r\n    svg {\r\n      font-size: 16px;\r\n      margin-left: 5px; \r\n      color: rgba(0,0,0,.34);\r\n      cursor: pointer;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({\r\n    store: state\r\n  })\r\n)(Message);","import React from 'react';\r\nimport NoMessages from './NoMessages';\r\nimport { connect } from 'react-redux';\r\nimport Message from './Message';\r\nimport styled from 'styled-components';\r\n\r\nfunction Messages(props) {\r\n  const { messages } = props.store;\r\n  \r\n  setTimeout(() => {\r\n    const messageContainer = document.getElementById(\"messages\");\r\n    if (messages.length !== 0 && messageContainer) messageContainer.scrollTop = messageContainer.scrollHeight; \r\n  }, 0);\r\n\r\n  return (\r\n    <Container id='messages'>\r\n      {messages.length !== 0 ? \r\n        messages.map(message => \r\n          <Message \r\n            key={message.id} \r\n            message={message} \r\n            editMessage={props.editMessage}\r\n            handleDelete={() => props.handleDelete(message.id)}\r\n          />\r\n        )\r\n      : <NoMessages />}\r\n    </Container>\r\n  )\r\n}\r\n\r\n\r\n\r\nconst Container = styled.div`\r\n  overflow: auto;\r\n  margin-top: 5px;\r\n  max-height: 310px;\r\n  &::-webkit-scrollbar {\r\n    width: 2px;\r\n  } \r\n  &::-webkit-scrollbar-track {\r\n    background-color: #fafafa;\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    background: #1976d2; \r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    max-height: calc(100vh - 100px);\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({\r\n    store: state\r\n  })\r\n)(Messages);","import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport styled from 'styled-components';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Send from '@material-ui/icons/Send';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nexport default function SendMessageInput(props) {\r\n  return (\r\n    <Container onSubmit={props.sendMessage}>\r\n      <TextField\r\n        placeholder=\"Напишите сообщение...\"\r\n        fullWidth\r\n        autoFocus\r\n        margin='dense'\r\n        variant=\"filled\"\r\n        onChange={props.handleNewMessage}\r\n        value={props.message}\r\n        InputProps={{\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <Tooltip title='Отправить сообщение' position='top'>\r\n                <IconButton\r\n                  aria-label=\"Отправить сообщение\"\r\n                  onClick={props.sendMessage}\r\n                >\r\n                  <Send />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n      />\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.form`\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  overflow: hidden;\r\n  background: #fafafa;\r\n  & > div {\r\n    margin: 0;\r\n  }\r\n  & > div > div {\r\n    background: #fafafa !important;\r\n    :hover {\r\n      background: #fafafa;\r\n    }\r\n  }\r\n  input {\r\n    background: #fafafa;\r\n    padding: 13px 25px;\r\n    font-size: 14px;\r\n  }\r\n`;","import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport styled from 'styled-components';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport Edit from '@material-ui/icons/Edit';\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nexport default function EditMessageInput(props) {\r\n  return (\r\n    <Container onSubmit={props.submitEdit}>\r\n      <TextField\r\n        placeholder=\"Отредактируйте сообщение...\"\r\n        fullWidth\r\n        autoFocus\r\n        margin='dense'\r\n        variant=\"filled\"\r\n        onChange={props.handleEdit}\r\n        value={props.message}\r\n        InputProps={{\r\n          startAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <Tooltip title='Редактировать' position='top'>\r\n                <IconButton\r\n                  aria-label=\"Редактировать\"\r\n                  onClick={props.submitEdit}\r\n                >\r\n                  <Edit />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </InputAdornment>\r\n          ),\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <Tooltip title='Закрыть' position='top'>\r\n                <IconButton\r\n                  aria-label=\"Закрыть\"\r\n                  onClick={props.closeEditing}\r\n                >\r\n                  <Clear />\r\n                </IconButton>\r\n              </Tooltip>\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n      />\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.form`\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  overflow: hidden;\r\n  background: #fafafa;\r\n  z-index: 10;\r\n  & > div {\r\n    margin: 0;\r\n  }\r\n  & > div > div {\r\n    background: #fafafa !important;\r\n    :hover {\r\n      background: #fafafa;\r\n    }\r\n  }\r\n  input {\r\n    background: #fafafa;\r\n    padding: 13px 25px;\r\n    font-size: 14px;\r\n  }\r\n`;","import React, { Fragment } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Typography, Button } from '@material-ui/core';\r\n\r\nexport default function DeleteModal(props) {\r\n  return (\r\n    <Fragment>\r\n      <Container>\r\n        <Typography variant='body2'>Вы уверены, что хотите удалить сообщение?</Typography>\r\n        <Typography variant='body2'>Это действие удалит его для всех участников чата.</Typography>    \r\n        <div>\r\n          <Button variant='text' color='primary' onClick={props.closeDelete} >Отмена</Button>\r\n          <Button variant='text' color='primary' onClick={props.submitDelete}>Удалить</Button>\r\n        </div>       \r\n      </Container>\r\n      <Overlay onClick={props.closeDelete} />\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  padding: 30px 20px 10px;\r\n  width: 320px;\r\n  height: 200px;\r\n  margin: auto;\r\n  z-index: 10;\r\n  background: #fafafa;\r\n  box-shadow: rgba(0,0,0,0.2) 0px 1px 3px 0px, rgba(0,0,0,0.14) 0px 1px 1px 0px, rgba(0,0,0,0.12) 0px 2px 1px -1px;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  & > div {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n  }\r\n`;\r\n\r\nconst Overlay = styled.div`\r\n  position: absolute;\r\n  top: 0; bottom: 0;\r\n  left: 0; right: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 5;\r\n  background: rgba(0,0,0,.17);\r\n`;","import React, { Component } from 'react';\r\nimport API from '../functions/API';\r\nimport $ from 'jquery';\r\nimport styled from 'styled-components';\r\nimport { connect } from 'react-redux';\r\nimport Back from '@material-ui/icons/ArrowBack';\r\nimport { Typography } from '@material-ui/core';\r\nimport defaultAvatar from '../img/photos/images.png';\r\nimport Messages from './Messages';\r\nimport Loader from '../Loader/Loader';\r\nimport SendMessageInput from './SendMessageInput';\r\nimport EditMessageInput from './EditMessageInput';\r\nimport DeleteModal from './DeleteModal';\r\nimport moment from 'moment';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass ChatRoom extends Component {\r\n  state = {\r\n    loading: true,\r\n    editing: false,\r\n    editText: '',\r\n    deleting: false,\r\n    newMessage: '',\r\n    deleteID: null,\r\n    editID: null\r\n  }\r\n\r\n  interval = null;\r\n  chatInteral = null;\r\n\r\n  componentDidMount = () => {\r\n    this.getMessages();\r\n    this.interval = setInterval(() => this.getMessages(), 5000);\r\n\r\n    this.chatInteral = setInterval(() => this.readMessages(), 2000);\r\n  }\r\n\r\n  componentWillUnmount = () => {\r\n    clearInterval(this.interval);\r\n    clearInterval(this.chatInteral);\r\n  }\r\n  \r\n  readMessages = () => {\r\n    const self = this;\r\n    const formData = new FormData();\r\n    formData.append('chat_id', this.props.store.room.chat_id); \r\n\r\n    $.ajax({\r\n      url: `${API}/api/message/set_readed.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () => {\r\n        if (self.props.store.unreaded.chats.find(chat => chat.chat_id === self.props.store.room.chat_id)) {\r\n          self.props.readChat(self.props.store.room.chat_id);\r\n          document.getElementById('reloadNavigation').click();\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  getMessages = () => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    formData.append('chat', this.props.store.room.chat_id); \r\n\r\n    $.ajax({\r\n      url: `${API}/api/message/read.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: res => {\r\n        self.setState({ loading: false });\r\n        if (res.messages) self.props.getMessages(res.messages);      \r\n      }\r\n    });\r\n  }\r\n\r\n  handleEdit = (e) => this.setState({ editText: e.target.value });\r\n  editMessage = (message, id) => { if(!this.state.editing) this.setState({ editing: !this.state.editing, editText: message, editID: id })};\r\n  closeEditing = () =>  this.setState({ editing: false, editText: '', editID: null });\r\n\r\n  handleDelete = id => this.setState({ deleting: true, deleteID: id });\r\n  closeDelete = () =>  this.setState({ deleting: false, deleteID: null });\r\n\r\n  handleNewMessage = (e) => this.setState({ newMessage: e.target.value });\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | Отправляет сообщение\r\n  |--------------------------------------------------\r\n  */\r\n  sendMessage = (e) => {\r\n    if (e) e.preventDefault();\r\n\r\n    const { room, user } = this.props.store;  \r\n\r\n    // если в комнате нет чат-id то создадим чат\r\n    if (!room.hasOwnProperty('chat_id')) {\r\n      this.getMessageId(user.id, room.user.id);\r\n      return;\r\n    } else {\r\n      fetch(`${API}/api/message/get_id.php`)\r\n        .then(response => response.json())\r\n        .then(message => localStorage.setItem('message_id', message.message_id))\r\n    }\r\n\r\n    const formData = new FormData();\r\n    const self = this; \r\n    const message = {\r\n      user: user.id,\r\n      chat: room.hasOwnProperty('chat_id') ? room.chat_id : localStorage.getItem('chat_id'),\r\n      body: this.state.newMessage,\r\n      date: moment().format('L'),\r\n      time: moment().format('LT'),\r\n      created_at: new Date().getTime()\r\n    };\r\n\r\n    formData.append('chat', message.chat); \r\n    formData.append('user', message.user);\r\n    formData.append('body', message.body); \r\n    formData.append('date', message.date); \r\n    formData.append('time', message.time); \r\n    formData.append('created_at', message.created_at); \r\n\r\n    $.ajax({\r\n      url: `${API}/api/message/send.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: () => {\r\n        if (!self.props.store.chats.find(chat => chat.id === message.chat)) {\r\n          self.props.createChat(localStorage.getItem('users'), message.chat, message); \r\n        }  \r\n        self.props.addMessage(message);\r\n        self.setState({ newMessage: '' })\r\n        self.getMessages();\r\n        clearInterval(self.chatInteral);\r\n        self.chatInteral = setInterval(() => self.readMessages(), 2000);\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | получаем @ID последнего сообщение в базе\r\n  |--------------------------------------------------\r\n  */\r\n  getMessageId = (user1, user2) => {\r\n    fetch(`${API}/api/message/get_id.php`)\r\n      .then(response => response.json())\r\n      .then(message => this.createChat(user1, user2, message.message_id))\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | Создаем чат\r\n  |--------------------------------------------------\r\n  */\r\n  createChat = (user1, user2, message_id) => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    const users = `id${user1}, id${user2}`;\r\n    const messageId = (Number(message_id) + 1).toString();\r\n    formData.append('users', users); \r\n    formData.append('last_msg', messageId); \r\n\r\n    $.ajax({\r\n      url: `${API}/api/chat/create.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function (res) {\r\n        self.props.assignChat(res.chat_id);\r\n        localStorage.setItem('message_id', messageId);\r\n        localStorage.setItem('chat_id', res.chat_id);\r\n        localStorage.setItem('users', `id${user1}, id${user2}`);\r\n        self.sendMessage(false);    \r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | удаляем сообщение\r\n  |--------------------------------------------------\r\n  */\r\n  submitDelete = () => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    formData.append('id', this.state.deleteID); \r\n\r\n    $.ajax({\r\n      url: `${API}/api/message/delete.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function(res) {\r\n        self.props.deleteMessage(self.state.deleteID);\r\n        if (self.props.store.messages.length === 0) self.props.deleteChat(self.props.store.room.chat_id);\r\n        self.closeDelete();\r\n        self.getMessages();\r\n      }\r\n    });\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | редактируем сообщение\r\n  |--------------------------------------------------\r\n  */\r\n  submitEdit = (e) => {\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    const self = this;\r\n    formData.append('id', this.state.editID); \r\n    formData.append('body', this.state.editText); \r\n\r\n    $.ajax({\r\n      url: `${API}/api/message/edit.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: async () => {  \r\n        await self.props.editMessage(self.state.editID, self.state.editText); \r\n        await self.closeEditing();  \r\n        await self.getMessages();   \r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { loading, editing, deleting } = this.state;\r\n    const { room } = this.props.store;\r\n\r\n    return (\r\n      <Room>\r\n        <RoomHeader>\r\n          <Icon onClick={() => this.props.openRoom(0, room.user)}>\r\n            <Back />\r\n          </Icon>\r\n          {room.hasOwnProperty('user') ?\r\n          <Link to={`/id${room.user.id}`}>\r\n            <div className='room-header__user'>\r\n              <div className='room-header__avatar' style={{ background: `url(${room.user.avatar !== '' ? room.user.avatar : defaultAvatar}) no-repeat center/cover`}}></div>\r\n                <div className='room-header__info'>\r\n                  <Typography variant='subtitle2'>{room.user.name} {room.user.surname}</Typography>\r\n                  <Typography variant='caption'>{room.user.position}</Typography>\r\n                </div> \r\n            </div>\r\n          </Link> : null}\r\n        </RoomHeader>\r\n\r\n        {loading \r\n          ? <Loader minHeight={250} color='primary' /> \r\n          : <Messages \r\n              editMessage={this.editMessage.bind(this)} \r\n              handleDelete={this.handleDelete.bind(this)}\r\n            />\r\n        }\r\n\r\n        {editing ? <EditMessageInput \r\n          closeEditing={this.closeEditing.bind(this)} \r\n          message={this.state.editText} \r\n          handleEdit={this.handleEdit.bind(this)}\r\n          submitEdit={this.submitEdit.bind(this)}\r\n        /> : null}\r\n\r\n        <SendMessageInput \r\n          message={this.state.newMessage}\r\n          sendMessage={this.sendMessage} \r\n          handleNewMessage={this.handleNewMessage}\r\n        />\r\n\r\n        {deleting ? <DeleteModal \r\n          closeDelete={this.closeDelete.bind(this)}\r\n          submitDelete={this.submitDelete.bind(this)}\r\n        /> : null}\r\n      </Room>\r\n    )\r\n  }\r\n}\r\nconst Room = styled.div`\r\n  overflow: hidden;\r\n  height: 432px;\r\n\r\n  @media all and (max-width: 600px) {\r\n    height: calc(100vh - 55px);\r\n  }\r\n`;\r\nconst RoomHeader = styled.div`\r\n  background: #1976d2;\r\n  height: 60px;\r\n  color: rgba(255,255,255,.5);\r\n  display: flex;\r\n  align-items: center;\r\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 1px 3px 0px, rgba(0, 0, 0, 0.14) 0px 1px 1px 0px, rgba(0, 0, 0, 0.12) 0px 2px 1px -1px;\r\n\r\n  .room-header__user {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 100%;\r\n  }\r\n  .room-header__avatar {\r\n    height: 45px;\r\n    width: 45px;\r\n    border-radius: 50%;\r\n    margin-right: 15px;\r\n  }\r\n  h6 {\r\n    color: #fff;\r\n    opacity: .85;\r\n  }\r\n  span {\r\n    color: rgba(255,255,255,.5);\r\n  }\r\n  :hover {\r\n    color: #fff;\r\n    transition: .37s ease;\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  width: 60px;\r\n  height: 60px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n`;\r\nexport default connect(\r\n  state => ({\r\n    store: state\r\n  }),\r\n  dispatch => ({\r\n    getMessages: (messages) => {\r\n      dispatch({ type: 'FETCH_MESSAGES', payload: messages })\r\n    },\r\n    createChat: (users, chat_id, message) => {\r\n      dispatch({ type: 'CREATE_CHAT', payload: { users: users, id: chat_id, message: message }})\r\n    },\r\n    assignChat: (chat_id) => {\r\n      dispatch({ type: 'ASSIGN_CHAT', payload: chat_id })\r\n    },\r\n    addMessage: (message) => {\r\n      dispatch({ type: 'ADD_MESSAGE', payload: message })\r\n    },\r\n    deleteMessage: (messageID) => {\r\n      dispatch({ type: 'DELETE_MESSAGE', payload: messageID })\r\n    },\r\n    editMessage: (messageID, messageBody) => {\r\n      dispatch({ type: 'EDIT_MESSAGE', payload: [messageID, messageBody] })\r\n    },\r\n    deleteChat: (chat_id) => {\r\n      dispatch({ type: 'DELETE_CHAT', payload: chat_id })\r\n    },\r\n    readChat: (chat_id) => {\r\n      dispatch({ type: 'READ_CHAT', payload: chat_id })\r\n    },\r\n  })\r\n)(ChatRoom);","import React, { Component } from 'react';\r\nimport List from '@material-ui/core/List';\r\nimport ChatItem from './ChatItem';\r\nimport API from '../functions/API';\r\nimport styled from 'styled-components';\r\nimport Search from '../FriendsList/Search';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Loader from '../Loader/Loader';\r\nimport { connect } from 'react-redux';\r\nimport { Transition, animated } from 'react-spring/renderprops';\r\nimport ChatRoom from './ChatRoom';\r\n\r\nclass FriendList extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      friends: [],\r\n      initial: [],\r\n      searchValue: '',\r\n      loading: true,\r\n      documentTitle: document.title,\r\n      completed: false,\r\n      openRoom: false,\r\n      index: 1,\r\n      initialAnimation: false,\r\n      direction: true\r\n    }\r\n\r\n    this.rebuildList = this.rebuildList.bind(this);\r\n  }\r\n    \r\n  componentDidMount() {\r\n    fetch(`${API}/api/user/read.php`)\r\n      .then(response => response.json())\r\n      .then(friends => {\r\n        const data = friends.data;\r\n        this.setState({ friends: data, initial: data, loading: false })\r\n      })\r\n  }\r\n\r\n  handleSearch = (e) => {\r\n    this.setState({ searchValue: e.target.value });\r\n    const searchValue = e.target.value.toLowerCase();\r\n\r\n    document.title = e.target.value || this.state.documentTitle;\r\n\r\n    let friends = this.state.initial;\r\n    friends = friends.filter(friend =>\r\n      friend.name.toLowerCase().includes(searchValue) ||\r\n      friend.surname.toLowerCase().includes(searchValue) ||\r\n      friend.position.toLowerCase().includes(searchValue)\r\n    );\r\n    this.setState({ friends });\r\n  }\r\n\r\n  componentWillUnmount = () => {\r\n    document.title = this.state.documentTitle;\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | переделываем массив списка друзей исходя из полученных сообщений\r\n  |--------------------------------------------------\r\n  */\r\n  rebuildList = (chats) => {\r\n    let friends = this.state.friends;\r\n    chats.forEach(chat => {\r\n      friends.find(friend => chat.users.includes(`id${friend.id}`)).message = chat.message;\r\n    })\r\n    let withMessages = friends.filter(friend => friend.hasOwnProperty('message'));\r\n    let withoutMessages = friends.filter(friend => !friend.hasOwnProperty('message'));\r\n    let sorted = withMessages.concat(withoutMessages);\r\n    this.setState({ completed: true, friends: sorted });\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | переключаем и анимируем комнату чата и список\r\n  |--------------------------------------------------\r\n  */\r\n  openRoom = (chat, friend) => {\r\n    if (!this.state.initialAnimation) this.setState({ initialAnimation: true });\r\n\r\n    if (chat) {\r\n      this.props.openChat(chat, friend);\r\n    } else {\r\n      this.rebuildList(this.props.store.chats);\r\n      setTimeout(() => this.props.closeChat(friend), 570);\r\n    }\r\n\r\n    this.setState({ direction: !this.state.direction });\r\n\r\n    setTimeout(() => this.setState(state => ({\r\n      index: state.index === 1 ? 0 : 1,\r\n    })), 300)\r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | массив того, что анимируем\r\n  |--------------------------------------------------\r\n  */\r\n  pages = [\r\n    style => (\r\n      <animated.div style={{ ...style, position: 'absolute', width: '100%' }}>\r\n        <ChatRoom\r\n          openRoom={this.openRoom.bind(this)}\r\n        />\r\n      </animated.div>\r\n    ),\r\n    style => (\r\n      <animated.div style={{ ...style, position: 'absolute', width: '100%' }}>\r\n        <Search\r\n          handleSearch={this.handleSearch}\r\n          searchValue={this.searchValue}\r\n        />\r\n        <List>\r\n          {this.state.friends.map(friend =>\r\n            <ChatItem\r\n              openRoom={this.openRoom.bind(this)}\r\n              key={friend.id}\r\n              friend={friend}\r\n            />\r\n          )}\r\n        </List>\r\n      </animated.div>\r\n    )\r\n  ]\r\n\r\n  getDirection = direction => {\r\n    if (direction) {\r\n      return 'translateX(100%)';\r\n    } else {\r\n      return 'translateX(-100%)';\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { chats } = this.props.store;\r\n    const { completed, friends, index, direction } = this.state;\r\n\r\n    if (chats.length > 0 && friends.length > 0 && !completed) {\r\n      this.rebuildList(chats);\r\n    }\r\n\r\n    return (\r\n      <Paper>\r\n        {this.state.loading ?\r\n          <Loader minHeight={370} color='primary' />\r\n          :\r\n          <FriendWrapper>\r\n            <Transition\r\n              reset\r\n              unique\r\n              native\r\n              items={index}\r\n              from={this.state.initialAnimation ? { transform: this.getDirection(direction) } : { zIndex: 1 }}\r\n              enter={{ transform: 'translateX(0%)' }}\r\n              leave={{ transform: this.getDirection(!direction) }}\r\n            >\r\n              {index => this.pages[index]}\r\n            </Transition>\r\n          </FriendWrapper>\r\n        }\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nconst FriendWrapper = styled.div`\r\n  height: 432px;\r\n  overflow: auto;\r\n  overflow-x: hidden;\r\n  position: relative;\r\n\r\n  &::-webkit-scrollbar {\r\n    width: 5px;\r\n  } \r\n  &::-webkit-scrollbar-track {\r\n    background-color: #fafafa;\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    background: #1976d2; \r\n  }\r\n  a {\r\n    text-decoration: none;\r\n  }\r\n  ul {\r\n    padding: 0;\r\n    padding-bottom: 50px;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    height: calc(100vh - 55px);\r\n    ul {\r\n      padding: unset;\r\n      padding-top: 10px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    openChat: (chat, friend) => {\r\n      dispatch({ type: 'OPEN_CHAT', payload: [chat, friend] })\r\n    },\r\n    closeChat: (friend) => {\r\n      dispatch({ type: 'CLOSE_CHAT', payload: [null, friend] })\r\n    },\r\n  })\r\n)(FriendList);","import React from 'react';\r\nimport { Typography } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nexport default function NoChats() {\r\n  return (\r\n    <Container>\r\n      <Typography variant='body1'>\r\n        Пока у вас нет ни одного диалога.\r\n      </Typography>\r\n      <Typography variant='body2'>\r\n        Выберите коллегу из списка ниже или введите в строке поиска имя, фамилию или занимающую должность коллеги, которому хотите отправить сообщение.\r\n      </Typography>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  padding: 30px 40px;\r\n  height: 150px;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  flex-direction: column;\r\n`;","import React, { Component } from 'react';\r\nimport Dialogues from './Dialogues';\r\nimport API from '../functions/API';\r\nimport $ from 'jquery';\r\nimport Loader from '../Loader/Loader';\r\nimport { connect } from 'react-redux';\r\nimport { Paper } from '@material-ui/core';\r\nimport NoChats from './NoChats';\r\n\r\nclass Chat extends Component {\r\n  state = { loading: true }\r\n\r\n  componentDidMount() {\r\n    this.fetchChats();\r\n  }\r\n\r\n  fetchChats() {\r\n    const self = this;\r\n\r\n    $.ajax({\r\n      url: `${API}/api/chat/read.php`,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: function (res) {\r\n        self.setState({ loading: false });\r\n\r\n        if (res[0].chats) self.props.getChats(res[0].chats);\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { loading } = this.state;\r\n    const { chats } = this.props.store;\r\n    \r\n    return (\r\n      <Paper>\r\n        {chats.length === 0 ? <NoChats /> : null}\r\n        {!loading \r\n          ? <Dialogues />\r\n          : <Loader minHeight={300} color='primary' />}\r\n      </Paper>\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => ({\r\n    store: state\r\n  }),\r\n  dispatch => ({\r\n    getChats: (chats) => {\r\n      dispatch({ type: 'FETCH_CHATS', payload: chats })\r\n    }\r\n  })\r\n)(Chat);\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport defaultAvatar from '../img/photos/images.png';\r\nimport Heart from '@material-ui/icons/Favorite';\r\nimport Calendar from '@material-ui/icons/InsertChart';\r\nimport News from '@material-ui/icons/NewReleases';\r\nimport Task from '@material-ui/icons/ListAlt';\r\nimport Comment from '@material-ui/icons/Comment';\r\nimport VerifiedUser from '@material-ui/icons/VerifiedUser';\r\n\r\nexport default function UserAvatar({ avatar, type }) {\r\n  \r\n  function drawBadge() {\r\n    switch (type) {\r\n      case 'likes':\r\n        return <Heart style={{ color: '#ff4800', top: '2px' }} />\r\n      case 'tasks':\r\n        return <Task style={{ color: '#6a1b9a' }} />\r\n      case 'results':\r\n        return <VerifiedUser style={{ color: '#2e7d32' }} />\r\n      case 'events':\r\n        return <Calendar style={{ color: '#1976d2' }} />\r\n      case 'comments':\r\n        return <Comment style={{ color: '#1976d2' }} />\r\n      case 'news':\r\n        return <News style={{ color: '#1976d2' }} />\r\n      default:\r\n        return <Heart style={{ color: '#ff4800', top: '2px' }} />  \r\n    }\r\n  }\r\n\r\n  return (\r\n    <Wrapper\r\n      style={{ background: `url(\"${avatar ? avatar : defaultAvatar}\") center center / cover no-repeat` }}\r\n    >\r\n      <Badge>{drawBadge()}</Badge>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  border-radius: 50%;\r\n  min-width: 80px;\r\n  margin: 15px 25px;\r\n  min-height: 80px;\r\n  position: relative;\r\n`;\r\n\r\nconst Badge = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: white;\r\n  border-radius: 50%;\r\n  width: 30px;\r\n  height: 30px;\r\n  box-shadow: 2px 2px 3px 0px #2323;\r\n  svg {\r\n    position: absolute;\r\n    right: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    top: 0;\r\n    margin: auto;\r\n    font-size: 18px;\r\n  }\r\n`;","import React from 'react';\r\nimport moment from 'moment';\r\nimport UserAvatar from './UserAvatar';\r\nimport styled from 'styled-components';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nexport default function Comment({ item }) {\r\n  return (\r\n    <CommentWrapper>\r\n      <UserAvatar avatar={item.avatar} type={item.type} />\r\n      <CommentContent>\r\n        <Typography variant='subtitle2' color='primary'>{`${item.name} ${item.surname}`}</Typography>\r\n        <Typography variant='body1' style={{ padding: '5px 0' }}>{item.text}</Typography>\r\n        <Typography variant='caption'>\r\n          <b style={{ fontWeight: 500}}>{moment(Number(item.created_at)).calendar()}</b> — комментарий к вашей новости&nbsp;\r\n          <b style={{ fontWeight: 500}}>{item.title}</b>\r\n        </Typography>\r\n      </CommentContent>\r\n    </CommentWrapper>\r\n  )\r\n}\r\n\r\nconst CommentWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px 0;\r\n  border-bottom: 1px solid #f5f5f5;\r\n`;\r\n\r\nconst CommentContent = styled.div`\r\n  width: 100%;\r\n  padding-right: 25px;\r\n`;\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport UserAvatar from './UserAvatar';\r\nimport styled from 'styled-components';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nexport default function Comment({ item }) {\r\n  return (\r\n    <LikeWrapper>\r\n      <UserAvatar avatar={item.avatar} type={item.type} />\r\n      <LikeContent>\r\n        <Typography variant='subtitle2' color='primary'>{`${item.name} ${item.surname}`}</Typography>\r\n        <Typography variant='caption'>\r\n          <b style={{ fontWeight: 500}}>{moment(Number(item.created_at)).calendar()}</b> — понравилась ваша запись&nbsp;\r\n          <b style={{ fontWeight: 500}}>{item.title}</b>\r\n        </Typography>\r\n      </LikeContent>\r\n    </LikeWrapper>\r\n  )\r\n}\r\n\r\nconst LikeWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px 0;\r\n  border-bottom: 1px solid #f5f5f5;\r\n`;\r\n\r\nconst LikeContent = styled.div`\r\n  width: 100%;\r\n  padding-right: 25px;\r\n`;","import React from 'react';\r\nimport moment from 'moment';\r\nimport UserAvatar from './UserAvatar';\r\nimport styled from 'styled-components';\r\nimport { Typography, Tooltip } from '@material-ui/core';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\n\r\nexport default function News({ item }) {\r\n  function createImportantBar() {\r\n    const Important = styled.div`\r\n      display: flex;\r\n      align-items: center;\r\n      margin: 0;\r\n      svg {\r\n        color: rgba(0,0,0,.15);\r\n        margin-right: 5px;  \r\n      }\r\n    `;\r\n    return (\r\n      <Tooltip title='Отмечено как важно' placement='top'>\r\n        <Important>\r\n          <WarningIcon />       \r\n        </Important>\r\n      </Tooltip>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <NewsWrapper>\r\n      <UserAvatar avatar={item.avatar} type={item.type} />\r\n      <NewsContent>\r\n        <Typography variant='subtitle2' color='primary' style={{ display: 'flex', alignItems: 'center' }}>\r\n          {item.importance === '1' ? createImportantBar() : null}\r\n          {`${item.name} ${item.surname} — ${item.title}`}\r\n        </Typography>\r\n        <Typography variant='body1' style={{ padding: '5px 0' }}>{item.text}</Typography>\r\n        <Typography variant='caption'>\r\n          <b style={{ fontWeight: 500}}>{moment(Number(item.created_at)).calendar()}</b>\r\n        </Typography>\r\n      </NewsContent>\r\n    </NewsWrapper>\r\n  )\r\n}\r\n\r\nconst NewsWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px 0;\r\n  border-bottom: 1px solid #f5f5f5;\r\n`;\r\n\r\nconst NewsContent = styled.div`\r\n  width: 100%;\r\n  padding-right: 25px;\r\n`;\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport UserAvatar from './UserAvatar';\r\nimport styled from 'styled-components';\r\nimport { Typography, Tooltip } from '@material-ui/core';\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\n\r\nexport default function News({ item }) {\r\n  function createImportantBar() {\r\n    const Important = styled.div`\r\n      display: flex;\r\n      align-items: center;\r\n      margin: 0;\r\n      svg {\r\n        color: rgba(0,0,0,.15);\r\n        margin-right: 5px;  \r\n      }\r\n    `;\r\n    return (\r\n      <Tooltip title='Отмечено как важно' placement='top'>\r\n        <Important>\r\n          <WarningIcon />       \r\n        </Important>\r\n      </Tooltip>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <NewsWrapper>\r\n      <UserAvatar avatar={item.avatar} type={item.type} />\r\n      <NewsContent>\r\n        <Typography variant='subtitle2' color='primary' style={{ display: 'flex', alignItems: 'center' }}>\r\n          {item.importance === '1' ? createImportantBar() : null}\r\n          {`${item.name} ${item.surname} — Поставил вам задачу`}\r\n        </Typography>\r\n        <Typography variant='body1' style={{ padding: '5px 0' }}>{item.text}</Typography>\r\n        <Typography variant='caption'>\r\n          <b style={{ fontWeight: 500}}>{moment(Number(item.created_at)).calendar()}</b> — выполнить до:&nbsp;\r\n          <b style={{ fontWeight: 500}}>{`${item.until_date} — ${item.until_time}`}</b>\r\n        </Typography>\r\n      </NewsContent>\r\n    </NewsWrapper>\r\n  )\r\n}\r\n\r\nconst NewsWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px 0;\r\n  border-bottom: 1px solid #f5f5f5;\r\n`;\r\n\r\nconst NewsContent = styled.div`\r\n  width: 100%;\r\n  padding-right: 25px;\r\n`;\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport UserAvatar from './UserAvatar';\r\nimport styled from 'styled-components';\r\nimport { Typography } from '@material-ui/core';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Result({ item }) {\r\n  const result = `${parseFloat(item.result.replace(',','.')) / item.questions.split(',').length * 100}%`;\r\n\r\n  return (\r\n    <ResultWrapper>\r\n      <UserAvatar avatar={item.avatar} type={item.type} />\r\n      <ResultContent>\r\n        <Typography variant='subtitle2' color='primary'>Вы прошли тестирование</Typography>\r\n        <Typography variant='h3' color='primary' style={{ marginTop: 5 }}>{result}</Typography>\r\n        <Typography variant='caption' style={{ padding: '5px 0' }}>Оставшееся время: {item.estimated_time}</Typography>\r\n        <Typography variant='caption'>\r\n          <b style={{ fontWeight: 500}}>{moment(Number(item.created_at)).calendar()}</b>&nbsp;\r\n          — &nbsp;\r\n          <Link to={`/test/${item.id}`} style={{  \r\n            color: '#1976d2', \r\n            textDecoration: 'none'\r\n          }}\r\n          >посмотреть детальные результаты</Link>\r\n        </Typography>\r\n      </ResultContent>\r\n    </ResultWrapper>\r\n  )\r\n}\r\n\r\nconst ResultWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px 0;\r\n  border-bottom: 1px solid #f5f5f5;\r\n`;\r\n\r\nconst ResultContent = styled.div`\r\n  width: 100%;\r\n  padding-right: 25px;\r\n`;\r\n","import React from 'react';\r\nimport moment from 'moment';\r\nimport UserAvatar from './UserAvatar';\r\nimport styled from 'styled-components';\r\nimport { Typography } from '@material-ui/core';\r\n\r\nexport default function Result({ item }) {\r\n  function getRemainingPlaces(max, signed) {\r\n    let maxUsers = Number(max);\r\n    let signedUsers = signed.split(',').length;\r\n    if (signed === '') signedUsers = 0;\r\n    let remaining = maxUsers - signedUsers;\r\n\r\n    if (remaining === 0) {\r\n      return 'Свободных мест нет.'\r\n    } else if (remaining === 1) {\r\n      return 'Можно записаться, осталось одно место.'\r\n    } else if (remaining > 5) {\r\n      return `Можно записаться, осталось ${remaining} мест.`\r\n    } else if (remaining > 1) {\r\n      return `Можно записаться, осталось ${remaining} места.`\r\n    }\r\n  }\r\n\r\n  function isFuture() {\r\n    return moment(item.endDate).diff(moment(new Date()));\r\n  }\r\n\r\n  return (\r\n    <EventWrapper>\r\n      <UserAvatar avatar={item.avatar} type={item.type} />\r\n      <EventContent>\r\n        <Typography variant='subtitle2' color='primary' style={{ marginBottom: 5 }}>{`Новое событие в календаре — ${item.title}`}</Typography>\r\n        <Typography variant='body1'>{`${moment(item.startDate).calendar()} — ${item.endDate.slice(-5)}`}</Typography>\r\n\r\n        {item.max !== '0' && isFuture() > 0 ? <Typography variant='caption'>{getRemainingPlaces(item.max, item.signed)}</Typography> : null}\r\n        <Typography variant='caption' style={{ marginTop: 5 }}>\r\n          Событие добавлено в календарь — &nbsp;\r\n          <b style={{ fontWeight: 500}}>{moment(Number(item.created_at)).calendar()}</b>\r\n        </Typography>\r\n      </EventContent>\r\n    </EventWrapper>\r\n  )\r\n}\r\n\r\nconst EventWrapper = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px 0;\r\n  border-bottom: 1px solid #f5f5f5;\r\n`;\r\n\r\nconst EventContent = styled.div`\r\n  width: 100%;\r\n  padding-right: 25px;\r\n`;\r\n","import React from 'react';\r\nimport { Typography } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nexport default function ThastIt() {\r\n  return (\r\n    <Container>\r\n      <Typography variant='button' style={{ opacity: .5 }}>Показаны последние новости</Typography>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100px;\r\n  width: 100%;\r\n`;","import React, { Fragment, useEffect } from 'react';\r\nimport { Paper, Typography } from '@material-ui/core';\r\nimport { connect } from 'react-redux';\r\nimport Comment from './Comment';\r\nimport Like from './Like';\r\nimport News from './News';\r\nimport Task from './Task';\r\nimport Result from './Result';\r\nimport Event from './Event';\r\nimport ThatsIt from './ThatsIt';\r\nimport styled from 'styled-components';\r\nimport Circle from '@material-ui/icons/CheckCircle';\r\n\r\nfunction index({ onReadFeed, store: { feed, unreaded } }) { \r\n  useEffect(() => {\r\n    let timeout = null;\r\n    if (unreaded.feed > 0) {\r\n      timeout = setTimeout(() => {\r\n        document.querySelector('.feedBadge span').style.display = 'none';\r\n        onReadFeed();\r\n      }, 2000)\r\n    }\r\n    return () => window.clearTimeout(timeout)\r\n  });\r\n\r\n  function renderFeedItem(item) {\r\n    switch(item.type) {\r\n      case 'news':\r\n        return <News key={item.fake_id} item={item} />\r\n      case 'tasks':\r\n        return <Task key={item.fake_id} item={item} />\r\n      case 'results':\r\n        return <Result key={item.fake_id} item={item} />\r\n      case 'events':\r\n        return <Event key={item.fake_id} item={item} />\r\n      case 'likes':\r\n        return <Like key={item.fake_id} item={item} />\r\n      case 'comments':\r\n        return <Comment key={item.fake_id} item={item} />\r\n      default: return 'notfound'\r\n    }\r\n  }\r\n\r\n  function renderLastViewed(item) {\r\n    const elem = renderFeedItem(item);\r\n    return (\r\n      <Fragment key={item.fake_id}>\r\n        {elem}\r\n        <Caught>\r\n          <Circle />\r\n          <Typography variant='subtitle2' style={{ opacity: .5 }}>новые уведомления</Typography>\r\n        </Caught>\r\n      </Fragment>     \r\n    )\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <Paper>\r\n        {feed.length === 0 \r\n          ? <ThatsIt style={{ height: 400 }} /> \r\n          : feed.map((item, index) => \r\n            unreaded.feed > 0  && unreaded.feed === index + 1 ? renderLastViewed(item) : renderFeedItem(item))\r\n        }   \r\n      </Paper>\r\n      {feed.length !== 0 ? <ThatsIt /> : null}\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nconst Caught = styled.div`\r\n  display: flex;\r\n  height: 125px;\r\n  width: 100%;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n\r\n  svg {\r\n    opacity: 0.075;\r\n    font-size: 36px;\r\n    margin-bottom: 10px;\r\n  }\r\n`;\r\n\r\nexport default connect(state => ({ store: state }),\r\n  dispatch => ({ onReadFeed: () => dispatch({ type: 'READ_FEED' })    \r\n}))(index);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst styles = {\r\n  card: {\r\n    width: '100%',\r\n    maxWidth: 345,\r\n  },\r\n  media: {\r\n    height: 170,\r\n  },\r\n  text: {\r\n    height: 140,\r\n  }\r\n};\r\n\r\nfunction MediaCard(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <Card className={classes.card} style={ props.section === 'materials' ? { pointerEvents: 'none', filter: 'grayscale(100%)' } : {}}>\r\n      <CardActionArea onClick={() => props.changeSection(props.section)}>\r\n        <CardMedia\r\n          className={classes.media}\r\n          image={props.image}\r\n          title={props.title}\r\n        />\r\n        <CardContent\r\n          className={classes.text}\r\n        >\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n            {props.title}\r\n          </Typography>\r\n          <Typography component=\"p\">\r\n            {props.description}\r\n          </Typography>\r\n        </CardContent>\r\n      </CardActionArea>\r\n      <CardActions>\r\n        <Button size=\"small\" color=\"primary\" onClick={() => props.changeSection(props.section)}>\r\n          {props.button || \"Перейти\"}\r\n        </Button>\r\n\r\n{/*     <Button size=\"small\" color=\"primary\">\r\n          Learn More\r\n        </Button> */}\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n}\r\n\r\nMediaCard.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(MediaCard);","const cards = [\r\n  {\r\n    id: 0,\r\n    image: 'https://coda.newjobs.com/api/imagesproxy/ms/niche/images/can/ml.jpg',\r\n    title: 'Тесты',\r\n    description: \"Здесь вы можете пройти тесты. По прохождению - вы сможете узнать результаты.\",\r\n    section: 'tests'\r\n  },\r\n  { \r\n    id: 1,\r\n    image: 'https://wpdocs.co/wp-content/uploads/2016/04/documentation.png',\r\n    title: 'Материалы',\r\n    description: \"Здесь вы можете посмотреть и изучить учебные материалы, которые помогу вам при прохождении тестов.\",\r\n    section: 'materials',\r\n    button: 'в разработке...'\r\n  },\r\n];\r\n\r\nexport default cards;","import React from 'react';\r\nimport { Paper } from '@material-ui/core';\r\nimport Card from '../Media/Media';\r\nimport cards from './cards';\r\n\r\nexport default function Container(props) {\r\n  return (\r\n    <Paper className={props.class}>\r\n      {cards.map(card => \r\n        <Card \r\n          key={card.id} \r\n          title={card.title} \r\n          image={card.image} \r\n          description={card.description} \r\n          section={card.section}\r\n          changeSection={props.changeSection}\r\n          button={card.button}\r\n        />\r\n      )}\r\n    </Paper>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nexport default function Materials(props) {\r\n  return (\r\n    <div>\r\n      materials\r\n\r\n      <Button variant='contained' onClick={props.closeSection}>Назад</Button>\r\n    </div>\r\n  )\r\n}\r\n","import API from '../functions/API';\r\n\r\nexport async function fetchMistakes() {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/mistake/read.php`)\r\n    .then(response => response.json())\r\n    .then(mistakes => result = mistakes.data)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchTests() {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/test/read.php`)\r\n    .then(response => response.json())\r\n    .then(res => result = res.data)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchTestsById() {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/test/read.php?byid=true`)\r\n    .then(response => response.json())\r\n    .then(res => result = res.data)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchQuestions() {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/question/read.php`)\r\n    .then(response => response.json())\r\n    .then(res => result = res.data)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchCategories() {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/getCategories.php`)\r\n    .then(response => response.json())\r\n    .then(res => result = res)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchTestLastId() {\r\n  let result = '';\r\n\r\n  await fetch(`${API}/api/test/getLastId.php`)\r\n    .then(response => response.json())\r\n    .then(res => result = res)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchSingleTest(id) {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/test/getSingleTest.php?id=${id}`)\r\n    .then(response => response.json())\r\n    .then(res => result = res.data)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchSingleQuestion(id) {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/question/getSingleQuestion.php?id=${id}`)\r\n    .then(response => response.json())\r\n    .then(res => result = res.data)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport async function fetchTestStatus(id) {\r\n  let result = [];\r\n\r\n  await fetch(`${API}/api/test/getStatus.php?id=${id}`)\r\n    .then(response => response.json())\r\n    .then(res => result = res.data)\r\n    .catch(err => console.log(err))\r\n  \r\n  return await result;\r\n}\r\n\r\nexport default [];","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport styled from 'styled-components';\r\n\r\nexport default function NotFound() {\r\n  return (\r\n    <Wrapper>\r\n      <Typography variant='h6'>ничего не найдено</Typography>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  min-height: 220px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  opacity: .35;\r\n`;","import React, { Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Delete from '@material-ui/icons/Delete';\r\nimport styled from 'styled-components';\r\nimport NotFound from './NotFound';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n    backgroundColor: theme.palette.background.paper,\r\n    paddingBottom: 40\r\n  },\r\n  inline: {\r\n    display: 'inline',\r\n  },\r\n});\r\n\r\nfunction ListItemLink(props) {\r\n  return <ListItem button component=\"a\" {...props} />;\r\n}\r\n\r\nfunction TestList(props) {\r\n  const { classes } = props;\r\n  let items = props.items;\r\n\r\n  if (props.completed) {\r\n    items = items.filter(item => {\r\n      return props.completed ? item.completed : !item.completed;\r\n    })\r\n  }\r\n\r\n  function getCorrectTime(time) {\r\n    return time === 'false' || !time  ? 'не ограничено' : `${time} минут`;\r\n  }\r\n\r\n  function getPercent(value) {\r\n    return parseFloat(value.replace(',','.')).toFixed(2) * 100 + '%';\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <List component=\"nav\">\r\n        {items && items.length > 0 ? items.map((item) => \r\n          <Fragment key={item.id}>\r\n            <ListItemLink href={`test/${item.id}`}>\r\n              <ListItemText \r\n                primary={`${item.user_name}, ${item.position} ${item.completed === '1' ? '(завершён)' : item.completed === '0.5' ? '(начат)' : '(ожидает прохождения)'}`} \r\n                secondary={\r\n                  <React.Fragment>\r\n                    <Typography component=\"span\" className={classes.inline} color=\"textPrimary\">\r\n                      {item.date}\r\n                    </Typography>\r\n                    {item.completed === '1' ? ` — Результат: ${getPercent(item.result)}.` : ` — Вопросов в тестировании: ${item.questions.length}, время на прохождение: ${getCorrectTime(item.time)}` }\r\n                  </React.Fragment>\r\n                }\r\n              />\r\n              {!props.completed ?     \r\n                <DeleteIcon onClick={e => props.handleConfirm(e, item.id)}>\r\n                  <Tooltip title=\"Удалить тестирование\" placement=\"top\">\r\n                    <Delete />\r\n                  </Tooltip>\r\n                </DeleteIcon>\r\n              : null }\r\n            </ListItemLink>\r\n            <Divider />\r\n          </Fragment>\r\n        ) : <NotFound /> }\r\n      </List>\r\n    </div>\r\n  );\r\n}\r\n\r\nTestList.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nconst DeleteIcon = styled.span`\r\n  svg {\r\n    font-size: 32px;\r\n    color: rgba(0,0,0,0.54);\r\n    right: 25px;\r\n    padding: 5px;\r\n    top: 0;\r\n    bottom: 0;\r\n    margin: auto;\r\n    position: absolute;\r\n  }\r\n`;\r\n\r\nexport default withStyles(styles)(TestList);","import React from 'react';\r\nimport { Typography } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nexport default function NoTests() {\r\n  return (\r\n    <Container>\r\n      <Typography variant='body1'>\r\n        Пока вы ещё не проходили ниодного тестирования.\r\n      </Typography>\r\n      <Typography variant='body2' style={{ marginTop: 20 }}>\r\n        Как только у вас будет пройдено тестирование - здесь вы сможете просмотреть результаты его выполения.\r\n      </Typography>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  padding: 30px 40px;\r\n  height: 350px;\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n`;","import React from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport SearchIcon from '../img/icons/baseline-search-24px.svg';\r\nimport styled from 'styled-components';\r\n\r\nfunction Search(props) {\r\n  return (\r\n    <SearchWrapper>\r\n      <TextField\r\n        id=\"outlined-adornment-password\"\r\n        variant=\"outlined\"\r\n        type='text'\r\n        label=\"Начните вводить имя, фамилию или должность...\"\r\n        margin='dense'\r\n        value={props.searchValue}\r\n        onChange={props.handleSearch}\r\n        InputProps={{\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <IconButton\r\n                aria-label=\"Начните вводить имя, фамилию или должность...\"\r\n              >\r\n                <img alt='Поиск' src={SearchIcon} style={{ opacity: '.37' }} />\r\n              </IconButton>\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n      />\r\n    </SearchWrapper>\r\n  )\r\n}\r\n\r\nconst SearchWrapper = styled.div`\r\n  padding: 20px;\r\n  & > div {\r\n    width: 100%;\r\n  }\r\n\r\n  @media all and (max-width: 600px) {\r\n    box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\r\n    padding: 10px 20px 12px;\r\n    height: 80px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: flex-end;\r\n    label {\r\n      line-height: .5;\r\n    }\r\n    input {\r\n      padding: 9px 18.5px;\r\n    }\r\n    input::placeholder {\r\n      color: red;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default Search;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\nimport Select from 'react-select';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { Typography, NoSsr, TextField, Paper, Chip, MenuItem } from '@material-ui/core';\r\nimport CancelIcon from '@material-ui/icons/Cancel';\r\nimport { emphasize } from '@material-ui/core/styles/colorManipulator';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    height: 120,\r\n    marginTop: 20,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between',\r\n    zIndex: 1000,\r\n  },\r\n  input: {\r\n    display: 'flex',\r\n    padding: 0,\r\n  },\r\n  valueContainer: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    flex: 1,\r\n    alignItems: 'center',\r\n    zIndex: 1000,\r\n  },\r\n  chip: {\r\n    margin: `${theme.spacing.unit / 2}px ${theme.spacing.unit / 4}px`,\r\n  },\r\n  chipFocused: {\r\n    backgroundColor: emphasize(\r\n      theme.palette.type === 'light' ? theme.palette.grey[300] : theme.palette.grey[700],\r\n      0.08,\r\n    ),\r\n  },\r\n  noOptionsMessage: {\r\n    padding: `${theme.spacing.unit}px ${theme.spacing.unit * 2}px`,\r\n  },\r\n  singleValue: {\r\n    fontSize: 16,\r\n  },\r\n  placeholder: {\r\n    position: 'absolute',\r\n    left: 2,\r\n    fontSize: 16,\r\n  },\r\n  paper: {\r\n    position: 'absolute',\r\n    zIndex: 1000,\r\n    marginTop: theme.spacing.unit,\r\n    left: 0,\r\n    right: 0,\r\n  }\r\n});\r\n\r\nfunction NoOptionsMessage(props) {\r\n  return (\r\n    <Typography\r\n      color=\"textSecondary\"\r\n      className={props.selectProps.classes.noOptionsMessage}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction inputComponent({ inputRef, ...props }) {\r\n  return <div ref={inputRef} {...props} />;\r\n}\r\n\r\nfunction Control(props) {\r\n  return (\r\n    <TextField\r\n      fullWidth\r\n      InputProps={{\r\n        inputComponent,\r\n        inputProps: {\r\n          className: props.selectProps.classes.input,\r\n          inputRef: props.innerRef,\r\n          children: props.children,\r\n          ...props.innerProps,\r\n        },\r\n      }}\r\n      {...props.selectProps.textFieldProps}\r\n    />\r\n  );\r\n}\r\n\r\nfunction Option(props) {\r\n  return (\r\n    <MenuItem\r\n      buttonRef={props.innerRef}\r\n      selected={props.isFocused}\r\n      component=\"div\"\r\n      style={{\r\n        fontWeight: props.isSelected ? 500 : 400,\r\n      }}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </MenuItem>\r\n  );\r\n}\r\n\r\nfunction Placeholder(props) {\r\n  return (\r\n    <Typography\r\n      color=\"textSecondary\"\r\n      className={props.selectProps.classes.placeholder}\r\n      {...props.innerProps}\r\n    >\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction SingleValue(props) {\r\n  return (\r\n    <Typography className={props.selectProps.classes.singleValue} {...props.innerProps}>\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nfunction ValueContainer(props) {\r\n  return <div className={props.selectProps.classes.valueContainer}>{props.children}</div>;\r\n}\r\n\r\nfunction MultiValue(props) {\r\n  return (\r\n    <Chip\r\n      tabIndex={-1}\r\n      label={props.children}\r\n      className={classNames(props.selectProps.classes.chip, {\r\n        [props.selectProps.classes.chipFocused]: props.isFocused,\r\n      })}\r\n      onDelete={props.removeProps.onClick}\r\n      deleteIcon={<CancelIcon {...props.removeProps} />}\r\n    />\r\n  );\r\n}\r\n\r\nfunction Menu(props) {\r\n  return (\r\n    <Paper square className={props.selectProps.classes.paper} {...props.innerProps}>\r\n      {props.children}\r\n    </Paper>\r\n  );\r\n}\r\n\r\nconst components = {\r\n  Control,\r\n  Menu,\r\n  MultiValue,\r\n  NoOptionsMessage,\r\n  Option,\r\n  Placeholder,\r\n  SingleValue,\r\n  ValueContainer,\r\n};\r\n\r\nclass IntegrationReactSelect extends React.Component {\r\n\r\n  render() {\r\n    const { classes, theme } = this.props;\r\n    \r\n    const users = this.props.users.map(user => ({\r\n      value: user.id,\r\n      label: `${user.name} ${user.surname}`,\r\n      position: user.position\r\n    }));\r\n\r\n    const selectStyles = {\r\n      input: base => ({\r\n        ...base,\r\n        color: theme.palette.text.primary,\r\n        '& input': {\r\n          font: 'inherit',\r\n        },\r\n      }),\r\n    };\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <NoSsr>\r\n          <Select\r\n            classes={classes}\r\n            styles={selectStyles}\r\n            textFieldProps={{\r\n              label: 'Сотрудник',\r\n              InputLabelProps: {\r\n                shrink: true,\r\n              },\r\n            }}\r\n            options={users}\r\n            components={components}\r\n            value={this.props.selectedUser}\r\n            onChange={this.props.handleChange('selectedUser')}\r\n            placeholder=\"Выберите тестируемого сотрудника\"\r\n            isMulti={false}\r\n          />\r\n        </NoSsr>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nIntegrationReactSelect.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  theme: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(IntegrationReactSelect);","import React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nlet times = [\r\n  {\r\n    value: false,\r\n    label: 'без времени'\r\n  }\r\n];\r\n\r\nfor (let i = 10; i <= 120; i += 10) {\r\n  let item = {};\r\n  item.value = i;\r\n  item.label = `${i} минут`;\r\n  times.push(item);\r\n}\r\n\r\nconst styles = theme => ({\r\n  textField: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    width: '100%',\r\n  },\r\n  menu: {\r\n    width: 200,\r\n  },\r\n});\r\n\r\nclass TimePicker extends React.Component {\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <Grid container justify=\"space-around\" style={{ paddingBottom: 30 }}>\r\n        <TextField\r\n          select\r\n          label=\"Минуты\"\r\n          className={classes.textField}\r\n          value={this.props.selectedTime}\r\n          onChange={this.props.handleTimeChange}\r\n          SelectProps={{\r\n            MenuProps: {\r\n              className: classes.menu,\r\n            },\r\n          }}\r\n          helperText=\"Пожалуйста, назначьте время прохождения теста\"\r\n          margin=\"dense\"\r\n        >\r\n          {times.map(option => (\r\n            <MenuItem key={option.value} value={option.value}>\r\n              {option.label}\r\n            </MenuItem>\r\n          ))}\r\n        </TextField>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(TimePicker);","import React from 'react';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\n\r\nclass QuestionItem extends React.Component {\r\n\r\n  mark(category, id) {\r\n    this.props.setHeadSubCategory(category);\r\n    this.props.handleMarkQuestion(id, '')\r\n  }\r\n\r\n  render() {\r\n    const { question } = this.props;\r\n    return (\r\n      <ListItem dense button onClick={() => this.mark(this.props.category, question.id)}>\r\n        <Checkbox\r\n          checked={question.checked}\r\n          tabIndex={-1}\r\n          disableRipple\r\n          color='primary'\r\n        />\r\n        <ListItemText primary={question.question} />\r\n      </ListItem>\r\n    );\r\n  }\r\n}\r\n\r\nexport default QuestionItem;","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport QuestionItem from './QuestionItem';\r\nimport List from '@material-ui/core/List';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport { connect } from 'react-redux';\r\n\r\nconst styles = theme => ({\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightRegular,\r\n  },\r\n});\r\n\r\nfunction CategoryItem(props) {\r\n  const [checked, setChecked] = useState(false);\r\n  const [categoryFiltered, setCategoryFiltered] = useState([]);\r\n  const { classes } = props;\r\n  const [checkedSubs, setCheckedSubs] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const categoryFiltered = props.questions.filter(q => q.category === props.value);\r\n    setCategoryFiltered(categoryFiltered);\r\n    findUniqSubcategories(categoryFiltered);\r\n  }, []);\r\n\r\n  function markAll(e) {\r\n    e.stopPropagation();\r\n    let allCategories = props.store.categories;\r\n    setChecked(checked ? false : true);\r\n    !checked ? setCheckedSubs(allCategories) : setCheckedSubs([]);\r\n  }\r\n\r\n  function setHeadSubCategory(category) {\r\n    let current = checkedSubs;\r\n\r\n    if (current.indexOf(category) === -1) {\r\n      current.push(category);\r\n      setChecked(true);\r\n    } else {\r\n      current = current.filter(cat => cat !== category);\r\n      if (current.length === 0) setChecked(false);\r\n    }\r\n    setCheckedSubs(current);\r\n  }\r\n\r\n  function markSub(e, category) {\r\n    e.stopPropagation();\r\n    props.handleMarkQuestion(undefined, props.value, checkedSubs.indexOf(category) !== -1, category)\r\n    let current = checkedSubs;\r\n\r\n    if (current.indexOf(category) === -1) {\r\n      current.push(category);\r\n      setChecked(true);\r\n    } else {\r\n      current = current.filter(cat => cat !== category);\r\n      if (current.length === 0) setChecked(false);\r\n    }\r\n\r\n    setCheckedSubs(current);\r\n  }\r\n\r\n  function findUniqSubcategories(questions) {\r\n    let result = props.store.categories;\r\n    questions.forEach(question => {\r\n      if (result.indexOf(question.subcategory) === -1) result.push(question.subcategory);\r\n    })\r\n    props.getCategories(result);\r\n  }\r\n\r\n  return (\r\n    <ExpansionPanel>\r\n      <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />} className='align-center expansion-panel-top' style={{ paddingLeft: 12 }}>\r\n        <Checkbox\r\n          onClick={e => markAll(e)}\r\n          checked={checked}\r\n          onChange={() => props.handleMarkQuestion('', props.value, checked)}\r\n        />\r\n        <Typography className={classes.heading}>{props.var}</Typography>\r\n      </ExpansionPanelSummary>\r\n      <ExpansionPanelDetails style={{ flexDirection: 'column', padding: 0 }}>\r\n        {/*eslint-disable-next-line */}\r\n        {props.store.categories.map(category => {\r\n          if (categoryFiltered.find(q => q.subcategory === category)) {\r\n            return (\r\n              <ExpansionPanel key={category}>\r\n                <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />} className='align-center' style={{ paddingLeft: 12 }}>\r\n                  <Checkbox\r\n                    color='primary'\r\n                    onClick={e => markSub(e, category)}\r\n                    checked={checkedSubs.indexOf(category) !== -1}\r\n                  />\r\n                  <Typography className={classes.heading}>{category}</Typography>\r\n                </ExpansionPanelSummary>\r\n                <ExpansionPanelDetails style={{ flexDirection: 'column', padding: 0 }}>\r\n                  <List>\r\n                    {/*eslint-disable-next-line */}\r\n                    {categoryFiltered.map(question => {\r\n                      if (question.subcategory === category) {\r\n                        return (\r\n                          <QuestionItem\r\n                            key={question.id}\r\n                            category={category}\r\n                            setHeadSubCategory={setHeadSubCategory}\r\n                            question={question}\r\n                            handleMarkQuestion={props.handleMarkQuestion}\r\n                          />\r\n                        )\r\n                      }\r\n                    })}\r\n                  </List>\r\n                </ExpansionPanelDetails>\r\n              </ExpansionPanel>\r\n            )\r\n          }\r\n        }\r\n        )}\r\n      </ExpansionPanelDetails>\r\n    </ExpansionPanel>\r\n  );\r\n}\r\n\r\nCategoryItem.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    getCategories: categories => {\r\n      dispatch({ type: 'GET_CATEGORIES', payload: categories })\r\n    },\r\n    resetCategories: categories => {\r\n      dispatch({ type: 'RESET_CATEGORIES', payload: categories })\r\n    }\r\n  })\r\n)(withStyles(styles)(CategoryItem));\r\n","import React, { Fragment } from 'react';\r\nimport CategoryItem from './CategoryItem';\r\n\r\nexport default function SelectQuestions(props) {\r\n  return (\r\n    <Fragment>\r\n      {props.categories.map(category => \r\n        <CategoryItem \r\n          key={category.id} \r\n          var={category.var} \r\n          value={category.value} \r\n          questions={props.questions} \r\n          handleMarkQuestion={props.handleMarkQuestion}\r\n        />\r\n      )}\r\n    </Fragment>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport StepContent from '@material-ui/core/StepContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport SelectUser from './SelectUser';\r\nimport SelectTime from './SelectTime';\r\nimport SelectQuestions from './SelectQuestions';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n  },\r\n  actionsContainer: {\r\n    marginBottom: theme.spacing.unit * 2,\r\n  },\r\n  resetContainer: {\r\n    padding: theme.spacing.unit * 3,\r\n  },\r\n});\r\n\r\nfunction getSteps() {\r\n  return ['Выберите сотрудника', 'Назначьте время прохождения', 'Выберите вопросы'];\r\n}\r\n\r\nfunction getStepContent(step) {\r\n  switch (step) {\r\n    case 0:\r\n      return `Выберите сотрудника из выпадающего списка, так же можете начать вводить имя или фамилию сотрудника в строке поиска. Вы можете выбрать только одного сотрудника.`;\r\n    case 1:\r\n      return 'Выберите длительность тестирования из выпадающего списка.';\r\n    case 2:\r\n      return `Отметьте категории или подкатегории вопросов, которые будут в тестировании. Вы можете добавлять в тестирование вопросы из разных категорий.`;\r\n    default:\r\n      return 'Unknown step';\r\n  }\r\n}\r\n\r\nclass VerticalLinearStepper extends React.Component {\r\n  state = {\r\n    activeStep: 0,\r\n  };\r\n\r\n  handleNext = () => {\r\n    this.setState(state => ({\r\n      activeStep: state.activeStep + 1,\r\n    }));\r\n    this.setOverlay(this.state.activeStep + 1);\r\n  };\r\n\r\n  handleBack = () => {\r\n    this.setState(state => ({\r\n      activeStep: state.activeStep - 1,\r\n    }));\r\n    this.setOverlay(this.state.activeStep - 1);\r\n  };\r\n\r\n  handleReset = () => {\r\n    this.setState({\r\n      activeStep: 0,\r\n    });\r\n    this.setOverlay(0)\r\n  };\r\n\r\n  setOverlay(step) {\r\n    const overlay = document.getElementById('overlay-modal');\r\n    if (step === 2) {\r\n      overlay.style.overflow = 'overlay';\r\n    } else {\r\n      overlay.style.overflow = 'visible';\r\n    }\r\n  }\r\n\r\n  checkDisabled = (step, selectedUser, time, questions) => {\r\n    if (step === 0 && selectedUser.length !== 0) return false;\r\n    if (step === 1 && (typeof time === 'boolean' || time)) return false;\r\n    if (step === 2 && questions) {\r\n      const selectedQuestions = questions.filter(question => question.checked);\r\n      if (selectedQuestions.length > 0 ) return false;\r\n    } \r\n    return true;\r\n  }\r\n\r\n  render() {\r\n    const { classes, users, selectedUser, selectedTime, questions, categories } = this.props;\r\n    const steps = getSteps();\r\n    const { activeStep } = this.state;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <Stepper activeStep={activeStep} orientation=\"vertical\">\r\n          {steps.map((label, index) => (\r\n            <Step key={label}>\r\n              <StepLabel>{label}</StepLabel>\r\n              <StepContent>\r\n                <Typography>{getStepContent(index)}</Typography>\r\n                <div className={classes.actionsContainer}>\r\n                  <div>\r\n                    <Button\r\n                      disabled={activeStep === 0}\r\n                      onClick={this.handleBack}\r\n                      className={classes.button}\r\n                    >\r\n                      Назад\r\n                    </Button>\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      color={activeStep === steps.length - 1 ? 'secondary' : 'primary'}\r\n                      onClick={activeStep === steps.length - 1 ? () => {this.props.handleSubmit(); this.handleNext()} : this.handleNext}\r\n                      className={classes.button}\r\n                      disabled={this.checkDisabled(activeStep, selectedUser, selectedTime, questions)} \r\n                    >\r\n                      {activeStep === steps.length - 1 ? 'Создать тестирование' : 'Дальше'}\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </StepContent>\r\n            </Step>\r\n          ))}\r\n                        \r\n        </Stepper>\r\n\r\n        {/* Контент */}\r\n        {activeStep === 0 \r\n          ? <SelectUser \r\n              users={users} \r\n              selectedUser={selectedUser}\r\n              handleChange={this.props.handleChange}\r\n            />\r\n          : activeStep === 1\r\n          ? <SelectTime \r\n              selectedTime={selectedTime} \r\n              handleTimeChange={this.props.handleTimeChange}\r\n            />\r\n          : activeStep === 2\r\n          ? <SelectQuestions\r\n              questions={questions}\r\n              categories={categories}\r\n              handleMarkQuestion={this.props.handleMarkQuestion}\r\n            />\r\n          : null } \r\n\r\n        {activeStep === steps.length && (\r\n          <Paper square elevation={0} className={classes.resetContainer}>\r\n            <Typography>Вы можете запустить тестирование в любое время на вкладке \"созданные\" в разделе тесты.</Typography>\r\n            <Button \r\n              onClick={() => {this.handleReset(); this.props.resetAll()}}\r\n              variant=\"contained\"               \r\n              color=\"secondary\"\r\n              className={classes.button}\r\n            >\r\n              Создать ещё одно тестирование\r\n            </Button>\r\n            <Button \r\n              onClick={this.props.handleClose} \r\n              className={classes.button}\r\n            >\r\n              Закрыть\r\n            </Button>\r\n          </Paper>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nVerticalLinearStepper.propTypes = {\r\n  classes: PropTypes.object,\r\n};\r\n\r\nexport default withStyles(styles)(VerticalLinearStepper);","import React, { Component, Fragment } from 'react';\r\nimport { Paper, Typography, Tooltip } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport API from '../../functions/API';\r\nimport Stepper from './Stepper';\r\nimport $ from 'jquery';\r\nimport { connect } from 'react-redux';\r\nimport { withSnackbar } from 'notistack';\r\nimport { fetchQuestions, fetchCategories } from '../../Effects/fetches';\r\nimport moment from 'moment';\r\nimport { fetchTestLastId } from '../../Effects/fetches';\r\n\r\nclass GenerateTest extends Component {\r\n  state = {\r\n    selectedTime: '',\r\n    users: [],\r\n    selectedUser: [],\r\n    questions: [],\r\n    categories: []\r\n  }\r\n\r\n  async componentDidMount() {\r\n    fetch(`${API}/api/user/read.php`)\r\n      .then(response => response.json())\r\n      .then(users => this.setState({ users: users.data }))\r\n      .catch(err => console.log(err))\r\n\r\n    const categories = await fetchCategories();\r\n    const questions = await fetchQuestions();\r\n    \r\n    await this.setState({ questions, categories });\r\n  }\r\n\r\n  handleChange = name => value => this.setState({ [name]: value });\r\n  handleTimeChange = e => this.setState({ selectedTime: e.target.value });\r\n\r\n  handleMarkQuestion = (id, category, checked, sub) => {\r\n    let questions = this.state.questions;\r\n    if (id) {\r\n      let questionToMark = questions.find(question => question.id === id);\r\n      questionToMark.checked = !questionToMark.checked;\r\n    } else {\r\n      if (sub) {\r\n        let questionsToMark = questions.filter(question => question.category === category && question.subcategory === sub);\r\n        questionsToMark.forEach(question => {\r\n          question.checked = !checked;\r\n        });\r\n      } else {\r\n        let questionsToMark = questions.filter(question => question.category === category);\r\n        questionsToMark.forEach(question => {\r\n          question.checked = !checked;\r\n        });\r\n      }\r\n    }\r\n    this.setState({ questions });    \r\n  }\r\n\r\n  handleSubmit = () => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    const { selectedUser, questions, selectedTime } = this.state;\r\n    const selectedQuestions = questions.filter(question => question.checked);\r\n    const selectedQuestionsIds = [];\r\n\r\n    selectedQuestions.map(q => selectedQuestionsIds.push(q.id));\r\n\r\n    formData.append('questions', selectedQuestionsIds);\r\n    formData.append('user_name', selectedUser.label);\r\n    formData.append('user_id', selectedUser.value);\r\n    formData.append('date', moment().format('L'));\r\n    formData.append('time', selectedTime);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/test/create.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: async () => {\r\n        let last_id = await fetchTestLastId();\r\n        await self.props.onAddNewTest({\r\n          questions: selectedQuestionsIds,\r\n          user_name: selectedUser.label,\r\n          user_id: selectedUser.value,\r\n          date: moment().format('L'),\r\n          time: selectedTime,\r\n          completed: false,\r\n          position: selectedUser.position,\r\n          id: Number(last_id)\r\n        })\r\n        await self.props.enqueueSnackbar('Тест успешно был создан', { variant: 'success' });\r\n      },\r\n      error: () => {\r\n        self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' });\r\n      }\r\n    });\r\n  }\r\n  \r\n  resetAll() {\r\n    const questions = [];\r\n    this.state.questions.forEach(question => {\r\n      question.checked = false;\r\n      questions.push(question);\r\n    });\r\n    this.setState({\r\n      selectedTime: '',\r\n      selectedUser: [],\r\n      questions,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { users, selectedUser, selectedTime } = this.state;\r\n\r\n    return (\r\n      <Fragment>\r\n        <Wrapper id='overlay-modal'>\r\n          <Paper>\r\n            <span className='closeNewTask' onClick={this.props.handleClose}>\r\n              <Tooltip title=\"Закрыть\" placement=\"left\"><CloseIcon /></Tooltip>\r\n            </span>\r\n            <Typography variant='h5'>Создать тестирование</Typography>\r\n            <Stepper\r\n              users={users}\r\n              selectedUser={selectedUser}\r\n              selectedTime={selectedTime}\r\n              handleChange={this.handleChange}\r\n              handleTimeChange={this.handleTimeChange}\r\n              handleClose={this.props.handleClose}\r\n              handleSubmit={this.handleSubmit}\r\n              questions={this.state.questions}\r\n              categories={this.state.categories}\r\n              handleMarkQuestion={this.handleMarkQuestion.bind(this)}\r\n              resetAll={this.resetAll.bind(this)}\r\n            />\r\n          </Paper>\r\n        </Wrapper>\r\n        {window.innerWidth >= 600 ? <Backdrop onClick={this.props.handleClose} /> : null}\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  max-width: 850px;\r\n  height: fit-content;\r\n  max-height: 75vh;\r\n  overflow: visible;\r\n  margin: auto;\r\n  background: #ffffff;\r\n  border-radius: 10px;\r\n  outline: none;\r\n  z-index: 10;\r\n\r\n  .listFor {\r\n    max-height: 220px;\r\n    margin-top: 20px;\r\n    overflow: auto;\r\n  }\r\n  ::-webkit-scrollbar {\r\n    width: 5px;\r\n  }\r\n  ::-webkit-scrollbar-track {\r\n    background-color: #ebebeb;\r\n    -webkit-border-radius: 10px;\r\n    border-radius: 10px;\r\n  }\r\n  ::-webkit-scrollbar-thumb {\r\n    -webkit-border-radius: 10px;\r\n    border-radius: 10px;\r\n    background: #1976d2; \r\n  }\r\n\r\n  & > div {\r\n    height: fit-content;\r\n    padding: 20px 30px;\r\n  }\r\n   \r\n  .closeNewTask svg {\r\n    font-size: 30px;\r\n    color: #1976d2;\r\n    opacity: .8;\r\n    cursor: pointer;\r\n    position: absolute;\r\n    right: 20px;\r\n    top: 20px;\r\n\r\n    :hover {\r\n      opacity: .8;\r\n      transition: .37s ease;\r\n    }\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    top: 0;\r\n    max-width: 100%;\r\n    border-radius: unset;\r\n    height: calc(100vh - 55px);\r\n    margin: unset;\r\n    box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);\r\n    & > div {\r\n      padding: 20px 15px;\r\n      box-shadow: unset;\r\n      & > div {\r\n        > div:first-child {\r\n          padding: 20px 5px;\r\n        }\r\n      }\r\n    }\r\n    .closeNewTask svg {\r\n      font-size: 32px;\r\n      right: 15px;\r\n    } \r\n  }\r\n`;\r\n\r\nconst Backdrop = styled.div`\r\n  position: absolute;\r\n  top: 0; bottom: 0;\r\n  left: 0; right: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 5;\r\n  background: rgba(0,0,0,.17);\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    onAddNewTest: test => {\r\n      dispatch({ type: 'ADD_TEST', payload: test })\r\n    }\r\n  })\r\n)(withSnackbar(GenerateTest));","import React, { Fragment } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TestList from '../List/List';\r\nimport Search from './Search';\r\nimport Fab from '../Fab/Fab';\r\nimport Modal from '../Modal/Modal';\r\nimport GenerateTest from './Steps/GenerateTest';\r\nimport { connect } from 'react-redux';\r\nimport ConfirmDelete from '../Tasks/ConfirmDelete';\r\nimport Loader from '../Loader/Loader';\r\nimport API from '../functions/API';\r\nimport { withSnackbar } from 'notistack';\r\nimport $ from 'jquery';\r\n\r\nfunction TabContainer({ children, dir }) {\r\n  return (\r\n    <Typography component=\"div\" dir={dir}>\r\n      {children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nTabContainer.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n  dir: PropTypes.string.isRequired,\r\n};\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    width: '100%',\r\n  },\r\n});\r\n\r\nclass AdminPanel extends React.Component {\r\n  state = {\r\n    value: 0,\r\n    searchValue: '',\r\n    items: [],\r\n    documentTitle: document.title,\r\n    open: false,\r\n    confirm: false,\r\n    loading: false\r\n  };\r\n\r\n  handleChange = (event, value) => {\r\n    this.setState({ value });\r\n  };\r\n\r\n  handleChangeIndex = index => {\r\n    this.setState({ value: index });\r\n  };\r\n\r\n  handleSearch = (e) => {\r\n    this.setState({ searchValue: e.target.value });\r\n    const searchValue = e.target.value.toLowerCase();\r\n    document.title = e.target.value || this.state.documentTitle;\r\n    let items = this.state.items;\r\n    items = items.filter(item => \r\n      item.user_name.toLowerCase().includes(searchValue) || \r\n      item.position.toLowerCase().includes(searchValue)\r\n    );\r\n    this.props.onFilterTests(items);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ items: this.props.store.tests });\r\n  }\r\n\r\n  componentWillUnmount = () => {\r\n    document.title = this.state.documentTitle;\r\n  }\r\n\r\n  openModal = () => this.setState({ open: true });\r\n  closeModal = () => this.setState({ open: false });\r\n  handleClose = () => this.setState({ open: false, confirm: false, preparedToDelete: null });\r\n  handleConfirm = (e,id) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.setState({ confirm: true, preparedToDelete: id });\r\n  }\r\n\r\n  handleDelete = () => {\r\n    const formData = new FormData();\r\n    const self = this;\r\n    this.setState({ loading: true, confirm: false })\r\n    formData.append('id', this.state.preparedToDelete);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/test/delete.php`,\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      type: 'POST',\r\n      success: res => {\r\n        console.log(res);\r\n        self.props.onDeleteTest(self.state.preparedToDelete);\r\n        self.setState({ loading: false, preparedToDelete: null });\r\n        self.props.enqueueSnackbar('Тестирование успешно было удалено', { variant: 'info' });\r\n      },\r\n      error: err => {\r\n        console.log(err);\r\n        self.props.enqueueSnackbar('Что-то пошло не так, попробуйте снова', { variant: 'error' });\r\n      }\r\n    }); \r\n  }\r\n\r\n  render() {\r\n    const { classes, theme } = this.props;\r\n    const { tests } = this.props.store;\r\n\r\n    return (\r\n      <div className={classes.root}>\r\n        <AppBar position=\"static\" color=\"default\">\r\n          <Tabs\r\n            value={this.state.value}\r\n            onChange={this.handleChange}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            variant=\"fullWidth\"\r\n          >\r\n            <Tab label=\"Завершенные\" />\r\n            <Tab label=\"Созданные\" />\r\n          </Tabs>\r\n        </AppBar>\r\n\r\n        {this.state.loading \r\n        ? <Loader minHeight={300} color='primary' />\r\n        : \r\n        <Fragment>\r\n          <Search \r\n            handleSearch={this.handleSearch}\r\n            searchValue={this.state.searchValue}\r\n          />\r\n\r\n          <SwipeableViews\r\n            axis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\r\n            index={this.state.value}\r\n            onChangeIndex={this.handleChangeIndex}\r\n            style={{ maxHeight: 350, paddingBottom: 50 }}\r\n            className='swipeable'\r\n          >\r\n            <TabContainer dir={theme.direction}>\r\n              <TestList items={tests.length > 0 ? tests : []} completed={true} handleConfirm={this.handleConfirm} />\r\n            </TabContainer>\r\n            <TabContainer dir={theme.direction}>\r\n              <TestList items={tests.length > 0 ? tests : []} completed={false} handleConfirm={this.handleConfirm} />\r\n            </TabContainer>\r\n          </SwipeableViews>\r\n        </Fragment>\r\n        }\r\n\r\n        {/* Add new task modal */}\r\n        <Modal\r\n          open={this.state.open}\r\n          handleClose={this.closeModal}\r\n          component={\r\n            <GenerateTest\r\n              handleClose={this.closeModal}\r\n            />}\r\n        />\r\n\r\n        {/* Confirm delete modal */}\r\n        <Modal\r\n          open={this.state.confirm}\r\n          handleClose={this.handleClose.bind(this)}\r\n          component={<ConfirmDelete\r\n            handleDelete={this.handleDelete}\r\n            handleClose={this.handleClose.bind(this)}\r\n            name='тестирование'\r\n          />}\r\n        />\r\n\r\n        <span onClick={this.openModal}>\r\n          <Fab title=\"Создать тестирование\" />\r\n        </span>\r\n  \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nAdminPanel.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  theme: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    onFilterTests: tests => {\r\n      dispatch({ type: \"FILTER_TESTS\", payload: tests })\r\n    },\r\n    onDeleteTest: test_id => {\r\n      dispatch({ type: \"DELETE_TEST\", payload: test_id })\r\n    }\r\n  })\r\n)(withSnackbar(withStyles(styles, { withTheme: true })(AdminPanel)));\r\n\r\n","import React from 'react';\r\nimport { Typography, Paper } from '@material-ui/core';\r\n\r\nexport default function UserPanel() {\r\n  return (\r\n    <Paper style={styles}>\r\n      <Typography variant='h5'>Тестирования</Typography>\r\n      <Typography variant='body2'>Здесь вы можете просмотреть результаты пройденных вами тестов.</Typography>\r\n    </Paper>\r\n  )\r\n}\r\n\r\nconst styles = {\r\n  marginBottom: 10,\r\n  padding: '35px 15px 15px'\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { Button, Paper } from '@material-ui/core/';\r\nimport { fetchTests, fetchTestsById } from '../Effects/fetches';\r\nimport Loader from '../Loader/Loader';\r\nimport TestList from '../List/List';\r\nimport KeyboardBackspace from '@material-ui/icons/KeyboardBackspace';\r\nimport styled from 'styled-components';\r\nimport NoTests from './NoTests';\r\nimport AdminPanel from './AdminPanel';\r\nimport { connect } from 'react-redux';\r\nimport UserPanel from './UserPanel';\r\n\r\nfunction Tests(props) {\r\n  const { tests } = props.store;\r\n  const isAdmin = props.store.user.admin;\r\n  const [loading, setLoading] = useState(tests.length === 0 ? true : false);\r\n\r\n  useEffect(() => {\r\n    if (tests.length === 0) {\r\n        async function fetchData() {\r\n        const response = isAdmin === '1' ? await fetchTests() : await fetchTestsById();\r\n        props.fetchTests(response);\r\n        setLoading(false);\r\n      }\r\n      fetchData(); \r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Paper style={{ minHeight: 300, position: 'relative' }}>\r\n\r\n      {!loading && isAdmin === '1' ? <AdminPanel items={tests} /> : null}\r\n\r\n      {!loading && isAdmin === '0' ? <UserPanel /> : null}\r\n\r\n      {loading \r\n        ? <Loader minHeight={350} color='primary' /> \r\n        : tests && tests.length > 0 && isAdmin === '0'\r\n          ? <TestList items={tests}/>\r\n          : isAdmin === '0' ? <NoTests /> : null}\r\n\r\n      <Buttons>\r\n        <Button  \r\n          color='primary' \r\n          onClick={props.closeSection}\r\n        >\r\n          <KeyboardBackspace />\r\n          Назад \r\n        </Button>\r\n      </Buttons>\r\n    </Paper>\r\n  )\r\n}\r\n\r\nconst Buttons = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  position: absolute;\r\n  bottom: 0;\r\n  button {\r\n    width: 100%;\r\n    height: 50px;\r\n    margin: 20px auto 0;\r\n    background: #fff;\r\n    span > svg {\r\n      margin-right: 10px;\r\n    }\r\n    :hover {\r\n      background: #1976d2;\r\n      color: white;\r\n      svg {\r\n        color: white;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    fetchTests: tests => {\r\n      dispatch({ type: 'FETCH_TESTS', payload: tests })\r\n    }\r\n  })\r\n)(Tests);","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport ResponsiveHeader from '../ResponsiveHeader/ResponsiveHeader';\r\nimport Cards from './Container';\r\nimport Materials from './Materials';\r\nimport Tests from './Tests';\r\n\r\nfunction Learnings() {\r\n  const [opened, setOpened] = useState(false);\r\n\r\n  function changeSection(section) {\r\n    setOpened(section);\r\n  }\r\n\r\n  function closeSection() {\r\n    setOpened(false);\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      {window.innerWidth < 600 ? <ResponsiveHeader title='Обучение' /> : null}\r\n\r\n      {!opened \r\n        ? <Cards \r\n            class='learnings-container' \r\n            changeSection={changeSection} \r\n          />\r\n        : opened === 'tests' \r\n          ? <Tests closeSection={closeSection} />\r\n          : <Materials closeSection={closeSection} />\r\n      }\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  .learnings-container {\r\n    display: flex;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    .learnings-container {\r\n      flex-direction: column;\r\n      padding-bottom: 50px;\r\n      & > div {\r\n        margin: 0 auto 25px;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default Learnings;","import React, { Fragment } from 'react';\r\nimport './css/MainPage.css'\r\nimport Header from './Header';\r\nimport MainpageHeader from './MainpageHeader';\r\nimport SideNews from './SideNews';\r\nimport FriendsList from './FriendsList/FriendsList';\r\nimport PersonalInfo from './PersonalInfo';\r\nimport Tasks from './Tasks/Tasks';\r\nimport News from './News';\r\nimport Nav from './Navigation/Navigation';\r\nimport styled from 'styled-components';\r\nimport Chat from './Chat/Chat';\r\nimport { connect } from 'react-redux';\r\nimport Feed from './Feed/index';\r\nimport Learnings from './Learnings/Learnings';\r\n\r\nfunction MainPage() {\r\n  function switchComponent() {\r\n    let url = window.location.pathname.slice(1);\r\n    if (url.includes('id')) return <PersonalInfo />\r\n    \r\n    switch (url) {\r\n      case 'messages':\r\n        return <Chat />;\r\n      case 'news':\r\n        return <News />;\r\n      case 'tasks':\r\n        return <Tasks />;\r\n      case 'learnings':\r\n        return <Learnings />;\r\n      case 'colleagues':\r\n        return <FriendsList />\r\n      case 'feed':\r\n        return <Feed />\r\n      default: return null;\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <Fragment>\r\n      <MainpageHeader />\r\n      <div className=\"container\">\r\n        <Header />\r\n        <Nav />\r\n        <MainSection>\r\n          <SideNews />\r\n          <div className=\"main-page-container\">\r\n            {switchComponent()}\r\n          </div>\r\n        </MainSection>  \r\n      </div>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nconst MainSection = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport default connect(state => ({ store: state }))(MainPage);","import React, { Component, Fragment } from 'react';\r\nimport $ from 'jquery';\r\nimport { withSnackbar } from 'notistack';\r\nimport API from './functions/API';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\nimport { Button, Typography, TextField } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nclass ForgetPassword extends Component {\r\n  state = {\r\n    credentials: ''\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    var self = this;\r\n    e.preventDefault();\r\n\r\n    if (this.state.credentials) {\r\n      const formData = new FormData();\r\n      formData.append('credentials', this.state.credentials);\r\n\r\n      $.ajax({\r\n        url: `${API}/api/user/forget.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: function (res) {\r\n          console.log(res);\r\n          let response = res.result;\r\n\r\n          if (response === 1) {\r\n            self.props.enqueueSnackbar('На указанный вами при регистрации email - были отправлены рекомендации по восстановлению пароля', { variant: 'info' });\r\n            self.props.forgetPassword();\r\n          } else {\r\n            self.props.enqueueSnackbar('К сожалению, такого логина или email - не существует. Проверьте правильность введенных данных', { variant: 'info' });\r\n          }\r\n        },\r\n        error: function () {\r\n          self.props.enqueueSnackbar('Ошибка авторизации', { variant: 'error' });\r\n        }\r\n      });\r\n\r\n    } else {\r\n      self.props.enqueueSnackbar('Пожалуйста, введите, логин или пароль', { variant: 'warning' });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <Wrapper>\r\n          <Icon>\r\n            <CloseIcon onClick={this.props.forgetPassword} />\r\n          </Icon>\r\n          <Typography variant='subtitle2'>Восстановление пароля.</Typography>\r\n          <TextField\r\n            label=\"E-mail или логин\"\r\n            variant=\"outlined\"\r\n            name='login'\r\n            fullWidth\r\n            margin='dense'\r\n            error={this.state.credential}\r\n            onChange={e => this.setState({ credentials: e.target.value })}\r\n            value={this.state.username}\r\n          />\r\n          <Button variant='contained' color='primary' onClick={this.handleSubmit}>Отправить</Button>\r\n        </Wrapper>\r\n        <div className=\"black-wrapper black-wrapper__this\" onClick={this.props.forgetPassword}></div>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\nconst Wrapper = styled.div`\r\n  background: #fff;\r\n  z-index: 100;\r\n  width: 500px;\r\n  height: 258px;\r\n  left: 0;\r\n  right: 0;\r\n  position: fixed;\r\n  top: 25%;\r\n  margin: auto;\r\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  justify-content: space-evenly;\r\n  padding: 30px;\r\n`;\r\nconst Icon = styled.div`\r\n  position: absolute;\r\n  right: 25px;\r\n  top: 15px;  \r\n  cursor: pointer;\r\n  svg {\r\n    color: #1976d2;\r\n  }\r\n`;\r\nexport default withSnackbar(ForgetPassword);\r\n","class Cookie {\r\n  setCookie(cname, cvalue, exdays) {\r\n    var d = new Date();\r\n    d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\r\n    var expires = \"expires=\"+d.toUTCString();\r\n    document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\r\n  }\r\n\r\n  getCookie(cname) {\r\n    var name = cname + \"=\";\r\n    var ca = document.cookie.split(';');\r\n    for(var i = 0; i < ca.length; i++) {\r\n      var c = ca[i];\r\n      while (c.charAt(0) === ' ') {\r\n        c = c.substring(1);\r\n      }\r\n      if (c.indexOf(name) === 0) {\r\n        return c.substring(name.length, c.length);\r\n      }\r\n    }\r\n    return \"\";\r\n  }\r\n\r\n  checkCookie() {\r\n    var user = this.getCookie(\"username\");\r\n    if (user !== \"\") {\r\n      alert(\"Welcome again \" + user);\r\n    } else {\r\n      user = prompt(\"Please enter your name:\", \"\");\r\n      if (user !== \"\" && user !== null) {\r\n        this.setCookie(\"username\", user, 365);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default Cookie;","import React, { Component, Fragment } from 'react';\r\nimport $ from 'jquery';\r\nimport ForgetPassword from './ForgetPassword';\r\nimport { connect } from 'react-redux';\r\nimport API from './functions/API';\r\nimport { Button } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport { withSnackbar } from 'notistack';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Cookie from './functions/Cookie';\r\n\r\nclass SignupForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      login: '',\r\n      password: '',\r\n      isForget: '',\r\n      isPassHidden: false,\r\n      invalidText: false,\r\n      invalidPass: false\r\n    }\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  // динамически обрабатываем изменения полей\r\n  handleChange(event) {\r\n    this.setState({ invalidText: false, invalidPass: false })\r\n    // ставим стейт исходя из именя поля и вводимого значения\r\n    this.setState({\r\n      [event.target.name]: event.target.value\r\n    })\r\n  }\r\n\r\n  forgetPassword = () => this.setState({ isForget: !this.state.isForget });\r\n\r\n  handleSubmit(e) {\r\n    var self = this;\r\n    e.preventDefault();\r\n\r\n    if (this.state.login !== '' && this.state.password.length >= 8) {\r\n      const formData = new FormData();\r\n\r\n      formData.append('login', this.state.login);\r\n      formData.append('password', this.state.password);\r\n\r\n      $.ajax({\r\n        url: `${API}/api/user/signup.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: function (res) {\r\n          let jwt = res.jwt;\r\n          let response = res.result;\r\n          let user_id = res.user_id;\r\n          let cookie = new Cookie();\r\n\r\n          switch (response) {\r\n            case 0:\r\n              self.props.enqueueSnackbar('Не удалось войти. Проверьте правильность введенных данных', { variant: 'warning' });\r\n              break;\r\n            case 0.5:\r\n              self.props.enqueueSnackbar('К сожалению, ваша учетная запись ещё не подтверждена, попробуйте войти позже', { variant: 'info' });\r\n              break;\r\n            case 'error':\r\n              self.props.enqueueSnackbar('Не удалось войти. Проверьте правильность введенных данных', { variant: 'error' });\r\n              break;\r\n            case 1:\r\n              localStorage.setItem('akv_jwt_token', jwt);\r\n              cookie.setCookie('akv_jwt_token', jwt, 30);\r\n              cookie.setCookie('user_id', user_id, 30);\r\n              window.location.href = `/`;  \r\n              break;\r\n            default: break;\r\n          }\r\n        },\r\n        error: function () {\r\n          self.props.enqueueSnackbar('Ошибка авторизации', { variant: 'error' });\r\n        }\r\n      });\r\n\r\n    } else {\r\n      self.props.enqueueSnackbar('Пожалуйста, заполните все поля', { variant: 'warning' });\r\n      if (this.state.password.length < 8) this.setState({ invalidPass: true })\r\n      if (!this.state.login) this.setState({ invalidText: true })\r\n    }\r\n  }\r\n\r\n  handleClickShowPassword = () => {\r\n    this.setState({ isPassHidden: !this.state.isPassHidden });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <div className=\"form-container\" style={{ 'paddingBottom': '45px' }}>\r\n          <form className=\"registerForm\" id=\"register\" action=\"\" method=\"POST\" onSubmit={this.handleSubmit}>\r\n\r\n            <TextField\r\n              label=\"Логин или email\"\r\n              variant=\"outlined\"\r\n              name='login'\r\n              fullWidth\r\n              margin='dense'\r\n              onChange={this.handleChange}\r\n              value={this.state.username}\r\n              error={this.state.invalidText}\r\n            />\r\n\r\n            <TextField\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              type={this.state.isPassHidden ? 'text' : 'password'}\r\n              label=\"Пароль\"\r\n              margin='dense'\r\n              name='password'\r\n              error={this.state.invalidPass}\r\n              value={this.state.password}\r\n              onChange={this.handleChange}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      aria-label=\"Toggle password visibility\"\r\n                      onClick={this.handleClickShowPassword}\r\n                    >\r\n                      {this.state.isPassHidden ? <VisibilityOff /> : <Visibility />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n            {this.state.invalidPass ? <FormHelperText style={{ color: '#f44336' }}>Пароль должен быть не менее 8 символов</FormHelperText> : ''}\r\n\r\n            <Buttons>\r\n              <Button variant='text' color='default' onClick={this.forgetPassword}>Забыли пароль?</Button>\r\n              <Button variant='contained' color='primary' type='submit'>Войти</Button>\r\n            </Buttons>\r\n            {this.state.isForget ? <ForgetPassword forgetPassword={this.forgetPassword} /> : null}\r\n          </form>\r\n        </div>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nconst Buttons = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 35px;\r\n`;\r\n\r\nexport default connect(\r\n  state => ({\r\n    global: state\r\n  }),\r\n  dispatch => ({\r\n    login: (user) => {\r\n      dispatch({ type: 'LOGGED_IN', payload: user })\r\n    }\r\n  })\r\n)(withSnackbar(SignupForm));","import React, { Component, Fragment } from 'react';\r\nimport $ from 'jquery';\r\nimport { withSnackbar } from 'notistack';\r\nimport API from './functions/API';\r\nimport { Button } from '@material-ui/core';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport styled from 'styled-components';\r\nimport Loader from './Loader/Loader';\r\n\r\nclass RegisterForm extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      email: '',\r\n      login: '',\r\n      password: '',\r\n      confirmed: '',\r\n      isEmailValid: '',\r\n      isPassHidden: false, \r\n      entered: false,\r\n      name: '',\r\n      surname: '',\r\n      loading: false\r\n    }\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.validateEmail = this.validateEmail.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.showPassword = this.showPassword.bind(this);\r\n  }\r\n\r\n  // динамически обрабатываем изменения полей\r\n  handleChange(event) {\r\n    // ставим стейт исходя из именя поля и вводимого значения\r\n    this.setState({\r\n      [event.target.name]: event.target.value,\r\n      entered: false\r\n    })\r\n    // если вводится е-мэйл то прогоняем через функцию\r\n    if (event.target.name === 'email') {\r\n      this.validateEmail(event.target.value);\r\n      // если вводимое значение пустое - то убираем подсказку \r\n      if (event.target.value === '') {\r\n        this.setState({ isEmailValid: '' });\r\n      }\r\n    }\r\n  }\r\n\r\n  validateEmail(email) {\r\n    // eslint-disable-next-line\r\n    const regExp = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    regExp.test(email) ? this.setState({ isEmailValid: true }) : this.setState({ isEmailValid: false });\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    var self = this;\r\n    e.preventDefault();\r\n    this.setState({ entered: true, loading: true });\r\n\r\n    if (this.state.login &&  this.state.surname && this.state.name && this.state.isEmailValid && this.state.password) {\r\n      const formData = new FormData();\r\n\r\n      formData.append('login', this.state.login);\r\n      formData.append('email', this.state.email);\r\n      formData.append('password', this.state.password);\r\n      formData.append('name', this.state.name);\r\n      formData.append('surname', this.state.surname);\r\n\r\n      $.ajax({\r\n        url: `${API}/api/user/register.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: function (res) {\r\n          const response = res.result;\r\n\r\n          switch (response) {\r\n            case 0:\r\n              self.props.enqueueSnackbar('Не удалось зарегистрироватьcя.', { variant: 'error' });\r\n              break;\r\n            case 1:\r\n              self.props.enqueueSnackbar('Вы успешно зарегистрировались, как только вашу учетную запись подтвердят - вы сможете начать пользоваться сервисом. Вы получите уведомление по указанной при регистрации почте.', { variant: 'success' });\r\n              self.setState({ \r\n                email: '',\r\n                login: '',\r\n                name: '',\r\n                surname: '',\r\n                password: '',\r\n                confirmed: '',\r\n                isEmailValid: '',\r\n                isPassHidden: false, \r\n                entered: false,\r\n                loading: false\r\n              })\r\n              break;\r\n            case 2:\r\n              self.props.enqueueSnackbar('Пользователь с таким логином или email уже существует', { variant: 'warning' });\r\n              break;\r\n            default: return null;\r\n          }\r\n        },\r\n        error: function () {\r\n          self.props.enqueueSnackbar('Ошибка регистрации', { variant: 'error' });\r\n        }\r\n      });\r\n    } else {\r\n      self.props.enqueueSnackbar('Пожалуйста, заполните все поля', { variant: 'warning' });\r\n    }\r\n  }\r\n\r\n  showPassword() {\r\n    this.setState({ isPassHidden: !this.state.isPassHidden });\r\n  }\r\n\r\n  handleClickShowPassword = () => {\r\n    this.setState({ isPassHidden: !this.state.isPassHidden });\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <Fragment>\r\n        <div className=\"form-container\">\r\n          <form id=\"register\" action=\"\" method=\"POST\" onSubmit={this.handleSubmit}>\r\n            <TextField\r\n              label=\"Имя\"\r\n              variant=\"outlined\"\r\n              name='name'\r\n              fullWidth\r\n              error={this.state.entered && !this.state.name}\r\n              margin='dense'\r\n              onChange={this.handleChange}\r\n              value={this.state.name}\r\n            />\r\n            <TextField\r\n              label=\"Фамилия\"\r\n              variant=\"outlined\"\r\n              name='surname'\r\n              fullWidth\r\n              error={this.state.entered && !this.state.surname}\r\n              margin='dense'\r\n              onChange={this.handleChange}\r\n              value={this.state.surname}\r\n            />\r\n            <TextField\r\n              label=\"Логин или email\"\r\n              variant=\"outlined\"\r\n              name='login'\r\n              fullWidth\r\n              error={this.state.entered && !this.state.login}\r\n              margin='dense'\r\n              onChange={this.handleChange}\r\n              value={this.state.login}\r\n            />\r\n\r\n            <TextField\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              type={this.state.isPassHidden ? 'text' : 'password'}\r\n              label=\"Пароль\"\r\n              margin='dense'\r\n              name='password'\r\n              value={this.state.password}\r\n              onChange={this.handleChange}\r\n              error={this.state.entered && this.state.password.length < 8}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      aria-label=\"Toggle password visibility\"\r\n                      onClick={this.handleClickShowPassword}\r\n                    >\r\n                      {this.state.isPassHidden ? <VisibilityOff /> : <Visibility />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n            {this.state.password.length > 0 && this.state.password.length < 8 ? <FormHelperText style={{ color: '#f44336' }}>Пароль должен быть не менее 8 символов</FormHelperText> : ''}\r\n\r\n            <TextField\r\n              label=\"Повторите пароль\"\r\n              variant=\"outlined\"\r\n              name='confirmed'\r\n              fullWidth\r\n              margin='dense'\r\n              type='password'\r\n              error={this.state.entered && this.state.confirmed.length < 8}\r\n              onChange={this.handleChange}\r\n              value={this.state.confirmed}\r\n            />\r\n\r\n            {this.state.password !== this.state.confirmed && this.state.confirmed !== '' ? <FormHelperText style={{ color: '#f44336' }}>Пароль должны совпадать</FormHelperText> : null}\r\n\r\n            <TextField\r\n              label=\"Электронная почта\"\r\n              variant=\"outlined\"\r\n              name='email'\r\n              fullWidth\r\n              error={this.state.entered && !this.state.isEmailValid && !this.state.email.lentgh}\r\n              margin='dense'\r\n              onChange={this.handleChange}\r\n              value={this.state.email}\r\n            />\r\n            {!this.state.isEmailValid && this.state.email ? <FormHelperText style={{ color: '#f44336' }}>Пожалуйста, введите настоящий email адрес</FormHelperText> : ''}\r\n\r\n            <BtnWrapper>\r\n              <Button variant='contained' color='primary' type='submit' disabled={this.state.loading}> \r\n                {this.state.loading ? <Loader minHeight={30} color='secondary' /> : 'Зарегистрироваться'}  \r\n              </Button>\r\n            </BtnWrapper>\r\n          </form>\r\n\r\n        </div>\r\n      </Fragment>\r\n    )\r\n  }\r\n}\r\nconst BtnWrapper = styled.div`\r\n  button {\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 30px;\r\n    margin: auto;\r\n    width: fit-content;\r\n    min-width: 199px;\r\n    background: #1976d2 !important;\r\n    & > span > div > div {\r\n      height: 25px !important;\r\n      width: 25px !important;\r\n    }\r\n  }\r\n`;\r\nexport default withSnackbar(RegisterForm);","import React from 'react';\r\nimport './css/BgBubbles.css';\r\n\r\nconst BgBubbles = ({ cssClass }) => {\r\n  return (\r\n    <ul className={cssClass ? `${cssClass} bg-bubbles` : 'bg-bubbles'}>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n      <li></li>\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default BgBubbles;","import React, { Component } from 'react';\nimport SignupForm from './SignupForm';\nimport RegisterForm from './RegisterForm';\nimport Header from './Header';\nimport Typography from '@material-ui/core/Typography';\nimport BgBubbles from './BgBubbles';\nimport './css/LoginForms.css';\n\nclass LoginForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      whichForm: false,\n    }\n    this.changeForm = this.changeForm.bind(this);\n  }\n\n  changeForm() {\n    this.setState({whichForm: !this.state.whichForm});\n  }\n\n  render() {\n    return (\n      <div className=\"login-screen\">\n        <Header />\n        <div className=\"login-screen-container\">\n          <p className=\"login-screen-greetings\">Здравствуйте</p>  \n          <div className=\"login-button-container\">\n            <button className={this.state.whichForm ? 'login-screen-button login-screen-button-enabled' : 'login-screen-button'} onClick={this.changeForm}>\n              <Typography variant='button'>Войти</Typography>\n            </button>\n            <button className={this.state.whichForm ? 'login-screen-button' : 'login-screen-button login-screen-button-enabled'} onClick={this.changeForm}>\n              <Typography variant='button'>Зарегистрироваться</Typography>\n            </button>\n          </div>              \n          {this.state.whichForm ? <RegisterForm /> : <SignupForm />}                        \n        </div>\n        <BgBubbles /> \n      </div>\n    );\n  }\n}\n\nexport default LoginForm;\n","import React, { Component } from 'react';\r\nimport Header from './Header';\r\nimport BgBubbles from './BgBubbles';\r\nimport './css/LoginForms.css';\r\nimport './css/Approved.css';\r\n\r\nclass Approved extends Component {\r\n  goToMain = () => window.location.href = '/';\r\n  closeWindow = () => window.close();\r\n\r\n  render() {\r\n   return (\r\n      <div className=\"login-screen\">\r\n        <Header />\r\n        <div className=\"approved-container\">\r\n          <h1>Регистрация пользователя была подтверждена.</h1>\r\n          <button onClick={this.goToMain}>На главную</button>                   \r\n        </div>\r\n        <BgBubbles /> \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Approved;","import React, { Component } from 'react';\r\nimport Header from './Header';\r\nimport BgBubbles from './BgBubbles';\r\nimport $ from 'jquery';\r\nimport './css/LoginForms.css';\r\nimport './css/Restore.css';\r\nimport { withSnackbar } from 'notistack';\r\nimport { Button, Typography } from '@material-ui/core';\r\nimport API from './functions/API';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport styled from 'styled-components';\r\n\r\nclass Restore extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      pw: '',\r\n      confirmed: '',\r\n      isPassHidden: false,\r\n      entered: false\r\n    }\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    // ставим стейт исходя из именя поля и вводимого значения\r\n    this.setState({\r\n      [event.target.name]: event.target.value,\r\n      entered: false\r\n    })\r\n  }\r\n\r\n  handleSubmit(e) {\r\n    var self = this;\r\n    this.setState({ entered: true });\r\n\r\n    if (self.state.pw === self.state.confirmed && self.state.pw && self.state.confirmed) {\r\n      self.setState({ modal: false });\r\n      e.preventDefault();\r\n      const formData = new FormData();\r\n\r\n      function getUrlVars() {\r\n        let vars = {};\r\n        // eslint-disable-next-line\r\n        let parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {\r\n          vars[key] = value;\r\n        });\r\n        return vars;\r\n      }\r\n\r\n      formData.append('password', $('input[name=\"pw\"]').val());\r\n      formData.append('auth', getUrlVars()['auth'])\r\n\r\n      $.ajax({\r\n        url: `${API}/api/user/restore.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: function (res) {\r\n          console.log(res);\r\n          let response = res.result;\r\n\r\n          switch (response) {\r\n            case 0:\r\n              self.props.enqueueSnackbar('Не удалось изменить пароль', { variant: 'error' });\r\n              break;\r\n            case 1:\r\n              self.props.enqueueSnackbar('Поздравляем, успешно удалось сменить пароль - теперь вы можете войти в систему', { variant: 'success' });\r\n              setTimeout(() => window.location.href = 'login', 237);\r\n              break;\r\n            default: return null;\r\n          }\r\n        },\r\n        error: function () {\r\n          self.props.enqueueSnackbar('Ошибка авторизации', { variant: 'error' });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  handleClickShowPassword = () => {\r\n    this.setState({ isPassHidden: !this.state.isPassHidden });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"login-screen\">\r\n        <Header />\r\n        <div className=\"form-container restore-container\">\r\n          <Typography variant='h6'>Введите новый пароль.</Typography>\r\n          <Typography variant='caption'> Выбор более безопасного пароля поможет обеспечить защиту вашей личной информации.</Typography>\r\n\r\n          <InputWrapper>\r\n            <TextField\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              type={this.state.isPassHidden ? 'text' : 'password'}\r\n              label=\"Пароль\"\r\n              margin='dense'\r\n              name='pw'\r\n              value={this.state.pw}\r\n              onChange={this.handleChange}\r\n              error={this.state.pw.length > 0 && this.state.pw.length < 8}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position=\"end\">\r\n                    <IconButton\r\n                      aria-label=\"Toggle password visibility\"\r\n                      onClick={this.handleClickShowPassword}\r\n                    >\r\n                      {this.state.isPassHidden ? <VisibilityOff /> : <Visibility />}\r\n                    </IconButton>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n            {this.state.pw.length > 0 && this.state.pw.length < 8 ? <FormHelperText style={{ color: '#f44336' }}>Пароль должен быть не менее 8 символов</FormHelperText> : ''}\r\n\r\n            <TextField\r\n              label=\"Повторите пароль\"\r\n              variant=\"outlined\"\r\n              name='confirmed'\r\n              fullWidth\r\n              margin='dense'\r\n              type='password'\r\n              error={this.state.entered && this.state.confirmed.length < 8 && this.state.confirmed.length > 0}\r\n              onChange={this.handleChange}\r\n              value={this.state.confirmed}\r\n            />\r\n            {this.state.pw !== this.state.confirmed && this.state.confirmed ? <FormHelperText style={{ color: '#f44336' }}>Пароль должны совпадать</FormHelperText> : null}\r\n          </InputWrapper>\r\n\r\n          <BtnContainer>\r\n            <Button variant='contained' color='primary' onClick={this.handleSubmit}>Сменить пароль</Button>\r\n          </BtnContainer>\r\n        </div>\r\n        <BgBubbles />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst BtnContainer = styled.div`\r\n  button {\r\n    position: absolute;\r\n    bottom: 35px;\r\n    left: 0;\r\n    right: 0;\r\n    margin: auto;\r\n    width: fit-content;\r\n  }\r\n`;\r\nconst InputWrapper = styled.div`\r\n  margin-top: 15px;\r\n`;\r\nexport default withSnackbar(Restore);","import React, { Component } from 'react';\r\nimport './css/404.css';\r\n\r\nclass Page404 extends Component {\r\n\r\n  goToMain = () => window.location.href = '/';\r\n\r\n  render() {\r\n    return (\r\n      <main>\r\n        <div className=\"loading wave\">\r\n          404\r\n        </div>\r\n        <div className=\"not-found wave\">\r\n          Страница не найдена\r\n        </div> \r\n      <button onClick={this.goToMain}>перейти на главную</button>\r\n    </main>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Page404;","import React, { Component } from 'react';\r\nimport $ from 'jquery';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport BgBubbles from './BgBubbles';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport DefaultAvatar from './img/photos/images.png';\r\nimport API from './functions/API';\r\nimport { withSnackbar } from 'notistack';\r\nimport { DatePicker } from 'material-ui-pickers';\r\n\r\nif (window.location.pathname === '/settings') {\r\n  $(document.body).css({\r\n    background: 'linear-gradient(to bottom right,#00c5fe,#9de3dc,#0d11b4)'\r\n  })\r\n}\r\n\r\nconst styles = {\r\n  default: {\r\n    width: window.innerWidth < 600 ? '95%' : 600,\r\n    margin: '10px auto',\r\n    position: 'relative',\r\n    padding: window.innerWidth < 600 ? '20px 15px 80px' : '20px 40px 80px',\r\n    zIndex: 37\r\n  },\r\n  input: {\r\n    width: '100%',\r\n  },\r\n  button: {\r\n    position: 'absolute',\r\n    left: 0,\r\n    right: 0,\r\n    width: 120,\r\n    bottom: 25,\r\n    margin: 'auto'\r\n  },\r\n  upload: {\r\n    background: '#ef6c00',\r\n    color: 'white',\r\n    margin: 'auto',\r\n    cursor: 'pointer',\r\n    position: 'relative'\r\n  },\r\n  hiddenInput: {\r\n    opacity: 0,\r\n    position: 'absolute',\r\n    cursor: 'pointer',\r\n    left: 0, right: 0, bottom: 0, top: 0\r\n  },\r\n  avatar: {\r\n    width: 100,\r\n    height: 100,\r\n    marginBottom: 15,\r\n    borderRadius: '50%'\r\n  },\r\n  header: {\r\n    marginTop: 100,\r\n    marginBottom: 12,\r\n    color: '#fff',\r\n    textAlign: 'center',\r\n    fontWeight: 500,\r\n    display: window.innerWidth < 600 ? 'none' : 'block'\r\n  }\r\n};\r\n\r\nconst genders = [\r\n  {\r\n    value: 'мужской',\r\n    label: 'мужской'\r\n  },\r\n  {\r\n    value: 'женский',\r\n    label: 'женский',\r\n  }\r\n];\r\n\r\nclass Settings extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user: [],\r\n      selectedFile: null,\r\n      user_id: '',\r\n      uploadedAvatar: '',\r\n      selectedDate: ''\r\n    }\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  fileSelect = event => {\r\n    if (event.target.files[0].size < 2 * 1024 * 1024) {\r\n      this.setState({ selectedFile: event.target.files[0] })\r\n      this.uploadAvatar(event.target.files[0]);\r\n    } else {\r\n      this.props.enqueueSnackbar('Файл слишком большой, размер должен не превышать 2МБ', { variant: 'warning' });\r\n    }\r\n  }\r\n\r\n  uploadAvatar = (file) => {\r\n    let fd = new FormData();\r\n    let files = file;\r\n    let self = this;\r\n    fd.append('file', files);\r\n    fd.append('id', this.state.user_id);\r\n\r\n    $.ajax({\r\n      url: `${API}/api/user/upload.php`,\r\n      type: 'post',\r\n      data: fd,\r\n      contentType: false,\r\n      processData: false,\r\n      success: function (res) {\r\n        if (window.location.host.includes('localhost')) {\r\n          self.setState({ uploadedAvatar: res.location.slice(22) })\r\n        } else {\r\n          self.setState({ uploadedAvatar: res.location.slice(6) })\r\n        }\r\n        console.log(res);\r\n      },\r\n    });\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    fetch(`${API}/api/user/info.php`)\r\n      .then(response => response.json())\r\n      .then(user => this.setState({ user, user_id: user.id }))\r\n  }\r\n\r\n  handleChange = event => {\r\n    // ставим стейт исходя из именя поля и вводимого значения\r\n    let user = { ...this.state.user };\r\n    user[event.target.name] = event.target.value;\r\n    this.setState({ user });\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    var self = this;\r\n    self.setState({ modal: false });\r\n    e.preventDefault();\r\n\r\n    if ($('input[name=\"surname\"]').val() && $('input[name=\"name\"]').val() && $('input[name=\"sex\"]').val() && $('input[name=\"position\"]').val() && (this.state.selectedDate || this.state.user.birthday)) {\r\n      const formData = new FormData();\r\n      formData.append('id', self.state.user.id);\r\n      formData.append('surname', $('input[name=\"surname\"]').val());\r\n      formData.append('name', $('input[name=\"name\"]').val());\r\n      formData.append('birthday', self.state.selectedDate.slice(0, 10) || this.state.user.birthday);\r\n      formData.append('sex', $('input[name=\"sex\"]').val());\r\n      formData.append('position', $('input[name=\"position\"]').val());\r\n      formData.append('avatar', self.state.uploadedAvatar);\r\n\r\n      $.ajax({\r\n        url: `${API}/api/user/settings.php`,\r\n        data: formData,\r\n        processData: false,\r\n        contentType: false,\r\n        type: 'POST',\r\n        success: function (res) {\r\n          console.log(res);\r\n          let response = res.result;\r\n          switch (response) {\r\n            case 0:\r\n              self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' });\r\n              break;\r\n            case 1:\r\n              self.props.enqueueSnackbar('Персональные данные изменены', { variant: 'success' });\r\n              window.location.href = `/feed`;\r\n              break;\r\n            default: break;\r\n          }\r\n        },\r\n        error: function () {\r\n          self.props.enqueueSnackbar('Что-то пошло не так, попробуйте обновить страницу', { variant: 'error' });\r\n        }\r\n      });\r\n    } else {\r\n      self.props.enqueueSnackbar('Пожалуйста заполните все поля', { variant: 'warning' });\r\n    }  \r\n  }\r\n\r\n  /**\r\n  |--------------------------------------------------\r\n  | устанавливаем дату из пикера в нужном формате\r\n  |--------------------------------------------------\r\n  */\r\n  handleDateChange = date => this.setState({ selectedDate: date.format() });\r\n\r\n  render() {\r\n    const { user, uploadedAvatar } = this.state;\r\n\r\n    let avatar = user.avatar;\r\n\r\n    return (\r\n      <React.Fragment>\r\n\r\n        <Typography variant=\"h5\" style={{ ...styles.header }}>Начните заполнять персональные данные</Typography>\r\n\r\n        <Paper style={{ ...styles.default }} elevation={1}>\r\n\r\n          <form id=\"personal-info\" action=\"\" method=\"POST\" encType=\"multipart/form-data\">\r\n            {uploadedAvatar ?\r\n              <div style={{ ...styles.avatar, background: `url(${uploadedAvatar}) no-repeat center/cover` }}></div> :\r\n              <div style={{ ...styles.avatar, background: `url(${avatar ? avatar : DefaultAvatar}) no-repeat center/cover` }}></div>}\r\n            <Button variant=\"contained\" style={{ ...styles.upload }}>\r\n              Загрузить фото профиля\r\n            <Icon style={{ marginLeft: 10 }}>cloud_upload</Icon>\r\n              <input\r\n                id='avatar'\r\n                accept=\"image/*\"\r\n                style={{ ...styles.hiddenInput }}\r\n                type=\"file\"\r\n                name='avatar'\r\n                onChange={this.fileSelect}\r\n              />\r\n            </Button>\r\n\r\n            <TextField\r\n              required\r\n              label=\"Ваше имя\"\r\n              name='name'\r\n              InputLabelProps={{ shrink: true }}\r\n              margin=\"normal\"\r\n              onChange={this.handleChange}\r\n              value={user.name}\r\n              style={{ ...styles.input }}\r\n            />\r\n\r\n            <TextField\r\n              required\r\n              label=\"Фамилия\"\r\n              name='surname'\r\n              InputLabelProps={{ shrink: true }}\r\n              margin=\"normal\"\r\n              onChange={this.handleChange}\r\n              value={user.surname}\r\n              style={{ ...styles.input }}\r\n            />\r\n\r\n            <TextField\r\n              select\r\n              required\r\n              label=\"Пол\"\r\n              InputLabelProps={{ shrink: true }}\r\n              value={user.sex}\r\n              onChange={this.handleChange}\r\n              helperText=\"Пожалуйста, выберите пол\"\r\n              margin=\"normal\"\r\n              name='sex'\r\n              style={{ ...styles.input }}\r\n            >\r\n              {genders.map(option => (\r\n                <MenuItem name='sex' key={option.value} value={option.value}>\r\n                  {option.label}\r\n                </MenuItem>\r\n              ))}\r\n            </TextField>\r\n\r\n            <TextField\r\n              required\r\n              label=\"Должность\"\r\n              name=\"position\"\r\n              InputLabelProps={{ shrink: true }}\r\n              margin=\"normal\"\r\n              onChange={this.handleChange}\r\n              value={user.position}\r\n              style={{ ...styles.input }}\r\n            />\r\n\r\n            <DatePicker\r\n              name=\"birthday\"\r\n              margin=\"normal\"\r\n              label='Дата рождения'\r\n              format={'Do MMMM YYYY'}\r\n              value={this.state.selectedDate ? this.state.selectedDate : user.birthday || null}\r\n              fullWidth={true}\r\n              InputLabelProps={{ shrink: true }}\r\n              onChange={this.handleDateChange}\r\n              aria-describedby=\"component-helper-text\"\r\n              style={{ ...styles.input }}\r\n              cancelLabel='Отмена'\r\n              emptyLabel='Не выбрана дата рождения'\r\n              required\r\n            />\r\n\r\n            <Typography variant=\"caption\" gutterBottom>\r\n              *Дата рождения будет видна только руководству\r\n            </Typography>\r\n\r\n            <Button variant=\"contained\" color='primary' style={{ ...styles.button }} onClick={this.handleSubmit}>\r\n              Вперёд!\r\n           </Button>\r\n\r\n          </form>\r\n        </Paper>\r\n\r\n        <BgBubbles />\r\n\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withSnackbar(Settings);","import React, { useState } from 'react';\r\nimport Countdown from 'react-countdown-now';\r\nimport { connect } from 'react-redux';\r\nimport { Typography, Tooltip } from '@material-ui/core/';\r\nimport styled from 'styled-components';\r\nimport PauseIcon from '@material-ui/icons/Pause';\r\nimport PlayIcon from '@material-ui/icons/PlayArrow';\r\nimport AlarmIcon from '@material-ui/icons/AlarmOn'\r\n\r\nconst Completionist = () => <Typography variant='h3' id='timer' className='completed'>Время вышло</Typography>;\r\n\r\nconst Timer = ({ hours, minutes, seconds, completed, api }) => {\r\n  function getTime(h, m, s) {\r\n    if (h < 10) h = '0' + h;\r\n    if (m < 10) m = '0' + m;\r\n    if (s < 10) s = '0' + s;\r\n\r\n    if (h === '00') {\r\n      return `${m}:${s}`;\r\n    } else {\r\n      return `${h}:${m}:${s}`;\r\n    }\r\n  }\r\n\r\n  if (completed) {\r\n    return <Container><Time><Completionist /></Time></Container>;\r\n  } else {\r\n    return (\r\n      <Container>\r\n        <Time> \r\n          <AlarmIcon className='time-icon' />\r\n          <Typography variant='h3' id='timer'>{getTime(hours, minutes, seconds)}</Typography>\r\n        </Time>\r\n        <Controls>\r\n          <Tooltip title='старт' onClick={api.start}><PlayIcon style={api.isPaused() ? { pointerEvents: 'all' } : { pointerEvents: 'none', opacity: 1 }} /></Tooltip>\r\n          <Tooltip title='пауза' onClick={api.pause}><PauseIcon style={api.isPaused() ? { pointerEvents: 'none', opacity: 1 } : { pointerEvents: 'all'}} /></Tooltip>   \r\n        </Controls>\r\n      </Container>\r\n    )\r\n  }\r\n};\r\n\r\nconst CountdownTimer = ({ store, pauseTest, resumeTest, finish }) => {\r\n  // eslint-disable-next-line\r\n  const [time, setTime] = useState(store.tests[0] && store.tests[0].hasOwnProperty('time') ? Date.now() + Number(store.tests[0].time) * 60 * 1000 : 0);\r\n\r\n  return (\r\n    <Countdown\r\n      controlled={false}\r\n      autoStart={true}\r\n      date={time}\r\n      renderer={Timer}\r\n      onPause={pauseTest}\r\n      onStart={resumeTest}\r\n      onComplete={finish}\r\n    />\r\n  )\r\n}\r\n\r\nconst Controls = styled.div`\r\n  svg {\r\n    font-size: 40px;\r\n    opacity: .15;\r\n    transition: .57s ease;\r\n    cursor: pointer;\r\n    :hover {\r\n      opacity: .9;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n`;\r\n\r\nconst Time = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 25%;\r\n  align-items: center;\r\n  h3 {\r\n    opacity: .15;\r\n  }\r\n  .time-icon {\r\n    font-size: 42px;\r\n    opacity: .15;\r\n  }\r\n  .completed {\r\n    font-size: 32px;\r\n    margin-top: 64px;\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n)(CountdownTimer);","import React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport { Button, Typography, Checkbox, FormGroup, FormControlLabel } from '@material-ui/core';\r\nimport Sphere from '../../img/photos/sphere.png';\r\nimport Lightbox from 'react-images';\r\n\r\nexport default function Question({ allQuestionsId, paused, findTimer, answered, variants, setChecked, question, questionNumber, skipQuestion, nextQuestion, prevQuestion }) {\r\n  const [images, setImages] = useState([]);\r\n  const [lightboxOpen, setLightboxOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    getImages();\r\n  }, [])\r\n\r\n  function getPrevBtnStatus(index) {\r\n    if (!index) return true;\r\n    let status = false;\r\n    if (answered.includes(index - 1)) status = true;\r\n    return status;\r\n  }\r\n\r\n  function getImages() {\r\n    if (question.image) {\r\n      const images = [];\r\n      Object.entries(question.image_file).map(item => {\r\n        return images.push({\r\n          src: `http://akvatory.local/${item[1].original.file}`\r\n        })\r\n      })\r\n      setImages(images);\r\n    }   \r\n  }\r\n\r\n  function openLightbox() {\r\n    setLightboxOpen(true);\r\n  }\r\n\r\n  function closeLightbox() {\r\n    setLightboxOpen(false);\r\n  }\r\n\r\n  let checked = variants.length > 0 ? variants.find(variant => variant.checked) : 0;  \r\n \r\n  return (\r\n    <Container style={findTimer() ? { marginTop: '-93px' } : { marginTop: 40 }}>\r\n      <QuestionHeader>\r\n        <Spheric>\r\n          <Typography variant='h1'>{questionNumber + 1}</Typography>\r\n          <img src={Sphere} alt='' />\r\n        </Spheric>  \r\n        <div className='question-header-text'>\r\n          <Typography variant='h6'>{question.question}</Typography>\r\n          <Typography variant='caption' style={{ marginBottom: 10 }}>{question.category} - {question.subcategory}</Typography>\r\n          {question.audio ?\r\n              question.audio_file.map(item => \r\n                <audio controls className='question-audio' key={item.id}>\r\n                  <source src={`http://akvatory.local/${item.file}`} />\r\n                </audio> \r\n              )\r\n          : null}\r\n          {question.image ?\r\n              Object.entries(question.image_file).map((item, i) => \r\n                <img \r\n                  onClick={openLightbox}\r\n                  key={item[0]} \r\n                  style={{ maxWidth: '100%', maxHeight: 300, marginTop: 10, cursor: 'pointer' }} \r\n                  src={`http://akvatory.local/${item[1].original.file}`} \r\n                  alt=''\r\n                /> \r\n              ) \r\n          : null}\r\n        </div>\r\n      </QuestionHeader>\r\n      <FormGroup className='checkboxes' style={paused ? { pointerEvents: 'none' } : { pointerEvents: 'all' } }>\r\n        {variants.map(variant =>\r\n          <FormControlLabel\r\n            key={variant.id}\r\n            control={\r\n              <Checkbox\r\n                checked={variant.checked}\r\n                onClick={() => setChecked(variant.id)}\r\n              />\r\n            }\r\n            label={variant.item}\r\n          />\r\n        )}\r\n      </FormGroup>\r\n      {!paused ?\r\n      <Buttons>\r\n        <Button onClick={nextQuestion} disabled={checked ? false : true} variant='contained' color='primary'>Далее</Button>\r\n        <Button onClick={prevQuestion} disabled={getPrevBtnStatus(questionNumber)} variant='outlined' color='primary'>Назад</Button>\r\n        <Button onClick={skipQuestion} disabled={allQuestionsId.length - 1 === answered.length} variant='contained' color='secondary'>Пропустить</Button>\r\n      </Buttons>\r\n      : null }\r\n\r\n      {question.image ?\r\n        <Lightbox\r\n          images={[...images]}\r\n          isOpen={lightboxOpen}\r\n          onClose={closeLightbox}\r\n          width={1920}\r\n          showImageCount={false}\r\n        />\r\n      : null}\r\n\r\n\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  width: 75%;\r\n  margin-top: 40px;\r\n  .checkboxes {\r\n    margin: 25px 0;\r\n  }\r\n`;\r\nconst Buttons = styled.div`\r\n  button {\r\n    margin-right: 30px;\r\n    min-width: 125px;\r\n  }\r\n`;\r\nconst QuestionHeader = styled.div`\r\n  display: flex;\r\n  align-items: flex-start;\r\n  .question-header-text {\r\n    width: 525px;\r\n    padding-left: 25px;\r\n    margin-bottom: 20px;\r\n  }\r\n  .question-audio {\r\n    width: 100%;\r\n    :focus, :active {\r\n      outline: 0;\r\n    }\r\n  }\r\n`;\r\nconst Spheric = styled.div`\r\n  height: 100px;\r\n  width: 100px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: relative;\r\n  img {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  h1 {\r\n    font-size: 48px;\r\n    position: absolute;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    margin: auto;\r\n    color: white;\r\n    width: fit-content;\r\n    height: fit-content;\r\n    font-weight: 600;\r\n  }\r\n`;","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Badge from '@material-ui/core/Badge';\r\n\r\nexport default function Circles({ questions, answered, skipped }) {\r\n  function getStatus(index, type) {\r\n    let isAnswered = answered.includes(index);\r\n    let isSkipped = skipped.includes(index);\r\n    \r\n    if (type === 'class' && !isAnswered && !isSkipped) {\r\n      return 'default-badge';\r\n    } else if (type === 'class') {\r\n      return '';\r\n    }\r\n\r\n    if (type === 'color' && isAnswered) {\r\n      return 'primary';\r\n    } else {\r\n      return 'secondary'\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {questions.map((_, i ) => \r\n        <Badge \r\n          key={i}\r\n          badgeContent={i + 1} \r\n          color={getStatus(i, 'color')} \r\n          className={getStatus(i, 'class')}\r\n        >{''}</Badge>\r\n      )}\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  flex-wrap: wrap;\r\n  > span {\r\n    width: 45px;\r\n    height: 30px;\r\n    margin: 10px 0 0;\r\n    > span {\r\n      width: 30px;\r\n      height: 30px;\r\n      transform: unset;\r\n      left: 0;\r\n      margin: auto;\r\n    }\r\n  }\r\n  .default-badge span {\r\n    background: #F9A825;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nexport default function Legend() {\r\n  return (\r\n    <Container>\r\n      <div>\r\n        <Badge children={true} color='primary'className='default-badge'>{''}</Badge>\r\n        <Typography variant='caption' className='caption'>Вопрос ожидает ответа</Typography>\r\n      </div>\r\n      <div>\r\n        <Badge children={true}  color='primary'>{''}</Badge>\r\n        <Typography variant='caption' className='caption'>Вы ответили на этот вопрос</Typography>\r\n      </div>\r\n      <div>\r\n        <Badge color='secondary'>{''}</Badge>\r\n        <Typography variant='caption' className='caption'>Вы пропустили этот вопрос</Typography>\r\n      </div>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  margin: 35px 0;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  flex-direction: column;\r\n  flex-wrap: wrap;\r\n  > div > span {\r\n    width: 45px;\r\n    height: 30px;\r\n    margin: 10px 0 0;\r\n    > span {\r\n      width: 30px;\r\n      height: 30px;\r\n      transform: unset;\r\n      left: 0;\r\n      margin: auto;\r\n    }\r\n  }\r\n  > div {\r\n    align-items: center;\r\n    display: flex;\r\n    .caption {\r\n      width: unset;\r\n      height: unset;\r\n      margin-top: 10px;\r\n      margin-left: 10px;\r\n    }\r\n  }\r\n  .default-badge span {\r\n    background: #F9A825;\r\n  }\r\n`;","import $ from 'jquery';\r\nimport API from '../functions/API';\r\n\r\nexport function startTest(id) {\r\n  const formData = new FormData();\r\n  formData.append('id', id);\r\n  $.ajax({\r\n    url: `${API}/api/test/start.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST'\r\n  });\r\n}\r\n\r\nexport function setupResult(data) {\r\n  const formData = new FormData();\r\n  formData.append('test_id', data.test_id);\r\n  formData.append('user_id', data.user_id);\r\n  formData.append('user_name', data.user_name);\r\n  formData.append('date', data.date);\r\n  formData.append('estimated_time', data.estimated_time);\r\n\r\n  $.ajax({\r\n    url: `${API}/api/result/init.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST'\r\n  });\r\n}\r\n\r\nexport function updateResult(data) {\r\n  const formData = new FormData();\r\n  formData.append('test_id', data.test_id);\r\n  formData.append('variants', data.variants);\r\n  formData.append('estimated_time', data.estimated_time);\r\n  formData.append('question_id', data.question_id);\r\n\r\n  $.ajax({\r\n    url: `${API}/api/result/update.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST'\r\n  });\r\n}\r\n\r\nexport function finishTest(data) {\r\n  const formData = new FormData();\r\n  formData.append('id', data.id);\r\n  formData.append('estimated_time', data.estimated_time);\r\n  formData.append('created_at', new Date().getTime());\r\n\r\n  $.ajax({\r\n    url: `${API}/api/test/finish.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST'\r\n  });\r\n}\r\n\r\nexport async function createEvent(data) {\r\n  const formData = new FormData();\r\n  \r\n  for (let key in data) {\r\n    formData.append(key, data[key]);    \r\n  }\r\n  let result;\r\n  \r\n  await $.ajax({\r\n    url: `${API}/api/calendar/addEvent.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST',\r\n    success: async (res) => {\r\n      result = await res;\r\n    }\r\n  }); \r\n\r\n  return await result;\r\n}\r\n\r\nexport function deleteEvent(id) {\r\n  const formData = new FormData();\r\n  formData.append('id', id);\r\n  \r\n  $.ajax({\r\n    url: `${API}/api/calendar/deleteEvent.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST'\r\n  });\r\n}\r\n\r\nexport function signUpOnEvent(data) {\r\n  const formData = new FormData();\r\n  formData.append('id', data.id);\r\n  formData.append('username', `${data.name} ${data.surname}`);\r\n\r\n  $.ajax({\r\n    url: `${API}/api/calendar/signUp.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST'\r\n  });\r\n}\r\n\r\nexport function unSignUpOnEvent(data) {\r\n  const formData = new FormData();\r\n  formData.append('id', data.id);\r\n  formData.append('username', `${data.name} ${data.surname}`);\r\n\r\n  $.ajax({\r\n    url: `${API}/api/calendar/unSignUp.php`,\r\n    data: formData,\r\n    processData: false,\r\n    contentType: false,\r\n    type: 'POST'\r\n  });\r\n}\r\n\r\nexport default [];","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport styled from 'styled-components';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n  }\r\n});\r\n\r\nfunction SimpleExpansionPanel(props) {\r\n  const { classes, object } = props;\r\n\r\n  function isCorrect(question) {\r\n    if (object.question_data.answers.includes(question)) {\r\n      return 'primary';\r\n    } else {\r\n      return 'secondary';\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ExpansionPanel>\r\n        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />} className='align-center' style={{ background: '#fafafa' }}>\r\n          <Typography variant='h6'>{object.result >= 1 ? object.result + ' балл' : object.result + ' баллов'}\r\n            <Typography className={classes.heading}>Вопрос: {object.question_data.question}</Typography>\r\n          </Typography>    \r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails>\r\n          <Answers>\r\n            <Typography variant='subtitle2' gutterBottom={true}>вы ответили:</Typography>\r\n            {object.answered.map(question => <Typography color={isCorrect(question)}>{question}</Typography>)}\r\n            <hr />\r\n            <Typography variant='subtitle2' gutterBottom={true}>{object.question_data.answers.length > 0 ? 'ответы:' : 'ответ:'}</Typography>\r\n            {object.question_data.answers.map(question => <Typography>{question}</Typography>)}\r\n          </Answers>\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst Answers = styled.div`\r\n  width: 100%;\r\n  hr {\r\n    border: none;\r\n    height: 3px;\r\n    background: #fafafa;\r\n  }\r\n`;\r\n\r\nSimpleExpansionPanel.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(SimpleExpansionPanel);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst styles = theme => ({\r\n  root: {\r\n    width: '100%',\r\n  }\r\n});\r\n\r\nfunction SimpleExpansionPanel(props) {\r\n  const { classes, object } = props;\r\n  return (\r\n    <div className={classes.root}>\r\n      <ExpansionPanel disabled>\r\n        <ExpansionPanelSummary className='align-center' style={{ background: '#fafafa' }}>\r\n          <Typography variant='h6'>0 баллов\r\n            <Typography className={classes.heading}>Вопрос: {object}</Typography>\r\n          </Typography>    \r\n        </ExpansionPanelSummary>\r\n      </ExpansionPanel>\r\n    </div>\r\n  );\r\n}\r\n\r\nSimpleExpansionPanel.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(SimpleExpansionPanel);","import React, { useEffect, useState, Fragment } from 'react';\r\nimport styled from 'styled-components';\r\nimport Loader from '../../Loader/Loader';\r\nimport API from '../../functions/API';\r\nimport { Typography, Button } from '@material-ui/core'; \r\nimport ResultsList from './ResultsList';\r\nimport NotAnswered from './NotAnswered';\r\n\r\nexport default function Results() {\r\n  const [results, setResults] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const id = window.location.pathname.replace('/test/', \"\");\r\n    fetch(`${API}/api/result/getResults.php?test_id=${id}`)\r\n      .then(response => response.json())\r\n      .then(results => {\r\n        results.data.not_answered = JSON.parse(results.data.not_answered);\r\n        results.data.object = JSON.parse(results.data.object);\r\n        results.data.object.forEach(result => {\r\n          result.question_data = JSON.parse(result.question_data);\r\n          result.question_data.variants = result.question_data.variants.split(\"\\n\");\r\n          result.question_data.answers = result.question_data.answers.split(\"\\n\");\r\n        });\r\n        setResults(results.data)\r\n      })\r\n      .then(() => setLoading(false))\r\n      .catch(err => console.log(err))\r\n  }, []);\r\n\r\n  function getPercent(value) {\r\n    return parseFloat(value.replace(',','.')).toFixed(2) * 100 + '%';\r\n  }\r\n\r\n  function getColor(value) {\r\n    return parseFloat(value.replace(',','.')).toFixed(2) >= 0.5 ? 'primary' : 'secondary';\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {loading\r\n        ? <Loader minHeight='300px' color='primary' />\r\n        : (\r\n          <Fragment>\r\n            <Typography variant='h1' style={{ marginBottom: 20 }} color={getColor(results.result)}>{getPercent(results.result)}</Typography>\r\n            <Typography variant='h6'>{results.user_name}</Typography>\r\n            <Typography variant='caption'>Дата прохождения тестирования: {results.date}</Typography>\r\n            {results.estimated_time ? <Typography variant='caption'>Оставшееся время: {results.estimated_time}</Typography> : null}\r\n\r\n            <br />\r\n            <br />\r\n            <br />\r\n            {results.object.map(result => \r\n                <ResultsList object={result} />\r\n            )}  \r\n\r\n            {results.not_answered.map(result => \r\n                <NotAnswered object={result} />\r\n            )}        \r\n\r\n            <Buttons>\r\n              <Button variant='contained' component='a' href='/' color='primary'>на главную</Button>\r\n              <Button variant='outlined' component='a' href='/learnings' color='primary'>обучение</Button>\r\n            </Buttons>\r\n          </Fragment>\r\n      )}\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n`;\r\nconst Buttons = styled.div`\r\n  margin-top: 40px;\r\n  a {\r\n    margin-right: 10px;\r\n  }\r\n`;","import React, { useState, Fragment } from 'react';\r\nimport { Typography, Button } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport Results from './Results';\r\n\r\nexport default function Finish() {\r\n  const [isShowResult, setShowResult] = useState(false);\r\n\r\n  return (\r\n    <Container>\r\n      {isShowResult \r\n        ? <Results /> \r\n        :\r\n        <Fragment>\r\n          <Typography variant='h5' style={{ marginBottom: 10 }}>Тест завершён.</Typography>\r\n          <Typography variant='body2'>Вы можете посмотреть результаты тестирования, нажав на кнопку ниже.</Typography>\r\n          <Buttons>\r\n            <Button variant='contained' color='primary' onClick={() => setShowResult(true)}>результаты</Button>\r\n            <Button variant='outlined' color='primary' component='a' href='/'>на главную</Button>\r\n          </Buttons>\r\n        </Fragment>\r\n      }  \r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  height: fit-content;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 60px 30px;\r\n`;\r\nconst Buttons = styled.div`\r\n  margin-top: 30px;\r\n  button {\r\n    margin: 0 10px;\r\n  }\r\n`;","import React, { useState, useEffect } from 'react';\r\nimport Timer from './Timer';\r\nimport styled from 'styled-components';\r\nimport { fetchSingleQuestion } from '../../Effects/fetches';\r\nimport Loader from '../../Loader/Loader';\r\nimport { connect } from 'react-redux';\r\nimport Question from './Question';\r\nimport Circles from './Circles';\r\nimport Legend from './Legend';\r\nimport { updateResult, finishTest } from '../../Effects/requests';\r\nimport Finish from './Finish';\r\n\r\nfunction Test({ store, object }) {\r\n  // eslint-disable-next-line\r\n  const [_, updateState] = useState(0);\r\n  const [variants, setVariants] = useState([]);\r\n  const [questionNumber, setQuestionNumber] = useState(0);\r\n  const [allQuestionsId, setAllQuestionsId] = useState([]);\r\n  const [question, setQuestion] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [skipped, setSkipped] = useState([]);\r\n  const [answered, setAnswered] = useState([]);\r\n  const [finished, setFinished] = useState(false);\r\n  const [test, setTest] = useState([]);\r\n  const [paused, setPaused] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const allQuestionsId = store.tests[0].questions.split(',');\r\n    setTest(store.tests[0]);\r\n    setAllQuestionsId(allQuestionsId);\r\n    async function fetchData() {\r\n      const response = await fetchSingleQuestion(allQuestionsId[questionNumber]);\r\n      await setQuestion(response);\r\n      await getVariants(response); \r\n      if (loading) await setLoading(false);\r\n    }\r\n    fetchData();\r\n  }, [questionNumber]);\r\n\r\n  useEffect(() => {\r\n    const allQuestionsId = store.tests[0].questions.split(',');\r\n    if (object && object.length > 1) loadSave(object, allQuestionsId);\r\n  }, []);\r\n\r\n  function pauseTest() {\r\n    setPaused(true);\r\n  }\r\n\r\n  function resumeTest() {\r\n    setPaused(false);\r\n  }\r\n\r\n  function loadSave(save, allQuestionsId) {\r\n    let idArray = save[1].answered;\r\n    let result = [];\r\n\r\n    for (let i = 0; i < idArray.length; i++) {\r\n      for (let j = 0; j < allQuestionsId.length; j++) {\r\n        if (idArray[i] === allQuestionsId[j]) {\r\n          result.push(j);\r\n          continue;\r\n        }\r\n      }\r\n    }\r\n\r\n    setAnswered(result);\r\n\r\n    let next = 0;\r\n\r\n    for (let i = 0; i < result.length; i++) {\r\n      if (!allQuestionsId.includes(i)) {\r\n        next = i;\r\n      } else {\r\n        next = i + 1;\r\n      }\r\n    }\r\n    setQuestionNumber(next);\r\n  }\r\n\r\n  function getVariants(question) {\r\n    const splitted = question[0].variants.split(\"\\n\");\r\n    let variants = [];\r\n    splitted.forEach((item, i) => {\r\n      variants.push({\r\n        id: i,\r\n        item: item,\r\n        checked: false\r\n      })\r\n    })\r\n    setVariants(variants);\r\n  }\r\n\r\n  function setChecked(id) {\r\n    let newVariants = variants;\r\n\r\n    if (!question[0].answers) {\r\n      newVariants.forEach(variant => {\r\n        variant.checked = false;\r\n      });\r\n    }\r\n\r\n    newVariants[id].checked = !newVariants[id].checked;\r\n    setVariants(newVariants);\r\n    updateState(Math.random());\r\n  }\r\n\r\n  function nextQuestion() {\r\n    let newState = answered;\r\n    if (!answered.includes(questionNumber)) {\r\n      newState.push(questionNumber);\r\n      setAnswered(newState);\r\n    }\r\n    updateTestResult();\r\n    getNextStep(questionNumber);\r\n  }\r\n\r\n  function prevQuestion() {\r\n    setQuestionNumber(questionNumber - 1);\r\n  }\r\n\r\n  function skipQuestion() {\r\n    let newState = skipped;\r\n    if (!skipped.includes(questionNumber)) {\r\n      newState.push(questionNumber);\r\n      setSkipped(newState);\r\n    }\r\n    getNextStep(questionNumber);\r\n  }\r\n\r\n  function getNextStep() {\r\n    if (allQuestionsId.length === answered.length) {\r\n      finish();\r\n      return;\r\n    }\r\n\r\n    let next = questionNumber;\r\n\r\n    if (answered.includes(next)) {\r\n      next = Math.max(...answered);\r\n    }\r\n\r\n    if (next + 1 === allQuestionsId.length) {\r\n      for (let i = 0; i < allQuestionsId.length; i++) {\r\n        if (!answered.includes(i)) {\r\n          next = i;\r\n          break;\r\n        }\r\n      }\r\n      setQuestionNumber(next);\r\n    } else {\r\n      setQuestionNumber(next + 1);\r\n    }\r\n  }\r\n\r\n  async function finish() {\r\n    const test = await store.tests[0];\r\n    const testData = {\r\n      id: test.id,\r\n      estimated_time: document.getElementById('timer') ? document.getElementById('timer').innerHTML : 0\r\n    }\r\n\r\n    await finishTest(testData);\r\n    await setFinished(true);\r\n  }\r\n\r\n  async function updateTestResult() {\r\n    const test = await store.tests[0];\r\n    const checkedVariants = variants.filter(variant => variant.checked);\r\n    const checked = [];\r\n\r\n    checkedVariants.forEach(variant => {\r\n      checked.push(variant.item);\r\n    })\r\n\r\n    const testData = {\r\n      question_id: allQuestionsId[questionNumber],\r\n      test_id: test.id,\r\n      variants: checked,\r\n      estimated_time: document.getElementById('timer') ? document.getElementById('timer').innerHTML : 0\r\n    }\r\n\r\n    updateResult(testData);\r\n  }\r\n\r\n  function findTimer() {\r\n    return !Array.isArray(test) && !test.estimated_time.includes('false');\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {!finished && findTimer()\r\n        ? <Timer style={`${loading ? { opacity: 0 } : { opacity: 1 }}`} pauseTest={pauseTest} resumeTest={resumeTest} finish={finish} />\r\n        : null}\r\n\r\n      {loading\r\n        ? <Loader minHeight='45vh' />\r\n        : (\r\n          !finished ?\r\n            <QuestionWrapper>\r\n              <Question\r\n                question={question[0]}\r\n                questionNumber={questionNumber}\r\n                nextQuestion={nextQuestion}\r\n                prevQuestion={prevQuestion}\r\n                skipQuestion={skipQuestion}\r\n                setChecked={setChecked}\r\n                variants={variants}\r\n                answered={answered}\r\n                allQuestionsId={allQuestionsId}\r\n                findTimer={findTimer}\r\n                paused={paused}\r\n              />\r\n              <div style={{ width: '25%' }}>\r\n                <Legend />\r\n                <hr></hr>\r\n                <Circles\r\n                  skipped={skipped}\r\n                  answered={answered}\r\n                  questions={allQuestionsId}\r\n                />\r\n              </div>\r\n            </QuestionWrapper>\r\n            : <Finish />\r\n        )}\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  width: 1000px;\r\n  margin-top: -50px;\r\n  min-height: 75vh;\r\n  padding: 30px 35px;\r\n`;\r\nconst QuestionWrapper = styled.div`\r\n  display: flex;\r\n\r\n  hr {\r\n    background: #f5f5f5;\r\n    border: none;\r\n    height: 2px;\r\n    margin-bottom: 30px;\r\n  }\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state })\r\n)(Test);","import React from 'react';\r\nimport { Typography, Button } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\nexport default function StartTestTemplate({ start }) {\r\n  return (\r\n    <Container>\r\n      <Typography variant='h5'>Добро пожаловать в тестирование.</Typography>\r\n      <div>\r\n        <Typography variant='body2'>Для того, чтобы начать - нажмите кнопку \"Начать тест\".</Typography>\r\n        <Typography variant='body2'>Как только, тестирование начнётся - запустится таймер.</Typography>\r\n      </div>\r\n      <Buttons>\r\n        <Button variant='contained' color='primary' onClick={start}>Начать тест</Button>\r\n        <Button color='primary' component='a' href='/learnings'>назад</Button>\r\n      </Buttons>   \r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  padding: 60px 40px;\r\n  min-height: 30vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst Buttons = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  button, a {\r\n    min-width: 150px;\r\n  }\r\n`;\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Typography, Button } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\nimport Test from './Test';\r\nimport API from '../../functions/API';\r\n\r\nexport default function Continue() {\r\n  const [object, setObject] = useState([]);\r\n  const [isContinue, setContinue] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const id = window.location.pathname.replace('/test/', \"\");\r\n    fetch(`${API}/api/result/getResults.php?test_id=${id}`)\r\n      .then(response => response.json())\r\n      .then(results => {\r\n        let testData = [];\r\n        testData.push(results.data.estimated_time);\r\n        testData.push({\r\n          answered: [],\r\n        });\r\n\r\n        results.data.object = JSON.parse(results.data.object);\r\n        results.data.object.forEach(result => {\r\n          result.question_data = JSON.parse(result.question_data);\r\n          testData[1].answered.push(result.question_data.id);\r\n        });\r\n        setObject(testData)   \r\n      })\r\n      .catch(err => console.log(err))\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      {isContinue \r\n        ? <Test object={object} />\r\n        : <Fragment>\r\n          <Typography variant='h4' style={{ marginBottom: 10 }}>Тест стартовал.</Typography>\r\n          <Typography variant='body1'>Вы можете продолжить тестирование, нажав на кнопку ниже.</Typography>\r\n          <Buttons>\r\n            <Button variant='contained' color='primary' onClick={() => setContinue(true)}>продолжить</Button>\r\n            <Button variant='outlined' color='primary' component='a' href='/'>на главную</Button>\r\n          </Buttons>\r\n        </Fragment> \r\n      }\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  height: fit-content;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 60px 30px;\r\n`;\r\nconst Buttons = styled.div`\r\n  margin-top: 30px;\r\n  button {\r\n    margin: 0 10px;\r\n  }\r\n`;","import React, { Fragment, useState, useEffect } from 'react';\r\nimport Header from '../../Header';\r\nimport Test from './Test';\r\nimport styled from 'styled-components';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport StartTestTemplate from './StartTestTemplate';\r\nimport BgBubbles from '../../BgBubbles';\r\nimport { connect } from 'react-redux';\r\nimport { startTest as startTestRequest, setupResult } from '../../Effects/requests';\r\nimport moment from 'moment';\r\nimport Finish from './Finish';\r\nimport Continue from './Continue';\r\nimport API from '../../functions/API';\r\nimport Loader from '../../Loader/Loader';\r\n\r\nif (window.location.pathname !== '/settings') document.body.style.height = 'unset';\r\n\r\nfunction TestContainer({ store }) {\r\n  const [start, setStart] = useState(false);\r\n  const [finished, setFinished] = useState(false);\r\n  const [started, setStarted] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const id = window.location.pathname.replace('/test/',\"\");\r\n    fetch(`${API}/api/test/getStatus.php?id=${id}`)\r\n      .then(response => response.json())\r\n      .then(res => {\r\n        switch(res) {\r\n          case '1': \r\n            setFinished(true);\r\n            break;\r\n          case '0.5':\r\n            setStarted(true);\r\n            break\r\n          default: return;  \r\n        }\r\n      })\r\n      .then(() => setLoading(false))\r\n      .catch(err => console.log(err))\r\n  }, []);\r\n\r\n  function startTest() {\r\n    const test = store.tests[0]\r\n    const id = window.location.pathname.replace('/test/',\"\");\r\n    const testData = {\r\n      test_id: test.id,\r\n      user_id: test.user_id,\r\n      user_name: test.user_name,\r\n      date: moment().format('L'),\r\n      estimated_time: test.estimated_time\r\n    }\r\n\r\n    setStart(true);\r\n    startTestRequest(id);\r\n    setupResult(testData);\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <Header /> \r\n      <Container className='container'>\r\n        <Paper style={styles.container}>\r\n          {loading ? \r\n          <Loader minHeight={250} color=\"primary\" /> :\r\n          start\r\n            ? <Test /> \r\n            : \r\n              !finished && !started \r\n              ? <StartTestTemplate start={startTest} /> \r\n              : finished ? <Finish /> : <Continue />\r\n          }\r\n        </Paper> \r\n      </Container>\r\n      <BgBubbles cssClass='testing-bubbles' />\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nconst styles = {\r\n  container: {\r\n    margin: '200px auto 0',\r\n    width: 'fit-content',\r\n    minWidth: 600\r\n  }\r\n}\r\n\r\nconst Container = styled.div``;\r\n\r\nexport default connect(\r\n  state => ({ store: state })\r\n)(TestContainer);","import React, { useEffect, useState, Fragment } from 'react';\r\nimport { fetchSingleTest } from '../../Effects/fetches';\r\nimport Loader from '../../Loader/Loader';\r\nimport { connect } from 'react-redux';\r\nimport TestContainer from './TestContainer';\r\n\r\nfunction TestPage({ fetchTest }) {\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const id = window.location.pathname.replace('/test/',\"\");\r\n    async function fetchData() {\r\n      const response = await fetchSingleTest(id);\r\n      await response ? fetchTest(response) : window.location.href = '/404';\r\n      await setLoading(false);  \r\n    }\r\n    fetchData(); \r\n  }, []);\r\n  \r\n  return (\r\n    <Fragment>\r\n      {loading ? <Loader minHeight='100vh' color='secondary' /> : <TestContainer /> }\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    fetchTest: test => {\r\n      dispatch({ type: 'FETCH_TEST', payload: test })\r\n    }\r\n  })\r\n)(TestPage);","import React, { PureComponent } from \"react\";\r\nimport { DateTimePicker } from \"material-ui-pickers\";\r\nimport { IconButton, InputAdornment } from \"@material-ui/core\";\r\nimport AlarmIcon from \"@material-ui/icons/AddAlarm\";\r\n\r\nclass CustomDateTimePicker extends PureComponent {\r\n  render() {\r\n    const { helperText, date, setDate, error, callback } = this.props;\r\n\r\n    return (\r\n      <DateTimePicker   \r\n        ampm={false}\r\n        showTabs={false}\r\n        autoSubmit={false}\r\n        allowKeyboardControl={true}\r\n        minDate={new Date()}\r\n        value={date}\r\n        onChange={e => {\r\n          setDate(e);\r\n          callback();\r\n        }}\r\n        label={helperText}\r\n        variant='outlined'\r\n        margin='dense'\r\n        cancelLabel='отмена'\r\n        required\r\n        minutesStep={10}\r\n        error={error}\r\n        InputProps={{\r\n          endAdornment: (\r\n            <InputAdornment position=\"end\">\r\n              <IconButton>\r\n                <AlarmIcon />\r\n              </IconButton>\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default CustomDateTimePicker;","import React, { useState } from 'react';\r\nimport Modal from '../Modal/Modal';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\nimport styled from 'styled-components';\r\nimport { Paper, TextField, Button, FormControlLabel, Checkbox, MenuItem } from '@material-ui/core';\r\nimport Picker from './Picker';\r\nimport moment from 'moment';\r\nimport { withSnackbar } from 'notistack';\r\nimport { createEvent as requestEvent } from '../Effects/requests';\r\nimport { connect } from 'react-redux';\r\n\r\nconst ranges = [];\r\nconst intervals = [];\r\n\r\nfor (let i = 1; i <= 5; i++) {\r\n  ranges.push({\r\n    value: i,\r\n    label: `${i} ${getNoun(i)}`\r\n  })\r\n}\r\nranges.push({\r\n  value: Infinity,\r\n  label: `не ограничено`\r\n})\r\n\r\nfor (let i = 30; i <= 120; i += 10) {\r\n  intervals.push({\r\n    value: i,\r\n    label: `${i} минут`\r\n  })\r\n}\r\n\r\nfunction getNoun(number) {\r\n  number = Math.abs(number);\r\n  number %= 100;\r\n  if (number >= 5 && number <= 20) return 'участников';\r\n  number %= 10;\r\n  if (number === 1) return 'участник';\r\n  if (number >= 2 && number <= 4) return 'участника';\r\n  return 'участников';\r\n}\r\n\r\nfunction NewEvent({ isOpen, handleClose, enqueueSnackbar, user, onAddEvent }) {\r\n  const [title, setTitle] = useState('');\r\n  const [_startDate, _setStartDate] = useState(null);\r\n  const [_endDate, _setEndDate] = useState(null);\r\n  const [startDate, setStartDate] = useState(null);\r\n  const [endDate, setEndDate] = useState(null);\r\n  const [isSignAllowed, setSignAllowed] = useState(false);\r\n  const [maxUsers, setMaxUsers] = useState(ranges[0].value);\r\n  const [isSplitted, setSplitted] = useState(false);\r\n  const [interval, setInterval] = useState(intervals[2].value);\r\n  const [emptyTitle, setEmptyTitle] = useState(false);\r\n  const [emptyStartDate, setEmptyStartDate] = useState(false);\r\n  const [emptyEndDate, setEmptyEndDate] = useState(false);\r\n\r\n  function setStart(e) {\r\n    const dateString = moment(e._d).format('YYYY-MM-DD HH:mm');\r\n    if (\r\n      (Number(dateString.slice(-5,-3)) > 7 && Number(dateString.slice(-5,-3)) < 18) \r\n      || \r\n      (Number(dateString.slice(-5,-3)) === 18 && Number(dateString.slice(-2)) === 0)\r\n    ) {\r\n      _setStartDate(e._d);\r\n      setStartDate(dateString);\r\n    } else {\r\n      setTimeout(() => setEmptyStartDate(true), 500);\r\n      enqueueSnackbar('Вы можете назначить время только с 08:00 - 18:00', {variant: 'warning'});\r\n    }\r\n  }\r\n\r\n  function setEnd(e) {\r\n    const dateString = moment(e._d).format('YYYY-MM-DD HH:mm');\r\n    if (\r\n      (Number(dateString.slice(-5,-3)) > 7 && Number(dateString.slice(-5,-3)) < 18) \r\n      || \r\n      (Number(dateString.slice(-5,-3)) === 18 && Number(dateString.slice(-2)) === 0)\r\n    ) {\r\n      _setEndDate(e._d);\r\n      setEndDate(dateString); \r\n    } else {\r\n      setTimeout(() => setEmptyEndDate(true), 500);\r\n      enqueueSnackbar('Вы можете назначить время только с 08:00 - 18:00', {variant: 'warning'});\r\n    }\r\n  }\r\n\r\n  function isSameDay() {\r\n    if (endDate && startDate) {\r\n      const ey = parseInt(endDate.slice(0, 4));\r\n      const em = parseInt(endDate.slice(5, 7));\r\n      const ed = parseInt(endDate.slice(8, 10));\r\n      const sy = parseInt(startDate.slice(0, 4));\r\n      const sm = parseInt(startDate.slice(5, 7));\r\n      const sd = parseInt(startDate.slice(8, 10));\r\n      return ey === sy && em === sm && ed === sd ? true : false;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  async function createEvent() {\r\n    if (title && startDate && endDate) {\r\n      const data = { creator: user.id, title, created_at: new Date().getTime() }\r\n\r\n      if (isSignAllowed) {\r\n        data.max = maxUsers;\r\n      } else {\r\n        data.max = '0';\r\n      }\r\n      if (isSplitted) data.interval = interval; \r\n      if (moment(_startDate).diff(moment(_endDate)) > 0) {\r\n        data.startDate = endDate;\r\n        data.endDate = startDate;\r\n      } else {\r\n        data.endDate = endDate;\r\n        data.startDate = startDate;\r\n      }\r\n      \r\n      const success = await requestEvent(data);\r\n\r\n      if (success) {    \r\n        data.name = user.name;\r\n        data.surname = user.surname;\r\n        if (!isSplitted) data.id = success.id\r\n        onAddEvent(data);\r\n        enqueueSnackbar('Событие успешно создано', {variant: 'success'});\r\n        if (isSplitted) window.location.reload();\r\n      } else {\r\n        enqueueSnackbar('Ошибка сервера', {variant: 'error'});\r\n      }\r\n      handleClose();\r\n    } else {\r\n      if (!title) setEmptyTitle(true);\r\n      if (!startDate) setEmptyStartDate(true);\r\n      if (!endDate) setEmptyEndDate(true);\r\n      enqueueSnackbar('Необходимо заполнить все поля', {variant: 'error'});\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Modal\r\n      open={isOpen}\r\n      onClose={handleClose}\r\n      component={\r\n        <Wrapper>\r\n          <Paper>\r\n            <Icon onClick={handleClose}>\r\n              <CloseIcon />\r\n            </Icon>\r\n            <TextField\r\n              required\r\n              label=\"Название\"\r\n              margin=\"dense\"\r\n              variant=\"outlined\"\r\n              value={title}\r\n              error={emptyTitle}\r\n              onClick={() => setEmptyTitle(false)}\r\n              onChange={e => setTitle(e.target.value)}\r\n            />\r\n            <Picker\r\n              helperText='Назначьте начало мероприятия'\r\n              date={_startDate}\r\n              setDate={setStart}\r\n              error={emptyStartDate}\r\n              callback={() => setEmptyStartDate(false)}\r\n            />\r\n            <Picker\r\n              helperText='Назначьте окончание мероприятия'\r\n              date={_endDate}\r\n              setDate={setEnd}\r\n              error={emptyEndDate}\r\n              callback={() => setEmptyEndDate(false)}\r\n            />\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  checked={isSignAllowed}\r\n                  onChange={() => setSignAllowed(isSignAllowed ? false : true)}\r\n                  color=\"primary\"\r\n                />\r\n              }\r\n              label=\"На событие можно записаться\"\r\n            />\r\n            {isSignAllowed ?\r\n              <TextField\r\n                select\r\n                variant='outlined'\r\n                margin='dense'\r\n                label=\"Максимальное кол-во участников\"\r\n                value={maxUsers}\r\n                onChange={e => setMaxUsers(e.target.value)}\r\n              >\r\n                {ranges.map(option => (\r\n                  <MenuItem key={option.value} value={option.value}>\r\n                    {option.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </TextField>\r\n              : null}\r\n\r\n            {isSameDay() ? \r\n              <FormControlLabel\r\n                control={\r\n                  <Checkbox\r\n                    checked={isSplitted}\r\n                    onChange={() => setSplitted(isSplitted ? false : true)}\r\n                    color=\"primary\"\r\n                  />\r\n                }\r\n                label=\"Разбить на интервалы\"\r\n              /> : null}\r\n            {isSplitted ?\r\n              <TextField\r\n                select\r\n                variant='outlined'\r\n                margin='dense'\r\n                label=\"Интервал\"\r\n                value={interval}\r\n                onChange={e => setInterval(e.target.value)}\r\n              >\r\n                {intervals.map(option => (\r\n                  <MenuItem key={option.value} value={option.value}>\r\n                    {option.label}\r\n                  </MenuItem>\r\n                ))}\r\n              </TextField>\r\n              : null}\r\n            <ButtonContainer>\r\n              <Button variant='contained' color='secondary' onClick={createEvent}>Создать</Button>\r\n              <Button variant='text' color='default' onClick={handleClose}>Отмена</Button>\r\n            </ButtonContainer>\r\n          </Paper>\r\n          <Dialogue />\r\n        </Wrapper>\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  height: fit-content;\r\n  width: 480px;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n  outline: none;\r\n  & > div {\r\n    position: relative;\r\n    display: flex;\r\n    padding: 45px 45px 30px;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    z-index: 10;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: 100%;\r\n  }\r\n`;\r\nconst Dialogue = styled.section`\r\n  position: fixed !important;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  background: rgba(0,0,0,0.54);\r\n  width: 100vw;\r\n  height: 100vh !important;\r\n  z-index: 5;\r\n`;\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  margin-top: 30px;\r\n  button {\r\n    margin-right: 25px;\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  svg {\r\n    cursor: pointer;\r\n    color: rgba(0,0,0,.54);\r\n    position: absolute;\r\n    right: 16px;\r\n    top: 16px;\r\n  }\r\n`\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    onAddEvent: (event) => {\r\n      dispatch({ type: 'ADD_EVENT', payload: event })\r\n    }\r\n  })\r\n)(withSnackbar(NewEvent));\r\n","import React from 'react';\r\nimport Modal from '../Modal/Modal';\r\nimport styled from 'styled-components';\r\nimport { Paper, Button, Typography } from '@material-ui/core';\r\nimport CloseIcon from '@material-ui/icons/Clear';\r\n\r\nexport default function ConfirmModal({ deleteAppointment, isOpened, handleClose }) {\r\n  return (\r\n    <Modal\r\n      open={isOpened}\r\n      onClose={handleClose}\r\n      component={\r\n        <Wrapper>\r\n            <Paper>\r\n              <Icon onClick={handleClose}>\r\n                <CloseIcon />\r\n              </Icon>\r\n              <Typography variant='body1'>Вы уверены, что хотите удалить мероприятие?</Typography>\r\n              <Typography variant='caption'>Вся информация по мероприятию будет удалена безвозвратно.</Typography>\r\n              <ButtonContainer>\r\n                <Button variant='contained' color='secondary' onClick={deleteAppointment}>Удалить</Button>\r\n                <Button variant='text' color='default' onClick={handleClose}>Отмена</Button>\r\n              </ButtonContainer>\r\n            </Paper>  \r\n          <Dialogue />\r\n        </Wrapper>\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  position: fixed;\r\n  height: fit-content;\r\n  width: 350px;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  bottom: 0;\r\n  margin: auto;\r\n  outline: none;\r\n  & > div {\r\n    position: relative;\r\n    display: flex;\r\n    padding: 45px 25px 30px;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    z-index: 10;\r\n  }\r\n  @media all and (max-width: 600px) {\r\n    width: 100%;\r\n  }\r\n`;\r\nconst Dialogue = styled.section`\r\n  position: fixed !important;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  background: rgba(0,0,0,0.54);\r\n  width: 100vw;\r\n  height: 100vh !important;\r\n  z-index: 5;\r\n`;\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  margin-top: 30px;\r\n  button {\r\n    margin-right: 25px;\r\n  }\r\n`;\r\nconst Icon = styled.div`\r\n  svg {\r\n    cursor: pointer;\r\n    color: rgba(0,0,0,.54);\r\n    position: absolute;\r\n    right: 16px;\r\n    top: 16px;\r\n  }\r\n`\r\n\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Paper, Typography, Button } from '@material-ui/core';\r\nimport { ViewState } from '@devexpress/dx-react-scheduler';\r\nimport { Scheduler, WeekView, Toolbar, DateNavigator, Appointments, ViewSwitcher, MonthView, DayView, AppointmentForm, AppointmentTooltip } from '@devexpress/dx-react-scheduler-material-ui';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { fade } from '@material-ui/core/styles/colorManipulator';\r\nimport API from '../functions/API';\r\nimport styled from 'styled-components';\r\nimport NewEvent from './NewEvent';\r\nimport { connect } from 'react-redux';\r\nimport { deleteEvent, signUpOnEvent, unSignUpOnEvent } from '../Effects/requests';\r\nimport { withSnackbar } from 'notistack';\r\nimport Modal from './Modal';\r\n\r\nconst style = theme => ({\r\n  todayCell: {\r\n    backgroundColor: fade(theme.palette.primary.main, 0.1),\r\n    color: 'black',\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.primary.main, 0.14),\r\n    },\r\n    '&:focus': {\r\n      backgroundColor: fade(theme.palette.primary.main, 0.16),\r\n    },\r\n  },\r\n  weekendCell: {\r\n    backgroundColor: fade(theme.palette.action.disabledBackground, 0.04),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.action.disabledBackground, 0.04),\r\n    },\r\n    '&:focus': {\r\n      backgroundColor: fade(theme.palette.action.disabledBackground, 0.04),\r\n    },\r\n  },\r\n  today: {\r\n    backgroundColor: fade(theme.palette.primary.main, 0.16),\r\n  },\r\n  weekend: {\r\n    backgroundColor: fade(theme.palette.action.disabledBackground, 0.06),\r\n  },\r\n});\r\n\r\nconst Appointment = ({ children, style, ...restProps }) => {\r\n  const signedUsers = restProps.data.signed ? restProps.data.signed.split(',') : [];\r\n  const remaining = restProps.data.max - signedUsers.length;\r\n\r\n  return (\r\n    <Appointments.Appointment\r\n      {...restProps}\r\n      style={{\r\n        ...style,\r\n        backgroundColor: !remaining ? '#3949AB' : '#1976d2',\r\n        borderRadius: '8px',\r\n      }}\r\n      onDoubleClick={null}\r\n    >\r\n      {children}\r\n  \r\n    </Appointments.Appointment>\r\n  )\r\n}\r\n\r\nconst AppointmentContentBase = ({ enqueueSnackbar, onSignup, onUnSignup, store, children, ...restProps  }) => {\r\n  const signedUsers = restProps.appointmentData.signed ? restProps.appointmentData.signed.split(',') : [];\r\n  const userName = `${restProps.appointmentData.name} ${restProps.appointmentData.surname}`;\r\n  const remaining = restProps.appointmentData.max - signedUsers.length;\r\n\r\n  function getRemainingPlaces(remaining) {\r\n    if (remaining === 1) return `Осталось одно место.`;\r\n    if (remaining > 1) return `Свободных мест: ${remaining}.`;\r\n    return `Все места заняты.`\r\n  }\r\n\r\n  function signed() {\r\n    if (signedUsers.length === 0) return <Typography variant='body2' style={{ padding: '5px 0' }}>Пока никто не записался</Typography>\r\n    return <Typography variant='body2' style={{ padding: '5px 0' }}>Записались: </Typography>\r\n  }\r\n\r\n  function signUp() {\r\n    const data = {\r\n      id: restProps.appointmentData.id,\r\n      name: store.user.name,\r\n      surname: store.user.surname\r\n    }\r\n    signUpOnEvent(data);\r\n    onSignup(data);\r\n    enqueueSnackbar('Вы записались на мероприятие', { variant: 'success' });\r\n\r\n    var closeIcon = document.getElementById('openedEvent').parentNode.querySelector('div button:last-child')\r\n    closeIcon.click();\r\n  }\r\n\r\n  function unSignUp() {\r\n    const data = {\r\n      id: restProps.appointmentData.id,\r\n      name: store.user.name,\r\n      surname: store.user.surname\r\n    }\r\n    unSignUpOnEvent(data);\r\n    onUnSignup(data);\r\n    enqueueSnackbar('Вы отписались от мероприятия', { variant: 'info' });\r\n\r\n    var closeIcon = document.getElementById('openedEvent').parentNode.querySelector('div button:last-child');\r\n    closeIcon.click();\r\n  }\r\n\r\n  function isSigned() {\r\n    if (restProps.appointmentData.hasOwnProperty('signed')) {\r\n      return restProps.appointmentData.signed.includes(`${store.user.name} ${store.user.surname}`);\r\n    }\r\n    return false;\r\n  }\r\n\r\n  return (\r\n    <div style={{ overflow: 'hidden', paddingBottom: 10 }} id='openedEvent'>\r\n      <div style={{ padding: '5px 15px' }}>\r\n        <Typography variant='subtitle2'>Создатель: {userName}</Typography>\r\n        {restProps.appointmentData.max === '0' ?\r\n        null :\r\n        (<Fragment>\r\n          {signed()}\r\n          {signedUsers.map(user =>\r\n            <Typography variant='body2' key={user}>— {user}</Typography>\r\n          )}\r\n          <Typography variant='caption' style={{ marginTop: 5 }}>{getRemainingPlaces(remaining)}</Typography> \r\n        </Fragment>)}\r\n      </div> \r\n\r\n      {children}\r\n\r\n      {remaining ? \r\n        <div style={{ display: 'flex', justifyContent: 'flex-end', padding: '15px 15px 5px' }}>     \r\n          <Button variant='contained' color='secondary' onClick={!isSigned() ? signUp : unSignUp}>{!isSigned() ? 'записаться' : 'отписаться'} </Button>\r\n        </div> : null}\r\n\r\n      {!remaining && isSigned() ? \r\n      <div style={{ display: 'flex', justifyContent: 'flex-end', padding: '15px 15px 5px' }}>     \r\n        <Button variant='contained' color='secondary' onClick={unSignUp}>{'отписаться'} </Button>\r\n      </div> : null}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst AppointmentContent = connect(state => ({ store: state }),\r\n  dispatch => ({ \r\n    onSignup: (data) => dispatch({ type: 'SIGN_UP', payload: data }),\r\n    onUnSignup: (data) => dispatch({ type: 'UNSIGN_UP', payload: data })\r\n}))(withSnackbar(AppointmentContentBase));\r\n\r\nconst AppointmentsTooltipBase = ({ enqueueSnackbar, onDeleteEvent, style, store, children, ...restProps }) => {\r\n  const [isOpened, setOpen] = useState(false);\r\n\r\n  let isUserAppointment = false;\r\n\r\n  if (restProps.appointmentMeta && restProps.appointmentMeta.data.creator === store.user.id) {\r\n    isUserAppointment = true;\r\n  }\r\n\r\n  const prepareDelete = () => {\r\n    setOpen(true);\r\n  }\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  }\r\n\r\n  const deleteAppointment = () => {\r\n    deleteEvent(restProps.appointmentMeta.data.id);\r\n    onDeleteEvent(restProps.appointmentMeta.data.id);\r\n    restProps.onHide();\r\n    setOpen(false);\r\n    enqueueSnackbar('Событие удалено', { variant: 'success' });\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <AppointmentTooltip.Layout\r\n        {...restProps}\r\n        contentComponent={AppointmentContent}\r\n        showDeleteButton={isUserAppointment}\r\n        onDeleteButtonClick={prepareDelete}\r\n      >\r\n        {children}  \r\n      </AppointmentTooltip.Layout>\r\n      {isOpened ? \r\n        <Modal \r\n          isOpened={isOpened}\r\n          handleClose={handleClose}\r\n          deleteAppointment={deleteAppointment}\r\n        /> \r\n      : null}\r\n    </Fragment>  \r\n  )\r\n}\r\n\r\nconst AppointmentsTooltip = connect(state => ({ store: state }),\r\n  dispatch => ({ onDeleteEvent: (id) => dispatch({ type: 'DELETE_EVENT', payload: id })\r\n}))(withSnackbar(AppointmentsTooltipBase));\r\n\r\nconst TimeTableCellBase = ({ classes, ...restProps }) => {\r\n  const { startDate } = restProps;\r\n  const date = new Date(startDate);\r\n  if (date.getDate() === new Date().getDate()) {\r\n    return <WeekView.TimeTableCell {...restProps} className={classes.todayCell} />;\r\n  } if (date.getDay() === 0 || date.getDay() === 6) {\r\n    return <WeekView.TimeTableCell {...restProps} className={classes.weekendCell} />;\r\n  } return <WeekView.TimeTableCell {...restProps} />;\r\n};\r\n\r\nconst TimeTableCell = withStyles(style, { name: 'TimeTableCell' })(TimeTableCellBase);\r\n\r\nconst DayScaleCellBase = ({ classes, ...restProps }) => {\r\n  const { startDate, today } = restProps;\r\n  if (today) {\r\n    return <WeekView.DayScaleCell {...restProps} className={classes.today} />;\r\n  } if (startDate.getDay() === 0 || startDate.getDay() === 6) {\r\n    return <WeekView.DayScaleCell {...restProps} className={classes.weekend} />;\r\n  } return <WeekView.DayScaleCell {...restProps} />;\r\n};\r\n\r\nconst DayScaleCell = withStyles(style, { name: 'DayScaleCell' })(DayScaleCellBase);\r\n\r\nfunction Calendar({ onReadEvents, onFetchEvents, store: { user, events, unreaded } }) {\r\n  const [isOpen, setOpen] = useState(false);\r\n  const handleClose = () => setOpen(false);\r\n\r\n  useEffect(() => {\r\n    fetch(`${API}/api/calendar/read.php`)\r\n      .then(response => response.json())\r\n      .then(events => onFetchEvents(events))\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let timeout = null;\r\n    if (unreaded.events > 0) {\r\n      timeout = setTimeout(() => {\r\n        document.querySelector('.eventsBadge span').style.display = 'none';\r\n        onReadEvents();\r\n      }, 2000)\r\n    }\r\n    return () => window.clearTimeout(timeout)\r\n  });\r\n\r\n  return (\r\n    <Fragment>\r\n      <Paper>\r\n        {user.admin === '1' ?\r\n          <CreateEvent>\r\n            <Button variant='contained' color='secondary' onClick={() => setOpen(true)}>Создать событие</Button>\r\n          </CreateEvent>   \r\n        : null}\r\n        <Scheduler\r\n          style={{ height: '100%' }}\r\n          data={events}     \r\n        >\r\n          <ViewState\r\n            defaultCurrentViewName=\"День\"\r\n          />\r\n          <DayView\r\n            name=\"День\"\r\n            startDayHour={8}\r\n            endDayHour={19}\r\n          />\r\n          <WeekView\r\n            name=\"Неделя\"\r\n            startDayHour={8}\r\n            endDayHour={19}\r\n            firstDayOfWeek={1}\r\n            timeTableCellComponent={TimeTableCell}\r\n            dayScaleCellComponent={DayScaleCell}\r\n          />\r\n          <MonthView\r\n            name=\"Месяц\"\r\n            firstDayOfWeek={1}\r\n          />\r\n          <Toolbar />\r\n          <DateNavigator />       \r\n          <ViewSwitcher />\r\n          <Appointments\r\n            appointmentComponent={Appointment}   \r\n          />\r\n          <AppointmentTooltip\r\n            showOpenButton={false}\r\n            layoutComponent={AppointmentsTooltip}\r\n            showCloseButton   \r\n          />\r\n          <AppointmentForm\r\n            messages={{\r\n              allDayLabel: 'Весь день',\r\n              titleLabel: 'Мероприятие',\r\n              startDateLabel: 'Дата начала',\r\n              endDateLabel: 'Дата завершения',\r\n              commitCommand: 'Создать',\r\n              cancelCommand: 'Отмена',\r\n            }}\r\n            readOnly={true}\r\n          />\r\n        </Scheduler>\r\n        {isOpen ? \r\n          <NewEvent \r\n            isOpen={isOpen}\r\n            handleClose={handleClose}\r\n            user={user}\r\n          /> \r\n        : null}\r\n      </Paper>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nconst CreateEvent = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  width: fit-content;\r\n  margin-top: 15px;\r\n  z-index: 50;\r\n`;\r\n\r\nexport default connect(\r\n  state => ({ store: state }),\r\n  dispatch => ({\r\n    onFetchEvents: (events) => {\r\n      dispatch({ type: 'FETCH_EVENTS', payload: events })\r\n    },\r\n    onDeleteEvent: (id) => {\r\n      dispatch({ type: 'DELETE_EVENT', payload: id })\r\n    },\r\n    onReadEvents: () => dispatch({ type: \"READ_EVENTS\" }),  \r\n  })\r\n)(Calendar);\r\n","import React, { Fragment } from 'react';\r\nimport Header from '../Header';\r\nimport MainpageHeader from '../MainpageHeader';\r\nimport Nav from '../Navigation/Navigation';\r\nimport { connect } from 'react-redux';\r\nimport Loader from '../Loader/Loader';\r\nimport CalendarContainer from './CalendarContainer';\r\n\r\nfunction index({  store: { user }} ) {\r\n  return (\r\n    <Fragment>\r\n      <MainpageHeader />\r\n      <div className=\"container\">\r\n        <Header />\r\n        <Nav />\r\n      </div> \r\n\r\n      {!user.hasOwnProperty('name') \r\n        ? <Loader minHeight={370} />\r\n        : <CalendarContainer user={user} /> }\r\n  </Fragment>\r\n  )\r\n}\r\n\r\nexport default connect(state => ({ store: state }))(index);","import MainPage from './components/MainPage';\r\nimport LoginForm from './components/LoginForm';\r\nimport Approved from './components/Approved';\r\nimport Restore from './components/Restore';\r\nimport Page404 from './components/Page404';\r\nimport Settings from './components/Settings';\r\nimport TestPage from './components/Learnings/TestPage/index';\r\nimport Calendar from './components/Calendar/index';\r\n\r\nconst routes = [\r\n  {\r\n    path: '/id:user_id',\r\n    component: MainPage,\r\n    description: 'страница пользователя'\r\n  },\r\n  {\r\n    path: '/colleagues',\r\n    component: MainPage,\r\n    description: 'Список друзей(коллег)'\r\n  },\r\n  {\r\n    path: '/news',\r\n    component: MainPage,\r\n    description: 'Новости'\r\n  },\r\n  {\r\n    path: '/messages',\r\n    component: MainPage,\r\n    description: 'Личные сообщения'\r\n  },\r\n  {\r\n    path: '/tasks',\r\n    component: MainPage,\r\n    description: 'Задачи'\r\n  },\r\n  {\r\n    path: '/learnings',\r\n    component: MainPage,\r\n    description: 'Обучение'\r\n  },\r\n  {\r\n    path: '/settings',\r\n    component: Settings,\r\n    description: 'Персональные данные'\r\n  },\r\n  {\r\n    path: '/calendar',\r\n    component: Calendar,\r\n    description: 'Календарь'\r\n  },\r\n  {\r\n    path: '/feed',\r\n    component: MainPage,\r\n    description: 'Оповещения'\r\n  },\r\n  {\r\n    path: '/test/:any',\r\n    component: TestPage,\r\n    description: 'Страница тестирования'\r\n  },\r\n  {\r\n    path: '/login',\r\n    component: LoginForm,\r\n    description: 'Страница авторизации / регистрации'\r\n  },\r\n  {\r\n    path: '/approved',\r\n    component: Approved,\r\n    description: 'Страница подтверждения регистрации'\r\n  },\r\n  {\r\n    path: '/Restore',\r\n    component: Restore,\r\n    description: 'Страница восстановления пароля'\r\n  },\r\n  {\r\n    path: '/404',\r\n    component: Page404,\r\n    description: 'страница 404'\r\n  },\r\n  {\r\n    path: '/:any', // любой не валидный путь\r\n    component: Page404,\r\n    description: 'страница 404'\r\n  }\r\n]\r\n\r\nexport default routes;","import React, { useEffect } from 'react';\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { faComments, faHeart, faEnvelope, faEdit } from '@fortawesome/free-solid-svg-icons';\nimport routes from './routes';\nimport { connect } from 'react-redux';\nimport API from './components/functions/API';\nimport { withSnackbar } from 'notistack' ;\nimport Button from '@material-ui/core/Button';\n\nlibrary.add(faComments, faHeart, faEnvelope, faEdit)\n\nfunction App({ enqueueSnackbar, onFetchFeed, setUnreadedFeed, onFetchNews, onFetchUser, onGetNewFeed, setUnreadedMessages, store: { unreaded } }) {\n  /**\n   * @interval - дефолтные интервал получения данных с запросов\n   * @snackbarProps - дефолтные параметры снэкбара\n   */\n  const interval = 15 * 1000;\n  const snackbarProps = {\n    autoHideDuration: 5000,\n    action: <Button size=\"small\" style={{ color: '#1976d2', fontWeight: 700 }}>{'OK'}</Button>\n  }\n\n  /**\n   * для начала просто получим юзера \n  **/\n  useEffect(() => {\n    fetch(`${API}/api/user/info.php`)\n      .then(response => response.json())\n      .then(user => onFetchUser(user))\n  }, [])\n\n\n  /**\n   * получаем непрочитанные сообщения каждые @interval секунд\n  **/\n  useEffect(() => {\n    let initial = true;\n\n    function fetchMessages() {\n      if (initial || window.location.pathname !== '/messages') {\n        fetch(`${API}/api/message/getUnreaded.php`)\n          .then(response => response.json())\n          .then(res => {\n            if (res.unreaded.new > unreaded.messages) {\n              setUnreadedMessages(res.unreaded);\n              reloadNavigation();\n              if (!initial) showSnackbar(res.messages, res.messages.length)\n            }\n            initial = false;\n          })\n      }\n    }\n\n    fetchMessages();\n    setInterval(() => fetchMessages(), interval)\n  }, [])\n\n  /**\n   * Получаем ленту оповещений каждые @interval секунд\n   * @fetchFeed - запрос на получение ленты\n   * @showSnackbar - за каждый новый элемент в ленте - показываем снэкбар\n  **/\n  useEffect(() => {\n    let timestamp = null;\n  \n    function fetchFeed() {\n      fetch(`${API}/api/getFeed.php`)\n        .then(response => response.json())\n        .then(feed => {\n          if (feed.length > 0 && feed[0].created_at > timestamp) {\n            if (timestamp) setUnreadedFeed( countNew(feed) );\n            onFetchFeed(feed);\n            showSnackbar(feed, countNew(feed) );    \n            timestamp = feed[0].created_at;\n    }})}\n\n    function countNew(feed) {\n      return feed.findIndex(item => item.created_at === timestamp);\n    }\n\n    fetchFeed();\n    setInterval(() => fetchFeed(), interval)\n  }, []);\n\n  /**\n   * получаем список новостей каждые @interval секунд\n  **/\n  useEffect(() => {\n    let newsCount = 0;\n    function fetchNews() {\n      fetch(`${API}/api/news/read.php`)\n        .then(response => response.json())\n        .then(news => {\n          if (newsCount !== news.records.length) {\n            onFetchNews(news.records || []);\n            newsCount = news.records.length;\n          }\n        })\n    }\n\n    fetchNews();\n    setInterval(() => fetchNews(), interval)\n  }, [])\n  \n  function showSnackbar(feed, times) {\n    for (let i = 0; i < times; i++) {\n      switch (feed[i].type) {\n        case 'news':\n          onGetNewFeed('news');\n          reloadNavigation();\n          enqueueSnackbar(`Новость. ${feed[i].name} ${feed[i].surname} — ${feed[i].title}`, snackbarProps);\n          break;\n        case 'likes':\n          enqueueSnackbar(`Пользователю ${feed[i].name} ${feed[i].surname} понравилась ваша запись — ${feed[i].title}`, snackbarProps);\n          break;\n        case 'tasks':\n          onGetNewFeed('tasks');\n          reloadNavigation();\n          enqueueSnackbar(`Новая задача ${feed[i].importance === '1' ? ' c пометкой \"Важное\" ' : ''} от ${feed[i].name} ${feed[i].surname} — ${feed[i].text}`, snackbarProps);\n          break;\n        case 'messages':\n          enqueueSnackbar(`Новое сообщение от ${feed[i].name} ${feed[i].surname}`, snackbarProps);\n          break;\n        case 'comments':\n          enqueueSnackbar(`Пользователь ${feed[i].name} ${feed[i].surname} — оставил комментарий к вашей записи: ${feed[i].title}`, snackbarProps);\n          break;\n        case 'events':\n          onGetNewFeed('events');\n          reloadNavigation();\n          enqueueSnackbar(`Новое событие в календаре — ${feed[i].title}`, snackbarProps);\n          break;\n        default: return Infinity;  \n  }}}\n  \n  function reloadNavigation() {\n    document.getElementById('reloadNavigation').click();\n  }\n\n  return (\n    <BrowserRouter>\n      <Switch>\n        {routes.map(route =>\n          <Route \n            path={route.path} \n            component={route.component} \n            key={route.description}\n          />\n        )}\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default connect(state => ({ store: state }),\n  dispatch => ({\n    onFetchUser: user => dispatch({ type: 'FETCH_USER', payload: user }),\n    onFetchFeed: feed => dispatch({ type: 'FETCH_FEED', payload: feed }),\n    onFetchNews: news => dispatch({ type: 'FETCH_NEWS', payload: news }),\n    setUnreadedFeed: count => dispatch({ type: 'UNREADED_FEED', payload: count }),\n    setUnreadedMessages: count => dispatch({ type: 'UNREADED_MESSAGES', payload: count }),\n    onGetNewFeed: type => dispatch({ type: 'NEW_FEED', payload: type }),\n}))(withSnackbar(App));\n\n\n","const initialState = {\r\n  feed: 0,\r\n  news: 0,\r\n  messages: 0,\r\n  tasks: 0, \r\n  events: 0,\r\n  chats: []\r\n}\r\n\r\nexport default function reducing(state = initialState, action) {\r\n  switch (action.type) {\r\n    case 'UNREADED_MESSAGES':\r\n      state.messages = action.payload.new;\r\n      let chatsArr = [];\r\n      for (let item in action.payload) {\r\n        if (typeof action.payload[item] === 'object') {\r\n          chatsArr.push(action.payload[item])\r\n        }\r\n      }\r\n      state.chats = chatsArr;\r\n      return state;\r\n    case 'UNREADED_FEED':\r\n      state.feed = state.feed + action.payload;\r\n      return state;\r\n    case 'READ_FEED':\r\n      state.feed = 0;\r\n      return state;\r\n    case 'READ_CHAT':\r\n      const current = state.chats.find(chat => chat.chat_id === action.payload).unreaded;\r\n      state.messages -= current;\r\n      state.chats = state.chats.filter(chat => chat.chat_id !== action.payload);\r\n      return state;\r\n    case 'READ_NEWS':\r\n      state.news = 0;\r\n      return state;\r\n    case 'READ_TASKS':\r\n      state.tasks = 0;\r\n      return state;\r\n    case 'READ_EVENTS':\r\n      state.events = 0;\r\n      return state;\r\n    case 'NEW_FEED':\r\n      \r\n      switch (action.payload) {\r\n        case 'news':\r\n          state.news += 1;\r\n          return state;\r\n        case 'tasks':\r\n          state.tasks += 1;\r\n          return state;\r\n        case 'events':\r\n          state.events += 1;\r\n          return state;\r\n        default: return Infinity;      \r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport user from './user';\r\nimport tasks from './tasks';\r\nimport news from './news';\r\nimport chats from './chats';\r\nimport room from './room';\r\nimport messages from './messages';\r\nimport friends from './friends';\r\nimport tests from './tests';\r\nimport categories from './categories';\r\nimport events from './events';\r\nimport feed from './feed';\r\nimport unreaded from './unreaded';\r\n\r\nexport default combineReducers({\r\n  user,\r\n  news,\r\n  tasks,\r\n  chats,\r\n  room,\r\n  messages,\r\n  friends,\r\n  tests,\r\n  categories,\r\n  events,\r\n  feed,\r\n  unreaded\r\n})","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'UPDATE_USER':\r\n      let updated = state;\r\n      updated[action.field] = action.payload; \r\n      return updated\r\n    case 'FETCH_USER':  \r\n      return action.payload\r\n    case 'ADD_CHILD':\r\n      let childs = JSON.parse(state.childs);\r\n      state.childs = JSON.stringify([...childs, action.payload])\r\n      return state\r\n    case 'REMOVE_CHILD':\r\n      let Childs = JSON.parse(state.childs);\r\n      state.childs = JSON.stringify(Childs.filter(child => child.id !== action.payload))\r\n      return state\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  let index = state.findIndex(item => item.id === action.payload);\r\n\r\n  switch (action.type) {\r\n    case 'FETCH_NEWS':\r\n      return [...action.payload]\r\n    case 'DELETE_NEWS':\r\n      let nextState = state.filter(item => item.id !== action.payload);\r\n      return [...nextState]\r\n    case 'ADD_NEWS':\r\n      return [action.payload, ...state] \r\n    case 'ADD_LIKE': \r\n      state[index].likes = Number(state[index].likes) + 1;\r\n      state[index].liked_by += `, ${action.user_id}`;\r\n      return state;\r\n    case 'REMOVE_LIKE':\r\n      state[index].likes = Number(state[index].likes) - 1;\r\n      state[index].liked_by = state[index].liked_by.replace(`, ${action.user_id}`, '');\r\n      return state;\r\n    case 'ADD_COMMENT':\r\n      state[index].comments = Number(state[index].comments) + 1;\r\n      return state;\r\n    case 'REMOVE_COMMENT':\r\n      state[index].comments = Number(state[index].comments) - 1;\r\n      return state;\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_TASKS':\r\n      if (Array.isArray(action.payload)) {\r\n        return [...action.payload]\r\n      }\r\n      return state\r\n    case 'MARK_COMPLETED':\r\n      return [...action.payload]\r\n    case 'ADD_TASK':\r\n      return [...action.payload]\r\n    case 'FILTER_TASKS':\r\n      return [...action.payload]\r\n    case 'READED_TASK':\r\n      let newState = state;\r\n      let readed = newState.find(task => task.id === action.payload);\r\n      readed.readed = 1;\r\n      return newState;\r\n    case 'DELETE_TASK':\r\n      let nextState = state.filter(item => item.id !== action.payload);\r\n      return [...nextState]\r\n    default:\r\n      return state\r\n  }\r\n}","import _ from 'lodash';\r\n\r\nexport default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_CHATS':\r\n      return [...action.payload]\r\n    case 'CREATE_CHAT':\r\n      return [...state, action.payload]\r\n    case 'DELETE_CHAT':\r\n      let cleared = state.filter(chat => chat.id !== action.payload);\r\n      return cleared\r\n    case 'ADD_MESSAGE':\r\n      let newState = state.filter(chat => chat.id !== action.payload.chat);\r\n      let currentChat = state.find(chat => chat.id === action.payload.chat);\r\n      currentChat.message = action.payload;\r\n      newState = _.concat(newState, currentChat)\r\n      return newState\r\n    case 'EDIT_MESSAGE':\r\n      let editedState = state.filter(chat => chat.message.id !== action.payload[0]);\r\n      let editedMessage = state.find(chat => chat.message.id === action.payload[0]);\r\n      \r\n      if (editedMessage) {\r\n        editedMessage.message.body = action.payload[1];\r\n        editedState = _.concat(editedState, editedMessage)\r\n      }\r\n      \r\n      return editedState\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'OPEN_CHAT':\r\n      return {chat_id: action.payload[0], user: action.payload[1]}\r\n    case 'CLOSE_CHAT':\r\n      return {user: action.payload[1]}\r\n    case 'DELETE_CHAT':\r\n      let initial = state;\r\n      delete initial.chat_id;\r\n      initial.user.message = null;\r\n      return initial\r\n    case 'ASSIGN_CHAT':\r\n      let newState = state;\r\n      newState.chat_id = action.payload;\r\n      return newState;\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_MESSAGES':\r\n      return [...action.payload]\r\n    case 'ADD_MESSAGE':\r\n      let newMessage = action.payload;\r\n      newMessage.id = (Number(localStorage.getItem('message_id')) + 1).toString();\r\n      let finder = state.find(message => message.id === newMessage.id);\r\n      if (finder) {\r\n        newMessage.id = (Number(newMessage.id) + 1).toString();\r\n      }\r\n      return [...state, newMessage]\r\n    case 'DELETE_MESSAGE':\r\n      let newState = state.filter(message => message.id !== action.payload);\r\n      return newState\r\n    case 'CLOSE_CHAT':\r\n      return []\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_FRIENDS':\r\n      return [...action.payload]\r\n    case 'FILTER_FRIENDS':\r\n      return [...action.payload]\r\n    case 'SET_FRIENDS':\r\n      return action.payload\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_TESTS':\r\n      return [...action.payload]\r\n    case 'FETCH_TEST':\r\n      return action.payload;\r\n    case 'ADD_TEST':\r\n      return [...state, action.payload]\r\n    case \"DELETE_TEST\":\r\n      let filtered = state.filter(test => Number(test.id) !== Number(action.payload));\r\n      return filtered;\r\n    case 'FILTER_TESTS':\r\n      return [...action.payload]\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'GET_CATEGORIES':\r\n      return action.payload\r\n    case 'RESE_CATEGORIES':\r\n      return action.payload\r\n    default:\r\n      return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_EVENTS':\r\n      return Array.isArray(action.payload) ? [...action.payload] : state;\r\n    case 'ADD_EVENT':\r\n      return [...state, action.payload]\r\n    case 'CHANGE_EVENTS':\r\n      return [...action.payload]\r\n    case 'DELETE_EVENT':\r\n      return state.filter(item => item.id !== action.payload)\r\n    case 'SIGN_UP':  \r\n      let event = state.find(event => event.id === action.payload.id);\r\n\r\n      if (!event.signed) {\r\n        event.signed = `${action.payload.name} ${action.payload.surname}`;\r\n      } else {\r\n        event.signed += `, ${action.payload.name} ${action.payload.surname}`;\r\n      }\r\n  \r\n      let index = state.findIndex((obj => obj.id === action.payload.id));\r\n      let newState = state;\r\n      \r\n      newState[index].signed = event.signed;\r\n\r\n      return newState\r\n    case 'UNSIGN_UP':\r\n      let updatedState = state;\r\n      let thisEvent = state.find(event => event.id === action.payload.id);\r\n      let userName = `${action.payload.name} ${action.payload.surname}`;\r\n      \r\n      if (thisEvent.signed.split(',').length > 1) {\r\n        if (thisEvent.signed.split(',')[0] === userName) {\r\n          thisEvent.signed = thisEvent.signed.replace(`${userName},`, '');\r\n        } else {\r\n          thisEvent.signed = thisEvent.signed.replace(`, ${userName}`, '');\r\n        }    \r\n      } \r\n      thisEvent.signed = thisEvent.signed.replace(userName, '');\r\n      \r\n\r\n      let i = state.findIndex((obj => obj.id === action.payload.id));\r\n      updatedState[i].signed = thisEvent.signed;\r\n\r\n      return updatedState  \r\n    \r\n    default: return state\r\n  }\r\n}","export default function reducing(state = [], action) {\r\n  switch (action.type) {\r\n    case 'FETCH_FEED':\r\n      return [...action.payload]\r\n    default:\r\n      return state\r\n  }\r\n}","import { createMuiTheme } from '@material-ui/core/styles';\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: { main: '#1976d2' }, \r\n    secondary: { main: '#ff4800' },\r\n  },\r\n  typography: { useNextVariants: true },\r\n  overrides: {\r\n    MuiSnackbar: { \r\n      root: { \r\n        bottom: window.innerWidth < 600 ? '60px !important' : '0', \r\n      },\r\n    },\r\n    MuiModal: {\r\n      root: {\r\n        bottom: window.innerWidth < 600 ? '60px !important' : '0', \r\n        maxWidth: `${window.innerWidth}px !important`\r\n      },\r\n    },\r\n    MuiBackdrop: {\r\n      root: {\r\n        bottom: window.innerWidth < 600 ? 'display: none' : 'display: block', \r\n      },\r\n    },\r\n    MuiFab: {\r\n      root: {\r\n        bottom: window.innerWidth < 600 ? '76px' : '0', \r\n        zIndex: 10\r\n      }\r\n    },\r\n    MuiList: {\r\n      padding: {\r\n        padding: '0 !important'\r\n      }\r\n    },\r\n    MuiGrid: {\r\n      container: {\r\n        height: '100% !important'\r\n      }\r\n    },\r\n    MuiTableCell: {\r\n      root: {\r\n        pointerEvents: 'none'\r\n      }\r\n    },\r\n    Layout: {\r\n      title: {\r\n        marginLeft: '-40px'\r\n      }\r\n    },\r\n    VerticalAppointment: {\r\n      content: {\r\n        fontSize: '1.1rem'\r\n      },\r\n      title: {\r\n        fontWeight: '500',\r\n        fontSize: '1.2rem'\r\n      },\r\n      textContainer: {\r\n        lineHeight: '20px',\r\n        opacity: '.75'\r\n      }\r\n    },\r\n  },\r\n});\r\n\r\nexport default theme;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport reducer from './reducers';\nimport theme from './MaterialTheme';\nimport { MuiPickersUtilsProvider } from 'material-ui-pickers';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport MomentUtils from '@date-io/moment';\nimport moment from 'moment';\nimport 'moment/locale/ru';\nimport { SnackbarProvider } from 'notistack';\n\nlet store = createStore(reducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\nmoment.locale('ru');\n\nfunction Root() {\n  return (\n    <MuiThemeProvider theme={theme}>\n      <Provider store={store}>\n        <MuiPickersUtilsProvider utils={MomentUtils} moment={moment}>\n          <SnackbarProvider \n            maxSnack={3} \n            preventDuplicate={true}\n          >\n            <App />\n          </SnackbarProvider>\n        </MuiPickersUtilsProvider>\n      </Provider>\n    </MuiThemeProvider>\n  );\n}\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}